!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e){t.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321}},function(t,e,n){"use strict";function r(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var i=n(13);r.queryString=i,r.prototype.parse=function(t,e,n,i){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);for(var s=0,a=t.length-1;t.charCodeAt(s)<=32;)s++;for(;t.charCodeAt(a)<=32;)a--;if(s=this._parseProtocol(t,s,a),"javascript"!==this._protocol){s=this._parseHost(t,s,a,n);var o=this._protocol;!this.hostname&&(this.slashes||o&&!E[o])&&(this.hostname=this.host="")}if(s<=a){var u=t.charCodeAt(s);47===u||92===u?this._parsePath(t,s,a,i):63===u?this._parseQuery(t,s,a,i):35===u?this._parseHash(t,s,a,i):"javascript"!==this._protocol?this._parsePath(t,s,a,i):this.pathname=t.slice(s,a+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),e){var h=this.search;null==h&&(h=this.search=""),63===h.charCodeAt(0)&&(h=h.slice(1)),this.query=r.queryString.parse(h)}},r.prototype.resolve=function(t){return this.resolveObject(r.parse(t,!1,!0)).format()},r.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=this.search||"",u="",h=this.hostname||"",c=this.port||"",l=!1,f="",_=this.query;if(_&&"object"==typeof _&&(u=r.queryString.stringify(_)),s||(s=u?"?"+u:""),e&&58!==e.charCodeAt(e.length-1)&&(e+=":"),this.host)l=t+this.host;else if(h){h.indexOf(":")>-1&&(h="["+h+"]"),l=t+h+(c?":"+c:"")}var d=this.slashes||(!e||E[e])&&!1!==l;return e?f=e+(d?"//":""):d&&(f="//"),d&&n&&47!==n.charCodeAt(0)&&(n="/"+n),s&&63!==s.charCodeAt(0)&&(s="?"+s),i&&35!==i.charCodeAt(0)&&(i="#"+i),f+(!1===l?"":l)+(n=a(n))+(s=o(s))+i},r.prototype.resolveObject=function(t){"string"==typeof t&&(t=r.parse(t,!1,!0));var e=this._clone();if(e.hash=t.hash,!t.href)return e._href="",e;if(t.slashes&&!t._protocol)return t._copyPropsTo(e,!0),E[e._protocol]&&e.hostname&&!e.pathname&&(e.pathname="/"),e._href="",e;if(t._protocol&&t._protocol!==e._protocol){if(!E[t._protocol])return t._copyPropsTo(e,!1),e._href="",e;if(e._protocol=t._protocol,t.host||"javascript"===t._protocol)e.pathname=t.pathname;else{for(var n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),e.pathname=n.join("/")}return e.search=t.search,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e._port=t._port,e.slashes=e.slashes||t.slashes,e._href="",e}var i=e.pathname&&47===e.pathname.charCodeAt(0),s=t.host||t.pathname&&47===t.pathname.charCodeAt(0),a=s||i||e.host&&t.pathname,o=a,u=e.pathname&&e.pathname.split("/")||[],h=(n=t.pathname&&t.pathname.split("/")||[],e._protocol&&!E[e._protocol]);if(h&&(e.hostname="",e._port=-1,e.host&&(""===u[0]?u[0]=e.host:u.unshift(e.host)),e.host="",t._protocol&&(t.hostname="",t._port=-1,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=""),a=a&&(""===n[0]||""===u[0])),s)e.host=t.host?t.host:e.host,e.hostname=t.hostname?t.hostname:e.hostname,e.search=t.search,u=n;else if(n.length)u||(u=[]),u.pop(),u=u.concat(n),e.search=t.search;else if(t.search){if(h)e.hostname=e.host=u.shift(),(d=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=d.shift(),e.host=e.hostname=d.shift());return e.search=t.search,e._href="",e}if(!u.length)return e.pathname=null,e._href="",e;for(var c=u.slice(-1)[0],l=(e.host||t.host)&&("."===c||".."===c)||""===c,f=0,_=u.length;_>=0;_--)"."===(c=u[_])?u.splice(_,1):".."===c?(u.splice(_,1),f++):f&&(u.splice(_,1),f--);if(!a&&!o)for(;f--;f)u.unshift("..");!a||""===u[0]||u[0]&&47===u[0].charCodeAt(0)||u.unshift(""),l&&"/"!==u.join("/").substr(-1)&&u.push("");var d,p=""===u[0]||u[0]&&47===u[0].charCodeAt(0);h&&(e.hostname=e.host=p?"":u.length?u.shift():"",(d=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=d.shift(),e.host=e.hostname=d.shift()));return(a=a||e.host&&u.length)&&!p&&u.unshift(""),e.pathname=0===u.length?null:u.join("/"),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e._href="",e};var s=n(16);r.prototype._hostIdna=function(t){return s.toASCII(t)};var a=r.prototype._escapePathName=function(t){return u(t,35,63)?function(t){return t.replace(/[?#]/g,(function(t){return encodeURIComponent(t)}))}(t):t},o=r.prototype._escapeSearch=function(t){return u(t,35,-1)?function(t){return t.replace(/#/g,(function(t){return encodeURIComponent(t)}))}(t):t};function u(t,e,n){for(var r=0,i=t.length;r<i;++r){var s=t.charCodeAt(r);if(s===e||s===n)return!0}return!1}function h(t){var e=new Uint8Array(128);return t.forEach((function(t){if("number"==typeof t)e[t]=1;else for(var n=t[0],r=t[1],i=n;i<=r;++i)e[i]=1})),e}r.prototype._parseProtocol=function(t,e,n){for(var r=!1,i=this._protocolCharacters,s=e;s<=n;++s){var a=t.charCodeAt(s);if(58===a){var o=t.slice(e,s);return r&&(o=o.toLowerCase()),this._protocol=o,s+1}if(1!==i[a])return e;a<97&&(r=!0)}return e},r.prototype._parseAuth=function(t,e,n,r){var i=t.slice(e,n+1);r&&(i=decodeURIComponent(i)),this.auth=i},r.prototype._parsePort=function(t,e,n){for(var r=0,i=!1,s=!0,a=e;a<=n;++a){var o=t.charCodeAt(a);if(!(48<=o&&o<=57)){s=!1,92!==o&&47!==o||(s=!0);break}r=10*r+(o-48),i=!0}return 0===r&&!i||!s?(s||(this._port=-2),0):(this._port=r,a-e)},r.prototype._parseHost=function(t,e,n,r){var i=this._hostEndingCharacters,s=t.charCodeAt(e),a=t.charCodeAt(e+1);if(47!==s&&92!==s||47!==a&&92!==a){if(!this._protocol||E[this._protocol])return e}else{if(this.slashes=!0,0===e){if(n<2)return e;if(!function(t,e,n,r){for(var i=t.length,s=n;s<i;++s){var a=t.charCodeAt(s);if(a===e)return!0;if(1===r[a])return!1}return!1}(t,64,2,i)&&!r)return this.slashes=null,e}e+=2}for(var o=!1,u=!1,h=e,c=n,l=0,f=0,_=!1,d=-1,p=e;p<=n;++p){if(64===(T=t.charCodeAt(p)))d=p;else if(37===T)_=!0;else if(1===i[T])break}if(d>-1&&(this._parseAuth(t,e,d-1,_),e=h=d+1),91===t.charCodeAt(e)){for(p=e+1;p<=n;++p){if(93===(T=t.charCodeAt(p))){58===t.charCodeAt(p+1)&&(l=this._parsePort(t,p+2,n)+1);var m=t.slice(e+1,p).toLowerCase();return this.hostname=m,this.host=this._port>0?"["+m+"]:"+this._port:"["+m+"]",this.pathname="/",p+l+1}}return e}for(p=e;p<=n;++p){if(f>62)return this.hostname=this.host=t.slice(e,p),p;var T;if(58===(T=t.charCodeAt(p))){l=this._parsePort(t,p+1,n)+1,c=p-1;break}if(T<97){if(46===T)f=-1;else if(65<=T&&T<=90)o=!0;else if(!(45===T||95===T||43===T||48<=T&&T<=57)){0===i[T]&&0===this._noPrependSlashHostEnders[T]&&(this._prependSlash=!0),c=p-1;break}}else if(T>=123){if(T<=126){0===this._noPrependSlashHostEnders[T]&&(this._prependSlash=!0),c=p-1;break}u=!0}T,f++}if(c+1!==e&&c-h<=256){m=t.slice(h,c+1);o&&(m=m.toLowerCase()),u&&(m=this._hostIdna(m)),this.hostname=m,this.host=this._port>0?m+":"+this._port:m}return c+1+l},r.prototype._copyPropsTo=function(t,e){e||(t._protocol=this._protocol),t._href=this._href,t._port=this._port,t._prependSlash=this._prependSlash,t.auth=this.auth,t.slashes=this.slashes,t.host=this.host,t.hostname=this.hostname,t.hash=this.hash,t.search=this.search,t.pathname=this.pathname},r.prototype._clone=function(){var t=new r;return t._protocol=this._protocol,t._href=this._href,t._port=this._port,t._prependSlash=this._prependSlash,t.auth=this.auth,t.slashes=this.slashes,t.host=this.host,t.hostname=this.hostname,t.hash=this.hash,t.search=this.search,t.pathname=this.pathname,t},r.prototype._getComponentEscaped=function(t,e,n,r){for(var i=e,s=e,a="",o=r?this._afterQueryAutoEscapeMap:this._autoEscapeMap;s<=n;++s){var u=o[t.charCodeAt(s)];""!==u&&void 0!==u&&(i<s&&(a+=t.slice(i,s)),a+=u,i=s+1)}return i<s+1&&(a+=t.slice(i,s)),a},r.prototype._parsePath=function(t,e,n,r){for(var i,s=e,a=n,o=!1,u=this._autoEscapeCharacters,h=-2===this._port?"/:":"",c=e;c<=n;++c){var l=t.charCodeAt(c);if(35===l){this._parseHash(t,c,n,r),a=c-1;break}if(63===l){this._parseQuery(t,c,n,r),a=c-1;break}r||o||1!==u[l]||(o=!0)}s>a?this.pathname=""===h?"/":h:(i=o?this._getComponentEscaped(t,s,a,!1):t.slice(s,a+1),this.pathname=""===h?this._prependSlash?"/"+i:i:h+i)},r.prototype._parseQuery=function(t,e,n,r){for(var i,s=e,a=n,o=!1,u=this._autoEscapeCharacters,h=e;h<=n;++h){var c=t.charCodeAt(h);if(35===c){this._parseHash(t,h,n,r),a=h-1;break}r||o||1!==u[c]||(o=!0)}s>a?this.search="":(i=o?this._getComponentEscaped(t,s,a,!0):t.slice(s,a+1),this.search=i)},r.prototype._parseHash=function(t,e,n,r){this.hash=e>n?"":r?t.slice(e,n+1):this._getComponentEscaped(t,e,n,!0)},Object.defineProperty(r.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(t){this._port=null==t?-1:parseInt(t,10)}}),Object.defineProperty(r.prototype,"query",{get:function(){var t=this._query;if(null!=t)return t;var e=this.search;return e&&(63===e.charCodeAt(0)&&(e=e.slice(1)),""!==e)?(this._query=e,e):e},set:function(t){this._query=t}}),Object.defineProperty(r.prototype,"path",{get:function(){var t=this.pathname||"",e=this.search||"";return t||e?t+e:null==t&&e?"/"+e:null},set:function(){}}),Object.defineProperty(r.prototype,"protocol",{get:function(){var t=this._protocol;return t?t+":":t},set:function(t){if("string"==typeof t){var e=t.length-1;58===t.charCodeAt(e)?this._protocol=t.slice(0,e):this._protocol=t}else null==t&&(this._protocol=null)}}),Object.defineProperty(r.prototype,"href",{get:function(){var t=this._href;return t||(t=this._href=this.format()),t},set:function(t){this._href=t}}),r.parse=function(t,e,n,i){if(t instanceof r)return t;var s=new r;return s.parse(t,!!e,!!n,!!i),s},r.format=function(t){return"string"==typeof t&&(t=r.parse(t)),t instanceof r?t.format():r.prototype.format.call(t)},r.resolve=function(t,e){return r.parse(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?r.parse(t,!1,!0).resolveObject(e):e};for(var c=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],l=new Array(128),f=0,_=l.length;f<_;++f)l[f]="";for(f=0,_=c.length;f<_;++f){var d=c[f],p=encodeURIComponent(d);p===d&&(p=escape(d)),l[d.charCodeAt(0)]=p}var m=l.slice();l[92]="/";var E=r.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};r.prototype._protocolCharacters=h([[97,122],[65,90],46,43,45]),r.prototype._hostEndingCharacters=h([35,63,47,92]),r.prototype._autoEscapeCharacters=h(c.map((function(t){return t.charCodeAt(0)}))),r.prototype._noPrependSlashHostEnders=h(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map((function(t){return t.charCodeAt(0)}))),r.prototype._autoEscapeMap=l,r.prototype._afterQueryAutoEscapeMap=m,t.exports=r,r.replace=function(){n.c.url={exports:r}}},function(t,e,n){"use strict";var r=n(23).EventEmitter;function i(){r.call(this),this.setMaxListeners(20)}i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=i},function(t,e,n){"use strict";t.exports={mbs:0,secs:0,update:function(t,e,n,r){var i,s=t.getAllResponseHeaders();if(s){var a=s.match(/content-length: (\d+)/i);a&&a.length&&(i=a[1])}if(i){var o=(i=parseInt(i,10))/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=o,r&&this.log(n,o,u)}else r&&console.warn.call(console,"Can't get Content-Length:",n)},log:function(t,e,n){if(t){var r="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+n.toFixed(2)+"s speed:"+(e/n).toFixed(2)+"mbps";console.log.call(console,r)}var i="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,i)},getMbps:function(){return this.mbs/this.secs}}},function(t,e){var n=a("DXT1"),r=a("DXT3"),i=a("DXT5"),s=a("DX10");function a(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}t.exports=function(t){var e,a,o=new Int32Array(t,0,31);if(542327876!==o[0])throw new Error("Invalid magic number in DDS header");if(4&!o[20])throw new Error("Unsupported format, must contain a FourCC code");var u=o[21];switch(u){case n:e=8,a="dxt1";break;case r:e=16,a="dxt3";break;case i:e=16,a="dxt5";break;case 116:a="rgba32f";break;case s:var h=new Uint32Array(t.slice(128,148));a=h[0];var c=h[1];h[2],h[3],h[4];if(3!==c||2!==a)throw new Error("Unsupported DX10 texture format "+a);a="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+(l=u,String.fromCharCode(255&l,l>>8&255,l>>16&255,l>>24&255)))}var l;var f=o[2],_=1;131072&f&&(_=Math.max(1,o[7]));var d=!1;512&o[28]&&(d=!0);var p,m=o[4],E=o[3],T=o[1]+4,v=m,g=E,x=[];u===s&&(T+=20);if(d)for(var R=0;R<6;R++){if("rgba32f"!==a)throw new Error("Only RGBA32f cubemaps are supported");m=v,E=g;for(var A=Math.log(m)/Math.log(2)+1,M=0;M<A;M++)p=m*E*16,x.push({offset:T,length:p,shape:[m,E]}),M<_&&(T+=p),m=Math.floor(m/2),E=Math.floor(E/2)}else for(M=0;M<_;M++)p=Math.max(4,m)/4*Math.max(4,E)/4*e,x.push({offset:T,length:p,shape:[m,E]}),T+=p,m=Math.floor(m/2),E=Math.floor(E/2);return{shape:[v,g],images:x,format:a,flags:f,cubemap:d}}},function(t,e,n){"use strict";var r=n(22);r.stats=n(4),t.exports=r},function(t,e,n){var r=n(8);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"html,body{width:100%;height:100%;margin:0;padding:0;overflow:hidden;position:fixed;background:#fff;background:-moz-radial-gradient(center, ellipse cover, #fff 0%, #cca09b 100%);background:-webkit-radial-gradient(center, ellipse cover, #fff 0%, #cca09b 100%);background:radial-gradient(ellipse at center, #fff 0%, #cca09b 100%)}html{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none}h1,h2,h3,h4,text,p{-webkit-font-smoothing:antialiased;-moz-osx-webkit-font-smoothing:antialiased;font-family:'Open Sans', sans-serif}.Main-Canvas{user-select:none;opacity:1;transition:opacity .5s ease-out .25s}.isLoading .Main-Canvas{opacity:0}.container{width:100%;height:100%;position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center}.Message{position:absolute;z-index:999;width:100%;top:calc(50% - 50px);text-align:center;letter-spacing:11px;color:white;opacity:0;transition:opacity .5s ease-out, letter-spacing .5s ease-out}.isLoading .Message{letter-spacing:10px;opacity:1}.Loading-Bar{position:absolute;z-index:998;width:0%;height:1px;top:50%;background:rgba(255,255,255,0.5);opacity:0;transition:width .5s ease-out, opacity .5s ease-out}.isLoading .Loading-Bar{opacity:1}.env{position:fixed;width:100%;z-index:9999;color:white;top:100px;font-size:24px;padding:20px}\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(s).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(i=0;i<t.length;i++){var a=t[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,i,s={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),o=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=o.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),h=null,c=0,l=[],f=n(11);function _(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=s[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],e))}else{var o=[];for(a=0;a<r.parts.length;a++)o.push(v(r.parts[a],e));s[r.id]={id:r.id,refs:1,parts:o}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var s=t[i],a=e.base?s[0]+e.base:s[0],o={css:s[1],media:s[2],sourceMap:s[3]};r[a]?r[a].parts.push(o):n.push(r[a]={id:a,parts:[o]})}return n}function p(t,e){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function E(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return T(e,t.attrs),p(t,e),e}function T(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function v(t,e){var n,r,i,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var a=c++;n=h||(h=E(e)),r=R.bind(null,n,a,!1),i=R.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",T(e,t.attrs),p(t,e),e}(e),r=M.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=E(e),r=A.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return _(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(o=s[a.id]).refs--,r.push(o)}t&&_(d(t,e),e);for(i=0;i<r.length;i++){var o;if(0===(o=r[i]).refs){for(var u=0;u<o.parts.length;u++)o.parts[u]();delete s[o.id]}}}};var g,x=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function R(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var s=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function A(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function M(t,e,n){var r=n.css,i=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||s)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e){t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],r=0;r<t.length-1;r++)n.push(t[r],e[r]||"");return n.push(t[r]),n.join("")}},function(t,e,n){"use strict";e.decode=e.parse=n(14),e.encode=e.stringify=n(15)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,s){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var o=/\+/g;t=t.split(e);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var c=0;c<h;++c){var l,f,_,d,p=t[c].replace(o,"%20"),m=p.indexOf(n);m>=0?(l=p.substr(0,m),f=p.substr(m+1)):(l=p,f=""),_=decodeURIComponent(l),d=decodeURIComponent(f),r(a,_)?i(a[_])?a[_].push(d):a[_]=[a[_],d]:a[_]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,o){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?s(a(t),(function(a){var o=encodeURIComponent(r(a))+n;return i(t[a])?s(t[a],(function(t){return o+encodeURIComponent(r(t))})).join(e):o+encodeURIComponent(r(t[a]))})).join(e):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var o,u=2147483647,h=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=Math.floor,d=String.fromCharCode;function p(t){throw new RangeError(f[t])}function m(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function E(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+m((t=t.replace(l,".")).split("."),e).join(".")}function T(t){for(var e,n,r=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function v(t){return m(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function g(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,n){var r=0;for(t=n?_(t/700):t>>1,t+=_(t/e);t>455;r+=36)t=_(t/35);return _(r+36*t/(t+38))}function R(t){var e,n,r,i,s,a,o,h,c,l,f,d=[],m=t.length,E=0,T=128,g=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&p("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(s=E,a=1,o=36;i>=m&&p("invalid-input"),((h=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||h>_((u-E)/a))&&p("overflow"),E+=h*a,!(h<(c=o<=g?1:o>=g+26?26:o-g));o+=36)a>_(u/(l=36-c))&&p("overflow"),a*=l;g=x(E-s,e=d.length+1,0==s),_(E/e)>u-T&&p("overflow"),T+=_(E/e),E%=e,d.splice(E++,0,T)}return v(d)}function A(t){var e,n,r,i,s,a,o,h,c,l,f,m,E,v,R,A=[];for(m=(t=T(t)).length,e=128,n=0,s=72,a=0;a<m;++a)(f=t[a])<128&&A.push(d(f));for(r=i=A.length,i&&A.push("-");r<m;){for(o=u,a=0;a<m;++a)(f=t[a])>=e&&f<o&&(o=f);for(o-e>_((u-n)/(E=r+1))&&p("overflow"),n+=(o-e)*E,e=o,a=0;a<m;++a)if((f=t[a])<e&&++n>u&&p("overflow"),f==e){for(h=n,c=36;!(h<(l=c<=s?1:c>=s+26?26:c-s));c+=36)R=h-l,v=36-l,A.push(d(g(l+R%v,0))),h=_(R/v);A.push(d(g(h,0))),s=x(n,E,r==i),n=0,++r}++n,++e}return A.join("")}o={version:"1.4.1",ucs2:{decode:T,encode:v},decode:R,encode:A,toASCII:function(t){return E(t,(function(t){return c.test(t)?"xn--"+A(t):t}))},toUnicode:function(t){return E(t,(function(t){return h.test(t)?R(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(17)(t),n(18))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(20);t.exports=u;var i=/\+/g,s=/^[0-9]+$/,a=Array.isArray,o={}.hasOwnProperty;function u(){this.containsSparse=!1,this.cacheKey="",this.cacheVal=null}u.maxLength=32768,u.maxDepth=4,u.maxKeys=256,u.parse=function(t){if("string"==typeof t){var e=u.maxLength;if(t.length>e)throw new RangeError("str is too large (QueryStringParser.maxLength="+e+")");return(new u).parseString(t,!1)}return null!==t&&"object"==typeof t?(new u).parseObject(t):{}},u.stringify=function(t){return(new r).serialize(t)},u.prototype.decode=function(t,e,n){if(!1===e)return t;!0===n&&(t=t.replace(i," "));try{return decodeURIComponent(t)}catch(e){return t}},u.prototype.maybeArrayIndex=function(t,e){var n=t.length;if(0===n)return e;var r=t.charCodeAt(0);if(48===r)return n>1?-1:0;if(48<=r&&r<=57){if(1===n)return r-48;if(s.test(t)){var i=parseInt(t,10);if(0<i&&i<=1073741822)return i}}return-1},u.prototype.getSlot=function(t,e,n){var r;o.call(t,e)?r=t[e]:(r=this.maybeArrayIndex(n,0)>-1?[]:{},t[e]=r);return r},u.prototype.placeNestedValue=function(t,e,n,r,i,s){var o=this.getSlot(t,i,s),h=-1;a(o)&&(h=this.maybeArrayIndex(s,o.length));for(var c=e.length,l=2,f=u.maxDepth,_=-1;r<c;++r){var d=e.charCodeAt(r);if(91===d)_=r+1;else if(93===d&&_>-1){if(i=s,s=_===r?"":e.substring(_,r),_=-1,++l>f)throw new RangeError("Nesting depth of keys is too large (QueryStringParser.maxDepth="+f+")");o=this.getSlot(o,i,s),h=a(o)?this.maybeArrayIndex(s,o.length):-1}}h>-1?""!==n&&(h===o.length?o.push(n):(this.containsSparse=!0,o[h]=n)):this.insert(o,s,n)},u.prototype.insert=function(t,e,n){var r=null;if(o.call(t,e)){var i=t[e];a(i)?(i.push(n),r=i):(r=[i,n],t[e]=r)}else t[e]=n;return r},u.prototype.push=function(t,e,n){var r=null;if(o.call(t,e)){var i=t[e];i.push(n),r=i}else r=[n],t[e]=r;return r},u.prototype.maybePlaceNestedValue=function(t,e,n){var r=e.length;if(93===e.charCodeAt(r-1)){for(var i,s,a=-1,o=0;o<r;++o){var u=e.charCodeAt(o);if(91===u)a=o+1,s=e.slice(0,o);else if(93===u){if(a<0)return void this.placeValue(t,e,n,!1);i=a===o?"":e.slice(a,o),o++;break}}void 0!==i?""===i&&""!==n&&o===r?e===this.cacheKey?this.cacheVal.push(n):(this.cacheKey=e,this.cacheVal=this.push(t,s,n)):this.placeNestedValue(t,e,n,o,s,i):this.placeValue(t,e,n,!1)}else this.placeValue(t,e,n,!1)},u.prototype.placeValue=function(t,e,n,r){if(!0!==r)if(e!==this.cacheKey){var i=this.insert(t,e,n);null!==i&&(this.cacheKey=e,this.cacheVal=i)}else this.cacheVal.push(n);else this.maybePlaceNestedValue(t,e,n)},u.prototype.compact=function(t){if(a(t)){for(var e=[],n=0,r=(i=Object.keys(t)).length;n<r;++n)e.push(t[i[n]]);return e}if("object"!=typeof t)return t;var i;for(n=0,r=(i=Object.keys(t)).length;n<r;++n){var s=i[n];t[s]=this.compact(t[s])}},u.prototype.parseObject=function(t){var e=Object.keys(t),n=e.length;if(0===n)return{};n--;for(var r,i="",s=0;s<n;++s)i+=(r=e[s])+"="+t[r]+"&";return i+=(r=e[s])+"="+t[r],this.parseString(i,!0)},u.prototype.parseString=function(t,e){for(var n=u.maxKeys,r=0,i=!1,s=!1,a=!1,o=t.length,h=0,c={},l=0,f=0,_=0,d=0,p=0,m=o-1,E=!1;h<o;++h){var T=t.charCodeAt(h);if(91===T)p++;else if(p>0&&93===T)a=!0,p--;else if(0===p&&61===T){var v=h+1;f=h-1,d=_=v;var g=t.slice(l,f+1);for(g=this.decode(g,i,E),i=!1;v<o;++v)if(43!==(T=t.charCodeAt(v))&&37!==T||e||(43===T&&(E=!0),s=!0),38===T||v===m){d=v,h=v,38===T&&d--;var x=t.slice(_,d+1);if(x=this.decode(x,s,E),this.placeValue(c,g,x,a),E=s=!1,a=!1,l=v+1,++r>n)throw new RangeError("Amount of keys is too large (QueryStringParser.maxKeys="+n+")");break}}else 43!==T&&37!==T||e||(43===T&&(E=!0),i=!0)}if(l!==o){x="",g=t.slice(l,o);g=this.decode(g,i,E),this.placeValue(c,g,x,a)}return this.containsSparse&&this.compact(c),c}},function(t,e,n){"use strict";t.exports=h;var r=encodeURIComponent,i=[],s=Array.isArray,a=Object.getPrototypeOf,o=a({});function u(t){if(s(t))return!0;if(null===t||"object"!=typeof t)return!1;var e=a(t);return e===o||null===e}function h(){}h.prototype.serialize=function(t){if(null===t||"object"!=typeof t)throw new TypeError("the obj to stringify must be an object");for(var e=Object.keys(t),n=e.length,a=i,o=[],h=[],c=t,l="",f=0;f<n;++f){var _=e===a?f:e[f],d=c[_];if(u(d))o.push(l,c,e,n,f),l=""===l?_:l+"["+r(_)+"]",s(d)?(e=a,n=d.length):n=(e=Object.keys(d)).length,f=-1,c=d;else{"string"!=typeof d&&(d=""+d);var p=""===l?r(_):l+"["+r(_)+"]";h.push(p+"="+r(d))}f===n-1&&o.length>0&&(f=o.pop(),n=o.pop(),e=o.pop(),c=o.pop(),l=o.pop())}return h.join("&")}},function(t,e){window.gui={add:()=>{}}},function(t,e,n){"use strict";var r=n(3),i=n(24),s=0;t.exports=function t(e){var n,a={},o=[],u=[],h=0,c=0,l={},f=function(r){return Array.isArray(r)?(r.forEach(f),n):((s=!!r.assets&&Array.isArray(r.assets)?t(d(r,e)):i(d(r,e))).once("destroy",T),u.push(s),l[s.id]=s,n);var s},_=function(t){return arguments.length?a[t]?a[t]:l[t]:o},d=function(t,e){"string"==typeof t&&(t={url:t});return void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++s),t.type=t.type||function(t){return t&&t.split("?")[0].split(".").pop().toLowerCase()}(t.url),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t},p=function(t){var e=h+t;n.emit("progress",e/c)},m=function(t,e,r){Array.isArray(t)&&(t={id:e,file:t,type:r}),h++,n.emit("progress",h/c),a[t.id]=t.file,o.push(t),n.emit("childcomplete",t),v()},E=function(t){c--,n.listeners("error").length?n.emit("error",t):console.error(t),v()},T=function(t){l[t]=null,delete l[t],a[t]=null,delete a[t],o.some((function(e,n){if(e.id===t)return o.splice(n,1),!0}))},v=function(){h>=c&&n.emit("complete",o,a,e.id,"group")};return n=Object.create(r.prototype,{_events:{value:{}},id:{get:function(){return e.id}},add:{value:f},start:{value:function(){return c=u.length,u.forEach((function(t){t.on("progress",p).once("complete",m).once("error",E).start()})),u=[],n}},get:{value:_},find:{value:function(t){if(_(t))return _(t);var e=null;return Object.keys(l).some((function(n){return!!(e=l[n].find&&l[n].find(t))})),e}},getLoader:{value:function(t){return l[t]}},loaded:{get:function(){return h>=c}},file:{get:function(){return o}},destroy:{value:function(){for(;u.length;)u.pop().destroy();return n.off("error"),n.off("progress"),n.off("complete"),o=[],a={},e.webAudioContext=null,c=0,h=0,Object.keys(l).forEach((function(t){l[t].destroy()})),l={},n.emit("destroy",n.id),n}}}),e=d(e||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(e.assets)&&f(e.assets),n}},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,s,a,o;if(h(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),void 0===a)a=s[e]=n,++t._eventsCount;else if("function"==typeof a?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,o=u,console&&console.warn&&console.warn(o)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)s(u,this,e);else{var h=u.length,c=m(u,h);for(n=0;n<h;++n)s(c[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return h(e),this.on(t,_(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,_(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,s,a;if(h(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(3),i=n(25),s=n(4);t.exports=function(t){var e,n,a,o,u,h,c=t.id,l=t.basePath||"",f=t.url,_=t.type,d=t.crossOrigin,p=t.isTouchLocked,m=t.blob&&i,E=t.webAudioContext,T=t.log,v=function(t){t&&(h={id:c,file:t,type:_},e.emit("progress",1),e.emit("complete",h,c,_),O())},g=function(t,e){n=e||R,(a=new XMLHttpRequest).open("GET",l+f,!0),a.responseType=t,a.addEventListener("progress",x),a.addEventListener("load",n),a.addEventListener("error",F),a.send()},x=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},R=function(){A()&&v(a.response)},A=function(){return a&&a.status<400?(s.update(a,o,f,T),!0):(F(a&&a.statusText),!1)},M=function(){g("json",(function(){if(A()){var t=a.response;"string"==typeof t&&(t=JSON.parse(t)),v(t)}}))},b=function(){m?S():y()},y=function(){a=new Image,d&&(a.crossOrigin="anonymous"),a.addEventListener("error",F,!1),a.addEventListener("load",w,!1),a.src=l+f},w=function(t){window.clearTimeout(u),t||!a.error&&a.readyState?v(a):F()},S=function(){g("blob",(function(){A()&&((a=new Image).addEventListener("error",F,!1),a.addEventListener("load",L,!1),a.src=window.URL.createObjectURL(a.response))}))},L=function(){window.URL.revokeObjectURL(a.src),v(a)},I=function(){E?C():P("audio")},N=function(){m?g("blob"):P("video")},C=function(){g("arraybuffer",(function(){A()&&E.decodeAudioData(a.response,(function(t){a=null,v(t)}),(function(t){F(t)}))}))},P=function(t){a=document.createElement(t),p||(window.clearTimeout(u),u=window.setTimeout(w,2e3),a.addEventListener("canplaythrough",w,!1)),a.addEventListener("error",F,!1),a.preload="auto",a.src=l+f,a.load(),p&&v(a)},F=function(t){window.clearTimeout(u);var n=t;if(a&&a.tagName&&a.error){n="MediaError: "+["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"][a.error.code]+" "+a.src}else a&&a.statusText?n=a.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type);e.emit("error",'Error loading "'+l+f+'" '+n),U()},O=function(){e.off("error"),e.off("progress"),e.off("complete"),a&&(a.removeEventListener("progress",x),a.removeEventListener("load",n),a.removeEventListener("error",F),a.removeEventListener("load",w),a.removeEventListener("canplaythrough",w),a.removeEventListener("load",L))},U=function(){O(),a&&a.abort&&a.readyState<4&&a.abort(),a=null,E=null,h=null,window.clearTimeout(u),e.emit("destroy",c)};return e=Object.create(r.prototype,{_events:{value:{}},id:{value:t.id},start:{value:function(){switch(o=Date.now(),_){case"json":M();break;case"jpg":case"png":case"gif":case"webp":case"svg":b();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":I();break;case"ogv":case"mp4":case"webm":case"hls":N();break;case"bin":case"binary":g("arraybuffer");break;case"txt":case"text":g("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+l+f+" ("+_+")"}}},loaded:{get:function(){return!!h}},file:{get:function(){return h}},destroy:{value:U}})}},function(t,e,n){"use strict";t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"EPSILON",(function(){return d})),n.d(r,"ARRAY_TYPE",(function(){return p})),n.d(r,"RANDOM",(function(){return m})),n.d(r,"setMatrixArrayType",(function(){return E})),n.d(r,"toRadian",(function(){return v})),n.d(r,"equals",(function(){return g}));var i={};n.r(i),n.d(i,"create",(function(){return x})),n.d(i,"clone",(function(){return R})),n.d(i,"copy",(function(){return A})),n.d(i,"identity",(function(){return M})),n.d(i,"fromValues",(function(){return b})),n.d(i,"set",(function(){return y})),n.d(i,"transpose",(function(){return w})),n.d(i,"invert",(function(){return S})),n.d(i,"adjoint",(function(){return L})),n.d(i,"determinant",(function(){return I})),n.d(i,"multiply",(function(){return N})),n.d(i,"rotate",(function(){return C})),n.d(i,"scale",(function(){return P})),n.d(i,"fromRotation",(function(){return F})),n.d(i,"fromScaling",(function(){return O})),n.d(i,"str",(function(){return U})),n.d(i,"frob",(function(){return D})),n.d(i,"LDU",(function(){return B})),n.d(i,"add",(function(){return X})),n.d(i,"subtract",(function(){return V})),n.d(i,"exactEquals",(function(){return G})),n.d(i,"equals",(function(){return k})),n.d(i,"multiplyScalar",(function(){return z})),n.d(i,"multiplyScalarAndAdd",(function(){return H})),n.d(i,"mul",(function(){return Y})),n.d(i,"sub",(function(){return j}));var s={};n.r(s),n.d(s,"create",(function(){return W})),n.d(s,"clone",(function(){return q})),n.d(s,"copy",(function(){return Z})),n.d(s,"identity",(function(){return K})),n.d(s,"fromValues",(function(){return Q})),n.d(s,"set",(function(){return $})),n.d(s,"invert",(function(){return J})),n.d(s,"determinant",(function(){return tt})),n.d(s,"multiply",(function(){return et})),n.d(s,"rotate",(function(){return nt})),n.d(s,"scale",(function(){return rt})),n.d(s,"translate",(function(){return it})),n.d(s,"fromRotation",(function(){return st})),n.d(s,"fromScaling",(function(){return at})),n.d(s,"fromTranslation",(function(){return ot})),n.d(s,"str",(function(){return ut})),n.d(s,"frob",(function(){return ht})),n.d(s,"add",(function(){return ct})),n.d(s,"subtract",(function(){return lt})),n.d(s,"multiplyScalar",(function(){return ft})),n.d(s,"multiplyScalarAndAdd",(function(){return _t})),n.d(s,"exactEquals",(function(){return dt})),n.d(s,"equals",(function(){return pt})),n.d(s,"mul",(function(){return mt})),n.d(s,"sub",(function(){return Et}));var a={};n.r(a),n.d(a,"create",(function(){return Tt})),n.d(a,"fromMat4",(function(){return vt})),n.d(a,"clone",(function(){return gt})),n.d(a,"copy",(function(){return xt})),n.d(a,"fromValues",(function(){return Rt})),n.d(a,"set",(function(){return At})),n.d(a,"identity",(function(){return Mt})),n.d(a,"transpose",(function(){return bt})),n.d(a,"invert",(function(){return yt})),n.d(a,"adjoint",(function(){return wt})),n.d(a,"determinant",(function(){return St})),n.d(a,"multiply",(function(){return Lt})),n.d(a,"translate",(function(){return It})),n.d(a,"rotate",(function(){return Nt})),n.d(a,"scale",(function(){return Ct})),n.d(a,"fromTranslation",(function(){return Pt})),n.d(a,"fromRotation",(function(){return Ft})),n.d(a,"fromScaling",(function(){return Ot})),n.d(a,"fromMat2d",(function(){return Ut})),n.d(a,"fromQuat",(function(){return Dt})),n.d(a,"normalFromMat4",(function(){return Bt})),n.d(a,"projection",(function(){return Xt})),n.d(a,"str",(function(){return Vt})),n.d(a,"frob",(function(){return Gt})),n.d(a,"add",(function(){return kt})),n.d(a,"subtract",(function(){return zt})),n.d(a,"multiplyScalar",(function(){return Ht})),n.d(a,"multiplyScalarAndAdd",(function(){return Yt})),n.d(a,"exactEquals",(function(){return jt})),n.d(a,"equals",(function(){return Wt})),n.d(a,"mul",(function(){return qt})),n.d(a,"sub",(function(){return Zt}));var o={};n.r(o),n.d(o,"create",(function(){return Kt})),n.d(o,"clone",(function(){return Qt})),n.d(o,"copy",(function(){return $t})),n.d(o,"fromValues",(function(){return Jt})),n.d(o,"set",(function(){return te})),n.d(o,"identity",(function(){return ee})),n.d(o,"transpose",(function(){return ne})),n.d(o,"invert",(function(){return re})),n.d(o,"adjoint",(function(){return ie})),n.d(o,"determinant",(function(){return se})),n.d(o,"multiply",(function(){return ae})),n.d(o,"translate",(function(){return oe})),n.d(o,"scale",(function(){return ue})),n.d(o,"rotate",(function(){return he})),n.d(o,"rotateX",(function(){return ce})),n.d(o,"rotateY",(function(){return le})),n.d(o,"rotateZ",(function(){return fe})),n.d(o,"fromTranslation",(function(){return _e})),n.d(o,"fromScaling",(function(){return de})),n.d(o,"fromRotation",(function(){return pe})),n.d(o,"fromXRotation",(function(){return me})),n.d(o,"fromYRotation",(function(){return Ee})),n.d(o,"fromZRotation",(function(){return Te})),n.d(o,"fromRotationTranslation",(function(){return ve})),n.d(o,"fromQuat2",(function(){return ge})),n.d(o,"getTranslation",(function(){return xe})),n.d(o,"getScaling",(function(){return Re})),n.d(o,"getRotation",(function(){return Ae})),n.d(o,"fromRotationTranslationScale",(function(){return Me})),n.d(o,"fromRotationTranslationScaleOrigin",(function(){return be})),n.d(o,"fromQuat",(function(){return ye})),n.d(o,"frustum",(function(){return we})),n.d(o,"perspective",(function(){return Se})),n.d(o,"perspectiveFromFieldOfView",(function(){return Le})),n.d(o,"ortho",(function(){return Ie})),n.d(o,"lookAt",(function(){return Ne})),n.d(o,"targetTo",(function(){return Ce})),n.d(o,"str",(function(){return Pe})),n.d(o,"frob",(function(){return Fe})),n.d(o,"add",(function(){return Oe})),n.d(o,"subtract",(function(){return Ue})),n.d(o,"multiplyScalar",(function(){return De})),n.d(o,"multiplyScalarAndAdd",(function(){return Be})),n.d(o,"exactEquals",(function(){return Xe})),n.d(o,"equals",(function(){return Ve})),n.d(o,"mul",(function(){return Ge})),n.d(o,"sub",(function(){return ke}));var u={};n.r(u),n.d(u,"create",(function(){return ze})),n.d(u,"clone",(function(){return He})),n.d(u,"length",(function(){return Ye})),n.d(u,"fromValues",(function(){return je})),n.d(u,"copy",(function(){return We})),n.d(u,"set",(function(){return qe})),n.d(u,"add",(function(){return Ze})),n.d(u,"subtract",(function(){return Ke})),n.d(u,"multiply",(function(){return Qe})),n.d(u,"divide",(function(){return $e})),n.d(u,"ceil",(function(){return Je})),n.d(u,"floor",(function(){return tn})),n.d(u,"min",(function(){return en})),n.d(u,"max",(function(){return nn})),n.d(u,"round",(function(){return rn})),n.d(u,"scale",(function(){return sn})),n.d(u,"scaleAndAdd",(function(){return an})),n.d(u,"distance",(function(){return on})),n.d(u,"squaredDistance",(function(){return un})),n.d(u,"squaredLength",(function(){return hn})),n.d(u,"negate",(function(){return cn})),n.d(u,"inverse",(function(){return ln})),n.d(u,"normalize",(function(){return fn})),n.d(u,"dot",(function(){return _n})),n.d(u,"cross",(function(){return dn})),n.d(u,"lerp",(function(){return pn})),n.d(u,"hermite",(function(){return mn})),n.d(u,"bezier",(function(){return En})),n.d(u,"random",(function(){return Tn})),n.d(u,"transformMat4",(function(){return vn})),n.d(u,"transformMat3",(function(){return gn})),n.d(u,"transformQuat",(function(){return xn})),n.d(u,"rotateX",(function(){return Rn})),n.d(u,"rotateY",(function(){return An})),n.d(u,"rotateZ",(function(){return Mn})),n.d(u,"angle",(function(){return bn})),n.d(u,"zero",(function(){return yn})),n.d(u,"str",(function(){return wn})),n.d(u,"exactEquals",(function(){return Sn})),n.d(u,"equals",(function(){return Ln})),n.d(u,"sub",(function(){return Nn})),n.d(u,"mul",(function(){return Cn})),n.d(u,"div",(function(){return Pn})),n.d(u,"dist",(function(){return Fn})),n.d(u,"sqrDist",(function(){return On})),n.d(u,"len",(function(){return Un})),n.d(u,"sqrLen",(function(){return Dn})),n.d(u,"forEach",(function(){return Bn}));var h={};n.r(h),n.d(h,"create",(function(){return Xn})),n.d(h,"clone",(function(){return Vn})),n.d(h,"fromValues",(function(){return Gn})),n.d(h,"copy",(function(){return kn})),n.d(h,"set",(function(){return zn})),n.d(h,"add",(function(){return Hn})),n.d(h,"subtract",(function(){return Yn})),n.d(h,"multiply",(function(){return jn})),n.d(h,"divide",(function(){return Wn})),n.d(h,"ceil",(function(){return qn})),n.d(h,"floor",(function(){return Zn})),n.d(h,"min",(function(){return Kn})),n.d(h,"max",(function(){return Qn})),n.d(h,"round",(function(){return $n})),n.d(h,"scale",(function(){return Jn})),n.d(h,"scaleAndAdd",(function(){return tr})),n.d(h,"distance",(function(){return er})),n.d(h,"squaredDistance",(function(){return nr})),n.d(h,"length",(function(){return rr})),n.d(h,"squaredLength",(function(){return ir})),n.d(h,"negate",(function(){return sr})),n.d(h,"inverse",(function(){return ar})),n.d(h,"normalize",(function(){return or})),n.d(h,"dot",(function(){return ur})),n.d(h,"cross",(function(){return hr})),n.d(h,"lerp",(function(){return cr})),n.d(h,"random",(function(){return lr})),n.d(h,"transformMat4",(function(){return fr})),n.d(h,"transformQuat",(function(){return _r})),n.d(h,"zero",(function(){return dr})),n.d(h,"str",(function(){return pr})),n.d(h,"exactEquals",(function(){return mr})),n.d(h,"equals",(function(){return Er})),n.d(h,"sub",(function(){return Tr})),n.d(h,"mul",(function(){return vr})),n.d(h,"div",(function(){return gr})),n.d(h,"dist",(function(){return xr})),n.d(h,"sqrDist",(function(){return Rr})),n.d(h,"len",(function(){return Ar})),n.d(h,"sqrLen",(function(){return Mr})),n.d(h,"forEach",(function(){return br}));var c={};n.r(c),n.d(c,"create",(function(){return yr})),n.d(c,"identity",(function(){return wr})),n.d(c,"setAxisAngle",(function(){return Sr})),n.d(c,"getAxisAngle",(function(){return Lr})),n.d(c,"getAngle",(function(){return Ir})),n.d(c,"multiply",(function(){return Nr})),n.d(c,"rotateX",(function(){return Cr})),n.d(c,"rotateY",(function(){return Pr})),n.d(c,"rotateZ",(function(){return Fr})),n.d(c,"calculateW",(function(){return Or})),n.d(c,"exp",(function(){return Ur})),n.d(c,"ln",(function(){return Dr})),n.d(c,"pow",(function(){return Br})),n.d(c,"slerp",(function(){return Xr})),n.d(c,"random",(function(){return Vr})),n.d(c,"invert",(function(){return Gr})),n.d(c,"conjugate",(function(){return kr})),n.d(c,"fromMat3",(function(){return zr})),n.d(c,"fromEuler",(function(){return Hr})),n.d(c,"str",(function(){return Yr})),n.d(c,"clone",(function(){return $r})),n.d(c,"fromValues",(function(){return Jr})),n.d(c,"copy",(function(){return ti})),n.d(c,"set",(function(){return ei})),n.d(c,"add",(function(){return ni})),n.d(c,"mul",(function(){return ri})),n.d(c,"scale",(function(){return ii})),n.d(c,"dot",(function(){return si})),n.d(c,"lerp",(function(){return ai})),n.d(c,"length",(function(){return oi})),n.d(c,"len",(function(){return ui})),n.d(c,"squaredLength",(function(){return hi})),n.d(c,"sqrLen",(function(){return ci})),n.d(c,"normalize",(function(){return li})),n.d(c,"exactEquals",(function(){return fi})),n.d(c,"equals",(function(){return _i})),n.d(c,"rotationTo",(function(){return di})),n.d(c,"sqlerp",(function(){return pi})),n.d(c,"setAxes",(function(){return mi}));var l={};n.r(l),n.d(l,"create",(function(){return Ei})),n.d(l,"clone",(function(){return Ti})),n.d(l,"fromValues",(function(){return vi})),n.d(l,"fromRotationTranslationValues",(function(){return gi})),n.d(l,"fromRotationTranslation",(function(){return xi})),n.d(l,"fromTranslation",(function(){return Ri})),n.d(l,"fromRotation",(function(){return Ai})),n.d(l,"fromMat4",(function(){return Mi})),n.d(l,"copy",(function(){return bi})),n.d(l,"identity",(function(){return yi})),n.d(l,"set",(function(){return wi})),n.d(l,"getReal",(function(){return Si})),n.d(l,"getDual",(function(){return Li})),n.d(l,"setReal",(function(){return Ii})),n.d(l,"setDual",(function(){return Ni})),n.d(l,"getTranslation",(function(){return Ci})),n.d(l,"translate",(function(){return Pi})),n.d(l,"rotateX",(function(){return Fi})),n.d(l,"rotateY",(function(){return Oi})),n.d(l,"rotateZ",(function(){return Ui})),n.d(l,"rotateByQuatAppend",(function(){return Di})),n.d(l,"rotateByQuatPrepend",(function(){return Bi})),n.d(l,"rotateAroundAxis",(function(){return Xi})),n.d(l,"add",(function(){return Vi})),n.d(l,"multiply",(function(){return Gi})),n.d(l,"mul",(function(){return ki})),n.d(l,"scale",(function(){return zi})),n.d(l,"dot",(function(){return Hi})),n.d(l,"lerp",(function(){return Yi})),n.d(l,"invert",(function(){return ji})),n.d(l,"conjugate",(function(){return Wi})),n.d(l,"length",(function(){return qi})),n.d(l,"len",(function(){return Zi})),n.d(l,"squaredLength",(function(){return Ki})),n.d(l,"sqrLen",(function(){return Qi})),n.d(l,"normalize",(function(){return $i})),n.d(l,"str",(function(){return Ji})),n.d(l,"exactEquals",(function(){return ts})),n.d(l,"equals",(function(){return es}));var f={};n.r(f),n.d(f,"create",(function(){return ns})),n.d(f,"clone",(function(){return rs})),n.d(f,"fromValues",(function(){return is})),n.d(f,"copy",(function(){return ss})),n.d(f,"set",(function(){return as})),n.d(f,"add",(function(){return os})),n.d(f,"subtract",(function(){return us})),n.d(f,"multiply",(function(){return hs})),n.d(f,"divide",(function(){return cs})),n.d(f,"ceil",(function(){return ls})),n.d(f,"floor",(function(){return fs})),n.d(f,"min",(function(){return _s})),n.d(f,"max",(function(){return ds})),n.d(f,"round",(function(){return ps})),n.d(f,"scale",(function(){return ms})),n.d(f,"scaleAndAdd",(function(){return Es})),n.d(f,"distance",(function(){return Ts})),n.d(f,"squaredDistance",(function(){return vs})),n.d(f,"length",(function(){return gs})),n.d(f,"squaredLength",(function(){return xs})),n.d(f,"negate",(function(){return Rs})),n.d(f,"inverse",(function(){return As})),n.d(f,"normalize",(function(){return Ms})),n.d(f,"dot",(function(){return bs})),n.d(f,"cross",(function(){return ys})),n.d(f,"lerp",(function(){return ws})),n.d(f,"random",(function(){return Ss})),n.d(f,"transformMat2",(function(){return Ls})),n.d(f,"transformMat2d",(function(){return Is})),n.d(f,"transformMat3",(function(){return Ns})),n.d(f,"transformMat4",(function(){return Cs})),n.d(f,"rotate",(function(){return Ps})),n.d(f,"angle",(function(){return Fs})),n.d(f,"zero",(function(){return Os})),n.d(f,"str",(function(){return Us})),n.d(f,"exactEquals",(function(){return Ds})),n.d(f,"equals",(function(){return Bs})),n.d(f,"len",(function(){return Xs})),n.d(f,"sub",(function(){return Vs})),n.d(f,"mul",(function(){return Gs})),n.d(f,"div",(function(){return ks})),n.d(f,"dist",(function(){return zs})),n.d(f,"sqrDist",(function(){return Hs})),n.d(f,"sqrLen",(function(){return Ys})),n.d(f,"forEach",(function(){return js}));var _={};n.r(_),n.d(_,"glMatrix",(function(){return r})),n.d(_,"mat2",(function(){return i})),n.d(_,"mat2d",(function(){return s})),n.d(_,"mat3",(function(){return a})),n.d(_,"mat4",(function(){return o})),n.d(_,"quat",(function(){return c})),n.d(_,"quat2",(function(){return l})),n.d(_,"vec2",(function(){return f})),n.d(_,"vec3",(function(){return u})),n.d(_,"vec4",(function(){return h}));n(7);var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function E(t){p=t}var T=Math.PI/180;function v(t){return t*T}function g(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function x(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function R(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function A(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function M(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function b(t,e,n,r){var i=new p(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function y(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function w(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function S(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n*s-i*r;return a?(a=1/a,t[0]=s*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function L(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function I(t){return t[0]*t[3]-t[2]*t[1]}function N(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*o+s*u,t[1]=i*o+a*u,t[2]=r*h+s*c,t[3]=i*h+a*c,t}function C(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),u=Math.cos(n);return t[0]=r*u+s*o,t[1]=i*u+a*o,t[2]=r*-o+s*u,t[3]=i*-o+a*u,t}function P(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=n[0],u=n[1];return t[0]=r*o,t[1]=i*o,t[2]=s*u,t[3]=a*u,t}function F(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function O(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function U(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function D(t){return Math.hypot(t[0],t[1],t[2],t[3])}function B(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function X(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function V(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function k(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=e[0],o=e[1],u=e[2],h=e[3];return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-h)<=d*Math.max(1,Math.abs(s),Math.abs(h))}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function H(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Y=N,j=V;function W(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function q(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Z(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,e,n,r,i,s){var a=new p(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=s,a}function $(t,e,n,r,i,s,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t}function J(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=n*s-r*i;return u?(u=1/u,t[0]=s*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*o-s*a)*u,t[5]=(r*a-n*o)*u,t):null}function tt(t){return t[0]*t[3]-t[1]*t[2]}function et(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=n[0],c=n[1],l=n[2],f=n[3],_=n[4],d=n[5];return t[0]=r*h+s*c,t[1]=i*h+a*c,t[2]=r*l+s*f,t[3]=i*l+a*f,t[4]=r*_+s*d+o,t[5]=i*_+a*d+u,t}function nt(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=r*c+s*h,t[1]=i*c+a*h,t[2]=r*-h+s*c,t[3]=i*-h+a*c,t[4]=o,t[5]=u,t}function rt(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r*h,t[1]=i*h,t[2]=s*c,t[3]=a*c,t[4]=o,t[5]=u,t}function it(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=r*h+s*c+o,t[5]=i*h+a*c+u,t}function st(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function at(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ht(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function lt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function ft(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function _t(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],_=e[5];return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-l)<=d*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(a-f)<=d*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-_)<=d*Math.max(1,Math.abs(o),Math.abs(_))}var mt=et,Et=lt;function Tt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function gt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Rt(t,e,n,r,i,s,a,o,u){var h=new p(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=i,h[5]=s,h[6]=a,h[7]=o,h[8]=u,h}function At(t,e,n,r,i,s,a,o,u,h){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=u,t[8]=h,t}function Mt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function bt(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function yt(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=c*a-o*h,f=-c*s+o*u,_=h*s-a*u,d=n*l+r*f+i*_;return d?(d=1/d,t[0]=l*d,t[1]=(-c*r+i*h)*d,t[2]=(o*r-i*a)*d,t[3]=f*d,t[4]=(c*n-i*u)*d,t[5]=(-o*n+i*s)*d,t[6]=_*d,t[7]=(-h*n+r*u)*d,t[8]=(a*n-r*s)*d,t):null}function wt(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],h=e[7],c=e[8];return t[0]=a*c-o*h,t[1]=i*h-r*c,t[2]=r*o-i*a,t[3]=o*u-s*c,t[4]=n*c-i*u,t[5]=i*s-n*o,t[6]=s*h-a*u,t[7]=r*u-n*h,t[8]=n*a-r*s,t}function St(t){var e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*(h*s-a*u)+n*(-h*i+a*o)+r*(u*i-s*o)}function Lt(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],_=n[1],d=n[2],p=n[3],m=n[4],E=n[5],T=n[6],v=n[7],g=n[8];return t[0]=f*r+_*a+d*h,t[1]=f*i+_*o+d*c,t[2]=f*s+_*u+d*l,t[3]=p*r+m*a+E*h,t[4]=p*i+m*o+E*c,t[5]=p*s+m*u+E*l,t[6]=T*r+v*a+g*h,t[7]=T*i+v*o+g*c,t[8]=T*s+v*u+g*l,t}function It(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],_=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=u,t[6]=f*r+_*a+h,t[7]=f*i+_*o+c,t[8]=f*s+_*u+l,t}function Nt(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(n),_=Math.cos(n);return t[0]=_*r+f*a,t[1]=_*i+f*o,t[2]=_*s+f*u,t[3]=_*a-f*r,t[4]=_*o-f*i,t[5]=_*u-f*s,t[6]=h,t[7]=c,t[8]=l,t}function Ct(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Pt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Ft(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ut(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Dt(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n+n,o=r+r,u=i+i,h=n*a,c=r*a,l=r*o,f=i*a,_=i*o,d=i*u,p=s*a,m=s*o,E=s*u;return t[0]=1-l-d,t[3]=c-E,t[6]=f+m,t[1]=c+E,t[4]=1-h-d,t[7]=_-p,t[2]=f-m,t[5]=_+p,t[8]=1-h-l,t}function Bt(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],_=e[11],d=e[12],p=e[13],m=e[14],E=e[15],T=n*o-r*a,v=n*u-i*a,g=n*h-s*a,x=r*u-i*o,R=r*h-s*o,A=i*h-s*u,M=c*p-l*d,b=c*m-f*d,y=c*E-_*d,w=l*m-f*p,S=l*E-_*p,L=f*E-_*m,I=T*L-v*S+g*w+x*y-R*b+A*M;return I?(I=1/I,t[0]=(o*L-u*S+h*w)*I,t[1]=(u*y-a*L-h*b)*I,t[2]=(a*S-o*y+h*M)*I,t[3]=(i*S-r*L-s*w)*I,t[4]=(n*L-i*y+s*b)*I,t[5]=(r*y-n*S-s*M)*I,t[6]=(p*A-m*R+E*x)*I,t[7]=(m*g-d*A-E*v)*I,t[8]=(d*R-p*g+E*T)*I,t):null}function Xt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Vt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Gt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function kt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function zt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Ht(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Yt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function jt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Wt(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],h=t[7],c=t[8],l=e[0],f=e[1],_=e[2],p=e[3],m=e[4],E=e[5],T=e[6],v=e[7],g=e[8];return Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-_)<=d*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(s-p)<=d*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-m)<=d*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-E)<=d*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(u-T)<=d*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(h-v)<=d*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(c-g)<=d*Math.max(1,Math.abs(c),Math.abs(g))}var qt=Lt,Zt=zt;function Kt(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t,e,n,r,i,s,a,o,u,h,c,l,f,_,d,m){var E=new p(16);return E[0]=t,E[1]=e,E[2]=n,E[3]=r,E[4]=i,E[5]=s,E[6]=a,E[7]=o,E[8]=u,E[9]=h,E[10]=c,E[11]=l,E[12]=f,E[13]=_,E[14]=d,E[15]=m,E}function te(t,e,n,r,i,s,a,o,u,h,c,l,f,_,d,p,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=f,t[12]=_,t[13]=d,t[14]=p,t[15]=m,t}function ee(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ne(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],s=e[6],a=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=i,t[13]=a,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],_=e[11],d=e[12],p=e[13],m=e[14],E=e[15],T=n*o-r*a,v=n*u-i*a,g=n*h-s*a,x=r*u-i*o,R=r*h-s*o,A=i*h-s*u,M=c*p-l*d,b=c*m-f*d,y=c*E-_*d,w=l*m-f*p,S=l*E-_*p,L=f*E-_*m,I=T*L-v*S+g*w+x*y-R*b+A*M;return I?(I=1/I,t[0]=(o*L-u*S+h*w)*I,t[1]=(i*S-r*L-s*w)*I,t[2]=(p*A-m*R+E*x)*I,t[3]=(f*R-l*A-_*x)*I,t[4]=(u*y-a*L-h*b)*I,t[5]=(n*L-i*y+s*b)*I,t[6]=(m*g-d*A-E*v)*I,t[7]=(c*A-f*g+_*v)*I,t[8]=(a*S-o*y+h*M)*I,t[9]=(r*y-n*S-s*M)*I,t[10]=(d*R-p*g+E*T)*I,t[11]=(l*g-c*R-_*T)*I,t[12]=(o*b-a*w-u*M)*I,t[13]=(n*w-r*b+i*M)*I,t[14]=(p*v-d*x-m*T)*I,t[15]=(c*x-l*v+f*T)*I,t):null}function ie(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],_=e[11],d=e[12],p=e[13],m=e[14],E=e[15];return t[0]=o*(f*E-_*m)-l*(u*E-h*m)+p*(u*_-h*f),t[1]=-(r*(f*E-_*m)-l*(i*E-s*m)+p*(i*_-s*f)),t[2]=r*(u*E-h*m)-o*(i*E-s*m)+p*(i*h-s*u),t[3]=-(r*(u*_-h*f)-o*(i*_-s*f)+l*(i*h-s*u)),t[4]=-(a*(f*E-_*m)-c*(u*E-h*m)+d*(u*_-h*f)),t[5]=n*(f*E-_*m)-c*(i*E-s*m)+d*(i*_-s*f),t[6]=-(n*(u*E-h*m)-a*(i*E-s*m)+d*(i*h-s*u)),t[7]=n*(u*_-h*f)-a*(i*_-s*f)+c*(i*h-s*u),t[8]=a*(l*E-_*p)-c*(o*E-h*p)+d*(o*_-h*l),t[9]=-(n*(l*E-_*p)-c*(r*E-s*p)+d*(r*_-s*l)),t[10]=n*(o*E-h*p)-a*(r*E-s*p)+d*(r*h-s*o),t[11]=-(n*(o*_-h*l)-a*(r*_-s*l)+c*(r*h-s*o)),t[12]=-(a*(l*m-f*p)-c*(o*m-u*p)+d*(o*f-u*l)),t[13]=n*(l*m-f*p)-c*(r*m-i*p)+d*(r*f-i*l),t[14]=-(n*(o*m-u*p)-a*(r*m-i*p)+d*(r*u-i*o)),t[15]=n*(o*f-u*l)-a*(r*f-i*l)+c*(r*u-i*o),t}function se(t){var e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],_=t[12],d=t[13],p=t[14],m=t[15];return(e*a-n*s)*(l*m-f*p)-(e*o-r*s)*(c*m-f*d)+(e*u-i*s)*(c*p-l*d)+(n*o-r*a)*(h*m-f*_)-(n*u-i*a)*(h*p-l*_)+(r*u-i*o)*(h*d-c*_)}function ae(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],_=e[10],d=e[11],p=e[12],m=e[13],E=e[14],T=e[15],v=n[0],g=n[1],x=n[2],R=n[3];return t[0]=v*r+g*o+x*l+R*p,t[1]=v*i+g*u+x*f+R*m,t[2]=v*s+g*h+x*_+R*E,t[3]=v*a+g*c+x*d+R*T,v=n[4],g=n[5],x=n[6],R=n[7],t[4]=v*r+g*o+x*l+R*p,t[5]=v*i+g*u+x*f+R*m,t[6]=v*s+g*h+x*_+R*E,t[7]=v*a+g*c+x*d+R*T,v=n[8],g=n[9],x=n[10],R=n[11],t[8]=v*r+g*o+x*l+R*p,t[9]=v*i+g*u+x*f+R*m,t[10]=v*s+g*h+x*_+R*E,t[11]=v*a+g*c+x*d+R*T,v=n[12],g=n[13],x=n[14],R=n[15],t[12]=v*r+g*o+x*l+R*p,t[13]=v*i+g*u+x*f+R*m,t[14]=v*s+g*h+x*_+R*E,t[15]=v*a+g*c+x*d+R*T,t}function oe(t,e,n){var r,i,s,a,o,u,h,c,l,f,_,d,p=n[0],m=n[1],E=n[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*E+e[12],t[13]=e[1]*p+e[5]*m+e[9]*E+e[13],t[14]=e[2]*p+e[6]*m+e[10]*E+e[14],t[15]=e[3]*p+e[7]*m+e[11]*E+e[15]):(r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],_=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=u,t[6]=h,t[7]=c,t[8]=l,t[9]=f,t[10]=_,t[11]=d,t[12]=r*p+o*m+l*E+e[12],t[13]=i*p+u*m+f*E+e[13],t[14]=s*p+h*m+_*E+e[14],t[15]=a*p+c*m+d*E+e[15]),t}function ue(t,e,n){var r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function he(t,e,n,r){var i,s,a,o,u,h,c,l,f,_,p,m,E,T,v,g,x,R,A,M,b,y,w,S,L=r[0],I=r[1],N=r[2],C=Math.hypot(L,I,N);return C<d?null:(L*=C=1/C,I*=C,N*=C,i=Math.sin(n),a=1-(s=Math.cos(n)),o=e[0],u=e[1],h=e[2],c=e[3],l=e[4],f=e[5],_=e[6],p=e[7],m=e[8],E=e[9],T=e[10],v=e[11],g=L*L*a+s,x=I*L*a+N*i,R=N*L*a-I*i,A=L*I*a-N*i,M=I*I*a+s,b=N*I*a+L*i,y=L*N*a+I*i,w=I*N*a-L*i,S=N*N*a+s,t[0]=o*g+l*x+m*R,t[1]=u*g+f*x+E*R,t[2]=h*g+_*x+T*R,t[3]=c*g+p*x+v*R,t[4]=o*A+l*M+m*b,t[5]=u*A+f*M+E*b,t[6]=h*A+_*M+T*b,t[7]=c*A+p*M+v*b,t[8]=o*y+l*w+m*S,t[9]=u*y+f*w+E*S,t[10]=h*y+_*w+T*S,t[11]=c*y+p*w+v*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[4],a=e[5],o=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+h*r,t[5]=a*i+c*r,t[6]=o*i+l*r,t[7]=u*i+f*r,t[8]=h*i-s*r,t[9]=c*i-a*r,t[10]=l*i-o*r,t[11]=f*i-u*r,t}function le(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[0],a=e[1],o=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-h*r,t[1]=a*i-c*r,t[2]=o*i-l*r,t[3]=u*i-f*r,t[8]=s*r+h*i,t[9]=a*r+c*i,t[10]=o*r+l*i,t[11]=u*r+f*i,t}function fe(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[0],a=e[1],o=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+h*r,t[1]=a*i+c*r,t[2]=o*i+l*r,t[3]=u*i+f*r,t[4]=h*i-s*r,t[5]=c*i-a*r,t[6]=l*i-o*r,t[7]=f*i-u*r,t}function _e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,n){var r,i,s,a=n[0],o=n[1],u=n[2],h=Math.hypot(a,o,u);return h<d?null:(a*=h=1/h,o*=h,u*=h,r=Math.sin(e),s=1-(i=Math.cos(e)),t[0]=a*a*s+i,t[1]=o*a*s+u*r,t[2]=u*a*s-o*r,t[3]=0,t[4]=a*o*s-u*r,t[5]=o*o*s+i,t[6]=u*o*s+a*r,t[7]=0,t[8]=a*u*s+o*r,t[9]=o*u*s-a*r,t[10]=u*u*s+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ee(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Te(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=r+r,u=i+i,h=s+s,c=r*o,l=r*u,f=r*h,_=i*u,d=i*h,p=s*h,m=a*o,E=a*u,T=a*h;return t[0]=1-(_+p),t[1]=l+T,t[2]=f-E,t[3]=0,t[4]=l-T,t[5]=1-(c+p),t[6]=d+m,t[7]=0,t[8]=f+E,t[9]=d-m,t[10]=1-(c+_),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,e){var n=new p(3),r=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=r*r+i*i+s*s+a*a;return l>0?(n[0]=2*(o*a+c*r+u*s-h*i)/l,n[1]=2*(u*a+c*i+h*r-o*s)/l,n[2]=2*(h*a+c*s+o*i-u*r)/l):(n[0]=2*(o*a+c*r+u*s-h*i),n[1]=2*(u*a+c*i+h*r-o*s),n[2]=2*(h*a+c*s+o*i-u*r)),ve(t,e,n),t}function xe(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Re(t,e){var n=e[0],r=e[1],i=e[2],s=e[4],a=e[5],o=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,a,o),t[2]=Math.hypot(u,h,c),t}function Ae(t,e){var n=new p(3);Re(n,e);var r=1/n[0],i=1/n[1],s=1/n[2],a=e[0]*r,o=e[1]*i,u=e[2]*s,h=e[4]*r,c=e[5]*i,l=e[6]*s,f=e[8]*r,_=e[9]*i,d=e[10]*s,m=a+c+d,E=0;return m>0?(E=2*Math.sqrt(m+1),t[3]=.25*E,t[0]=(l-_)/E,t[1]=(f-u)/E,t[2]=(o-h)/E):a>c&&a>d?(E=2*Math.sqrt(1+a-c-d),t[3]=(l-_)/E,t[0]=.25*E,t[1]=(o+h)/E,t[2]=(f+u)/E):c>d?(E=2*Math.sqrt(1+c-a-d),t[3]=(f-u)/E,t[0]=(o+h)/E,t[1]=.25*E,t[2]=(l+_)/E):(E=2*Math.sqrt(1+d-a-c),t[3]=(o-h)/E,t[0]=(f+u)/E,t[1]=(l+_)/E,t[2]=.25*E),t}function Me(t,e,n,r){var i=e[0],s=e[1],a=e[2],o=e[3],u=i+i,h=s+s,c=a+a,l=i*u,f=i*h,_=i*c,d=s*h,p=s*c,m=a*c,E=o*u,T=o*h,v=o*c,g=r[0],x=r[1],R=r[2];return t[0]=(1-(d+m))*g,t[1]=(f+v)*g,t[2]=(_-T)*g,t[3]=0,t[4]=(f-v)*x,t[5]=(1-(l+m))*x,t[6]=(p+E)*x,t[7]=0,t[8]=(_+T)*R,t[9]=(p-E)*R,t[10]=(1-(l+d))*R,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function be(t,e,n,r,i){var s=e[0],a=e[1],o=e[2],u=e[3],h=s+s,c=a+a,l=o+o,f=s*h,_=s*c,d=s*l,p=a*c,m=a*l,E=o*l,T=u*h,v=u*c,g=u*l,x=r[0],R=r[1],A=r[2],M=i[0],b=i[1],y=i[2],w=(1-(p+E))*x,S=(_+g)*x,L=(d-v)*x,I=(_-g)*R,N=(1-(f+E))*R,C=(m+T)*R,P=(d+v)*A,F=(m-T)*A,O=(1-(f+p))*A;return t[0]=w,t[1]=S,t[2]=L,t[3]=0,t[4]=I,t[5]=N,t[6]=C,t[7]=0,t[8]=P,t[9]=F,t[10]=O,t[11]=0,t[12]=n[0]+M-(w*M+I*b+P*y),t[13]=n[1]+b-(S*M+N*b+F*y),t[14]=n[2]+y-(L*M+C*b+O*y),t[15]=1,t}function ye(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n+n,o=r+r,u=i+i,h=n*a,c=r*a,l=r*o,f=i*a,_=i*o,d=i*u,p=s*a,m=s*o,E=s*u;return t[0]=1-l-d,t[1]=c+E,t[2]=f-m,t[3]=0,t[4]=c-E,t[5]=1-h-d,t[6]=_+p,t[7]=0,t[8]=f+m,t[9]=_-p,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function we(t,e,n,r,i,s,a){var o=1/(n-e),u=1/(i-r),h=1/(s-a);return t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*u,t[6]=0,t[7]=0,t[8]=(n+e)*o,t[9]=(i+r)*u,t[10]=(a+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*h,t[15]=0,t}function Se(t,e,n,r,i){var s,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(r-i),t[10]=(i+r)*s,t[14]=2*i*r*s):(t[10]=-1,t[14]=-2*r),t}function Le(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+o),h=2/(i+s);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(a-o)*u*.5,t[9]=(i-s)*h*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ie(t,e,n,r,i,s,a){var o=1/(e-n),u=1/(r-i),h=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*o,t[13]=(i+r)*u,t[14]=(a+s)*h,t[15]=1,t}function Ne(t,e,n,r){var i,s,a,o,u,h,c,l,f,_,p=e[0],m=e[1],E=e[2],T=r[0],v=r[1],g=r[2],x=n[0],R=n[1],A=n[2];return Math.abs(p-x)<d&&Math.abs(m-R)<d&&Math.abs(E-A)<d?ee(t):(c=p-x,l=m-R,f=E-A,i=v*(f*=_=1/Math.hypot(c,l,f))-g*(l*=_),s=g*(c*=_)-T*f,a=T*l-v*c,(_=Math.hypot(i,s,a))?(i*=_=1/_,s*=_,a*=_):(i=0,s=0,a=0),o=l*a-f*s,u=f*i-c*a,h=c*s-l*i,(_=Math.hypot(o,u,h))?(o*=_=1/_,u*=_,h*=_):(o=0,u=0,h=0),t[0]=i,t[1]=o,t[2]=c,t[3]=0,t[4]=s,t[5]=u,t[6]=l,t[7]=0,t[8]=a,t[9]=h,t[10]=f,t[11]=0,t[12]=-(i*p+s*m+a*E),t[13]=-(o*p+u*m+h*E),t[14]=-(c*p+l*m+f*E),t[15]=1,t)}function Ce(t,e,n,r){var i=e[0],s=e[1],a=e[2],o=r[0],u=r[1],h=r[2],c=i-n[0],l=s-n[1],f=a-n[2],_=c*c+l*l+f*f;_>0&&(c*=_=1/Math.sqrt(_),l*=_,f*=_);var d=u*f-h*l,p=h*c-o*f,m=o*l-u*c;return(_=d*d+p*p+m*m)>0&&(d*=_=1/Math.sqrt(_),p*=_,m*=_),t[0]=d,t[1]=p,t[2]=m,t[3]=0,t[4]=l*m-f*p,t[5]=f*d-c*m,t[6]=c*p-l*d,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=s,t[14]=a,t[15]=1,t}function Pe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Fe(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Oe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Ue(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function De(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Be(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Xe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Ve(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],h=t[7],c=t[8],l=t[9],f=t[10],_=t[11],p=t[12],m=t[13],E=t[14],T=t[15],v=e[0],g=e[1],x=e[2],R=e[3],A=e[4],M=e[5],b=e[6],y=e[7],w=e[8],S=e[9],L=e[10],I=e[11],N=e[12],C=e[13],P=e[14],F=e[15];return Math.abs(n-v)<=d*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-g)<=d*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(i-x)<=d*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(s-R)<=d*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(a-A)<=d*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(o-M)<=d*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-b)<=d*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(h-y)<=d*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(c-w)<=d*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(l-S)<=d*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-L)<=d*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(_-I)<=d*Math.max(1,Math.abs(_),Math.abs(I))&&Math.abs(p-N)<=d*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(m-C)<=d*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(E-P)<=d*Math.max(1,Math.abs(E),Math.abs(P))&&Math.abs(T-F)<=d*Math.max(1,Math.abs(T),Math.abs(F))}var Ge=ae,ke=Ue;function ze(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function He(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ye(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function je(t,e,n){var r=new p(3);return r[0]=t,r[1]=e,r[2]=n,r}function We(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function qe(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ze(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ke(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function $e(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function tn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function en(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function nn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function rn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function sn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function an(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function on(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function un(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function hn(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ln(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function fn(t,e){var n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function _n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dn(t,e,n){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1],u=n[2];return t[0]=i*u-s*o,t[1]=s*a-r*u,t[2]=r*o-i*a,t}function pn(t,e,n,r){var i=e[0],s=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=a+r*(n[2]-a),t}function mn(t,e,n,r,i,s){var a=s*s,o=a*(2*s-3)+1,u=a*(s-2)+s,h=a*(s-1),c=a*(3-2*s);return t[0]=e[0]*o+n[0]*u+r[0]*h+i[0]*c,t[1]=e[1]*o+n[1]*u+r[1]*h+i[1]*c,t[2]=e[2]*o+n[2]*u+r[2]*h+i[2]*c,t}function En(t,e,n,r,i,s){var a=1-s,o=a*a,u=s*s,h=o*a,c=3*s*o,l=3*u*a,f=u*s;return t[0]=e[0]*h+n[0]*c+r[0]*l+i[0]*f,t[1]=e[1]*h+n[1]*c+r[1]*l+i[1]*f,t[2]=e[2]*h+n[2]*c+r[2]*l+i[2]*f,t}function Tn(t,e){e=e||1;var n=2*m()*Math.PI,r=2*m()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function vn(t,e,n){var r=e[0],i=e[1],s=e[2],a=n[3]*r+n[7]*i+n[11]*s+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/a,t}function gn(t,e,n){var r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t}function xn(t,e,n){var r=n[0],i=n[1],s=n[2],a=n[3],o=e[0],u=e[1],h=e[2],c=i*h-s*u,l=s*o-r*h,f=r*u-i*o,_=i*f-s*l,d=s*c-r*f,p=r*l-i*c,m=2*a;return c*=m,l*=m,f*=m,_*=2,d*=2,p*=2,t[0]=o+c+_,t[1]=u+l+d,t[2]=h+f+p,t}function Rn(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function An(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function Mn(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function bn(t,e){var n=t[0],r=t[1],i=t[2],s=e[0],a=e[1],o=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(s*s+a*a+o*o),h=u&&_n(t,e)/u;return Math.acos(Math.min(Math.max(h,-1),1))}function yn(t){return t[0]=0,t[1]=0,t[2]=0,t}function wn(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Sn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Ln(t,e){var n=t[0],r=t[1],i=t[2],s=e[0],a=e[1],o=e[2];return Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=d*Math.max(1,Math.abs(i),Math.abs(o))}var In,Nn=Ke,Cn=Qe,Pn=$e,Fn=on,On=un,Un=Ye,Dn=hn,Bn=(In=ze(),function(t,e,n,r,i,s){var a,o;for(e||(e=3),n||(n=0),o=r?Math.min(r*e+n,t.length):t.length,a=n;a<o;a+=e)In[0]=t[a],In[1]=t[a+1],In[2]=t[a+2],i(In,In,s),t[a]=In[0],t[a+1]=In[1],t[a+2]=In[2];return t});function Xn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Vn(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Gn(t,e,n,r){var i=new p(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function kn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function zn(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Hn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Yn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function jn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Wn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function qn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Zn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Kn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Qn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function $n(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Jn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function tr(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function er(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return Math.hypot(n,r,i,s)}function nr(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return n*n+r*r+i*i+s*s}function rr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function ir(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function sr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function ar(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function or(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n*n+r*r+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=s*a,t}function ur(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function hr(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],s=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],o=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],h=n[2]*r[3]-n[3]*r[2],c=e[0],l=e[1],f=e[2],_=e[3];return t[0]=l*h-f*u+_*o,t[1]=-c*h+f*a-_*s,t[2]=c*u-l*a+_*i,t[3]=-c*o+l*s-f*i,t}function cr(t,e,n,r){var i=e[0],s=e[1],a=e[2],o=e[3];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=a+r*(n[2]-a),t[3]=o+r*(n[3]-o),t}function lr(t,e){var n,r,i,s,a,o;e=e||1;do{a=(n=2*m()-1)*n+(r=2*m()-1)*r}while(a>=1);do{o=(i=2*m()-1)*i+(s=2*m()-1)*s}while(o>=1);var u=Math.sqrt((1-a)/o);return t[0]=e*n,t[1]=e*r,t[2]=e*i*u,t[3]=e*s*u,t}function fr(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*a,t}function _r(t,e,n){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1],u=n[2],h=n[3],c=h*r+o*s-u*i,l=h*i+u*r-a*s,f=h*s+a*i-o*r,_=-a*r-o*i-u*s;return t[0]=c*h+_*-a+l*-u-f*-o,t[1]=l*h+_*-o+f*-a-c*-u,t[2]=f*h+_*-u+c*-o-l*-a,t[3]=e[3],t}function dr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function mr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Er(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=e[0],o=e[1],u=e[2],h=e[3];return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-h)<=d*Math.max(1,Math.abs(s),Math.abs(h))}var Tr=Yn,vr=jn,gr=Wn,xr=er,Rr=nr,Ar=rr,Mr=ir,br=function(){var t=Xn();return function(e,n,r,i,s,a){var o,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,o=r;o<u;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],s(t,t,a),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}();function yr(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function wr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Sr(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Lr(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>d?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Ir(t,e){var n=si(t,e);return Math.acos(2*n*n-1)}function Nr(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*c+a*o+i*h-s*u,t[1]=i*c+a*u+s*o-r*h,t[2]=s*c+a*h+r*u-i*o,t[3]=a*c-r*o-i*u-s*h,t}function Cr(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*o,t[1]=i*u+s*o,t[2]=s*u-i*o,t[3]=a*u-r*o,t}function Pr(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),u=Math.cos(n);return t[0]=r*u-s*o,t[1]=i*u+a*o,t[2]=s*u+r*o,t[3]=a*u-i*o,t}function Fr(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*o,t[1]=i*u-r*o,t[2]=s*u+a*o,t[3]=a*u-s*o,t}function Or(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Ur(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=Math.sqrt(n*n+r*r+i*i),o=Math.exp(s),u=a>0?o*Math.sin(a)/a:0;return t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=o*Math.cos(a),t}function Dr(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=Math.sqrt(n*n+r*r+i*i),o=a>0?Math.atan2(a,s)/a:0;return t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=.5*Math.log(n*n+r*r+i*i+s*s),t}function Br(t,e,n){return Dr(t,e),ii(t,t,n),Ur(t,t),t}function Xr(t,e,n,r){var i,s,a,o,u,h=e[0],c=e[1],l=e[2],f=e[3],_=n[0],p=n[1],m=n[2],E=n[3];return(s=h*_+c*p+l*m+f*E)<0&&(s=-s,_=-_,p=-p,m=-m,E=-E),1-s>d?(i=Math.acos(s),a=Math.sin(i),o=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(o=1-r,u=r),t[0]=o*h+u*_,t[1]=o*c+u*p,t[2]=o*l+u*m,t[3]=o*f+u*E,t}function Vr(t){var e=m(),n=m(),r=m(),i=Math.sqrt(1-e),s=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=s*Math.sin(2*Math.PI*r),t[3]=s*Math.cos(2*Math.PI*r),t}function Gr(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n*n+r*r+i*i+s*s,o=a?1/a:0;return t[0]=-n*o,t[1]=-r*o,t[2]=-i*o,t[3]=s*o,t}function kr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function zr(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var s=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*s+s]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*s+a]-e[3*a+s])*n,t[s]=(e[3*s+i]+e[3*i+s])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function Hr(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var s=Math.sin(e),a=Math.cos(e),o=Math.sin(n),u=Math.cos(n),h=Math.sin(r),c=Math.cos(r);return t[0]=s*u*c-a*o*h,t[1]=a*o*c+s*u*h,t[2]=a*u*h-s*o*c,t[3]=a*u*c+s*o*h,t}function Yr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var jr,Wr,qr,Zr,Kr,Qr,$r=Vn,Jr=Gn,ti=kn,ei=zn,ni=Hn,ri=Nr,ii=Jn,si=ur,ai=cr,oi=rr,ui=oi,hi=ir,ci=hi,li=or,fi=mr,_i=Er,di=(jr=ze(),Wr=je(1,0,0),qr=je(0,1,0),function(t,e,n){var r=_n(e,n);return r<-.999999?(dn(jr,Wr,e),Un(jr)<1e-6&&dn(jr,qr,e),fn(jr,jr),Sr(t,jr,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(dn(jr,e,n),t[0]=jr[0],t[1]=jr[1],t[2]=jr[2],t[3]=1+r,li(t,t))}),pi=(Zr=yr(),Kr=yr(),function(t,e,n,r,i,s){return Xr(Zr,e,i,s),Xr(Kr,n,r,s),Xr(t,Zr,Kr,2*s*(1-s)),t}),mi=(Qr=Tt(),function(t,e,n,r){return Qr[0]=n[0],Qr[3]=n[1],Qr[6]=n[2],Qr[1]=r[0],Qr[4]=r[1],Qr[7]=r[2],Qr[2]=-e[0],Qr[5]=-e[1],Qr[8]=-e[2],li(t,zr(t,Qr))});function Ei(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function Ti(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function vi(t,e,n,r,i,s,a,o){var u=new p(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=s,u[6]=a,u[7]=o,u}function gi(t,e,n,r,i,s,a){var o=new p(8);o[0]=t,o[1]=e,o[2]=n,o[3]=r;var u=.5*i,h=.5*s,c=.5*a;return o[4]=u*r+h*n-c*e,o[5]=h*r+c*t-u*n,o[6]=c*r+u*e-h*t,o[7]=-u*t-h*e-c*n,o}function xi(t,e,n){var r=.5*n[0],i=.5*n[1],s=.5*n[2],a=e[0],o=e[1],u=e[2],h=e[3];return t[0]=a,t[1]=o,t[2]=u,t[3]=h,t[4]=r*h+i*u-s*o,t[5]=i*h+s*a-r*u,t[6]=s*h+r*o-i*a,t[7]=-r*a-i*o-s*u,t}function Ri(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Ai(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Mi(t,e){var n=yr();Ae(n,e);var r=new p(3);return xe(r,e),xi(t,n,r),t}function bi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function yi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function wi(t,e,n,r,i,s,a,o,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t[6]=o,t[7]=u,t}var Si=ti;function Li(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Ii=ti;function Ni(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Ci(t,e){var n=e[4],r=e[5],i=e[6],s=e[7],a=-e[0],o=-e[1],u=-e[2],h=e[3];return t[0]=2*(n*h+s*a+r*u-i*o),t[1]=2*(r*h+s*o+i*a-n*u),t[2]=2*(i*h+s*u+n*o-r*a),t}function Pi(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=.5*n[0],u=.5*n[1],h=.5*n[2],c=e[4],l=e[5],f=e[6],_=e[7];return t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=a*o+i*h-s*u+c,t[5]=a*u+s*o-r*h+l,t[6]=a*h+r*u-i*o+f,t[7]=-r*o-i*u-s*h+_,t}function Fi(t,e,n){var r=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=o*a+c*r+u*s-h*i,f=u*a+c*i+h*r-o*s,_=h*a+c*s+o*i-u*r,d=c*a-o*r-u*i-h*s;return Cr(t,e,n),r=t[0],i=t[1],s=t[2],a=t[3],t[4]=l*a+d*r+f*s-_*i,t[5]=f*a+d*i+_*r-l*s,t[6]=_*a+d*s+l*i-f*r,t[7]=d*a-l*r-f*i-_*s,t}function Oi(t,e,n){var r=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=o*a+c*r+u*s-h*i,f=u*a+c*i+h*r-o*s,_=h*a+c*s+o*i-u*r,d=c*a-o*r-u*i-h*s;return Pr(t,e,n),r=t[0],i=t[1],s=t[2],a=t[3],t[4]=l*a+d*r+f*s-_*i,t[5]=f*a+d*i+_*r-l*s,t[6]=_*a+d*s+l*i-f*r,t[7]=d*a-l*r-f*i-_*s,t}function Ui(t,e,n){var r=-e[0],i=-e[1],s=-e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=o*a+c*r+u*s-h*i,f=u*a+c*i+h*r-o*s,_=h*a+c*s+o*i-u*r,d=c*a-o*r-u*i-h*s;return Fr(t,e,n),r=t[0],i=t[1],s=t[2],a=t[3],t[4]=l*a+d*r+f*s-_*i,t[5]=f*a+d*i+_*r-l*s,t[6]=_*a+d*s+l*i-f*r,t[7]=d*a-l*r-f*i-_*s,t}function Di(t,e,n){var r=n[0],i=n[1],s=n[2],a=n[3],o=e[0],u=e[1],h=e[2],c=e[3];return t[0]=o*a+c*r+u*s-h*i,t[1]=u*a+c*i+h*r-o*s,t[2]=h*a+c*s+o*i-u*r,t[3]=c*a-o*r-u*i-h*s,o=e[4],u=e[5],h=e[6],c=e[7],t[4]=o*a+c*r+u*s-h*i,t[5]=u*a+c*i+h*r-o*s,t[6]=h*a+c*s+o*i-u*r,t[7]=c*a-o*r-u*i-h*s,t}function Bi(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*c+a*o+i*h-s*u,t[1]=i*c+a*u+s*o-r*h,t[2]=s*c+a*h+r*u-i*o,t[3]=a*c-r*o-i*u-s*h,o=n[4],u=n[5],h=n[6],c=n[7],t[4]=r*c+a*o+i*h-s*u,t[5]=i*c+a*u+s*o-r*h,t[6]=s*c+a*h+r*u-i*o,t[7]=a*c-r*o-i*u-s*h,t}function Xi(t,e,n,r){if(Math.abs(r)<d)return bi(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var s=Math.sin(r),a=s*n[0]/i,o=s*n[1]/i,u=s*n[2]/i,h=Math.cos(r),c=e[0],l=e[1],f=e[2],_=e[3];t[0]=c*h+_*a+l*u-f*o,t[1]=l*h+_*o+f*a-c*u,t[2]=f*h+_*u+c*o-l*a,t[3]=_*h-c*a-l*o-f*u;var p=e[4],m=e[5],E=e[6],T=e[7];return t[4]=p*h+T*a+m*u-E*o,t[5]=m*h+T*o+E*a-p*u,t[6]=E*h+T*u+p*o-m*a,t[7]=T*h-p*a-m*o-E*u,t}function Vi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Gi(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=n[4],u=n[5],h=n[6],c=n[7],l=e[4],f=e[5],_=e[6],d=e[7],p=n[0],m=n[1],E=n[2],T=n[3];return t[0]=r*T+a*p+i*E-s*m,t[1]=i*T+a*m+s*p-r*E,t[2]=s*T+a*E+r*m-i*p,t[3]=a*T-r*p-i*m-s*E,t[4]=r*c+a*o+i*h-s*u+l*T+d*p+f*E-_*m,t[5]=i*c+a*u+s*o-r*h+f*T+d*m+_*p-l*E,t[6]=s*c+a*h+r*u-i*o+_*T+d*E+l*m-f*p,t[7]=a*c-r*o-i*u-s*h+d*T-l*p-f*m-_*E,t}var ki=Gi;function zi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Hi=si;function Yi(t,e,n,r){var i=1-r;return Hi(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function ji(t,e){var n=Ki(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Wi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var qi=oi,Zi=qi,Ki=hi,Qi=Ki;function $i(t,e){var n=Ki(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,s=e[2]/n,a=e[3]/n,o=e[4],u=e[5],h=e[6],c=e[7],l=r*o+i*u+s*h+a*c;t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=(o-r*l)/n,t[5]=(u-i*l)/n,t[6]=(h-s*l)/n,t[7]=(c-a*l)/n}return t}function Ji(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function ts(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function es(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],u=t[6],h=t[7],c=e[0],l=e[1],f=e[2],_=e[3],p=e[4],m=e[5],E=e[6],T=e[7];return Math.abs(n-c)<=d*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-_)<=d*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-m)<=d*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-E)<=d*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(h-T)<=d*Math.max(1,Math.abs(h),Math.abs(T))}function ns(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function rs(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function is(t,e){var n=new p(2);return n[0]=t,n[1]=e,n}function ss(t,e){return t[0]=e[0],t[1]=e[1],t}function as(t,e,n){return t[0]=e,t[1]=n,t}function os(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function us(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function hs(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function cs(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function ls(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function fs(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function _s(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ds(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ps(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ms(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Es(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function Ts(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function vs(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function gs(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function xs(t){var e=t[0],n=t[1];return e*e+n*n}function Rs(t,e){return t[0]=-e[0],t[1]=-e[1],t}function As(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Ms(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function bs(t,e){return t[0]*e[0]+t[1]*e[1]}function ys(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function ws(t,e,n,r){var i=e[0],s=e[1];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t}function Ss(t,e){e=e||1;var n=2*m()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Ls(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Is(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Ns(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Cs(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Ps(t,e,n,r){var i=e[0]-n[0],s=e[1]-n[1],a=Math.sin(r),o=Math.cos(r);return t[0]=i*o-s*a+n[0],t[1]=i*a+s*o+n[1],t}function Fs(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+s*s),o=a&&(n*i+r*s)/a;return Math.acos(Math.min(Math.max(o,-1),1))}function Os(t){return t[0]=0,t[1]=0,t}function Us(t){return"vec2("+t[0]+", "+t[1]+")"}function Ds(t,e){return t[0]===e[0]&&t[1]===e[1]}function Bs(t,e){var n=t[0],r=t[1],i=e[0],s=e[1];return Math.abs(n-i)<=d*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-s)<=d*Math.max(1,Math.abs(r),Math.abs(s))}var Xs=gs,Vs=us,Gs=hs,ks=cs,zs=Ts,Hs=vs,Ys=xs,js=function(){var t=ns();return function(e,n,r,i,s,a){var o,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,o=r;o<u;o+=n)t[0]=e[o],t[1]=e[o+1],s(t,t,a),e[o]=t[0],e[o+1]=t[1];return e}}(),Ws=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","OES_vertex_array_object","ANGLE_instanced_arrays","WEBGL_draw_buffers"],qs=n(1),Zs=n.n(qs);var Ks=function(){for(const t in Zs.a)aa[t]||(aa[t]=Zs.a[t])};function Qs(t,e){const n=t.getExtension(e);if(!n)return!1;const r=e.split("_")[0],i=new RegExp(r+"$");for(const e in n){if("function"==typeof n[e]){const r=e.replace(i,"");e.substring&&(t[r]=n[e].bind(n))}}return!0}var $s=function(t,e,n){return void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[n]&&(e.cacheAttribLoc[n]=t.getAttribLocation(e,n)),e.cacheAttribLoc[n]};let Js,ta=!1;var ea=function(){return ta||(Js=aa.webgl2||aa.getExtension("OES_texture_float")?aa.gl.FLOAT:(console.warn("USING FLOAT BUT OES_texture_float NOT SUPPORTED"),aa.gl.UNSIGNED_BYTE)),Js};let na,ra=!1;var ia=function(){return ra||(na=function(){if(aa.webgl2)return aa.gl.HALF_FLOAT;{const t=aa.getExtension("OES_texture_half_float");return t?t.HALF_FLOAT_OES:(console.warn("USING HALF FLOAT BUT OES_texture_half_float NOT SUPPORTED"),aa.gl.UNSIGNED_BYTE)}}()),na};let sa;var aa=new class{constructor(){this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=o.create(),this._normalMatrix=a.create(),this._inverseModelViewMatrix=a.create(),this._modelMatrix=o.create(),this._matrix=o.create(),this._matrixStacks=[],this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance=!1,this._extArrayInstance=!1,this._hasCheckedExt=!1,o.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}init(t,e={}){if(null==t)return void console.error("Canvas not exist");let n;void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=t,this.setSize(window.innerWidth,window.innerHeight),e.useWebgl2=e.useWebgl2||!1,e.useWebgl2?(n=this.canvas.getContext("experimental-webgl2",e)||this.canvas.getContext("webgl2",e),n?(this._useWebGL2=!0,console.log("Using WebGL 2 : ",n)):(n=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),this._useWebGL2=!1)):(n=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),this._useWebGL2=!1),this.initWithGL(n)}initWithGL(t){this.canvas||(this.canvas=t.canvas),sa=this.gl=t,this.extensions={};for(let t=0;t<Ws.length;t++)this.extensions[Ws[t]]=sa.getExtension(Ws[t]);Ks(),Qs(sa,"OES_vertex_array_object"),Qs(sa,"ANGLE_instanced_arrays"),Qs(sa,"WEBGL_draw_buffers"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}setViewport(t,e,n,r){let i=!1;t!==this._viewport[0]&&(i=!0),e!==this._viewport[1]&&(i=!0),n!==this._viewport[2]&&(i=!0),r!==this._viewport[3]&&(i=!0),i&&(sa.viewport(t,e,n,r),this._viewport=[t,e,n,r])}scissor(t,e,n,r){this.gl.scissor(t,e,n,r)}clear(t,e,n,r){this.gl.clearColor(t,e,n,r),this.gl.clear(sa.COLOR_BUFFER_BIT|sa.DEPTH_BUFFER_BIT)}cullFace(t){this.gl.cullFace(t)}setMatrices(t){this.camera=t,this.rotate(this.identityMatrix)}useShader(t){this.shader=t,this.shaderProgram=this.shader.shaderProgram}rotate(t){o.copy(this._modelMatrix,t),o.multiply(this._matrix,this.camera.matrix,this._modelMatrix),a.fromMat4(this._normalMatrix,this._matrix),a.invert(this._normalMatrix,this._normalMatrix),a.transpose(this._normalMatrix,this._normalMatrix),a.fromMat4(this._inverseModelViewMatrix,this._matrix),a.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}draw(t,e){const n=this.gl;if(t.length){for(let e=0;e<t.length;e++)this.draw(t[e]);return}t.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);let r=t.drawType;void 0!==e&&(r=e),t.isInstanced?n.drawElementsInstanced(t.drawType,t.iBuffer.numItems,n.UNSIGNED_SHORT,0,t.numInstance):r===n.POINTS?n.drawArrays(r,0,t.vertexSize):n.drawElements(r,t.iBuffer.numItems,n.UNSIGNED_SHORT,0),t.unbind()}drawTransformFeedback(t){const e=this.gl,{meshSource:n,meshDestination:r,numPoints:i,transformFeedback:s}=t;n.bind(this.shaderProgram),r.generateBuffers(this.shaderProgram),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,s),r.attributes.forEach((t,n)=>{e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n,t.buffer)}),e.enable(e.RASTERIZER_DISCARD),e.beginTransformFeedback(e.POINTS),e.drawArrays(e.POINTS,0,i),e.endTransformFeedback(),e.disable(e.RASTERIZER_DISCARD),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),r.attributes.forEach((t,n)=>{e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n,null)}),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),n.unbind()}setSize(t,e){const n=this.gl;this._width=t,this._height=e,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,n&&this.viewport(0,0,this._width,this._height)}showExtensions(){console.log("Extensions : ",this.extensions);for(const t in this.extensions)this.extensions[t]&&console.log(t,":",this.extensions[t])}checkExtension(t){return!!this.extensions[t]}getExtension(t){return this.extensions[t]}enableAlphaBlending(){const t=this.gl;t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)}enableAdditiveBlending(){const t=this.gl;t.blendFunc(t.ONE,t.ONE)}pushMatrix(){const t=o.clone(this._modelMatrix);this._matrixStacks.push(t)}popMatrix(){if(0==this._matrixStacks.length)return null;const t=this._matrixStacks.pop();this.rotate(t)}enable(t){this.gl.enable(t)}disable(t){this.gl.disable(t)}viewport(t,e,n,r){this.setViewport(t,e,n,r)}get FLOAT(){return ea()}get HALF_FLOAT(){return ia()}get width(){return this._width}get height(){return this._height}get aspectRatio(){return this._aspectRatio}get webgl2(){return this._useWebGL2}destroy(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(t){console.log("Error : ",t)}this.canvas=null}};var oa=class{constructor(t,e){this._mesh=t,this._shader=e}draw(){this._shader.bind(),aa.draw(this.mesh)}get mesh(){return this._mesh}get shader(){return this._shader}destroy(){this.mesh.destroy();const t=aa.gl;t.useProgram(null),t.deleteProgram(this._shader.shaderProgram)}};const ua=function(t,e){let n;return void 0!==t.buffer?n=t.buffer:(n=e.createBuffer(),t.buffer=n),n};var ha=class{constructor(t=4,e=!0){this.gl=aa.gl,this.drawType=t,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!aa.gl.createVertexArray,this._useVAO=!!this._extVAO&&e}bufferVertex(t,e=35044){return this.bufferData(t,"aVertexPosition",3,e),this.normals.length<this.vertices.length&&this.bufferNormal(t,e),this}bufferTexCoord(t,e=35044){return this.bufferData(t,"aTextureCoord",2,e),this}bufferNormal(t,e=35044){return this.bufferData(t,"aNormal",3,e),this}bufferIndex(t,e=!1){const n=this.gl;return this._drawType=e?n.DYNAMIC_DRAW:n.STATIC_DRAW,this._indices=new Uint16Array(t),this._numItems=this._indices.length,this}bufferFlattenData(t,e,n,r=35044,i=!1){const s=function(t,e){const n=[];for(let r=0;r<t.length;r+=e){const i=[];for(let n=0;n<e;n++)i.push(t[r+n]);n.push(i)}return n}(t,n);return this.bufferData(s,e,n,35044,!1),this}bufferData(t,e,n,r=35044,i=!1){let s=0;const a=r,o=[];for(n||(n=t[0].length),this._isInstanced=i||this._isInstanced,s=0;s<t.length;s++)for(let e=0;e<t[s].length;e++)o.push(t[s][e]);const u=new Float32Array(o),h=this.getAttribute(e);return h?(h.itemSize=n,h.dataArray=u,h.source=t):this._attributes.push({name:e,source:t,itemSize:n,drawType:a,dataArray:u,isInstanced:i}),this._bufferChanged.push(e),this}bufferInstance(t,e){if(!aa.gl.vertexAttribDivisor)return void console.error("Extension : ANGLE_instanced_arrays is not supported with this device !");const n=t[0].length;this._numInstance=t.length,this.bufferData(t,e,n,35044,!0)}bind(t){const e=this.gl;this.generateBuffers(t),this.hasVAO?e.bindVertexArray(this.vao):(this.attributes.forEach(t=>{e.bindBuffer(e.ARRAY_BUFFER,t.buffer);const n=t.attrPosition;e.vertexAttribPointer(n,t.itemSize,e.FLOAT,!1,0,0),t.isInstanced&&e.vertexAttribDivisor(n,1)}),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.iBuffer))}generateBuffers(t){const e=this.gl;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=e.createVertexArray()),e.bindVertexArray(this._vao),this._attributes.forEach(n=>{if(-1!==this._bufferChanged.indexOf(n.name)){const r=ua(n,this.gl);e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,n.dataArray,n.drawType);const i=$s(e,t,n.name);e.enableVertexAttribArray(i),e.vertexAttribPointer(i,n.itemSize,e.FLOAT,!1,0,0),n.attrPosition=i,n.isInstanced&&e.vertexAttribDivisor(i,1)}}),this._updateIndexBuffer(),e.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(n=>{if(-1!==this._bufferChanged.indexOf(n.name)){const r=ua(n,this.gl);e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,n.dataArray,n.drawType);const i=$s(e,t,n.name);e.enableVertexAttribArray(i),e.vertexAttribPointer(i,n.itemSize,e.FLOAT,!1,0,0),n.attrPosition=i,n.isInstanced&&e.vertexAttribDivisor(i,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}unbind(){const t=this.gl;this._useVAO&&t.bindVertexArray(null),this._attributes.forEach(e=>{e.isInstanced&&t.vertexAttribDivisor(e.attrPosition,0)})}_updateIndexBuffer(){const t=this.gl;this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.iBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}computeNormals(t=!1){this.generateFaces(),t?this._computeFaceNormals():this._computeVertexNormals()}_computeFaceNormals(){let t,e;const n=[];for(let r=0;r<this._indices.length;r+=3){t=r/3,e=this._faces[t];const i=e.normal;n[e.indices[0]]=i,n[e.indices[1]]=i,n[e.indices[2]]=i}this.bufferNormal(n)}_computeVertexNormals(){let t;const e=u.create(),n=[],{vertices:r}=this;for(let i=0;i<r.length;i++){u.set(e,0,0,0);for(let n=0;n<this._faces.length;n++)t=this._faces[n],t.indices.indexOf(i)>=0&&(e[0]+=t.normal[0],e[1]+=t.normal[1],e[2]+=t.normal[2]);u.normalize(e,e),n.push([e[0],e[1],e[2]])}this.bufferNormal(n)}generateFaces(){let t,e,n,r,i,s;u.create(),u.create(),u.create();const{vertices:a}=this;for(let o=0;o<this._indices.length;o+=3){t=this._indices[o],e=this._indices[o+1],n=this._indices[o+2],r=a[t],i=a[e],s=a[n];const u={indices:[t,e,n],vertices:[r,i,s]};this._faces.push(u)}}getAttribute(t){return this._attributes.find(e=>e.name===t)}getSource(t){const e=this.getAttribute(t);return e?e.source:[]}destroy(){const t=this.gl;this._attributes.forEach(e=>{const n=ua(e,this.gl);t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(n),e.buffer=null}),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.iBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this.iBuffer),this.hasVAO&&t.deleteVertexArray(this._vao),this.iBuffer=null,this._vao=null}get vertices(){return this.getSource("aVertexPosition")}get normals(){return this.getSource("aNormal")}get coords(){return this.getSource("aTextureCoord")}get indices(){return this._indices}get vertexSize(){return this.vertices.length}get faces(){return this._faces}get attributes(){return this._attributes}get hasVAO(){return this._hasVAO}get vao(){return this._vao}get numInstance(){return this._numInstance}get isInstanced(){return this._isInstanced}},ca="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}";n(12);const la=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},fa=t=>t.slice?t.slice(0):new Float32Array(t);const _a={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"};class da{constructor(t=ca,e="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}",n){this.gl=aa.gl,this.parameters=[],this.uniformTextures=[],this._varyings=n,t||(t=ca),e||(e=ca);const r=this._createShaderProgram(t,!0),i=this._createShaderProgram(e,!1);this._attachShaderProgram(r,i)}bind(){aa.shader!==this&&(this.gl.useProgram(this.shaderProgram),aa.useShader(this),this.uniformTextures=[])}uniform(t,e,n){if("object"==typeof t)return void this.uniformObject(t);const r=_a[e]||e;let i,s=!1,a=-1;for(let e=0;e<this.parameters.length;e++)if(i=this.parameters[e],i.name===t){s=!0,a=e;break}let o=!1;if(s?(this.shaderProgram[t]=i.uniformLoc,o=i.isNumber):(o="uniform1i"===r||"uniform1f"===r,this.shaderProgram[t]=this.gl.getUniformLocation(this.shaderProgram,t),o?this.parameters.push({name:t,type:r,value:n,uniformLoc:this.shaderProgram[t],isNumber:o}):this.parameters.push({name:t,type:r,value:fa(n),uniformLoc:this.shaderProgram[t],isNumber:o}),a=this.parameters.length-1),this.parameters[a].uniformLoc)if(-1===r.indexOf("Matrix"))if(o){(this.parameters[a].value!==n||!s)&&(this.gl[r](this.shaderProgram[t],n),this.parameters[a].value=n)}else la(this.parameters[a].value,n)&&s||(this.gl[r](this.shaderProgram[t],n),this.parameters[a].value=fa(n));else la(this.parameters[a].value,n)&&s||(this.gl[r](this.shaderProgram[t],!1,n),this.parameters[a].value=fa(n))}uniformObject(t){for(const e in t){let n=t[e];const r=da.getUniformType(n);if(n.concat&&n[0].concat){let t=[];for(let e=0;e<n.length;e++)t=t.concat(n[e]);n=t}this.uniform(e,r,n)}}_createShaderProgram(t,e){const n=this.gl,r=e?aa.VERTEX_SHADER:aa.FRAGMENT_SHADER,i=n.createShader(r);return n.shaderSource(i,t),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)?i:(console.warn("Error in Shader : ",n.getShaderInfoLog(i)),console.log((t=>{const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=`${t+1}: ${e[t]}`;return e.join("\n")})(t)),null)}_attachShaderProgram(t,e){const n=this.gl;this.shaderProgram=n.createProgram(),n.attachShader(this.shaderProgram,t),n.attachShader(this.shaderProgram,e),n.deleteShader(t),n.deleteShader(e),this._varyings&&(console.log("Transform feedback setup : ",this._varyings),n.transformFeedbackVaryings(this.shaderProgram,this._varyings,n.SEPARATE_ATTRIBS)),n.linkProgram(this.shaderProgram)}destroy(){const t=aa.gl;t.useProgram(null),t.deleteProgram(this.shaderProgram)}}da.getUniformType=function(t){const e=function(t){return 9===t.length?"uniformMatrix3fv":16===t.length?"uniformMatrix4fv":"vec"+t.length};return!!t.concat?t[0].concat?e(t[0]):e(t):"float"};var pa=da;var ma=class extends oa{constructor(){const t=[],e=[],n=9999;t.push([-n,0,0]),t.push([n,0,0]),t.push([0,-n,0]),t.push([0,n,0]),t.push([0,0,-n]),t.push([0,0,n]),e.push([1,0,0]),e.push([1,0,0]),e.push([0,1,0]),e.push([0,1,0]),e.push([0,0,1]),e.push([0,0,1]);const r=new ha(aa.LINES);r.bufferVertex(t),r.bufferIndex([0,1,2,3,4,5]),r.bufferData(e,"aColor",3),super(r,new pa("// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n    vNormal = aNormal;\n}","// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\t// vec3 color = vNormal;\n\tvec3 color = vColor + vNormal * 0.0001;\n    gl_FragColor = vec4(color, 1.0);\n}"))}};const Ea={};let Ta;Ea.plane=function(t,e,n,r="xy",i=4){const s=[],a=[],o=[],u=[],h=t/n,c=e/n,l=1/n,f=.5*-t,_=.5*-e;let d=0;for(let t=0;t<n;t++)for(let e=0;e<n;e++){const i=h*t+f,p=c*e+_,m=t/n,E=e/n;"xz"===r?(s.push([i,0,p+c]),s.push([i+h,0,p+c]),s.push([i+h,0,p]),s.push([i,0,p]),a.push([m,1-(E+l)]),a.push([m+l,1-(E+l)]),a.push([m+l,1-E]),a.push([m,1-E]),u.push([0,1,0]),u.push([0,1,0]),u.push([0,1,0]),u.push([0,1,0])):"yz"===r?(s.push([0,p,i]),s.push([0,p,i+h]),s.push([0,p+c,i+h]),s.push([0,p+c,i]),a.push([m,E]),a.push([m+l,E]),a.push([m+l,E+l]),a.push([m,E+l]),u.push([1,0,0]),u.push([1,0,0]),u.push([1,0,0]),u.push([1,0,0])):(s.push([i,p,0]),s.push([i+h,p,0]),s.push([i+h,p+c,0]),s.push([i,p+c,0]),a.push([m,E]),a.push([m+l,E]),a.push([m+l,E+l]),a.push([m,E+l]),u.push([0,0,1]),u.push([0,0,1]),u.push([0,0,1]),u.push([0,0,1])),o.push(4*d+0),o.push(4*d+1),o.push(4*d+2),o.push(4*d+0),o.push(4*d+2),o.push(4*d+3),d++}const p=new ha(i);return p.bufferVertex(s),p.bufferTexCoord(a),p.bufferIndex(o),p.bufferNormal(u),p},Ea.sphere=function(t,e,n=!1,r=4){const i=[],s=[],a=[],o=[],u=1/e;let h=0;function c(n,r,i=!1){const s=n/e*Math.PI-.5*Math.PI,a=r/e*Math.PI*2,o=i?1:t,u=[];u[1]=Math.sin(s)*o;const h=Math.cos(s)*o;u[0]=Math.cos(a)*h,u[2]=Math.sin(a)*h;return u[0]=Math.floor(1e4*u[0])/1e4,u[1]=Math.floor(1e4*u[1])/1e4,u[2]=Math.floor(1e4*u[2])/1e4,u}for(let t=0;t<e;t++)for(let n=0;n<e;n++){i.push(c(t,n)),i.push(c(t+1,n)),i.push(c(t+1,n+1)),i.push(c(t,n+1)),o.push(c(t,n,!0)),o.push(c(t+1,n,!0)),o.push(c(t+1,n+1,!0)),o.push(c(t,n+1,!0));const r=n/e,l=t/e;s.push([1-r,l]),s.push([1-r,l+u]),s.push([1-r-u,l+u]),s.push([1-r-u,l]),a.push(4*h+0),a.push(4*h+1),a.push(4*h+2),a.push(4*h+0),a.push(4*h+2),a.push(4*h+3),h++}n&&a.reverse();const l=new ha(r);return l.bufferVertex(i),l.bufferTexCoord(s),l.bufferIndex(a),l.bufferNormal(o),l},Ea.cube=function(t,e,n,r=4){const i=t/2,s=(e=e||t)/2,a=(n=n||t)/2,o=[],u=[],h=[],c=[];let l=0;o.push([-i,s,-a]),o.push([i,s,-a]),o.push([i,-s,-a]),o.push([-i,-s,-a]),c.push([0,0,-1]),c.push([0,0,-1]),c.push([0,0,-1]),c.push([0,0,-1]),u.push([0,0]),u.push([1,0]),u.push([1,1]),u.push([0,1]),h.push(4*l+0),h.push(4*l+1),h.push(4*l+2),h.push(4*l+0),h.push(4*l+2),h.push(4*l+3),l++,o.push([i,s,-a]),o.push([i,s,a]),o.push([i,-s,a]),o.push([i,-s,-a]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0]),u.push([0,0]),u.push([1,0]),u.push([1,1]),u.push([0,1]),h.push(4*l+0),h.push(4*l+1),h.push(4*l+2),h.push(4*l+0),h.push(4*l+2),h.push(4*l+3),l++,o.push([i,s,a]),o.push([-i,s,a]),o.push([-i,-s,a]),o.push([i,-s,a]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]),u.push([0,0]),u.push([1,0]),u.push([1,1]),u.push([0,1]),h.push(4*l+0),h.push(4*l+1),h.push(4*l+2),h.push(4*l+0),h.push(4*l+2),h.push(4*l+3),l++,o.push([-i,s,a]),o.push([-i,s,-a]),o.push([-i,-s,-a]),o.push([-i,-s,a]),c.push([-1,0,0]),c.push([-1,0,0]),c.push([-1,0,0]),c.push([-1,0,0]),u.push([0,0]),u.push([1,0]),u.push([1,1]),u.push([0,1]),h.push(4*l+0),h.push(4*l+1),h.push(4*l+2),h.push(4*l+0),h.push(4*l+2),h.push(4*l+3),l++,o.push([i,s,-a]),o.push([-i,s,-a]),o.push([-i,s,a]),o.push([i,s,a]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0]),u.push([0,0]),u.push([1,0]),u.push([1,1]),u.push([0,1]),h.push(4*l+0),h.push(4*l+1),h.push(4*l+2),h.push(4*l+0),h.push(4*l+2),h.push(4*l+3),l++,o.push([i,-s,a]),o.push([-i,-s,a]),o.push([-i,-s,-a]),o.push([i,-s,-a]),c.push([0,-1,0]),c.push([0,-1,0]),c.push([0,-1,0]),c.push([0,-1,0]),u.push([0,0]),u.push([1,0]),u.push([1,1]),u.push([0,1]),h.push(4*l+0),h.push(4*l+1),h.push(4*l+2),h.push(4*l+0),h.push(4*l+2),h.push(4*l+3),l++;const f=new ha(r);return f.bufferVertex(o),f.bufferTexCoord(u),f.bufferIndex(h),f.bufferNormal(c),f},Ea.skybox=function(t,e=4){const n=[],r=[],i=[],s=[];let a=0;n.push([t,t,-t]),n.push([-t,t,-t]),n.push([-t,-t,-t]),n.push([t,-t,-t]),s.push([0,0,-1]),s.push([0,0,-1]),s.push([0,0,-1]),s.push([0,0,-1]),r.push([0,0]),r.push([1,0]),r.push([1,1]),r.push([0,1]),i.push(4*a+0),i.push(4*a+1),i.push(4*a+2),i.push(4*a+0),i.push(4*a+2),i.push(4*a+3),a++,n.push([t,-t,-t]),n.push([t,-t,t]),n.push([t,t,t]),n.push([t,t,-t]),s.push([1,0,0]),s.push([1,0,0]),s.push([1,0,0]),s.push([1,0,0]),r.push([0,0]),r.push([1,0]),r.push([1,1]),r.push([0,1]),i.push(4*a+0),i.push(4*a+1),i.push(4*a+2),i.push(4*a+0),i.push(4*a+2),i.push(4*a+3),a++,n.push([-t,t,t]),n.push([t,t,t]),n.push([t,-t,t]),n.push([-t,-t,t]),s.push([0,0,1]),s.push([0,0,1]),s.push([0,0,1]),s.push([0,0,1]),r.push([0,0]),r.push([1,0]),r.push([1,1]),r.push([0,1]),i.push(4*a+0),i.push(4*a+1),i.push(4*a+2),i.push(4*a+0),i.push(4*a+2),i.push(4*a+3),a++,n.push([-t,-t,t]),n.push([-t,-t,-t]),n.push([-t,t,-t]),n.push([-t,t,t]),s.push([-1,0,0]),s.push([-1,0,0]),s.push([-1,0,0]),s.push([-1,0,0]),r.push([0,0]),r.push([1,0]),r.push([1,1]),r.push([0,1]),i.push(4*a+0),i.push(4*a+1),i.push(4*a+2),i.push(4*a+0),i.push(4*a+2),i.push(4*a+3),a++,n.push([t,t,t]),n.push([-t,t,t]),n.push([-t,t,-t]),n.push([t,t,-t]),s.push([0,1,0]),s.push([0,1,0]),s.push([0,1,0]),s.push([0,1,0]),r.push([0,0]),r.push([1,0]),r.push([1,1]),r.push([0,1]),i.push(4*a+0),i.push(4*a+1),i.push(4*a+2),i.push(4*a+0),i.push(4*a+2),i.push(4*a+3),a++,n.push([t,-t,-t]),n.push([-t,-t,-t]),n.push([-t,-t,t]),n.push([t,-t,t]),s.push([0,-1,0]),s.push([0,-1,0]),s.push([0,-1,0]),s.push([0,-1,0]),r.push([0,0]),r.push([1,0]),r.push([1,1]),r.push([0,1]),i.push(4*a+0),i.push(4*a+1),i.push(4*a+2),i.push(4*a+0),i.push(4*a+2),i.push(4*a+3);const o=new ha(e);return o.bufferVertex(n),o.bufferTexCoord(r),o.bufferIndex(i),o.bufferNormal(s),o},Ea.bigTriangle=function(){return Ta=new ha,Ta.bufferData([[-1,-1],[-1,4],[4,-1]],"aPosition",2),Ta.bufferIndex([2,1,0]),Ta};var va=Ea,ga="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}",xa="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}";var Ra=class extends oa{constructor(){super(va.sphere(1,24),new pa(ga,xa))}draw(t=[0,0,0],e=[1,1,1],n=[1,1,1],r=1){this.shader.bind(),this.shader.uniform("position","uniform3fv",t),this.shader.uniform("scale","uniform3fv",e),this.shader.uniform("color","uniform3fv",n),this.shader.uniform("opacity","uniform1f",r),super.draw()}},Aa="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}",Ma="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}";var ba=class extends oa{constructor(){const t=va.bigTriangle(),e=new pa(Aa,Ma);super(t,e),e.bind(),e.uniform("texture","uniform1i",0)}draw(t){this.shader.bind(),t.bind(0),super.draw()}};var ya=class extends oa{constructor(){const t=[],e=[];let n=0;let r,i;for(r=-100;r<100;r+=1)for(i=-100;i<100;i+=1)t.push([r,i,0]),e.push(n),n++,t.push([r,0,i]),e.push(n),n++;const s=new ha(aa.POINTS);s.bufferVertex(t),s.bufferIndex(e),super(s,new pa("// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform vec2 viewport;\n\nvarying vec3 vNormal;\n\nconst float radius = 0.008;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\n    // gl_PointSize = 1.0;\n    vNormal = aNormal;\n\n\tfloat distOffset = viewport.y * uProjectionMatrix[1][1] * radius / gl_Position.w;\n    gl_PointSize = distOffset;\n}","// dotsPlane.frag\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n\tif(distance(gl_PointCoord, vec2(.5)) > .5) {\n\t\tdiscard;\n\t}\n    gl_FragColor = vec4(color, opacity);\n}")),this.color=[1,1,1],this.opacity=.65}draw(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),this.shader.uniform("viewport","vec2",[aa.width,aa.height]),super.draw()}};var wa=class extends oa{constructor(){const t=[];t.push([0,0,0]),t.push([0,0,0]);const e=new ha(aa.LINES);e.bufferVertex(t),e.bufferTexCoord([[0,0],[1,1]]),e.bufferIndex([0,1]),super(e,new pa(ca,xa))}draw(t,e,n=[1,1,1],r=1){this._mesh.bufferVertex([t,e]),this._shader.bind(),this._shader.uniform("color","vec3",n),this._shader.uniform("opacity","float",r),super.draw()}};var Sa=class extends oa{constructor(t=50,e=24){super(va.sphere(t,e,!0),new pa("// sky.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n    gl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}",Ma))}draw(t){this.shader.bind(),t.bind(0),super.draw()}},La="// basic.frag\n\n#define SHADER_NAME SKYBOX_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\nuniform samplerCube texture;\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\n\nvoid main(void) {\n    gl_FragColor = textureCube(texture, vVertex);\n}",Ia="// basic.vert\n\n#define SHADER_NAME SKYBOX_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\t\n\tvVertex = aVertexPosition;\n\tvNormal = aNormal;\n}";var Na=class extends oa{constructor(t=20){super(va.skybox(t),new pa(Ia,La))}draw(t){this.shader.bind(),t.bind(0),super.draw()}};var Ca=class{constructor(t=!1){this._req=new XMLHttpRequest,this._req.addEventListener("load",t=>this._onLoaded(t)),this._req.addEventListener("progress",t=>this._onProgress(t)),t&&(this._req.responseType="arraybuffer")}load(t,e){console.log("Loading : ",t),this._callback=e,this._req.open("GET",t),this._req.send()}_onLoaded(){this._callback(this._req.response)}_onProgress(){}};var Pa=class{constructor(){this._matrix=o.create(),this._quat=c.create(),this._orientation=o.create(),this._projection=o.create(),this.position=vec3.create()}lookAt(t,e,n=[0,1,0]){this._eye=vec3.clone(t),this._center=vec3.clone(e),vec3.copy(this.position,t),o.identity(this._matrix),o.lookAt(this._matrix,t,e,n)}setFromOrientation(t,e,n,r){c.set(this._quat,t,e,n,r),o.fromQuat(this._orientation,this._quat),o.translate(this._matrix,this._orientation,this.positionOffset)}setProjection(t){this._projection=o.clone(t)}setView(t){this._matrix=o.clone(t)}setFromViewProj(t,e){this.setView(t),this.setProjection(e)}get matrix(){return this._matrix}get viewMatrix(){return this._matrix}get projection(){return this._projection}get projectionMatrix(){return this._projection}get eye(){return this._eye}get center(){return this._center}};const Fa=u.create(),Oa=u.create(),Ua=u.create(),Da=u.create(),Ba=u.create(),Xa=u.create(),Va=u.create(),Ga=u.create();var ka=class{constructor(t,e){this.origin=u.clone(t),this.direction=u.clone(e)}at(t){return u.copy(Da,this.direction),u.scale(Da,Da,t),u.add(Da,Da,this.origin),Da}lookAt(t){u.sub(this.direction,t,this.origin),u.normalize(this.origin,this.origin)}closestPointToPoint(t){const e=u.create();u.sub(t,this.origin);const n=u.dot(e,this.direction);return n<0?u.clone(this.origin):(u.copy(e,this.direction),u.scale(e,e,n),u.add(e,e,this.origin),e)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=u.create();u.sub(e,t,this.origin);const n=u.dot(e,this.direction);return n<0?u.squaredDistance(this.origin,t):(u.copy(e,this.direction),u.scale(e,e,n),u.add(e,e,this.origin),u.squaredDistance(e,t))}intersectsSphere(t,e){return this.distanceToPoint(t)<=e}intersectSphere(t,e){const n=u.create();u.sub(n,t,this.origin);const r=u.dot(n,this.direction),i=u.dot(n,n)-r*r,s=e*e;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,h=r+a;return o<0&&h<0?null:o<0?this.at(h):this.at(o)}distanceToPlane(t,e){u.dot(e,this.direction)}intersectTriangle(t,e,n,r=!0){u.copy(Fa,t),u.copy(Oa,e),u.copy(Ua,n),u.sub(Ba,Oa,Fa),u.sub(Xa,Ua,Fa),u.cross(Va,Ba,Xa);let i,s=u.dot(this.direction,Va);if(s>0){if(r)return null;i=1}else{if(!(s<0))return null;i=-1,s=-s}u.sub(Ga,this.origin,Fa),u.cross(Xa,Ga,Xa);const a=i*u.dot(this.direction,Xa);if(a<0)return null;u.cross(Ba,Ba,Ga);const o=i*u.dot(this.direction,Ba);if(o<0)return null;if(a+o>s)return null;const h=-i*u.dot(Ga,Va);return h<0?null:this.at(h/s)}};const za=o.create(),Ha=u.create();var Ya=class extends Pa{constructor(t,e,n,r){super(),t&&this.setPerspective(t,e,n,r)}setPerspective(t,e,n,r){this._fov=t,this._near=n,this._far=r,this._aspectRatio=e,o.perspective(this._projection,t,e,n,r)}setAspectRatio(t){this._aspectRatio=t,o.perspective(this.projection,this._fov,t,this._near,this._far)}generateRay(t,e){const n=this.projectionMatrix,r=this.viewMatrix;return o.multiply(za,n,r),o.invert(za,za),u.transformMat4(Ha,t,za),u.sub(Ha,Ha,this.position),u.normalize(Ha,Ha),e?(e.origin=this.position,e.direction=Ha):e=new ka(this.position,Ha),e}};const ja=[[u.fromValues(0,0,0),u.fromValues(1,0,0),u.fromValues(0,-1,0)],[u.fromValues(0,0,0),u.fromValues(-1,0,0),u.fromValues(0,-1,0)],[u.fromValues(0,0,0),u.fromValues(0,1,0),u.fromValues(0,0,1)],[u.fromValues(0,0,0),u.fromValues(0,-1,0),u.fromValues(0,0,-1)],[u.fromValues(0,0,0),u.fromValues(0,0,1),u.fromValues(0,-1,0)],[u.fromValues(0,0,0),u.fromValues(0,0,-1),u.fromValues(0,-1,0)]];var Wa=class extends Ya{constructor(){super(),this.setPerspective(Math.PI/2,1,.1,1e3)}face(t){const e=ja[t];this.lookAt(e[0],e[1],e[2])}};var qa=class extends Pa{constructor(){super();const t=u.clone([0,0,5]),e=u.create(),n=u.clone([0,1,0]);this.lookAt(t,e,n),this.ortho(-1,1,1,-1)}setBoundary(t,e,n,r,i=.1,s=100){this.ortho(t,e,n,r,i,s)}ortho(t,e,n,r,i=.1,s=100){this.left=t,this.right=e,this.top=n,this.bottom=r,mat4.ortho(this._projection,t,e,r,n,i,s)}},Za=n(5),Ka=n.n(Za);let Qa;class $a{constructor(t,e={},n=!1){if(Qa=aa.gl,n)return void(this.texture=t);let r=t.length>6;t[0].mipmapCount&&(r=t[0].mipmapCount>1),this.texture=Qa.createTexture(),this.magFilter=e.magFilter||Qa.LINEAR,this.minFilter=e.minFilter||Qa.LINEAR_MIPMAP_LINEAR,this.wrapS=e.wrapS||Qa.CLAMP_TO_EDGE,this.wrapT=e.wrapT||Qa.CLAMP_TO_EDGE,r||this.minFilter!=Qa.LINEAR_MIPMAP_LINEAR||(this.minFilter=Qa.LINEAR),Qa.bindTexture(Qa.TEXTURE_CUBE_MAP,this.texture);const i=[Qa.TEXTURE_CUBE_MAP_POSITIVE_X,Qa.TEXTURE_CUBE_MAP_NEGATIVE_X,Qa.TEXTURE_CUBE_MAP_POSITIVE_Y,Qa.TEXTURE_CUBE_MAP_NEGATIVE_Y,Qa.TEXTURE_CUBE_MAP_POSITIVE_Z,Qa.TEXTURE_CUBE_MAP_NEGATIVE_Z];let s=1,a=0;if(s=t.length/6,this.numLevels=s,r)for(let e=0;e<6;e++)for(let n=0;n<s;n++)Qa.pixelStorei(Qa.UNPACK_FLIP_Y_WEBGL,!1),a=e*s+n,t[a].shape?Qa.texImage2D(i[e],n,Qa.RGBA,t[a].shape[0],t[a].shape[1],0,Qa.RGBA,Qa.FLOAT,t[a].data):Qa.texImage2D(i[e],n,Qa.RGBA,Qa.RGBA,Qa.UNSIGNED_BYTE,t[a]),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_WRAP_S,this.wrapS),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_WRAP_T,this.wrapT),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_MAG_FILTER,this.magFilter),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_MIN_FILTER,this.minFilter);else{let e=0;for(let n=0;n<6;n++)e=n*s,Qa.pixelStorei(Qa.UNPACK_FLIP_Y_WEBGL,!1),t[e].shape?Qa.texImage2D(i[n],0,Qa.RGBA,t[e].shape[0],t[e].shape[1],0,Qa.RGBA,Qa.FLOAT,t[e].data):Qa.texImage2D(i[n],0,Qa.RGBA,Qa.RGBA,Qa.UNSIGNED_BYTE,t[e]),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_WRAP_S,this.wrapS),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_WRAP_T,this.wrapT),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_MAG_FILTER,this.magFilter),Qa.texParameteri(Qa.TEXTURE_CUBE_MAP,Qa.TEXTURE_MIN_FILTER,this.minFilter);Qa.generateMipmap(Qa.TEXTURE_CUBE_MAP)}Qa.bindTexture(Qa.TEXTURE_CUBE_MAP,null)}bind(t=0){aa.shader&&(Qa.activeTexture(Qa.TEXTURE0+t),Qa.bindTexture(Qa.TEXTURE_CUBE_MAP,this.texture),Qa.uniform1i(aa.shader.uniformTextures[t],t),this._bindIndex=t)}unbind(){Qa.bindTexture(Qa.TEXTURE_CUBE_MAP,null)}}$a.parseDDS=function(t){const e=Ka()(t),{flags:n}=e,r=new Int32Array(t,0,31);let i=1;131072&n&&(i=Math.max(1,r[7]));const s=e.images.map(e=>({data:new Float32Array(t.slice(e.offset,e.offset+e.length)),shape:e.shape,mipmapCount:i}));return new $a(s)};var Ja=$a;let to;var eo=class{constructor(t,e={}){to=aa.gl,this._size=t,this.magFilter=e.magFilter||to.LINEAR,this.minFilter=e.minFilter||to.LINEAR,this.wrapS=e.wrapS||to.CLAMP_TO_EDGE,this.wrapT=e.wrapT||to.CLAMP_TO_EDGE,this._init()}_init(){this.texture=to.createTexture(),this.glTexture=new Ja(this.texture,{},!0),to.bindTexture(to.TEXTURE_CUBE_MAP,this.texture),to.texParameteri(to.TEXTURE_CUBE_MAP,to.TEXTURE_MAG_FILTER,this.magFilter),to.texParameteri(to.TEXTURE_CUBE_MAP,to.TEXTURE_MIN_FILTER,this.minFilter),to.texParameteri(to.TEXTURE_CUBE_MAP,to.TEXTURE_WRAP_S,this.wrapS),to.texParameteri(to.TEXTURE_CUBE_MAP,to.TEXTURE_WRAP_T,this.wrapT);const t=[to.TEXTURE_CUBE_MAP_POSITIVE_X,to.TEXTURE_CUBE_MAP_NEGATIVE_X,to.TEXTURE_CUBE_MAP_POSITIVE_Y,to.TEXTURE_CUBE_MAP_NEGATIVE_Y,to.TEXTURE_CUBE_MAP_POSITIVE_Z,to.TEXTURE_CUBE_MAP_NEGATIVE_Z];for(let e=0;e<t.length;e++)to.pixelStorei(to.UNPACK_FLIP_Y_WEBGL,!1),to.texImage2D(t[e],0,to.RGBA,this.width,this.height,0,to.RGBA,to.FLOAT,null);this._frameBuffers=[];for(let e=0;e<t.length;e++){const n=to.createFramebuffer();to.bindFramebuffer(to.FRAMEBUFFER,n),to.framebufferTexture2D(to.FRAMEBUFFER,to.COLOR_ATTACHMENT0,t[e],this.texture,0);const r=to.checkFramebufferStatus(to.FRAMEBUFFER);r!==to.FRAMEBUFFER_COMPLETE&&console.log("'gl.checkFramebufferStatus() returned '"+r),this._frameBuffers.push(n)}to.bindFramebuffer(to.FRAMEBUFFER,null),to.bindRenderbuffer(to.RENDERBUFFER,null),to.bindTexture(to.TEXTURE_CUBE_MAP,null)}bind(t){aa.viewport(0,0,this.width,this.height),to.bindFramebuffer(to.FRAMEBUFFER,this._frameBuffers[t])}unbind(){to.bindFramebuffer(to.FRAMEBUFFER,null),aa.viewport(0,0,aa.width,aa.height)}getTexture(){return this.glTexture}get width(){return this._size}get height(){return this._size}};var no=class{constructor(){return this._uniforms={},this._uniformTextures=[],this._fbo,this._clearColor={r:0,g:0,b:0,a:0},this}setClearColor(t=0,e=0,n=0,r=0){return this._clearColor.r=t,this._clearColor.g=e,this._clearColor.b=n,this._clearColor.a=r,this}useProgram(t,e){return this._shader=t instanceof pa?t:new pa(t,e),this}setMesh(t){return this._mesh=t,this}createMesh(t){return this._mesh=new ha(t),this}bufferVertex(t){return this._mesh||(this._mesh=new ha),this._mesh.bufferVertex(t),this}bufferTexCoord(t){return this._mesh||(this._mesh=new ha),this._mesh.bufferTexCoord(t),this}bufferNormal(t){return this._mesh||(this._mesh=new ha),this._mesh.bufferNormal(t),this}bufferIndex(t){return this._mesh||(this._mesh=new ha),this._mesh.bufferIndex(t),this}bufferInstance(t,e){return this._mesh?(this._mesh.bufferInstance(t,e),this):(console.warn("Need to create mesh first"),this)}bufferData(t,e){return this._mesh||(this._mesh=new ha),this._mesh.bufferData(t,e),this}uniform(t,e,n){return this._uniforms[t]={type:e,value:n},this}uniformTexture(t,e,n){return void 0!==n?this._uniformTextures[n]={name:t,texture:e}:this._uniformTextures.push({name:t,texture:e}),this}bindFrameBuffer(t){return this._fbo=t,this}draw(){if(this._shader&&this._mesh){if(this._fbo){const{r:t,g:e,b:n,a:r}=this._clearColor;this._fbo.bind(),aa.clear(t,e,n,r)}this._shader.bind();for(const t in this._uniforms){const e=this._uniforms[t];this._shader.uniform(t,e.type,e.value)}return this._uniformTextures.forEach((t,e)=>{void 0!==t&&(this._shader.uniform(t.name,"uniform1i",e),t.texture.bind(e))}),aa.draw(this._mesh),this._fbo&&this._fbo.unbind(),this}}get shader(){return this._shader}get framebuffer(){return this._fbo}};var ro=new class{constructor(){this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._startTime=(new Date).getTime(),this._deltaTime=0,this._internalTime=0,this._isPaused=!1,this._loop()}addEF(t,e){e=e||[];const n=this._idTable;return this._enterframeTasks[n]={func:t,params:e},this._idTable++,n}removeEF(t){return void 0!==this._enterframeTasks[t]&&(this._enterframeTasks[t]=null),-1}delay(t,e,n){const r={func:t,params:e,delay:n,time:(new Date).getTime()};this._delayTasks.push(r)}defer(t,e){const n={func:t,params:e};this._deferTasks.push(n)}next(t,e){const n={func:t,params:e};this._nextTasks.push(n)}usurp(t,e){const n={func:t,params:e};this._usurpTask.push(n)}pause(){this._isPaused=!0}advance(){this._internalTime+=1/60}resume(){this._isPaused=!1}_process(){let t,e,n,r=0;for(r=0;r<this._enterframeTasks.length;r++)t=this._enterframeTasks[r],null!=t&&t.func(t.params);for(;this._highTasks.length>0;)t=this._highTasks.pop(),t.func(t.params);let i=(new Date).getTime(),s=this._deltaTime;for(this._deltaTime=(i-this._startTime)/1e3,r=0;r<this._delayTasks.length;r++)t=this._delayTasks[r],i-t.time>t.delay&&(t.func(t.params),this._delayTasks.splice(r,1));for(i=(new Date).getTime(),this._deltaTime=(i-this._startTime)/1e3,e=1e3/60;this._deferTasks.length>0;){if(t=this._deferTasks.shift(),n=(new Date).getTime(),!(n-i<e)){this._deferTasks.unshift(t);break}t.func(t.params)}for(i=(new Date).getTime(),this._deltaTime=(i-this._startTime)/1e3,e=1e3/60;this._usurpTask.length>0;)t=this._usurpTask.shift(),n=(new Date).getTime(),n-i<e&&t.func(t.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[],this._isPaused||(this._internalTime+=this._deltaTime-s)}_loop(){this._process(),window.requestAnimationFrame(()=>this._loop())}get intervalTime(){return this._internalTime}get deltaTime(){return this._deltaTime}};var io=class{constructor(t,e=.1){this.easing=e,this._value=t,this._targetValue=t,this._efIndex=ro.addEF(()=>this._update())}_update(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}setTo(t){this._targetValue=this._value=t}add(t){this._targetValue+=t}limit(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){ro.removeEF(this._efIndex)}set value(t){this._targetValue=t}get value(){return this._value}get targetValue(){return this._targetValue}};let so=!0;try{let t=document.createEvent("CustomEvent");t=null}catch(t){so=!1}var ao=class{constructor(){this._eventListeners={}}addEventListener(t,e){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[t]||(this._eventListeners[t]=[]),this._eventListeners[t].push(e),this}on(t,e){return this.addEventListener(t,e)}removeEventListener(t,e){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});const n=this._eventListeners[t];if(void 0===n)return this;let r=n.length;for(let t=0;t<r;t++)n[t]===e&&(n.splice(t,1),t--,r--);return this}off(t,e){return this.removeEventListener(t,e)}dispatchEvent(t){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});const e=t.type;try{null===t.target&&(t.target=this),t.currentTarget=this}catch(n){const r={type:e,detail:t.detail,dispatcher:this};return this.dispatchEvent(r)}const n=this._eventListeners[e];if(null!=n){const e=this._copyArray(n),r=e.length;for(let n=0;n<r;n++){e[n].call(this,t)}}return this}dispatchCustomEvent(t,e){let n;return so?(n=document.createEvent("CustomEvent"),n.dispatcher=this,n.initCustomEvent(t,!1,!1,e)):n={type:t,detail:e,dispatcher:this},this.dispatchEvent(n)}trigger(t,e){return this.dispatchCustomEvent(t,e)}_destroy(){if(null!==this._eventListeners){for(const t in this._eventListeners)if(this._eventListeners.hasOwnProperty(t)){const e=this._eventListeners[t],n=e.length;for(let t=0;t<n;t++)e[t]=null;delete this._eventListeners[t]}this._eventListeners=null}}_copyArray(t){const e=new Array(t.length),n=e.length;for(let r=0;r<n;r++)e[r]=t[r];return e}};function oo(t){return 0!==t&&!(t&t-1)}var uo=function(t,e,n,r){if(!t.minFilter){let e=aa.LINEAR;n&&n&&oo(n)&&oo(r)&&(e=aa.NEAREST_MIPMAP_LINEAR),t.minFilter=e}return t.mipmap=void 0===t.mipmap||t.mipmap,t.magFilter=t.magFilter||aa.LINEAR,t.wrapS=t.wrapS||aa.CLAMP_TO_EDGE,t.wrapT=t.wrapT||aa.CLAMP_TO_EDGE,t.internalFormat=t.internalFormat||aa.RGBA,t.format=t.format||aa.RGBA,t.premultiplyAlpha=void 0!==t.premultiplyAlpha&&t.premultiplyAlpha,t.level=t.level||0,t},ho=n(0),co=n.n(ho);let lo,fo,_o,po;class mo{constructor(t,e={},n=0,r=0){lo=aa.gl,this._source=t,this._getDimension(t,n,r),this._sourceType=e.type||function(t){let e=aa.UNSIGNED_BYTE;t instanceof Array||t instanceof Uint8Array?e=aa.UNSIGNED_BYTE:t instanceof Float32Array?e=aa.FLOAT:t instanceof HTMLImageElement?e="image":t instanceof HTMLCanvasElement?e="canvas":t instanceof HTMLVideoElement&&(e="video");return e}(t),this._checkSource(),this._texelType=this._getTexelType(),this._isTextureReady=!0,this._params=uo(e,t,this._width,this._height),this._checkMipmap(),this._checkWrapping(),this._texture=lo.createTexture(),"video"===this._sourceType?(this._isTextureReady=!1,ro.addEF(()=>this._loop())):this._uploadTexture()}_loop(){4===this._source.readyState&&(this._isTextureReady=!0,this._uploadTexture())}_uploadTexture(){lo.bindTexture(lo.TEXTURE_2D,this._texture),lo.pixelStorei(lo.UNPACK_FLIP_Y_WEBGL,!0),this._isSourceHtmlElement()?lo.texImage2D(lo.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._texelType,this._source):lo.texImage2D(lo.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._texelType,this._source),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_MAG_FILTER,this._params.magFilter),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_MIN_FILTER,this._params.minFilter),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_WRAP_S,this._params.wrapS),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_WRAP_T,this._params.wrapT),lo.pixelStorei(lo.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._generateMipmap&&lo.generateMipmap(lo.TEXTURE_2D),lo.bindTexture(lo.TEXTURE_2D,null)}bind(t){void 0===t&&(t=0),aa.shader&&(lo.activeTexture(lo.TEXTURE0+t),this._isTextureReady?lo.bindTexture(lo.TEXTURE_2D,this._texture):lo.bindTexture(lo.TEXTURE_2D,mo.blackTexture().texture),this._bindIndex=t)}updateTexture(t){this._source=t,this._checkSource(),this._uploadTexture()}generateMipmap(){this._generateMipmap&&(lo.bindTexture(lo.TEXTURE_2D,this._texture),lo.generateMipmap(lo.TEXTURE_2D),lo.bindTexture(lo.TEXTURE_2D,null))}showParameters(){console.log("Source type : ",co.a[this._sourceType]||this._sourceType),console.log("Texel type:",co.a[this.texelType]),console.log("Dimension :",this._width,this._height);for(const t in this._params)console.log(t,co.a[this._params[t]]||this._params[t]);console.log("Mipmapping :",this._generateMipmap)}_getDimension(t,e,n){t?(this._width=t.width||t.videoWidth,this._height=t.height||t.videoWidth,this._width=this._width||e,this._height=this._height||n,this._width&&this._height||(this._width=this._height=Math.sqrt(t.length/4))):(this._width=e,this._height=n)}_checkSource(){this._source&&(this._sourceType===aa.UNSIGNED_BYTE?this._source instanceof Uint8Array||(this._source=new Uint8Array(this._source)):this._sourceType===aa.FLOAT&&(this._source instanceof Float32Array||(this._source=new Float32Array(this._source))))}_getTexelType(){return this._isSourceHtmlElement()?aa.UNSIGNED_BYTE:aa[co.a[this._sourceType]]}_checkMipmap(){this._generateMipmap=this._params.mipmap,Eo(this._width)&&Eo(this._height)||(this._generateMipmap=!1),-1===co.a[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}_checkWrapping(){this._generateMipmap||(this._params.wrapS=aa.CLAMP_TO_EDGE,this._params.wrapT=aa.CLAMP_TO_EDGE)}_isSourceHtmlElement(){return"image"===this._sourceType||"video"===this._sourceType||"canvas"===this._sourceType}get minFilter(){return this._params.minFilter}set minFilter(t){this._params.minFilter=t,this._checkMipmap(),lo.bindTexture(lo.TEXTURE_2D,this._texture),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_MIN_FILTER,this._params.minFilter),lo.bindTexture(lo.TEXTURE_2D,null),this.generateMipmap()}get magFilter(){return this._params.minFilter}set magFilter(t){this._params.magFilter=t,lo.bindTexture(lo.TEXTURE_2D,this._texture),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_MAG_FILTER,this._params.magFilter),lo.bindTexture(lo.TEXTURE_2D,null)}get wrapS(){return this._params.wrapS}set wrapS(t){this._params.wrapS=t,this._checkWrapping(),lo.bindTexture(lo.TEXTURE_2D,this._texture),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_WRAP_S,this._params.wrapS),lo.bindTexture(lo.TEXTURE_2D,null)}get wrapT(){return this._params.wrapT}set wrapT(t){this._params.wrapT=t,this._checkWrapping(),lo.bindTexture(lo.TEXTURE_2D,this._texture),lo.texParameteri(lo.TEXTURE_2D,lo.TEXTURE_WRAP_T,this._params.wrapT),lo.bindTexture(lo.TEXTURE_2D,null)}get texelType(){return this._texelType}get width(){return this._width}get height(){return this._height}get texture(){return this._texture}get isTextureReady(){return this._isTextureReady}}function Eo(t){return 0!==t&&!(t&t-1)}mo.whiteTexture=function(){if(void 0===fo){const t=document.createElement("canvas");t.width=t.height=2;const e=t.getContext("2d");e.fillStyle="#fff",e.fillRect(0,0,2,2),fo=new mo(t)}return fo},mo.greyTexture=function(){if(void 0===_o){const t=document.createElement("canvas");t.width=t.height=2;const e=t.getContext("2d");e.fillStyle="rgb(127, 127, 127)",e.fillRect(0,0,2,2),_o=new mo(t)}return _o},mo.blackTexture=function(){if(void 0===po){const t=document.createElement("canvas");t.width=t.height=2;const e=t.getContext("2d");e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,2,2),po=new mo(t)}return po};var To=mo;let vo,go,xo=!1;var Ro=class{constructor(t,e,n={},r=1){this.gl=aa.gl,vo=aa.checkExtension("WEBGL_depth_texture")||aa.webgl2,this.width=t,this.height=e,this._numTargets=r,this._multipleTargets=r>1,this._parameters=n,xo||aa.webgl2||(go=aa.getExtension("WEBGL_draw_buffers")),this._multipleTargets&&this._checkMaxNumRenderTarget(),this._init()}_init(){const t=this.gl;if(this._initTextures(),this.frameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),aa.webgl2){const e=[];for(let n=0;n<this._numTargets;n++)t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.TEXTURE_2D,this._textures[n].texture,0),e.push(t["COLOR_ATTACHMENT"+n]);t.drawBuffers(e),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(let e=0;e<this._numTargets;e++)t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,this._textures[e].texture,0);if(this._multipleTargets){const t=[];for(let e=0;e<this._numTargets;e++)t.push(go[`COLOR_ATTACHMENT${e}_WEBGL`]);go.drawBuffersWEBGL(t)}vo&&t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,this.glDepthTexture.texture,0)}const e=t.checkFramebufferStatus(t.FRAMEBUFFER);e!=t.FRAMEBUFFER_COMPLETE&&(console.error("FBOstatus",e),console.error("GL_FRAMEBUFFER_COMPLETE failed, CANNOT use Framebuffer")),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.clear()}_checkMaxNumRenderTarget(){const t=aa.gl.getParameter(go.MAX_DRAW_BUFFERS_WEBGL);this._numTargets>t&&(console.error("Over max number of draw buffers supported : ",t),this._numTargets=t)}_initTextures(){const t=this.gl;this._textures=[];for(let t=0;t<this._numTargets;t++){const t=this._createTexture();this._textures.push(t)}aa.webgl2?this.glDepthTexture=this._createTexture(t.DEPTH_COMPONENT16,t.UNSIGNED_SHORT,t.DEPTH_COMPONENT,{minFilter:aa.NEAREST,magFilter:aa.NEAREST,mipmap:!1}):this.glDepthTexture=this._createTexture(t.DEPTH_COMPONENT,t.UNSIGNED_SHORT,t.DEPTH_COMPONENT,{minFilter:aa.LINEAR})}_createTexture(t,e,n,r={}){const i=this.gl,s=Object.assign({},this._parameters);n||(n=t),s.internalFormat=t||i.RGBA,s.format=n,s.type=s.type||e||aa.UNSIGNED_BYTE,e===i.UNSIGNED_SHORT&&(s.type=e);for(const t in r)s[t]=r[t];return new To(null,s,this.width,this.height)}bind(t=!0){const e=this.gl;t&&aa.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer)}unbind(t=!0){const e=this.gl;t&&aa.viewport(0,0,aa.width,aa.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this._textures.forEach(t=>{t.generateMipmap()})}clear(t=0,e=0,n=0,r=0){this.bind(),aa.clear(t,e,n,r),this.unbind()}getTexture(t=0){return this._textures[t]}getDepthTexture(){return this.glDepthTexture}destroy(){const t=this.gl;t.deleteFramebuffer(this.framebuffer),this._textures.forEach(e=>{t.deleteTexture(e._texture)}),t.deleteTexture(this.glDepthTexture._texture)}get texture(){return this._textures[0]}get depthTexture(){return this.glDepthTexture}get minFilter(){return this._textures[0].minFilter}set minFilter(t){this._textures.forEach(e=>{e.minFilter=t})}get magFilter(){return this._textures[0].magFilter}set magFilter(t){this._textures.forEach(e=>{e.magFilter=t})}get wrapS(){return this._textures[0].wrapS}set wrapS(t){this._textures.forEach(e=>{e.wrapS=t})}get wrapT(){return this._textures[0].wrapT}set wrapT(t){this._textures.forEach(e=>{e.wrapT=t})}showParameters(){this._textures[0].showParameters()}get numTargets(){return this._numTargets}};var Ao=class{constructor(t,e,n,r={},i=1){this._fbos=[];for(let s=0;s<t;s++){const t=new Ro(e,n,r,i);this._fbos.push(t)}}swap(){const t=this._fbos.shift();this._fbos.push(t)}get read(){return this._fbos[this._fbos.length-1]}get write(){return this._fbos[0]}get all(){return this._fbos}};var Mo=class extends Ao{constructor(t,e,n={},r=1){super(2,t,e,n,r)}};const bo={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wo={NORMAL:"aNormal",POSITION:"aVertexPosition",TEXCOORD_0:"aTextureCoord",WEIGHTS_0:"aWeight",JOINTS_0:"aJoint",COLOR:"aColor"},So=(t,e)=>new Promise((n,r)=>{const{bufferViews:i,buffers:s}=t;i.forEach((t,n)=>{const r=e;t.data=r.slice(t.byteOffset||0,(t.byteOffset||0)+(t.byteLength||0))}),n(t)}),Lo=t=>new Promise((e,n)=>{const{meshes:r}=t;t.geometries=[],r.forEach((e,n)=>{const{primitives:r}=e,i={};r.forEach((e,n)=>{const r=Object.keys(e.attributes);let s={};if(r.forEach((n,r)=>{const a=e.attributes[n],o=t.accessors[a],u=wo[n];if(!u)return;"NORMAL"===n&&(s.HAS_NORMALS=1),n.indexOf("TEXCOORD")>-1&&(s.HAS_UV=1);const h=yo[o.type];let c=Io(t,a);c instanceof Uint32Array&&(c=new Float32Array(c)),"TEXCOORD_1"===n&&console.log(h,c),i[u]={value:c,size:h}}),null!=e.indices){const n=Io(t,e.indices,!0);i.indices={value:n,size:1}}const a=new ha;for(const t in i){const e=i[t];"indices"!==t?a.bufferFlattenData(e.value,t,e.size):a.bufferIndex(e.value)}if(t.output.meshes.push(a),e.material){console.log("gltf.output",t.output,e.material);const n=t.output.materials[e.material];a.material=n,s=objectAssign(s,a.material.defines),a.defines=s;const r=Shaders.get(ShaderLibs.gltfVert,ShaderLibs.gltfFrag,s),{emissiveFacotr:i,normalTexture:o,occlusionTexture:u,pbrMetallicRoughness:h}=n,{baseColorTexture:c,metallicRoughnessTexture:l}=h,f={uEmissiveFactor:i||[0,0,0],uBaseColor:h.baseColorFactor||[1,1,1,1],uRoughness:h.roughnessFactor||1,uMetallic:h.metallicFactor||1,uScaleDiffBaseMR:[0,0,0,0],uScaleFGDSpec:[0,0,0,0],uScaleIBLAmbient:[1,1,1,1],uLightDirection:[1,1,1],uLightColor:[1,1,1],uGamma:1};c&&(f.uColorMap=c.glTexture),l&&(f.uMetallicRoughnessMap=l.glTexture),o&&(f.uNormalScale=o.scale||1,f.uNormalMap=o.glTexture),u&&(f.uAoMap=u.glTexture,f.uOcclusionStrength=u.strength||1),r.bind(),r.uniform(f),a.material.shader=r,a.material.uniforms=f}t.geometries.push(i)})}),e(t)}),Io=(t,e,n=!1)=>{const r=t.accessors[e],i=t.bufferViews[r.bufferView].data,s=r.byteOffset||0,a=bo[r.componentType]||Float32Array;let o=yo[r.type];null==o&&n&&(o=1);let u=new a(i,s,o*r.count);const h=r.extensions&&r.extensions.WEB3D_quantized_attributes;if(h){const t=new Float32Array(o*r.count),e=h.decodeMatrix,n=new Array(o),i=new Array(o);for(let t=0;t<o;t++)n[t]=e[o*(o+1)+t],i[t]=e[t*(o+1)+t];for(let e=0;e<r.count;e++)for(let r=0;r<o;r++)t[e*o+r]=u[e*o+r]*i[r]+n[r];u=t}return u};var No={parse:(t,e)=>new Promise((n,r)=>{t.output={meshes:[],scenes:[],textures:[]},So(t,e).then(Lo).then(t=>{n(t)}).catch(t=>{console.log("Error:",t)})})};var Co=function(t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));let e=0;const n=t.length;function r(){let r="";do{const n=t[e];if(10===n){++e;break}r+=String.fromCharCode(n)}while(++e<n);return r}let i=0,s=0,a=1,o=!1;for(let t=0;t<20;t++){const t=r();let e;if(e=t.match("#\\?RADIANCE"));else if(e=t.match("FORMAT=32-bit_rle_rgbe"))o=!0;else if(e=t.match("EXPOSURE=\\s*([0-9]*[.][0-9]*)"))a=Number(e[1]);else if(e=t.match("#.*"));else if(e=t.match("-Y ([0-9]+) \\+X ([0-9]+)")){s=Number(e[1]),i=Number(e[2]);break}}if(!o)throw new Error("File is not run length encoded!");const u=new Uint8Array(i*s*4);!function(t,e,n,r,i,s){const a=new Array(4);let o,u,h,c=null;const l=new Array(2),f=t.length;function _(e){let n=0;do{e[n++]=t[r]}while(++r<f&&n<e.length);return n}function d(e,n,i){let s=0;do{e[n+s++]=t[r]}while(++r<f&&s<i);return s}function p(t,e,n,r){const i=4*r,s=d(e,n,i);if(s<i)throw new Error(`Error reading raw pixels: got ${s} bytes, expected ${i}`)}for(;s>0;){if(_(a)<a.length)throw new Error("Error reading bytes: expected "+a.length);if(2!==a[0]||2!==a[1]||0!=(128&a[2]))return e[n++]=a[0],e[n++]=a[1],e[n++]=a[2],e[n++]=a[3],void p(0,e,n,i*s-1);if(((255&a[2])<<8|255&a[3])!==i)throw new Error(`Wrong scanline width ${(255&a[2])<<8|255&a[3]}, expected ${i}`);null===c&&(c=new Array(4*i)),o=0;for(let t=0;t<4;t++)for(u=(t+1)*i;o<u;){if(_(l)<l.length)throw new Error("Error reading 2-byte buffer");if((255&l[0])>128){if(h=(255&l[0])-128,0===h||h>u-o)throw new Error("Bad scanline data");for(;h-- >0;)c[o++]=l[1]}else{if(h=255&l[0],0===h||h>u-o)throw new Error("Bad scanline data");if(c[o++]=l[1],--h>0){if(d(c,o,h)<h)throw new Error("Error reading non-run data");o+=h}}}for(let t=0;t<i;t++)e[n+0]=c[t],e[n+1]=c[t+i],e[n+2]=c[t+2*i],e[n+3]=c[t+3*i],n+=4;s--}}(t,u,0,e,i,s);const h=new Float32Array(i*s*4);for(let t=0;t<u.length;t+=4){let e=u[t+0]/255,n=u[t+1]/255,r=u[t+2]/255;const i=u[t+3],s=Math.pow(2,i-128);e*=s,n*=s,r*=s;const a=t;h[a+0]=e,h[a+1]=n,h[a+2]=r,h[a+3]=1}return{shape:[i,s],exposure:a,gamma:1,data:h}};class Po extends Ca{constructor(){super(!0)}parse(t){return Co(t)}_onLoaded(){const t=this.parse(this._req.response);this._callback&&this._callback(t)}}Po.parse=function(t){return Co(t)};var Fo=Po;function Oo(t){return 0!==t&&!(t&t-1)}let Uo,Do,Bo,Xo;class Vo{constructor(t,e=!1,n={}){if(Uo=aa.gl,e)this._texture=t;else{this._mSource=t,this._texture=Uo.createTexture(),this._isVideo="VIDEO"===t.tagName,this._premultiplyAlpha=!0,this._magFilter=n.magFilter||Uo.LINEAR,this._minFilter=n.minFilter||Uo.NEAREST_MIPMAP_LINEAR,this._wrapS=n.wrapS||Uo.MIRRORED_REPEAT,this._wrapT=n.wrapT||Uo.MIRRORED_REPEAT,(t.width||t.videoWidth)&&function(t){const e=t.width||t.videoWidth,n=t.height||t.videoHeight;return!(!e||!n)&&(Oo(e)&&Oo(n))}(t)||(this._wrapS=this._wrapT=Uo.CLAMP_TO_EDGE,this._minFilter===Uo.NEAREST_MIPMAP_LINEAR&&(this._minFilter=Uo.LINEAR)),Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.pixelStorei(Uo.UNPACK_FLIP_Y_WEBGL,!0),t.exposure?Uo.texImage2D(Uo.TEXTURE_2D,0,Uo.RGBA,t.shape[0],t.shape[1],0,Uo.RGBA,Uo.FLOAT,t.data):Uo.texImage2D(Uo.TEXTURE_2D,0,Uo.RGBA,Uo.RGBA,Uo.UNSIGNED_BYTE,t),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_MAG_FILTER,this._magFilter),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_MIN_FILTER,this._minFilter),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_WRAP_S,this._wrapS),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_WRAP_T,this._wrapT);const e=aa.getExtension("EXT_texture_filter_anisotropic");if(e){const t=Uo.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);Uo.texParameterf(Uo.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,t)}this._canGenerateMipmap()&&Uo.generateMipmap(Uo.TEXTURE_2D),Uo.bindTexture(Uo.TEXTURE_2D,null)}}generateMipmap(){this._canGenerateMipmap()&&(Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.generateMipmap(Uo.TEXTURE_2D),Uo.bindTexture(Uo.TEXTURE_2D,null))}set minFilter(t){if(t!==Uo.LINEAR&&t!==Uo.NEAREST&&t!==Uo.NEAREST_MIPMAP_LINEAR&&t!==Uo.NEAREST_MIPMAP_LINEAR&&t!==Uo.LINEAR_MIPMAP_LINEAR&&t!==Uo.NEAREST_MIPMAP_NEAREST)return this;this._minFilter=t,Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_MIN_FILTER,this._minFilter),Uo.bindTexture(Uo.TEXTURE_2D,null)}get minFilter(){return this._minFilter}set magFilter(t){if(t!==Uo.LINEAR&&t!==Uo.NEAREST)return this;this._magFilter=t,Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_MAG_FILTER,this._magFilter),Uo.bindTexture(Uo.TEXTURE_2D,null)}get magFilter(){return this._magFilter}set wrapS(t){if(t!==Uo.CLAMP_TO_EDGE&&t!==Uo.REPEAT&&t!==Uo.MIRRORED_REPEAT)return this;this._wrapS=t,Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_WRAP_S,this._wrapS),Uo.bindTexture(Uo.TEXTURE_2D,null)}get wrapS(){return this._wrapS}set wrapT(t){if(t!==Uo.CLAMP_TO_EDGE&&t!==Uo.REPEAT&&t!==Uo.MIRRORED_REPEAT)return this;this._wrapT=t,Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_WRAP_T,this._wrapT),Uo.bindTexture(Uo.TEXTURE_2D,null)}get wrapT(){return this._wrapT}set premultiplyAlpha(t){this._premultiplyAlpha=t,Uo.bindTexture(Uo.TEXTURE_2D,this._texture),console.log("premultiplyAlpha:",t),Uo.pixelStorei(Uo.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),Uo.bindTexture(Uo.TEXTURE_2D,null)}get premultiplyAlpha(){return this._premultiplyAlpha}updateTexture(t){t&&(this._mSource=t),Uo.bindTexture(Uo.TEXTURE_2D,this._texture),Uo.pixelStorei(Uo.UNPACK_FLIP_Y_WEBGL,!0),Uo.texImage2D(Uo.TEXTURE_2D,0,Uo.RGBA,Uo.RGBA,Uo.UNSIGNED_BYTE,this._mSource),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_MAG_FILTER,this._magFilter),Uo.texParameteri(Uo.TEXTURE_2D,Uo.TEXTURE_MIN_FILTER,this._minFilter),this._canGenerateMipmap()&&Uo.generateMipmap(Uo.TEXTURE_2D),Uo.bindTexture(Uo.TEXTURE_2D,null)}bind(t){void 0===t&&(t=0),aa.shader&&(Uo.activeTexture(Uo.TEXTURE0+t),Uo.bindTexture(Uo.TEXTURE_2D,this._texture),this._bindIndex=t)}_canGenerateMipmap(){return this._minFilter===Uo.LINEAR_MIPMAP_NEAREST||this._minFilter===Uo.NEAREST_MIPMAP_LINEAR||this._minFilter===Uo.LINEAR_MIPMAP_LINEAR||this._minFilter===Uo.NEAREST_MIPMAP_NEAREST}get texture(){return this._texture}}Vo.whiteTexture=function(){if(void 0===Do){const t=document.createElement("canvas");t.width=t.height=4;const e=t.getContext("2d");e.fillStyle="#fff",e.fillRect(0,0,4,4),Do=new Vo(t)}return Do},Vo.greyTexture=function(){if(void 0===Bo){const t=document.createElement("canvas");t.width=t.height=4;const e=t.getContext("2d");e.fillStyle="rgb(127, 127, 127)",e.fillRect(0,0,4,4),Bo=new Vo(t)}return Bo},Vo.blackTexture=function(){if(void 0===Xo){const t=document.createElement("canvas");t.width=t.height=4;const e=t.getContext("2d");e.fillStyle="rgb(127, 127, 127)",e.fillRect(0,0,4,4),Xo=new Vo(t)}return Xo};var Go=Vo;let ko;function zo(t){return 0!==t&&!(t&t-1)}var Ho=class{constructor(t,e,n={}){ko=aa.gl,this.width=t,this.height=e,this.magFilter=n.magFilter||ko.LINEAR,this.minFilter=n.minFilter||ko.LINEAR,this.wrapS=n.wrapS||ko.CLAMP_TO_EDGE,this.wrapT=n.wrapT||ko.CLAMP_TO_EDGE,this.useDepth=n.useDepth||!0,this.useStencil=n.useStencil||!1,this.texelType=n.type,this._numSample=n.numSample||8,zo(this.width)&&zo(this.height)||(this.wrapS=this.wrapT=ko.CLAMP_TO_EDGE,this.minFilter===ko.LINEAR_MIPMAP_NEAREST&&(this.minFilter=ko.LINEAR)),this._init()}_init(){let t=ko.UNSIGNED_BYTE;this.texelType&&(t=this.texelType),this.texelType=t,this.frameBuffer=ko.createFramebuffer(),this.frameBufferColor=ko.createFramebuffer(),this.renderBufferColor=ko.createRenderbuffer(),this.renderBufferDepth=ko.createRenderbuffer(),this.glTexture=this._createTexture(),this.glDepthTexture=this._createTexture(ko.DEPTH_COMPONENT16,ko.UNSIGNED_SHORT,ko.DEPTH_COMPONENT,!0),ko.bindRenderbuffer(ko.RENDERBUFFER,this.renderBufferColor),ko.renderbufferStorageMultisample(ko.RENDERBUFFER,this._numSample,ko.RGBA8,this.width,this.height),ko.bindRenderbuffer(ko.RENDERBUFFER,this.renderBufferDepth),ko.renderbufferStorageMultisample(ko.RENDERBUFFER,this._numSample,ko.DEPTH_COMPONENT16,this.width,this.height),ko.bindFramebuffer(ko.FRAMEBUFFER,this.frameBuffer),ko.framebufferRenderbuffer(ko.FRAMEBUFFER,ko.COLOR_ATTACHMENT0,ko.RENDERBUFFER,this.renderBufferColor),ko.framebufferRenderbuffer(ko.FRAMEBUFFER,ko.DEPTH_ATTACHMENT,ko.RENDERBUFFER,this.renderBufferDepth),ko.bindFramebuffer(ko.FRAMEBUFFER,null),ko.bindFramebuffer(ko.FRAMEBUFFER,this.frameBufferColor),ko.framebufferTexture2D(ko.FRAMEBUFFER,ko.COLOR_ATTACHMENT0,ko.TEXTURE_2D,this.glTexture.texture,0),ko.bindFramebuffer(ko.FRAMEBUFFER,null)}_createTexture(t,e,n,r=!1){void 0===t&&(t=ko.RGBA),void 0===e&&(e=this.texelType),n||(n=t);const i=ko.createTexture(),s=new Go(i,!0),a=r?aa.NEAREST:this.magFilter,o=r?aa.NEAREST:this.minFilter;return ko.bindTexture(ko.TEXTURE_2D,i),ko.texParameteri(ko.TEXTURE_2D,ko.TEXTURE_MAG_FILTER,a),ko.texParameteri(ko.TEXTURE_2D,ko.TEXTURE_MIN_FILTER,o),ko.texParameteri(ko.TEXTURE_2D,ko.TEXTURE_WRAP_S,this.wrapS),ko.texParameteri(ko.TEXTURE_2D,ko.TEXTURE_WRAP_T,this.wrapT),ko.texImage2D(ko.TEXTURE_2D,0,t,this.width,this.height,0,n,e,null),ko.bindTexture(ko.TEXTURE_2D,null),s}bind(t=!0){t&&aa.viewport(0,0,this.width,this.height),ko.bindFramebuffer(ko.FRAMEBUFFER,this.frameBuffer)}unbind(t=!0){t&&aa.viewport(0,0,aa.width,aa.height);const{width:e,height:n}=this;ko.bindFramebuffer(ko.FRAMEBUFFER,null),ko.bindFramebuffer(ko.READ_FRAMEBUFFER,this.frameBuffer),ko.bindFramebuffer(ko.DRAW_FRAMEBUFFER,this.frameBufferColor),ko.clearBufferfv(ko.COLOR,0,[0,0,0,0]),ko.blitFramebuffer(0,0,e,n,0,0,e,n,ko.COLOR_BUFFER_BIT,aa.NEAREST),ko.bindFramebuffer(ko.FRAMEBUFFER,null)}getTexture(t=0){return this.glTexture}getDepthTexture(){return this.glDepthTexture}};class Yo extends Ca{load(t,e,n=4){this._drawType=n,super.load(t,e)}_onLoaded(){this.parseObj(this._req.response)}parseObj(t){const e=t.split("\n"),n=[],r=[],i=[],s=[],a=[],o=[],u=[];let h,c=0;const l=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,_=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,d=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,p=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,m=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,E=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/;function T(t){const e=parseInt(t);return 3*(e>=0?e-1:e+s.length/3)}function v(t){const e=parseInt(t);return 3*(e>=0?e-1:e+a.length/3)}function g(t){const e=parseInt(t);return 2*(e>=0?e-1:e+o.length/2)}function x(t,e,r){n.push([s[t],s[t+1],s[t+2]]),n.push([s[e],s[e+1],s[e+2]]),n.push([s[r],s[r+1],s[r+2]]),u.push(3*c+0),u.push(3*c+1),u.push(3*c+2),c++}function R(t,e,n){r.push([o[t],o[t+1]]),r.push([o[e],o[e+1]]),r.push([o[n],o[n+1]])}function A(t,e,n){i.push([a[t],a[t+1],a[t+2]]),i.push([a[e],a[e+1],a[e+2]]),i.push([a[n],a[n+1],a[n+2]])}function M(t,e,n,r,i,s,a,o,u,h,c,l){let f,_=T(t),d=T(e),p=T(n);void 0===r?x(_,d,p):(f=T(r),x(_,d,f),x(d,p,f)),void 0!==i&&(_=g(i),d=g(s),p=g(a),void 0===r?R(_,d,p):(f=g(o),R(_,d,f),R(d,p,f))),void 0!==u&&(_=v(u),d=v(h),p=v(c),void 0===r?A(_,d,p):(f=v(l),A(_,d,f),A(d,p,f)))}for(let t=0;t<e.length;t++){let n=e[t];n=n.trim(),0!==n.length&&"#"!==n.charAt(0)&&(null!==(h=l.exec(n))?s.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):null!==(h=f.exec(n))?a.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):null!==(h=_.exec(n))?o.push(parseFloat(h[1]),parseFloat(h[2])):null!==(h=d.exec(n))?M(h[1],h[2],h[3],h[4]):null!==(h=p.exec(n))?M(h[2],h[5],h[8],h[11],h[3],h[6],h[9],h[12]):null!==(h=m.exec(n))?M(h[2],h[6],h[10],h[14],h[3],h[7],h[11],h[15],h[4],h[8],h[12],h[16]):null!==(h=E.exec(n))&&M(h[2],h[5],h[8],h[11],void 0,void 0,void 0,void 0,h[3],h[6],h[9],h[12]))}return this._generateMeshes({positions:n,coords:r,normals:i,indices:u})}_generateMeshes(t){const e=t.normals.length>0,n=t.coords.length>0;let r;if(t.positions.length>65535){const i=[];let s=0;const a={};for(a.positions=t.positions.concat(),a.coords=t.coords.concat(),a.indices=t.indices.concat(),a.normals=t.normals.concat();t.indices.length>0;){const o=Math.min(65535,t.positions.length),u=t.indices.splice(0,o),h=[],c=[],l=[];let f,_=0;for(let t=0;t<u.length;t++)u[t]>_&&(_=u[t]),f=u[t],h.push(a.positions[f]),n&&c.push(a.coords[f]),e&&l.push(a.normals[f]),u[t]-=s;s=_+1,r=new ha(this._drawType),r.bufferVertex(h),n&&r.bufferTexCoord(c),r.bufferIndex(u),e&&r.bufferNormal(l),i.push(r)}return this._callback&&this._callback(i,a),i}return r=new ha(this._drawType),r.bufferVertex(t.positions),n&&r.bufferTexCoord(t.coords),r.bufferIndex(t.indices),e&&r.bufferNormal(t.normals),this._callback&&this._callback(r,t),r}}Yo.parse=function(t){return(new Yo).parseObj(t)};var jo=Yo;const Wo=c.create();var qo=class{constructor(){this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._ax=0,this._ay=0,this._az=0,this._position=u.create(),this._scale=u.fromValues(1,1,1),this._rotation=u.create(),this._anchor=u.create(),this._anchorNegative=u.create(),this._matrix=o.create(),this._matrixParent=o.create(),this._matrixRotation=o.create(),this._matrixScale=o.create(),this._matrixTranslation=o.create(),this._matrixQuaternion=o.create(),this._quat=c.create(),this._children=[]}addChild(t){this._children.push(t)}removeChild(t){const e=this._children.indexOf(t);-1!=e?this._children.splice(e,1):console.warn("Child no exist")}_update(){this._needUpdate&&(u.set(this._scale,this._sx,this._sy,this._sz),u.set(this._rotation,this._rx,this._ry,this._rz),u.set(this._position,this._x,this._y,this._z),u.set(this._anchor,this._ax,this._ay,this._az),u.set(this._anchorNegative,-this._ax,-this._ay,-this._az),o.identity(this._matrixTranslation,this._matrixTranslation),o.identity(this._matrixScale,this._matrixScale),o.identity(this._matrixRotation,this._matrixRotation),o.translate(this._matrixRotation,this._matrixRotation,this._anchor),o.rotateX(this._matrixRotation,this._matrixRotation,this._rx),o.rotateY(this._matrixRotation,this._matrixRotation,this._ry),o.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),o.translate(this._matrixRotation,this._matrixRotation,this._anchorNegative),o.fromQuat(this._matrixQuaternion,this._quat),o.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),o.scale(this._matrixScale,this._matrixScale,this._scale),o.translate(this._matrixTranslation,this._matrixTranslation,this._position),o.mul(this._matrix,this._matrixTranslation,this._matrixRotation),o.mul(this._matrix,this._matrix,this._matrixScale),o.mul(this._matrix,this._matrixParent,this._matrix),this.updateMatrix(),this._needUpdate=!1)}setParentMatrix(t){t?o.copy(this._matrixParent,t):o.identify(this._matrixParent)}updateMatrix(t){t&&(this._needUpdate=!0,o.copy(this._matrixParent,t)),this._needUpdate&&this._children.forEach(t=>{t.updateMatrix(this._matrix)})}setRotationFromQuaternion(t){c.copy(this._quat,t),this._needUpdate=!0,ro.next(()=>this._update())}getRotationEuler(t,e="XYZ"){o.getRotation(Wo,t)}setMatrix(t,e="XYZ"){o.identity(this._matrix),o.getTranslation(this._position,t),this._x=this._position[0],this._y=this._position[1],this._z=this._position[2],o.getScaling(this._scale,t),this._sx=this._scale[0],this._sy=this._scale[1],this._sz=this._scale[2];const n=this.getRotationEuler(t,e);this._rx=n[0],this._ry=n[1],this._rz=n[2],this._needUpdate=!0}get matrix(){return this._needUpdate&&this._update(),this._matrix}get x(){return this._x}set x(t){this._needUpdate=!0,this._x=t,ro.next(()=>this._update())}get y(){return this._y}set y(t){this._needUpdate=!0,this._y=t,ro.next(()=>this._update())}get z(){return this._z}set z(t){this._needUpdate=!0,this._z=t,ro.next(()=>this._update())}get scaleX(){return this._sx}set scaleX(t){this._needUpdate=!0,this._sx=t,ro.next(()=>this._update())}get scaleY(){return this._sy}set scaleY(t){this._needUpdate=!0,this._sy=t,ro.next(()=>this._update())}get scaleZ(){return this._sz}set scaleZ(t){this._needUpdate=!0,this._sz=t,ro.next(()=>this._update())}get rotationX(){return this._rx}set rotationX(t){this._needUpdate=!0,this._rx=t,ro.next(()=>this._update())}get rotationY(){return this._ry}set rotationY(t){this._needUpdate=!0,this._ry=t,ro.next(()=>this._update())}get rotationZ(){return this._rz}set rotationZ(t){this._needUpdate=!0,this._rz=t,ro.next(()=>this._update())}get anchorX(){return this._ax}set anchorX(t){this._needUpdate=!0,this._ax=t,ro.next(()=>this._update())}get anchorY(){return this._ay}set anchorY(t){this._needUpdate=!0,this._ay=t,ro.next(()=>this._update())}get anchorZ(){return this._az}set anchorZ(t){this._needUpdate=!0,this._az=t,ro.next(()=>this._update())}get children(){return this._children}};const Zo=function(t,e){const n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n};var Ko=class{constructor(t,e=window,n=500){this.connected=!1,this._target=t,this._listenerTarget=e,this._mouse={},this._preMouse={},this.center=u.create(),this._up=u.fromValues(0,1,0),this.radius=new io(n),this.position=u.fromValues(0,0,this.radius.value),this.positionOffset=u.create(),this._rx=new io(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new io(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=t=>this._onWheel(t),this._downBind=t=>this._onDown(t),this._moveBind=t=>this._onMove(t),this._upBind=()=>this._onUp(),this._efIndex=ro.addEF(()=>this._loop())}connect(t){t&&(this._listenerTarget=t),this.disconnect(),this.connected=!0,this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}disconnect(){this.connected=!1,this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}lock(t=!0){this._isLockZoom=t,this._isLockRotation=t,this._isMouseDown=!1}lockZoom(t=!0){this._isLockZoom=t}lockRotation(t=!0){this._isLockRotation=t}inverseControl(t=!0){this._isInvert=t}_onDown(t){this._isLockRotation||(this._isMouseDown=!0,Zo(t,this._mouse),Zo(t,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}_onMove(t){if(!this._isLockRotation&&(Zo(t,this._mouse),t.touches&&t.preventDefault(),this._isMouseDown)){let t=-(this._mouse.x-this._preMouse.x);this._isInvert&&(t*=-1),this._ry.value=this._preRY-.01*t*this.sensitivity;let e=-(this._mouse.y-this._preMouse.y);this._isInvert&&(e*=-1),this._rx.value=this._preRX-.01*e*this.sensitivity}}_onUp(){this._isLockRotation||(this._isMouseDown=!1)}_onWheel(t){if(this._isLockZoom)return;const e=t.wheelDelta,n=t.detail;let r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this.radius.add(2*-r)}_loop(){this._updatePosition(),this._target&&this._updateCamera()}_updatePosition(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;const t=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*t,u.add(this.position,this.position,this.positionOffset)}getPosition(t,e,n){const r=Math.sin(t)*n,i=Math.cos(t)*n;return[Math.cos(e+.5*Math.PI)*i,r,Math.sin(e+.5*Math.PI)*i]}_updateCamera(){this._target.lookAt(this.position,this.center,this._up)}destroy(){this.disconnect(),ro.removeEF(this._efIndex)}get rx(){return this._rx}get ry(){return this._ry}};const Qo=function(t,e){const n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n};var $o=class{constructor(t,e=window,n=.1){this._target=t,this._listenerTarget=e,this.matrix=o.create(),this.m=o.create(),this._vZaxis=u.clone([0,0,0]),this._zAxis=u.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=c.create(),this.tempRotation=c.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new io(0,n),this._diffY=new io(0,n),this._listenerTarget.addEventListener("mousedown",t=>this._onDown(t)),this._listenerTarget.addEventListener("touchstart",t=>this._onDown(t)),this._listenerTarget.addEventListener("mousemove",t=>this._onMove(t)),this._listenerTarget.addEventListener("touchmove",t=>this._onMove(t)),window.addEventListener("touchend",()=>this._onUp()),window.addEventListener("mouseup",()=>this._onUp()),ro.addEF(()=>this._loop())}inverseControl(t=!0){this._isInvert=t}lock(t=!0){this._isLocked=t}setCameraPos(t,e=.1){if(this.easing=e,this._slerp>0)return;const n=c.clone(this._rotation);this._updateRotation(n),this._rotation=c.clone(n),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=c.clone(t),this._slerp=1}resetQuat(){this._rotation=c.clone([0,0,1,0]),this.tempRotation=c.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}_onDown(t){if(this._isLocked)return;const e=Qo(t),n=c.clone(this._rotation);this._updateRotation(n),this._rotation=n,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:e.x,y:e.y},e.y<this._rotateZMargin||e.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(e.x<this._rotateZMargin||e.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}_onMove(t){this._isLocked||Qo(t,this.mouse)}_onUp(){this._isLocked||(this._isMouseDown=!1)}_updateRotation(t){let e,n;if(this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue)),this._isRotateZ>0)1===this._isRotateZ?(e=-this._diffX.value*this._offset,e*=this.preMouse.y<this._rotateZMargin?-1:1,n=c.clone([0,0,Math.sin(e),Math.cos(e)]),c.multiply(n,t,n)):(e=-this._diffY.value*this._offset,e*=this.preMouse.x<this._rotateZMargin?1:-1,n=c.clone([0,0,Math.sin(e),Math.cos(e)]),c.multiply(n,t,n));else{const r=u.clone([this._diffX.value,this._diffY.value,0]),i=u.create();u.cross(i,r,this._zAxis),u.normalize(i,i),e=u.length(r)*this._offset,n=c.clone([Math.sin(e)*i[0],Math.sin(e)*i[1],Math.sin(e)*i[2],Math.cos(e)]),c.multiply(t,n,t)}}_loop(){o.identity(this.m),void 0===this._targetQuat?(c.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(c.copy(this._rotation,this._targetQuat),c.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(c.set(this.tempRotation,0,0,0,0),c.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),u.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),o.fromQuat(this.matrix,this.tempRotation)}set easing(t){this._diffX.easing=t,this._diffY.easing=t}get easing(){return this._diffX.easing}};var Jo=class{constructor(t={}){this._children=[],this._matrixIdentity=mat4.create(),aa.enableAlphaBlending(),this._init(t),this._initTextures(t),this._initViews(t),this._efIndex=ro.addEF(()=>this._loop()),this._targetListener=t.container||window,this._resize=this.resize.bind(this),window.addEventListener("resize",this._resize)}update(){}render(){}stop(){-1!==this._efIndex&&(this._efIndex=ro.removeEF(this._efIndex))}start(){-1===this._efIndex&&(this._efIndex=ro.addEF(()=>this._loop()))}resize(t,e){aa.setSize(t||window.innerWidth,e||window.innerHeight),this.camera.setAspectRatio(aa.aspectRatio)}addChild(t){this._children.push(t)}removeChild(t){const e=this._children.indexOf(t);-1!=e?this._children.splice(e,1):console.warn("Child no exist")}_initTextures(){}_initViews(){}_renderChildren(){let t;for(let e=0;e<this._children.length;e++)t=this._children[e],t.toRender();aa.rotate(this._matrixIdentity)}_init(t){this.camera=new Ya,this.camera.setPerspective(45*Math.PI/180,aa.aspectRatio,.1,100),this.orbitalControl=new Ko(this.camera,this._targetListener,15),t.noControl||this.orbitalControl.connect(),this.orbitalControl.radius.value=10,this.cameraOrtho=new qa}_loop(t){aa.viewport(0,0,aa.width,aa.height),aa.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}destroy(){this.orbitalControl.disconnect(),ro.removeEF(this._efIndex),window.removeEventListener("resize",this._resize)}};var tu={simpleColorFrag:xa,bigTriangleVert:Aa,generalVert:ga,copyFrag:Ma,basicVert:ca,skyboxVert:Ia,skyboxFrag:La};var eu=class{constructor(t,e=.1,n=.9){this._value=t,this._targetValue=t,this.speed=e,this.decreaseRate=n,this._velocity=0,this._efIndex=ro.addEF(()=>this._update())}_update(){this._checkLimit(),Math.abs(this._targetValue-this._value)<1e-4?this._value=this._targetValue:(this._velocity+=(this._targetValue-this._value)*this.speed,this._value+=this._velocity,this._velocity*=this.decreaseRate,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue))}limit(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){ro.removeEF(this._efIndex)}set value(t){this._targetValue=t}get value(){return this._value}};let nu;var ru=class{constructor(t,e){nu=aa.gl,this._vs=t,this._fs=e,this._init()}_init(){this._meshCurrent=new ha,this._meshTarget=new ha,this._numPoints=-1,this._varyings=[],this.transformFeedback=nu.createTransformFeedback()}bufferData(t,e,n){const r=!!n;console.log("is Transform feedback ?",e,r),this._meshCurrent.bufferData(t,e,null,nu.STREAM_COPY,!1),this._meshTarget.bufferData(t,e,null,nu.STREAM_COPY,!1),r&&(this._varyings.push(n),this._numPoints<0&&(this._numPoints=t.length))}bufferIndex(t){this._meshCurrent.bufferIndex(t),this._meshTarget.bufferIndex(t)}uniform(t,e,n){this.shader&&this.shader.uniform(t,e,n)}generate(){this.shader=new pa(this._vs,this._fs,this._varyings)}render(){this.shader||this.generate(),this.shader.bind(),aa.drawTransformFeedback(this),this._swap()}_swap(){const t=this._meshCurrent;this._meshCurrent=this._meshTarget,this._meshTarget=t}get numPoints(){return this._numPoints}get meshCurrent(){return this._meshCurrent}get meshTarget(){return this._meshTarget}get meshSource(){return this._meshCurrent}get meshDestination(){return this._meshTarget}};const iu={Linear:{None:t=>t},Quadratic:{In:t=>t*t,Out:t=>t*(2-t),InOut:t=>(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},Cubic:{In:t=>t*t*t,Out:t=>--t*t*t+1,InOut:t=>(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},Quartic:{In:t=>t*t*t*t,Out:t=>1- --t*t*t*t,InOut:t=>(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},Quintic:{In:t=>t*t*t*t*t,Out:t=>--t*t*t*t*t+1,InOut:t=>(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},Sinusoidal:{In:t=>1-Math.cos(t*Math.PI/2),Out:t=>Math.sin(t*Math.PI/2),InOut:t=>.5*(1-Math.cos(Math.PI*t))},Exponential:{In:t=>0===t?0:Math.pow(1024,t-1),Out:t=>1===t?1:1-Math.pow(2,-10*t),InOut:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},Circular:{In:t=>1-Math.sqrt(1-t*t),Out:t=>Math.sqrt(1- --t*t),InOut:t=>(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Elastic:{In(t){let e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},Out(t){let e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},InOut(t){let e,n=.1;const r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)}},Back:{In(t){const e=1.70158;return t*t*((e+1)*t-e)},Out(t){const e=1.70158;return--t*t*((e+1)*t+e)+1},InOut(t){const e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{in:t=>1-iu.Bounce.out(1-t),out:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,inOut:t=>t<.5?.5*iu.Bounce.in(2*t):.5*iu.Bounce.out(2*t-1)+.5}};var su=class{constructor(t,e="expOut",n=.01){this._value=t,this._startValue=t,this._targetValue=t,this._counter=1,this.speed=n,this.easing=e,this._needUpdate=!0,this._efIndex=ro.addEF(()=>this._update())}_update(){let t=this._counter+this.speed;t>1&&(t=1),this._counter!==t?(this._counter=t,this._needUpdate=!0):this._needUpdate=!1}limit(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}setTo(t){this._value=t,this._targetValue=t,this._counter=1}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){ro.removeEF(this._efIndex)}set value(t){this._startValue=this._value,this._targetValue=t,this._checkLimit(),this._counter=0}get value(){if(this._needUpdate){const t=function(t){switch(t){default:case"linear":return iu.Linear.None;case"expIn":return iu.Exponential.In;case"expOut":return iu.Exponential.Out;case"expInOut":return iu.Exponential.InOut;case"cubicIn":return iu.Cubic.In;case"cubicOut":return iu.Cubic.Out;case"cubicInOut":return iu.Cubic.InOut;case"quarticIn":return iu.Quartic.In;case"quarticOut":return iu.Quartic.Out;case"quarticInOut":return iu.Quartic.InOut;case"quinticIn":return iu.Quintic.In;case"quinticOut":return iu.Quintic.Out;case"quinticInOut":return iu.Quintic.InOut;case"sinusoidalIn":return iu.Sinusoidal.In;case"sinusoidalOut":return iu.Sinusoidal.Out;case"sinusoidalInOut":return iu.Sinusoidal.InOut;case"circularIn":return iu.Circular.In;case"circularOut":return iu.Circular.Out;case"circularInOut":return iu.Circular.InOut;case"elasticIn":return iu.Elastic.In;case"elasticOut":return iu.Elastic.Out;case"elasticInOut":return iu.Elastic.InOut;case"backIn":return iu.Back.In;case"backOut":return iu.Back.Out;case"backInOut":return iu.Back.InOut;case"bounceIn":return iu.Bounce.in;case"bounceOut":return iu.Bounce.out;case"bounceInOut":return iu.Bounce.inOut}}(this.easing)(this._counter);this._value=this._startValue+t*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}get targetValue(){return this._targetValue}};var au=class{constructor(t,e){this.shader=new pa(t,e),this._init()}_init(){}render(){}destroy(){this.shader.destroy()}};var ou=class extends qo{constructor(t,e){super(),this._children=[],this.shader=new pa(t,e),this._init()}_init(){}render(){}destroy(){this.shader.destroy()}};var uu=new class{constructor(){this.glm=_,this.GL=aa,this.GLTool=aa,this.GLShader=pa,this.GLTexture=To,this.GLCubeTexture=Ja,this.Mesh=ha,this.Geom=va,this.Batch=oa,this.FrameBuffer=Ro,this.CubeFrameBuffer=eo,this.Scheduler=ro,this.EventDispatcher=ao,this.EaseNumber=io,this.SpringNumber=eu,this.TweenNumber=su,this.Camera=Pa,this.CameraOrtho=qa,this.CameraPerspective=Ya,this.Ray=ka,this.CameraCube=Wa,this.OrbitalControl=Ko,this.QuatRotation=$o,this.BinaryLoader=Ca,this.ObjLoader=jo,this.GLTFParser=No,this.HDRLoader=Fo,this.BatchCopy=ba,this.BatchAxis=ma,this.BatchBall=Ra,this.BatchBall=Ra,this.BatchLine=wa,this.BatchSkybox=Na,this.BatchSky=Sa,this.BatchDotsPlane=ya,this.Scene=Jo,this.View=au,this.View3D=ou,this.Draw=no,this.Object3D=qo,this.ShaderLibs=tu,this.WebglNumber=co.a,this.FboArray=Ao,this.FboPingPong=Mo,this.MultisampleFrameBuffer=Ho,this.TransformFeedbackObject=ru;for(const t in _)_[t]&&window&&(window[t]=_[t])}log(){navigator.userAgent.indexOf("Chrome")>-1?console.log("%clib alfrid : VERSION 0.3.9","background: #193441; color: #FCFFF5"):console.log("lib alfrid : VERSION ","0.3.9"),console.log("%cClasses : ","color: #193441");for(const t in this)this[t]&&console.log("%c - "+t,"color: #3E606F")}};function hu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
 * GSAP 3.4.0
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lu,fu,_u,du,pu,mu,Eu,Tu,vu,gu,xu,Ru,Au,Mu,bu,yu,wu,Su,Lu,Iu,Nu,Cu,Pu,Fu,Ou,Uu={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Du={duration:.5,overwrite:!1,delay:0},Bu=1e8,Xu=2*Math.PI,Vu=Xu/4,Gu=0,ku=Math.sqrt,zu=Math.cos,Hu=Math.sin,Yu=function(t){return"string"==typeof t},ju=function(t){return"function"==typeof t},Wu=function(t){return"number"==typeof t},qu=function(t){return void 0===t},Zu=function(t){return"object"==typeof t},Ku=function(t){return!1!==t},Qu=function(){return"undefined"!=typeof window},$u=function(t){return ju(t)||Yu(t)},Ju=Array.isArray,th=/(?:-?\.?\d|\.)+/gi,eh=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,nh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,rh=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,ih=/\(([^()]+)\)/i,sh=/[+-]=-?[\.\d]+/,ah=/[#\-+.]*\b[a-z\d-=+%.]+/gi,oh={},uh={},hh=function(t){return(uh=Oh(t,oh))&&El},ch=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},lh=function(t,e){return!e&&console.warn(t)},fh=function(t,e){return t&&(oh[t]=e)&&uh&&(uh[t]=e)||oh},_h=function(){return 0},dh={},ph=[],mh={},Eh={},Th={},vh=30,gh=[],xh="",Rh=function(t){var e,n,r=t[0];if(Zu(r)||ju(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=gh.length;n--&&!gh[n].targetTest(r););e=gh[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new kc(t[n],e)))||t.splice(n,1);return t},Ah=function(t){return t._gsap||Rh(uc(t))[0]._gsap},Mh=function(t,e){var n=t[e];return ju(n)?t[e]():qu(n)&&t.getAttribute(e)||n},bh=function(t,e){return(t=t.split(",")).forEach(e)||t},yh=function(t){return Math.round(1e5*t)/1e5||0},wh=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Sh=function(t,e,n){var r,i=Wu(t[1]),s=(i?2:1)+(e<2?0:1),a=t[s];if(i&&(a.duration=t[1]),a.parent=n,e){for(r=a;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=Ku(n.vars.inherit)&&n.parent;a.immediateRender=Ku(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return a},Lh=function(){var t,e,n=ph.length,r=ph.slice(0);for(mh={},ph.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Ih=function(t,e,n,r){ph.length&&Lh(),t.render(e,n,r),ph.length&&Lh()},Nh=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(ah).length<2?e:t},Ch=function(t){return t},Ph=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Fh=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},Oh=function(t,e){for(var n in e)t[n]=e[n];return t},Uh=function t(e,n){for(var r in n)e[r]=Zu(n[r])?t(e[r]||(e[r]={}),n[r]):n[r];return e},Dh=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},Bh=function(t){var e=t.parent||lu,n=t.keyframes?Fh:Ph;if(Ku(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},Xh=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,s=e._next;i?i._next=s:t[n]===e&&(t[n]=s),s?s._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Vh=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},Gh=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},kh=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},zh=function(t){return t._repeat?Hh(t._tTime,t=t.duration()+t._rDelay)*t:0},Hh=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},Yh=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},jh=function(t){return t._end=yh(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},Wh=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=yh(t._dp._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),jh(t),n._dirty||Gh(n)),t},qh=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Yh(t.rawTime(),e),(!e._dur||rc(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Gh(t)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Zh=function(t,e,n,r){return e.parent&&Vh(e),e._start=yh(n+e._delay),e._end=yh(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,a=t[r];if(i)for(s=e[i];a&&a[i]>s;)a=a._prev;a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,r||qh(t,e),t},Kh=function(t,e){return(oh.ScrollTrigger||ch("scrollTrigger",e))&&oh.ScrollTrigger.create(e,t)},Qh=function(t,e,n,r){return Zc(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&mu!==Lc.frame?(ph.push(t),t._lazy=[e,r],1):void 0:1},$h=function(t,e,n){var r=t._repeat,i=yh(e)||0;return t._dur=i,t._tDur=r?r<0?1e10:yh(i*(r+1)+t._rDelay*r):i,t._time>i&&(t._time=i,t._tTime=Math.min(t._tTime,t._tDur)),!n&&Gh(t.parent),t.parent&&jh(t),t},Jh=function(t){return t instanceof Hc?Gh(t):$h(t,t._dur)},tc={_start:0,endTime:_h},ec=function t(e,n){var r,i,s=e.labels,a=e._recent||tc,o=e.duration()>=Bu?a.endTime(!1):e._dur;return Yu(n)&&(isNaN(n)||n in s)?"<"===(r=n.charAt(0))||">"===r?("<"===r?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in s||(s[n]=o),s[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+i:o+i):null==n?o:+n},nc=function(t,e){return t||0===t?e(t):e},rc=function(t,e,n){return n<t?t:n>e?e:n},ic=function(t){return(t+"").substr((parseFloat(t)+"").length)},sc=[].slice,ac=function(t,e){return t&&Zu(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Zu(t[0]))&&!t.nodeType&&t!==fu},oc=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return Yu(t)&&!e||ac(t,1)?(r=n).push.apply(r,uc(t)):n.push(t)}))||n},uc=function(t,e){return!Yu(t)||e||!_u&&Ic()?Ju(t)?oc(t,e):ac(t)?sc.call(t,0):t?[t]:[]:sc.call(du.querySelectorAll(t),0)},hc=function(t){return t.sort((function(){return.5-Math.random()}))},cc=function(t){if(ju(t))return t;var e=Zu(t)?t:{each:t},n=Dc(e.ease),r=e.from||0,i=parseFloat(e.base)||0,s={},a=r>0&&r<1,o=isNaN(r)||a,u=e.axis,h=r,c=r;return Yu(r)?h=c={center:.5,edges:.5,end:1}[r]||0:!a&&o&&(h=r[0],c=r[1]),function(t,a,l){var f,_,d,p,m,E,T,v,g,x=(l||e).length,R=s[x];if(!R){if(!(g="auto"===e.grid?0:(e.grid||[1,Bu])[1])){for(T=-Bu;T<(T=l[g++].getBoundingClientRect().left)&&g<x;);g--}for(R=s[x]=[],f=o?Math.min(g,x)*h-.5:r%g,_=o?x*c/g-.5:r/g|0,T=0,v=Bu,E=0;E<x;E++)d=E%g-f,p=_-(E/g|0),R[E]=m=u?Math.abs("y"===u?p:d):ku(d*d+p*p),m>T&&(T=m),m<v&&(v=m);"random"===r&&hc(R),R.max=T-v,R.min=v,R.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(g>x?x-1:u?"y"===u?x/g:g:Math.max(g,x/g))||0)*("edges"===r?-1:1),R.b=x<0?i-x:i,R.u=ic(e.amount||e.each)||0,n=n&&x<0?Oc(n):n}return x=(R[t]-R.min)/R.max||0,yh(R.b+(n?n(x):x)*R.v)+R.u}},lc=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){return Math.floor(Math.round(parseFloat(n)/t)*t*e)/e+(Wu(n)?0:ic(n))}},fc=function(t,e){var n,r,i=Ju(t);return!i&&Zu(t)&&(n=i=t.radius||Bu,t.values?(t=uc(t.values),(r=!Wu(t[0]))&&(n*=n)):t=lc(t.increment)),nc(e,i?ju(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,s,a=parseFloat(r?e.x:e),o=parseFloat(r?e.y:0),u=Bu,h=0,c=t.length;c--;)(i=r?(i=t[c].x-a)*i+(s=t[c].y-o)*s:Math.abs(t[c]-a))<u&&(u=i,h=c);return h=!n||u<=n?t[h]:e,r||h===e||Wu(e)?h:h+ic(e)}:lc(t))},_c=function(t,e,n,r){return nc(Ju(t)?!e:!0===n?!!(n=0):!r,(function(){return Ju(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t+Math.random()*(e-t))/n)*n*r)/r}))},dc=function(t,e,n){return nc(n,(function(n){return t[~~e(n)]}))},pc=function(t){for(var e,n,r,i,s=0,a="";~(e=t.indexOf("random(",s));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?ah:th),a+=t.substr(s,e-s)+_c(i?n:+n[0],+n[1],+n[2]||1e-5),s=r+1;return a+t.substr(s,t.length-s)},mc=function(t,e,n,r,i){var s=e-t,a=r-n;return nc(i,(function(e){return n+((e-t)/s*a||0)}))},Ec=function(t,e,n){var r,i,s,a=t.labels,o=Bu;for(r in a)(i=a[r]-e)<0==!!n&&i&&o>(i=Math.abs(i))&&(s=r,o=i);return s},Tc=function(t,e,n){var r,i,s=t.vars,a=s[e];if(a)return r=s[e+"Params"],i=s.callbackScope||t,n&&ph.length&&Lh(),r?a.apply(i,r):a.call(i)},vc=function(t){return Vh(t),t.progress()<1&&Tc(t,"onInterrupt"),t},gc=function(t){var e=(t=!t.name&&t.default||t).name,n=ju(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:_h,render:ul,add:Wc,kill:cl,modifier:hl,rawVars:0},s={targetTest:0,get:0,getSetter:il,aliases:{},register:0};if(Ic(),t!==r){if(Eh[e])return;Ph(r,Ph(Dh(t,i),s)),Oh(r.prototype,Oh(i,Dh(t,s))),Eh[r.prop=e]=r,t.targetTest&&(gh.push(r),dh[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}fh(e,r),t.register&&t.register(El,r,_l)},xc={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Rc=function(t,e,n){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},Ac=function(t,e,n){var r,i,s,a,o,u,h,c,l,f,_=t?Wu(t)?[t>>16,t>>8&255,255&t]:0:xc.black;if(!_){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),xc[t])_=xc[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),i=t.charAt(2),s=t.charAt(3),t="#"+r+r+i+i+s+s),_=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(_=f=t.match(th),e){if(~t.indexOf("="))return _=t.match(eh),n&&_.length<4&&(_[3]=1),_}else a=+_[0]%360/360,o=+_[1]/100,r=2*(u=+_[2]/100)-(i=u<=.5?u*(o+1):u+o-u*o),_.length>3&&(_[3]*=1),_[0]=Rc(a+1/3,r,i),_[1]=Rc(a,r,i),_[2]=Rc(a-1/3,r,i);else _=t.match(th)||xc.transparent;_=_.map(Number)}return e&&!f&&(r=_[0]/255,i=_[1]/255,s=_[2]/255,u=((h=Math.max(r,i,s))+(c=Math.min(r,i,s)))/2,h===c?a=o=0:(l=h-c,o=u>.5?l/(2-h-c):l/(h+c),a=h===r?(i-s)/l+(i<s?6:0):h===i?(s-r)/l+2:(r-i)/l+4,a*=60),_[0]=~~(a+.5),_[1]=~~(100*o+.5),_[2]=~~(100*u+.5)),n&&_.length<4&&(_[3]=1),_},Mc=function(t){var e=[],n=[],r=-1;return t.split(yc).forEach((function(t){var i=t.match(nh)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},bc=function(t,e,n){var r,i,s,a,o="",u=(t+o).match(yc),h=e?"hsla(":"rgba(",c=0;if(!u)return t;if(u=u.map((function(t){return(t=Ac(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(s=Mc(t),(r=n.c).join(o)!==s.c.join(o)))for(a=(i=t.replace(yc,"1").split(nh)).length-1;c<a;c++)o+=i[c]+(~r.indexOf(c)?u.shift()||h+"0,0,0,0)":(s.length?s:u.length?u:n).shift());if(!i)for(a=(i=t.split(yc)).length-1;c<a;c++)o+=i[c]+u[c];return o+i[a]},yc=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in xc)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),wc=/hsl[a]?\(/,Sc=function(t){var e,n=t.join(" ");if(yc.lastIndex=0,yc.test(n))return e=wc.test(n),t[1]=bc(t[1],e),t[0]=bc(t[0],e,Mc(t[1])),!0},Lc=(Au=Date.now,Mu=500,bu=33,yu=Au(),wu=yu,Lu=Su=1/240,Nu=function t(e){var n,r,i=Au()-wu,s=!0===e;i>Mu&&(yu+=i-bu),wu+=i,Ru.time=(wu-yu)/1e3,((n=Ru.time-Lu)>0||s)&&(Ru.frame++,Lu+=n+(n>=Su?.004:Su-n),r=1),s||(vu=gu(t)),r&&Iu.forEach((function(t){return t(Ru.time,i,Ru.frame,e)}))},Ru={time:0,frame:0,tick:function(){Nu(!0)},wake:function(){pu&&(!_u&&Qu()&&(fu=_u=window,du=fu.document||{},oh.gsap=El,(fu.gsapVersions||(fu.gsapVersions=[])).push(El.version),hh(uh||fu.GreenSockGlobals||!fu.gsap&&fu||{}),xu=fu.requestAnimationFrame),vu&&Ru.sleep(),gu=xu||function(t){return setTimeout(t,1e3*(Lu-Ru.time)+1|0)},Tu=1,Nu(2))},sleep:function(){(xu?fu.cancelAnimationFrame:clearTimeout)(vu),Tu=0,gu=_h},lagSmoothing:function(t,e){Mu=t||1/1e-8,bu=Math.min(e,Mu,0)},fps:function(t){Su=1/(t||240),Lu=Ru.time+Su},add:function(t){Iu.indexOf(t)<0&&Iu.push(t),Ic()},remove:function(t){var e;~(e=Iu.indexOf(t))&&Iu.splice(e,1)},_listeners:Iu=[]}),Ic=function(){return!Tu&&Lc.wake()},Nc={},Cc=/^[\d.\-M][\d.\-,\s]/,Pc=/["']/g,Fc=function(t){for(var e,n,r,i={},s=t.substr(1,t.length-3).split(":"),a=s[0],o=1,u=s.length;o<u;o++)n=s[o],e=o!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[a]=isNaN(r)?r.replace(Pc,"").trim():+r,a=n.substr(e+1).trim();return i},Oc=function(t){return function(e){return 1-t(1-e)}},Uc=function t(e,n){for(var r,i=e._first;i;)i instanceof Hc?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Dc=function(t,e){return t&&(ju(t)?t:Nc[t]||function(t){var e=(t+"").split("("),n=Nc[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Fc(e[1])]:ih.exec(t)[1].split(",").map(Nh)):Nc._CE&&Cc.test(t)?Nc._CE("",t):n}(t))||e},Bc=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,s={easeIn:e,easeOut:n,easeInOut:r};return bh(t,(function(t){for(var e in Nc[t]=oh[t]=s,Nc[i=t.toLowerCase()]=n,s)Nc[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Nc[t+"."+e]=s[e]})),s},Xc=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Vc=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),a=s/Xu*(Math.asin(1/i)||0),o=function(t){return 1===t?1:i*Math.pow(2,-10*t)*Hu((t-a)*s)+1},u="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:Xc(o);return s=Xu/s,u.config=function(n,r){return t(e,n,r)},u},Gc=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Xc(r);return i.config=function(n){return t(e,n)},i};bh("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Bc(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Nc.Linear.easeNone=Nc.none=Nc.Linear.easeIn,Bc("Elastic",Vc("in"),Vc("out"),Vc()),Cu=7.5625,Fu=1/(Pu=2.75),Bc("Bounce",(function(t){return 1-Ou(1-t)}),Ou=function(t){return t<Fu?Cu*t*t:t<.7272727272727273?Cu*Math.pow(t-1.5/Pu,2)+.75:t<.9090909090909092?Cu*(t-=2.25/Pu)*t+.9375:Cu*Math.pow(t-2.625/Pu,2)+.984375}),Bc("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Bc("Circ",(function(t){return-(ku(1-t*t)-1)})),Bc("Sine",(function(t){return 1===t?1:1-zu(t*Vu)})),Bc("Back",Gc("in"),Gc("out"),Gc()),Nc.SteppedEase=Nc.steps=oh.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*rc(0,1-1e-8,t)|0)+i)*n}}},Du.ease=Nc["quad.out"],bh("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return xh+=t+","+t+"Params,"}));var kc=function(t,e){this.id=Gu++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Mh,this.set=e?e.getSetter:il},zc=function(){function t(t,e){var n=t.parent||lu;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,$h(this,+t.duration,1),this.data=t.data,Tu||Lc.wake(),n&&Zh(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){if(!arguments.length)return this._tDur;this._dirty=0;var e=this._time/this._dur||0;return $h(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1)),this._tTime?Wh(this,e*t+zh(this)):this},e.totalTime=function(t,e){if(Ic(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Wh(this,t);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Zh(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted)&&(this._ts||(this._pTime=t),Ih(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+zh(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+zh(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Hh(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Yh(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,kh(this.totalTime(rc(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ic(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Zh(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Ku(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Yh(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t,Jh(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Jh(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(ec(this,t),Ku(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Ku(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=ju(t)?t:Ch,i=function(){var t=e.then;e.then=null,ju(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){vc(this)},t}();Ph(zc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Hc=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=Ku(e.sortChildren),r.parent&&qh(r.parent,hu(r)),e.scrollTrigger&&Kh(hu(r),e.scrollTrigger),r}cu(e,t);var n=e.prototype;return n.to=function(t,e,n){return new Jc(t,Sh(arguments,0,this),ec(this,Wu(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new Jc(t,Sh(arguments,1,this),ec(this,Wu(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,r){return new Jc(t,Sh(arguments,2,this),ec(this,Wu(e)?arguments[4]:r)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Bh(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Jc(t,e,ec(this,n),1),this},n.call=function(t,e,n){return Zh(this,Jc.delayedCall(0,t,e),ec(this,n))},n.staggerTo=function(t,e,n,r,i,s,a){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=a,n.parent=this,new Jc(t,n,ec(this,i)),this},n.staggerFrom=function(t,e,n,r,i,s,a){return n.runBackwards=1,Bh(n).immediateRender=Ku(n.immediateRender),this.staggerTo(t,e,n,r,i,s,a)},n.staggerFromTo=function(t,e,n,r,i,s,a,o){return r.startAt=n,Bh(r).immediateRender=Ku(r.immediateRender),this.staggerTo(t,e,r,i,s,a,o)},n.render=function(t,e,n){var r,i,s,a,o,u,h,c,l,f,_,d,p=this._time,m=this._dirty?this.totalDuration():this._tDur,E=this._dur,T=this!==lu&&t>m-1e-8&&t>=0?m:t<1e-8?0:t,v=this._zTime<0!=t<0&&(this._initted||!E);if(T!==this._tTime||n||v){if(p!==this._time&&E&&(T+=this._time-p,t+=this._time-p),r=T,l=this._start,u=!(c=this._ts),v&&(E||(p=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat&&(_=this._yoyo,o=E+this._rDelay,((r=yh(T%o))>E||m===T)&&(r=E),(a=~~(T/o))&&a===T/o&&(r=E,a--),f=Hh(this._tTime,o),!p&&this._tTime&&f!==a&&(f=a),_&&1&a&&(r=E-r,d=1),a!==f&&!this._lock)){var g=_&&1&f,x=g===(_&&1&a);if(a<f&&(g=!g),p=g?0:E,this._lock=1,this.render(p||(d?0:yh(a*o)),e,!E)._lock=0,!e&&this.parent&&Tc(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),p!==this._time||u!==!this._ts)return this;if(x&&(this._lock=2,p=g?E+1e-4:-1e-4,this.render(p,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Uc(this,d)}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,yh(p),yh(r)))&&(T-=r-(r=h._start)),this._tTime=T,this._time=r,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t),p||!r||e||Tc(this,"onStart"),r>=p&&t>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){h=0,s&&(T+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var R=t<0?t:r;i;){if(s=i._prev,(i._act||R<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(R-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(R-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){h=0,s&&(T+=this._zTime=R?-1e-8:1e-8);break}}i=s}}if(h&&!e&&(this.pause(),h.render(r>=p?0:-1e-8)._zTime=r>=p?1:-1,this._ts))return this._start=l,jh(this),this.render(t,e,n);this._onUpdate&&!e&&Tc(this,"onUpdate",!0),(T===m&&m>=this.totalDuration()||!T&&p)&&(l!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!E)&&(T===m&&this._ts>0||!T&&this._ts<0)&&Vh(this,1),e||t<0&&!p||!T&&!p||(Tc(this,T===m?"onComplete":"onReverseComplete",!0),this._prom&&!(T<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(Wu(e)||(e=ec(this,e)),!(t instanceof zc)){if(Ju(t))return t.forEach((function(t){return n.add(t,e)})),Gh(this);if(Yu(t))return this.addLabel(t,e);if(!ju(t))return this;t=Jc.delayedCall(0,t)}return this!==t?Zh(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-Bu);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Jc?e&&i.push(s):(n&&i.push(s),t&&i.push.apply(i,s.getChildren(!0,e,n)))),s=s._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return Yu(t)?this.removeLabel(t):ju(t)?this.killTweensOf(t):(Xh(this,t),t===this._recent&&(this._recent=this._last),Gh(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=yh(Lc.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=ec(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Jc.delayedCall(0,e||_h,n);return r.data="isPause",this._hasPause=1,Zh(this,r,ec(this,t))},n.removePause=function(t){var e=this._first;for(t=ec(this,t);e;)e._start===t&&"isPause"===e.data&&Vh(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Yc!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=uc(t),s=this._first,a=Wu(e);s;)s instanceof Jc?wh(s._targets,i)&&(a?(!Yc||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&r.push(s):(n=s.getTweensOf(i,e)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(t,e){e=e||{};var n=this,r=ec(n,t),i=e,s=i.startAt,a=i.onStart,o=i.onStartParams,u=Jc.to(n,Ph(e,{ease:"none",lazy:!1,time:r,duration:e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale())||1e-8,onStart:function(){n.pause();var t=e.duration||Math.abs((r-n._time)/n.timeScale());u._dur!==t&&$h(u,t).render(u._time,!0,!0),a&&a.apply(u,o||[])}}));return u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Ph({startAt:{time:ec(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),Ec(this,ec(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),Ec(this,ec(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=t),i=i._next;if(e)for(r in s)s[r]>=n&&(s[r]+=t);return Gh(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._time=this._tTime=this._pTime=0,t&&(this.labels={}),Gh(this)},n.totalDuration=function(t){var e,n,r,i,s=0,a=this,o=a._last,u=Bu;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(i=a.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(r=o._start)>u&&a._sort&&o._ts&&!a._lock?(a._lock=1,Zh(a,o,r-o._delay,1)._lock=0):u=r,r<0&&o._ts&&(s-=r,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-Infinity),u=0),(n=jh(o))>s&&o._ts&&(s=n),o=e;$h(a,a===lu&&a._time>s?a._time:s,1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(lu._ts&&(Ih(lu,Yh(t,lu)),mu=Lc.frame),Lc.frame>=vh){vh+=Uu.autoSleep||120;var e=lu._first;if((!e||!e._ts)&&Uu.autoSleep&&Lc._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Lc.sleep()}}},e}(zc);Ph(Hc.prototype,{_lock:0,_hasPause:0,_forcing:0});var Yc,jc=function(t,e,n,r,i,s,a){var o,u,h,c,l,f,_,d,p=new _l(this._pt,t,e,0,1,ol,null,i),m=0,E=0;for(p.b=n,p.e=r,n+="",(_=~(r+="").indexOf("random("))&&(r=pc(r)),s&&(s(d=[n,r],t,e),n=d[0],r=d[1]),u=n.match(rh)||[];o=rh.exec(r);)c=o[0],l=r.substring(m,o.index),h?h=(h+1)%5:"rgba("===l.substr(-5)&&(h=1),c!==u[E++]&&(f=parseFloat(u[E-1])||0,p._pt={_next:p._pt,p:l||1===E?l:",",s:f,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-f,m:h&&h<4?Math.round:0},m=rh.lastIndex);return p.c=m<r.length?r.substring(m,r.length):"",p.fp=a,(sh.test(r)||_)&&(p.e=0),this._pt=p,p},Wc=function(t,e,n,r,i,s,a,o,u){ju(r)&&(r=r(i||0,t,s));var h,c=t[e],l="get"!==n?n:ju(c)?u?t[e.indexOf("set")||!ju(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,f=ju(c)?u?nl:el:tl;if(Yu(r)&&(~r.indexOf("random(")&&(r=pc(r)),"="===r.charAt(1)&&(r=parseFloat(l)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(ic(l)||0))),l!==r)return isNaN(l*r)?(!c&&!(e in t)&&ch(e,r),jc.call(this,t,e,l,r,f,o||Uu.stringFilter,u)):(h=new _l(this._pt,t,e,+l||0,r-(l||0),"boolean"==typeof c?al:sl,0,f),u&&(h.fp=u),a&&h.modifier(a,this,t),this._pt=h)},qc=function(t,e,n,r,i,s){var a,o,u,h;if(Eh[t]&&!1!==(a=new Eh[t]).init(i,a.rawVars?e[t]:function(t,e,n,r,i){if(ju(t)&&(t=Kc(t,i,e,n,r)),!Zu(t)||t.style&&t.nodeType||Ju(t))return Yu(t)?Kc(t,i,e,n,r):t;var s,a={};for(s in t)a[s]=Kc(t[s],i,e,n,r);return a}(e[t],r,i,s,n),n,r,s)&&(n._pt=o=new _l(n._pt,i,t,0,1,a.render,a,0,a.priority),n!==Eu))for(u=n._ptLookup[n._targets.indexOf(i)],h=a._props.length;h--;)u[a._props[h]]=o;return a},Zc=function t(e,n){var r,i,s,a,o,u,h,c,l,f,_,d,p=e.vars,m=p.ease,E=p.startAt,T=p.immediateRender,v=p.lazy,g=p.onUpdate,x=p.onUpdateParams,R=p.callbackScope,A=p.runBackwards,M=p.yoyoEase,b=p.keyframes,y=p.autoRevert,w=e._dur,S=e._startAt,L=e._targets,I=e.parent,N=I&&"nested"===I.data?I.parent._targets:L,C="auto"===e._overwrite,P=e.timeline;if(P&&(!b||!m)&&(m="none"),e._ease=Dc(m,Du.ease),e._yEase=M?Oc(Dc(!0===M?m:M,Du.ease)):0,M&&e._yoyo&&!e._repeat&&(M=e._yEase,e._yEase=e._ease,e._ease=M),!P){if(d=(c=L[0]?Ah(L[0]).harness:0)&&p[c.prop],r=Dh(p,dh),S&&S.render(-1,!0).kill(),E){if(Vh(e._startAt=Jc.set(L,Ph({data:"isStart",overwrite:!1,parent:I,immediateRender:!0,lazy:Ku(v),startAt:null,delay:0,onUpdate:g,onUpdateParams:x,callbackScope:R,stagger:0},E))),T)if(n>0)!y&&(e._startAt=0);else if(w&&!(n<0&&S))return void(e._zTime=n)}else if(A&&w)if(S)!y&&(e._startAt=0);else if(n&&(T=!1),s=Ph({overwrite:!1,data:"isFromStart",lazy:T&&Ku(v),immediateRender:T,stagger:0,parent:I},r),d&&(s[c.prop]=d),Vh(e._startAt=Jc.set(L,s)),T){if(!n)return}else t(e._startAt,1e-8);for(e._pt=0,v=w&&Ku(v)||v&&!w,i=0;i<L.length;i++){if(h=(o=L[i])._gsap||Rh(L)[i]._gsap,e._ptLookup[i]=f={},mh[h.id]&&Lh(),_=N===L?i:N.indexOf(o),c&&!1!==(l=new c).init(o,d||r,e,_,N)&&(e._pt=a=new _l(e._pt,o,l.name,0,1,l.render,l,0,l.priority),l._props.forEach((function(t){f[t]=a})),l.priority&&(u=1)),!c||d)for(s in r)Eh[s]&&(l=qc(s,r,e,_,o,N))?l.priority&&(u=1):f[s]=a=Wc.call(e,o,s,"get",r[s],_,N,0,p.stringFilter);e._op&&e._op[i]&&e.kill(o,e._op[i]),C&&e._pt&&(Yc=e,lu.killTweensOf(o,f,e.globalTime(0)),Yc=0),e._pt&&v&&(mh[h.id]=1)}u&&fl(e),e._onInit&&e._onInit(e)}e._from=!P&&!!p.runBackwards,e._onUpdate=g,e._initted=!!e.parent},Kc=function(t,e,n,r,i){return ju(t)?t.call(e,n,r,i):Yu(t)&&~t.indexOf("random(")?pc(t):t},Qc=xh+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",$c=(Qc+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Jc=function(t){function e(e,n,r,i){var s;"number"==typeof n&&(r.duration=n,n=r,r=null);var a,o,u,h,c,l,f,_,d=(s=t.call(this,i?n:Bh(n),r)||this).vars,p=d.duration,m=d.delay,E=d.immediateRender,T=d.stagger,v=d.overwrite,g=d.keyframes,x=d.defaults,R=d.scrollTrigger,A=d.yoyoEase,M=s.parent,b=(Ju(e)?Wu(e[0]):"length"in n)?[e]:uc(e);if(s._targets=b.length?Rh(b):lh("GSAP target "+e+" not found. https://greensock.com",!Uu.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=v,g||T||$u(p)||$u(m)){if(n=s.vars,(a=s.timeline=new Hc({data:"nested",defaults:x||{}})).kill(),a.parent=hu(s),g)Ph(a.vars.defaults,{ease:"none"}),g.forEach((function(t){return a.to(b,t,">")}));else{if(h=b.length,f=T?cc(T):_h,Zu(T))for(c in T)~Qc.indexOf(c)&&(_||(_={}),_[c]=T[c]);for(o=0;o<h;o++){for(c in u={},n)$c.indexOf(c)<0&&(u[c]=n[c]);u.stagger=0,A&&(u.yoyoEase=A),_&&Oh(u,_),l=b[o],u.duration=+Kc(p,hu(s),o,l,b),u.delay=(+Kc(m,hu(s),o,l,b)||0)-s._delay,!T&&1===h&&u.delay&&(s._delay=m=u.delay,s._start+=m,u.delay=0),a.to(l,u,f(o,l,b))}a.duration()?p=m=0:s.timeline=0}p||s.duration(p=a.duration())}else s.timeline=0;return!0===v&&(Yc=hu(s),lu.killTweensOf(b),Yc=0),M&&qh(M,hu(s)),(E||!p&&!g&&s._start===yh(M._time)&&Ku(E)&&function t(e){return!e||e._ts&&t(e.parent)}(hu(s))&&"nested"!==M.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-m))),R&&Kh(hu(s),R),s}cu(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,s,a,o,u,h,c,l,f=this._time,_=this._tDur,d=this._dur,p=t>_-1e-8&&t>=0?_:t<1e-8?0:t;if(d){if(p!==this._tTime||!t||n||this._startAt&&this._zTime<0!=t<0){if(r=p,c=this.timeline,this._repeat){if(a=d+this._rDelay,((r=yh(p%a))>d||_===p)&&(r=d),(s=~~(p/a))&&s===p/a&&(r=d,s--),(u=this._yoyo&&1&s)&&(l=this._yEase,r=d-r),o=Hh(this._tTime,a),r===f&&!n&&this._initted)return this;s!==o&&(c&&this._yEase&&Uc(c,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(yh(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(Qh(this,t<0?t:r,n,e))return this._tTime=0,this;if(d!==this._dur)return this.render(t,e,n)}for(this._tTime=p,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(l||this._ease)(r/d),this._from&&(this.ratio=h=1-h),r&&!f&&!e&&Tc(this,"onStart"),i=this._pt;i;)i.r(h,i.d),i=i._next;c&&c.render(t<0?t:!r&&u?-1e-8:c._dur*h,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),Tc(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!e&&this.parent&&Tc(this,"onRepeat"),p!==this._tDur&&p||this._tTime!==p||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Vh(this,1),e||t<0&&!f||!p&&!f||(Tc(this,p===_?"onComplete":"onReverseComplete",!0),this._prom&&!(p<_&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,s,a=t.ratio,o=e<0||!e&&a&&!t._start&&t._zTime>1e-8&&!t._dp._lock||t._ts<0||t._dp._ts<0?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=rc(0,t._tDur,e),Hh(h,u)!==(s=Hh(t._tTime,u))&&(a=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),t._initted||!Qh(t,e,r,n))if(o!==a||r||1e-8===t._zTime||!e&&t._zTime){for(s=t._zTime,t._zTime=e||(n?1e-8:0),n||(n=e&&!s),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=h,n||Tc(t,"onStart"),i=t._pt;i;)i.r(o,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&Tc(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&Tc(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Vh(t,1),n||(Tc(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return vc(this);if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Yc&&!0!==Yc.vars.overwrite)._first||vc(this),this.parent&&n!==this.timeline.totalDuration()&&$h(this,this._dur*this.timeline._tDur/n),this}var r,i,s,a,o,u,h,c=this._targets,l=t?uc(t):c,f=this._ptLookup,_=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(c,l))return vc(this);for(r=this._op=this._op||[],"all"!==e&&(Yu(e)&&(o={},bh(e,(function(t){return o[t]=1})),e=o),e=function(t,e){var n,r,i,s,a=t[0]?Ah(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(r in n=Oh({},e),o)if(r in n)for(i=(s=o[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(c,e)),h=c.length;h--;)if(~l.indexOf(c[h]))for(o in i=f[h],"all"===e?(r[h]=e,a=i,s={}):(s=r[h]=r[h]||{},a=e),a)(u=i&&i[o])&&("kill"in u.d&&!0!==u.d.kill(o)||Xh(this,u,"_pt"),delete i[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&_&&vc(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,Sh(arguments,1))},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,n,r){return new e(t,Sh(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return lu.killTweensOf(t,e,n)},e}(zc);Ph(Jc.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),bh("staggerTo,staggerFrom,staggerFromTo",(function(t){Jc[t]=function(){var e=new Hc,n=sc.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var tl=function(t,e,n){return t[e]=n},el=function(t,e,n){return t[e](n)},nl=function(t,e,n,r){return t[e](r.fp,n)},rl=function(t,e,n){return t.setAttribute(e,n)},il=function(t,e){return ju(t[e])?el:qu(t[e])&&t.setAttribute?rl:tl},sl=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},al=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ol=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},ul=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},hl=function(t,e,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(t,e,n),s=i},cl=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Xh(this,r,"_pt"):r.dep||(e=1),r=n;return!e},ll=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},fl=function(t){for(var e,n,r,i,s=t._pt;s;){for(e=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=e}t._pt=r},_l=function(){function t(t,e,n,r,i,s,a,o,u){this.t=e,this.s=r,this.c=i,this.p=n,this.r=s||sl,this.d=a||this,this.set=o||tl,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=ll,this.m=t,this.mt=n,this.tween=e},t}();bh(xh+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return dh[t]=1})),oh.TweenMax=oh.TweenLite=Jc,oh.TimelineLite=oh.TimelineMax=Hc,lu=new Hc({sortChildren:!1,defaults:Du,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Uu.stringFilter=Sc;var dl={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return gc(t)}))},timeline:function(t){return new Hc(t)},getTweensOf:function(t,e){return lu.getTweensOf(t,e)},getProperty:function(t,e,n,r){Yu(t)&&(t=uc(t)[0]);var i=Ah(t||{}).get,s=n?Ch:Nh;return"native"===n&&(n=""),t?e?s((Eh[e]&&Eh[e].get||i)(t,e,n,r)):function(e,n,r){return s((Eh[e]&&Eh[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=uc(t)).length>1){var r=t.map((function(t){return El.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var s=Eh[e],a=Ah(t),o=a.harness&&(a.harness.aliases||{})[e]||e,u=s?function(e){var r=new s;Eu._pt=0,r.init(t,n?e+n:e,Eu,0,[t]),r.render(1,r),Eu._pt&&ul(1,Eu)}:a.set(t,o);return s?u:function(e){return u(t,o,n?e+n:e,a,1)}},isTweening:function(t){return lu.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Dc(t.ease,Du.ease)),Uh(Du,t||{})},config:function(t){return Uh(Uu,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,s=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!Eh[t]&&!oh[t]&&lh(e+" effect requires "+t+" plugin.")})),Th[e]=function(t,e,r){return n(uc(t),Ph(e||{},i),r)},s&&(Hc.prototype[e]=function(t,n,r){return this.add(Th[e](t,Zu(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Nc[t]=Dc(e)},parseEase:function(t,e){return arguments.length?Dc(t,e):Nc},getById:function(t){return lu.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new Hc(t);for(i.smoothChildTiming=Ku(t.smoothChildTiming),lu.remove(i),i._dp=0,i._time=i._tTime=lu._time,n=lu._first;n;)r=n._next,!e&&!n._dur&&n instanceof Jc&&n.vars.onComplete===n._targets[0]||Zh(i,n,n._start-n._delay),n=r;return Zh(lu,i,0),i},utils:{wrap:function t(e,n,r){var i=n-e;return Ju(e)?dc(e,t(0,e.length),n):nc(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,s=2*i;return Ju(e)?dc(e,t(0,e.length-1),n):nc(r,(function(t){return e+((t=(s+(t-e)%s)%s||0)>i?s-t:t)}))},distribute:cc,random:_c,snap:fc,normalize:function(t,e,n){return mc(t,e,0,1,n)},getUnit:ic,clamp:function(t,e,n){return nc(n,(function(n){return rc(t,e,n)}))},splitColor:Ac,toArray:uc,mapRange:mc,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||ic(n))}},interpolate:function t(e,n,r,i){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var a,o,u,h,c,l=Yu(e),f={};if(!0===r&&(i=1)&&(r=null),l)e={p:e},n={p:n};else if(Ju(e)&&!Ju(n)){for(u=[],h=e.length,c=h-2,o=1;o<h;o++)u.push(t(e[o-1],e[o]));h--,s=function(t){t*=h;var e=Math.min(c,~~t);return u[e](t-e)},r=n}else i||(e=Oh(Ju(e)?[]:{},e));if(!u){for(a in n)Wc.call(f,e,a,"get",n[a]);s=function(t){return ul(t,f)||(l?e.p:e)}}}return nc(r,s)},shuffle:hc},install:hh,effects:Th,ticker:Lc,updateRoot:Hc.updateRoot,plugins:Eh,globalTimeline:lu,core:{PropTween:_l,globals:fh,Tween:Jc,Timeline:Hc,Animation:zc,getCache:Ah,_removeLinkedListItem:Xh}};bh("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return dl[t]=Jc[t]})),Lc.add(Hc.updateRoot),Eu=dl.to({},{duration:0});var pl=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},ml=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(Yu(n)&&(r={},bh(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,s=t._targets;for(n in e)for(r=s.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=pl(i,n)),i&&i.modifier&&i.modifier(e[n],t,s[r],n))}(t,n)}}}},El=dl.registerPlugin({name:"attr",init:function(t,e,n,r,i){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,i,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},ml("roundProps",lc),ml("modifiers"),ml("snap",fc))||dl;Jc.version=Hc.version=El.version="3.4.0",pu=1,Qu()&&Ic();Nc.Power0,Nc.Power1,Nc.Power2,Nc.Power3,Nc.Power4,Nc.Linear,Nc.Quad,Nc.Cubic,Nc.Quart,Nc.Quint,Nc.Strong,Nc.Elastic,Nc.Back,Nc.SteppedEase,Nc.Bounce,Nc.Sine,Nc.Expo,Nc.Circ;
/*!
 * CSSPlugin 3.4.0
 * https://greensock.com
 *
 * Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tl,vl,gl,xl,Rl,Al,Ml,bl,yl={},wl=180/Math.PI,Sl=Math.PI/180,Ll=Math.atan2,Il=/([A-Z])/g,Nl=/(?:left|right|width|margin|padding|x)/i,Cl=/[\s,\(]\S/,Pl={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Fl=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ol=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ul=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Dl=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Bl=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Xl=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Vl=function(t,e,n){return t.style[e]=n},Gl=function(t,e,n){return t.style.setProperty(e,n)},kl=function(t,e,n){return t._gsap[e]=n},zl=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Hl=function(t,e,n,r,i){var s=t._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},Yl=function(t,e,n,r,i){var s=t._gsap;s[e]=n,s.renderTransform(i,s)},jl="transform",Wl=jl+"Origin",ql=function(t,e){var n=vl.createElementNS?vl.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):vl.createElement(t);return n.style?n:vl.createElement(t)},Zl=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Il,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Ql(n)||n,1)||""},Kl="O,Moz,ms,Ms,Webkit".split(","),Ql=function(t,e,n){var r=(e||Rl).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(Kl[i]+t in r););return i<0?null:(3===i?"ms":i>=0?Kl[i]:"")+t},$l=function(){"undefined"!=typeof window&&window.document&&(Tl=window,vl=Tl.document,gl=vl.documentElement,Rl=ql("div")||{style:{}},Al=ql("div"),jl=Ql(jl),Wl=jl+"Origin",Rl.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",bl=!!Ql("perspective"),xl=1)},Jl=function t(e){var n,r=ql("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,a=this.style.cssText;if(gl.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),gl.removeChild(r),this.style.cssText=a,n},tf=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},ef=function(t){var e;try{e=t.getBBox()}catch(n){e=Jl.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Jl||(e=Jl.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+tf(t,["x","cx","x1"])||0,y:+tf(t,["y","cy","y1"])||0,width:0,height:0}},nf=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!ef(t))},rf=function(t,e){if(e){var n=t.style;e in yl&&e!==Wl&&(e=jl),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(Il,"-$1").toLowerCase())):n.removeAttribute(e)}},sf=function(t,e,n,r,i,s){var a=new _l(t._pt,e,n,0,1,s?Xl:Bl);return t._pt=a,a.b=r,a.e=i,t._props.push(n),a},af={deg:1,rad:1,turn:1},of=function t(e,n,r,i){var s,a,o,u,h=parseFloat(r)||0,c=(r+"").trim().substr((h+"").length)||"px",l=Rl.style,f=Nl.test(n),_="svg"===e.tagName.toLowerCase(),d=(_?"client":"offset")+(f?"Width":"Height"),p="px"===i,m="%"===i;return i===c||!h||af[i]||af[c]?h:("px"!==c&&!p&&(h=t(e,n,r,"px")),u=e.getCTM&&nf(e),m&&(yl[n]||~n.indexOf("adius"))?yh(h/(u?e.getBBox()[f?"width":"height"]:e[d])*100):(l[f?"width":"height"]=100+(p?c:i),a=~n.indexOf("adius")||"em"===i&&e.appendChild&&!_?e:e.parentNode,u&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==vl&&a.appendChild||(a=vl.body),(o=a._gsap)&&m&&o.width&&f&&o.time===Lc.time?yh(h/o.width*100):((m||"%"===c)&&(l.position=Zl(e,"position")),a===e&&(l.position="static"),a.appendChild(Rl),s=Rl[d],a.removeChild(Rl),l.position="absolute",f&&m&&((o=Ah(a)).time=Lc.time,o.width=a[d]),yh(p?s*h/100:s&&h?100/s*h:0))))},uf=function(t,e,n,r){var i;return xl||$l(),e in Pl&&"transform"!==e&&~(e=Pl[e]).indexOf(",")&&(e=e.split(",")[0]),yl[e]&&"transform"!==e?(i=vf(t,r),i="transformOrigin"!==e?i[e]:gf(Zl(t,Wl))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=ff[e]&&ff[e](t,e,n)||Zl(t,e)||Mh(t,e)||("opacity"===e?1:0)),n&&!~(i+"").indexOf(" ")?of(t,e,i,n)+n:i},hf=function(t,e,n,r){if(!n||"none"===n){var i=Ql(e,t,1),s=i&&Zl(t,i,1);s&&s!==n?(e=i,n=s):"borderColor"===e&&(n=Zl(t,"borderTopColor"))}var a,o,u,h,c,l,f,_,d,p,m,E,T=new _l(this._pt,t.style,e,0,1,ol),v=0,g=0;if(T.b=n,T.e=r,n+="","auto"===(r+="")&&(t.style[e]=r,r=Zl(t,e)||r,t.style[e]=n),Sc(a=[n,r]),r=a[1],u=(n=a[0]).match(nh)||[],(r.match(nh)||[]).length){for(;o=nh.exec(r);)f=o[0],d=r.substring(v,o.index),c?c=(c+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(c=1),f!==(l=u[g++]||"")&&(h=parseFloat(l)||0,m=l.substr((h+"").length),(E="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),_=parseFloat(f),p=f.substr((_+"").length),v=nh.lastIndex-p.length,p||(p=p||Uu.units[e]||m,v===r.length&&(r+=p,T.e+=p)),m!==p&&(h=of(t,e,l,p)||0),T._pt={_next:T._pt,p:d||1===g?d:",",s:h,c:E?E*_:_-h,m:c&&c<4?Math.round:0});T.c=v<r.length?r.substring(v,r.length):""}else T.r="display"===e&&"none"===r?Xl:Bl;return sh.test(r)&&(T.e=0),this._pt=T,T},cf={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},lf=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,s=e.t,a=s.style,o=e.u,u=s._gsap;if("all"===o||!0===o)a.cssText="",r=1;else for(i=(o=o.split(",")).length;--i>-1;)n=o[i],yl[n]&&(r=1,n="transformOrigin"===n?Wl:jl),rf(s,n);r&&(rf(s,jl),u&&(u.svg&&s.removeAttribute("transform"),vf(s,1),u.uncache=1))}},ff={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var s=t._pt=new _l(t._pt,e,n,0,0,lf);return s.u=r,s.pr=-10,s.tween=i,t._props.push(n),1}}},_f=[1,0,0,1,0,0],df={},pf=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},mf=function(t){var e=Zl(t,jl);return pf(e)?_f:e.substr(7).match(eh).map(yh)},Ef=function(t,e){var n,r,i,s,a=t._gsap||Ah(t),o=t.style,u=mf(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?_f:u:(u!==_f||t.offsetParent||t===gl||a.svg||(i=o.display,o.display="block",(n=t.parentNode)&&t.offsetParent||(s=1,r=t.nextSibling,gl.appendChild(t)),u=mf(t),i?o.display=i:rf(t,"display"),s&&(r?n.insertBefore(t,r):n?n.appendChild(t):gl.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Tf=function(t,e,n,r,i,s){var a,o,u,h=t._gsap,c=i||Ef(t,!0),l=h.xOrigin||0,f=h.yOrigin||0,_=h.xOffset||0,d=h.yOffset||0,p=c[0],m=c[1],E=c[2],T=c[3],v=c[4],g=c[5],x=e.split(" "),R=parseFloat(x[0])||0,A=parseFloat(x[1])||0;n?c!==_f&&(o=p*T-m*E)&&(u=R*(-m/o)+A*(p/o)-(p*g-m*v)/o,R=R*(T/o)+A*(-E/o)+(E*g-T*v)/o,A=u):(R=(a=ef(t)).x+(~x[0].indexOf("%")?R/100*a.width:R),A=a.y+(~(x[1]||x[0]).indexOf("%")?A/100*a.height:A)),r||!1!==r&&h.smooth?(v=R-l,g=A-f,h.xOffset=_+(v*p+g*E)-v,h.yOffset=d+(v*m+g*T)-g):h.xOffset=h.yOffset=0,h.xOrigin=R,h.yOrigin=A,h.smooth=!!r,h.origin=e,h.originIsAbsolute=!!n,t.style[Wl]="0px 0px",s&&(sf(s,h,"xOrigin",l,R),sf(s,h,"yOrigin",f,A),sf(s,h,"xOffset",_,h.xOffset),sf(s,h,"yOffset",d,h.yOffset)),t.setAttribute("data-svg-origin",R+" "+A)},vf=function(t,e){var n=t._gsap||new kc(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,s,a,o,u,h,c,l,f,_,d,p,m,E,T,v,g,x,R,A,M,b,y,w,S,L,I,N,C,P,F,O=t.style,U=n.scaleX<0,D=Zl(t,Wl)||"0";return r=i=s=u=h=c=l=f=_=0,a=o=1,n.svg=!(!t.getCTM||!nf(t)),m=Ef(t,n.svg),n.svg&&(y=!n.uncache&&t.getAttribute("data-svg-origin"),Tf(t,y||D,!!y||n.originIsAbsolute,!1!==n.smooth,m)),d=n.xOrigin||0,p=n.yOrigin||0,m!==_f&&(g=m[0],x=m[1],R=m[2],A=m[3],r=M=m[4],i=b=m[5],6===m.length?(a=Math.sqrt(g*g+x*x),o=Math.sqrt(A*A+R*R),u=g||x?Ll(x,g)*wl:0,(l=R||A?Ll(R,A)*wl+u:0)&&(o*=Math.cos(l*Sl)),n.svg&&(r-=d-(d*g+p*R),i-=p-(d*x+p*A))):(F=m[6],C=m[7],L=m[8],I=m[9],N=m[10],P=m[11],r=m[12],i=m[13],s=m[14],h=(E=Ll(F,N))*wl,E&&(y=M*(T=Math.cos(-E))+L*(v=Math.sin(-E)),w=b*T+I*v,S=F*T+N*v,L=M*-v+L*T,I=b*-v+I*T,N=F*-v+N*T,P=C*-v+P*T,M=y,b=w,F=S),c=(E=Ll(-R,N))*wl,E&&(T=Math.cos(-E),P=A*(v=Math.sin(-E))+P*T,g=y=g*T-L*v,x=w=x*T-I*v,R=S=R*T-N*v),u=(E=Ll(x,g))*wl,E&&(y=g*(T=Math.cos(E))+x*(v=Math.sin(E)),w=M*T+b*v,x=x*T-g*v,b=b*T-M*v,g=y,M=w),h&&Math.abs(h)+Math.abs(u)>359.9&&(h=u=0,c=180-c),a=yh(Math.sqrt(g*g+x*x+R*R)),o=yh(Math.sqrt(b*b+F*F)),E=Ll(M,b),l=Math.abs(E)>2e-4?E*wl:0,_=P?1/(P<0?-P:P):0),n.svg&&(y=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!pf(Zl(t,jl)),y&&t.setAttribute("transform",y))),Math.abs(l)>90&&Math.abs(l)<270&&(U?(a*=-1,l+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,l+=l<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=i&&Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",n.z=s+"px",n.scaleX=yh(a),n.scaleY=yh(o),n.rotation=yh(u)+"deg",n.rotationX=yh(h)+"deg",n.rotationY=yh(c)+"deg",n.skewX=l+"deg",n.skewY=f+"deg",n.transformPerspective=_+"px",(n.zOrigin=parseFloat(D.split(" ")[2])||0)&&(O[Wl]=gf(D)),n.xOffset=n.yOffset=0,n.force3D=Uu.force3D,n.renderTransform=n.svg?Mf:bl?Af:Rf,n.uncache=0,n},gf=function(t){return(t=t.split(" "))[0]+" "+t[1]},xf=function(t,e,n){var r=ic(e);return yh(parseFloat(e)+parseFloat(of(t,"x",n+"px",r)))+r},Rf=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Af(t,e)},Af=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,s=n.x,a=n.y,o=n.z,u=n.rotation,h=n.rotationY,c=n.rotationX,l=n.skewX,f=n.skewY,_=n.scaleX,d=n.scaleY,p=n.transformPerspective,m=n.force3D,E=n.target,T=n.zOrigin,v="",g="auto"===m&&t&&1!==t||!0===m;if(T&&("0deg"!==c||"0deg"!==h)){var x,R=parseFloat(h)*Sl,A=Math.sin(R),M=Math.cos(R);R=parseFloat(c)*Sl,x=Math.cos(R),s=xf(E,s,A*x*-T),a=xf(E,a,-Math.sin(R)*-T),o=xf(E,o,M*x*-T+T)}"0px"!==p&&(v+="perspective("+p+") "),(r||i)&&(v+="translate("+r+"%, "+i+"%) "),(g||"0px"!==s||"0px"!==a||"0px"!==o)&&(v+="0px"!==o||g?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+") "),"0deg"!==u&&(v+="rotate("+u+") "),"0deg"!==h&&(v+="rotateY("+h+") "),"0deg"!==c&&(v+="rotateX("+c+") "),"0deg"===l&&"0deg"===f||(v+="skew("+l+", "+f+") "),1===_&&1===d||(v+="scale("+_+", "+d+") "),E.style[jl]=v||"translate(0, 0)"},Mf=function(t,e){var n,r,i,s,a,o=e||this,u=o.xPercent,h=o.yPercent,c=o.x,l=o.y,f=o.rotation,_=o.skewX,d=o.skewY,p=o.scaleX,m=o.scaleY,E=o.target,T=o.xOrigin,v=o.yOrigin,g=o.xOffset,x=o.yOffset,R=o.forceCSS,A=parseFloat(c),M=parseFloat(l);f=parseFloat(f),_=parseFloat(_),(d=parseFloat(d))&&(_+=d=parseFloat(d),f+=d),f||_?(f*=Sl,_*=Sl,n=Math.cos(f)*p,r=Math.sin(f)*p,i=Math.sin(f-_)*-m,s=Math.cos(f-_)*m,_&&(d*=Sl,a=Math.tan(_-d),i*=a=Math.sqrt(1+a*a),s*=a,d&&(a=Math.tan(d),n*=a=Math.sqrt(1+a*a),r*=a)),n=yh(n),r=yh(r),i=yh(i),s=yh(s)):(n=p,s=m,r=i=0),(A&&!~(c+"").indexOf("px")||M&&!~(l+"").indexOf("px"))&&(A=of(E,"x",c,"px"),M=of(E,"y",l,"px")),(T||v||g||x)&&(A=yh(A+T-(T*n+v*i)+g),M=yh(M+v-(T*r+v*s)+x)),(u||h)&&(a=E.getBBox(),A=yh(A+u/100*a.width),M=yh(M+h/100*a.height)),a="matrix("+n+","+r+","+i+","+s+","+A+","+M+")",E.setAttribute("transform",a),R&&(E.style[jl]=a)},bf=function(t,e,n,r,i,s){var a,o,u=Yu(i),h=parseFloat(i)*(u&&~i.indexOf("rad")?wl:1),c=s?h*s:h-r,l=r+c+"deg";return u&&("short"===(a=i.split("_")[1])&&(c%=360)!==c%180&&(c+=c<0?360:-360),"cw"===a&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===a&&c>0&&(c=(c-36e9)%360-360*~~(c/360))),t._pt=o=new _l(t._pt,e,n,r,c,Ol),o.e=l,o.u="deg",t._props.push(n),o},yf=function(t,e,n){var r,i,s,a,o,u,h,c=Al.style,l=n._gsap;for(i in c.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",c[jl]=e,vl.body.appendChild(Al),r=vf(Al,1),yl)(s=l[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(o=ic(s)!==(h=ic(a))?of(n,i,s,h):parseFloat(s),u=parseFloat(a),t._pt=new _l(t._pt,l,i,o,u-o,Fl),t._pt.u=h||0,t._props.push(i));vl.body.removeChild(Al)};bh("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",s="Left",a=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return e<2?t+n:"border"+n+t}));ff[e>1?"border"+t:t]=function(t,e,n,r,i){var s,o;if(arguments.length<4)return s=a.map((function(e){return uf(t,e,n)})),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(r+"").split(" "),o={},a.forEach((function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,o,i)}}));var wf,Sf,Lf={name:"css",register:$l,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var s,a,o,u,h,c,l,f,_,d,p,m,E,T,v,g,x,R,A,M=this._props,b=t.style;for(l in xl||$l(),e)if("autoRound"!==l&&(a=e[l],!Eh[l]||!qc(l,e,n,r,t,i)))if(h=typeof a,c=ff[l],"function"===h&&(h=typeof(a=a.call(n,r,t,i))),"string"===h&&~a.indexOf("random(")&&(a=pc(a)),c)c(this,t,l,a,n)&&(v=1);else if("--"===l.substr(0,2))this.add(b,"setProperty",getComputedStyle(t).getPropertyValue(l)+"",a+"",r,i,0,0,l);else{if(s=uf(t,l),u=parseFloat(s),(d="string"===h&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),o=parseFloat(a),l in Pl&&("autoAlpha"===l&&(1===u&&"hidden"===uf(t,"visibility")&&o&&(u=0),sf(this,b,"visibility",u?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==l&&"transform"!==l&&~(l=Pl[l]).indexOf(",")&&(l=l.split(",")[0])),p=l in yl)if(m||((E=t._gsap).renderTransform||vf(t),T=!1!==e.smoothOrigin&&E.smooth,(m=this._pt=new _l(this._pt,b,jl,0,1,E.renderTransform,E,0,-1)).dep=1),"scale"===l)this._pt=new _l(this._pt,E,"scaleY",E.scaleY,d?d*o:o-E.scaleY),M.push("scaleY",l),l+="X";else{if("transformOrigin"===l){x=void 0,R=void 0,A=void 0,x=(g=a).split(" "),R=x[0],A=x[1]||"50%","top"!==R&&"bottom"!==R&&"left"!==A&&"right"!==A||(g=R,R=A,A=g),x[0]=cf[R]||R,x[1]=cf[A]||A,a=x.join(" "),E.svg?Tf(t,a,0,T,0,this):((_=parseFloat(a.split(" ")[2])||0)!==E.zOrigin&&sf(this,E,"zOrigin",E.zOrigin,_),sf(this,b,l,gf(s),gf(a)));continue}if("svgOrigin"===l){Tf(t,a,1,T,0,this);continue}if(l in df){bf(this,E,l,u,a,d);continue}if("smoothOrigin"===l){sf(this,E,"smooth",E.smooth,a);continue}if("force3D"===l){E[l]=a;continue}if("transform"===l){yf(this,a,t);continue}}else l in b||(l=Ql(l)||l);if(p||(o||0===o)&&(u||0===u)&&!Cl.test(a)&&l in b)o||(o=0),(f=(s+"").substr((u+"").length))!==(_=(a+"").substr((o+"").length)||(l in Uu.units?Uu.units[l]:f))&&(u=of(t,l,s,_)),this._pt=new _l(this._pt,p?E:b,l,u,d?d*o:o-u,"px"!==_||!1===e.autoRound||p?Fl:Dl),this._pt.u=_||0,f!==_&&(this._pt.b=s,this._pt.r=Ul);else if(l in b)hf.call(this,t,l,s,a);else{if(!(l in t)){ch(l,a);continue}this.add(t,l,t[l],a,r,i)}M.push(l)}v&&fl(this)},get:uf,aliases:Pl,getSetter:function(t,e,n){var r=Pl[e];return r&&r.indexOf(",")<0&&(e=r),e in yl&&e!==Wl&&(t._gsap.x||uf(t,"x"))?n&&Ml===n?"scale"===e?zl:kl:(Ml=n||{})&&("scale"===e?Hl:Yl):t.style&&!qu(t.style[e])?Vl:~e.indexOf("-")?Gl:il(t,e)},core:{_removeProperty:rf,_getMatrix:Ef}};El.utils.checkPrefix=Ql,Sf=bh("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(wf="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){yl[t]=1})),bh(wf,(function(t){Uu.units[t]="deg",df[t]=1})),Pl[Sf[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+wf,bh("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Pl[e[1]]=Sf[e[0]]})),bh("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){Uu.units[t]="px"})),El.registerPlugin(Lf);var If=El.registerPlugin(Lf)||El;If.core.Tween;var Nf=[{id:"base",url:"assets/img/base.png",type:"png"},{id:"matcap",url:"assets/img/matcap.png",type:"png"},{id:"matcap2",url:"assets/img/matcap2.jpg",type:"jpg"},{id:"oreo",url:"assets/obj/oreo.obj",type:"text"}];const Cf={};let Pf,Ff=[];Cf.init=function(t){Pf=t;let e={};Ff=Nf.map(t=>{const n=function(t){const e=t.split(".");return e[e.length-1]}(t.url),r=(i=t.id,Pf.find(t=>t.id===i).file);var i;let s;switch(n){case"jpg":case"png":return s=new To(r),{id:t.id,file:s};case"hdr":let n=t.id.split("_")[0];s=uu.HDRLoader.parse(r);const i={id:t.id,file:s};return e[n]||(e[n]=[]),e[n].push(i),i;case"dds":return s=Ja.parseDDS(r),{id:t.id,file:s};case"obj":const a=jo.parse(r);return{id:t.id,file:a}}});for(let t in e)if(6==e[t].length){console.log("Generate Cubemap :",t);const e=[Cf.get(t+"_posx"),Cf.get(t+"_negx"),Cf.get(t+"_posy"),Cf.get(t+"_negy"),Cf.get(t+"_posz"),Cf.get(t+"_negz")],n=new uu.GLCubeTexture(e);Ff.push({id:t,file:n})}Ff.length>0&&(console.debug("ASSETS:"),console.table(Ff))},Cf.get=function(t){return Ff.find(e=>e.id===t).file};var Of=Cf,Uf={camera:{fov:45},lightWorldPosition:{x:-12.130054189245527,y:-.14992927864214955,z:-61.24469589816125},tooth:{anchor:{x:0,y:1.49,z:0},scale:{x:3.71,y:3.71,z:3.71},position:{x:-.4,y:0,z:-1.93},rotation:{x:-2.66,y:2.4,z:.31}},interaction:{debug:!0,showPlanes:!1,showLight:!1,showContact:!1,spread:16.25677365568987,amount:1.1230660042583394,transform:{position:{x:0,y:-2.3,z:-17},rotation:{x:0,y:.15,z:0},scale:{x:33,y:19}}},noise:{value:.11,scale:.06},planes:[{label:"Plane - Right",visible:!0,fadeX:1,camera:{x:-9.1,y:4.43,z:-2.06},scale:{x:27.78,z:10.65},rotation:{x:-1.75,y:-2.77,z:-6.28},position:{x:.92,y:11.75,z:-13.15},waves:[{scale:[0,0],speed:0,waveLength:32.14,steepness:1.19,offset:-2.84,directionX:.1,directionY:0},{scale:[0,0],speed:.32,waveLength:5.05,steepness:.37,offset:-4.12,directionX:.1,directionY:.15},{scale:[0,0],speed:-.17,waveLength:2.7600000000000002,steepness:.46,offset:0,directionX:.08,directionY:.2}]},{label:"Plane - Bottom left",visible:!0,fadeZ:1,camera:{x:-9.28,y:-6.57,z:-9.28},scale:{x:13.35,z:23.81},rotation:{x:3.24,y:5.84,z:3.24},position:{x:-5.57,y:.92,z:-1.6},waves:[{scale:[0,0],speed:0,waveLength:33.37,steepness:2.07,offset:-2.6,directionX:.04,directionY:.14},{scale:[0,0],speed:-.11,waveLength:1.38,steepness:.28,offset:-1.5,directionX:.33,directionY:.01},{scale:[0,0],speed:.3,waveLength:2.7600000000000002,steepness:.46,offset:-5.22,directionX:.21,directionY:.08}]},{label:"Plane - Top Right",visible:!0,fadeZ:1,camera:{x:-6.140000000000001,y:4.51,z:-.63},scale:{x:14.07,z:18.76},rotation:{x:-2.32,y:-5.04,z:-4.24},position:{x:-.16,y:5.25,z:11.86},waves:[{scale:[0,0],speed:0,waveLength:29.68,steepness:1.1,offset:-2.74,directionX:.09,directionY:.39},{scale:[0,0],speed:-.24,waveLength:3.61,steepness:.3,offset:-.08,directionX:.22,directionY:.04},{scale:[0,0],speed:.33,waveLength:1.8,steepness:.36,offset:0,directionX:.23,directionY:.06}]}]};class Df extends uu.View3D{constructor(t){super("// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\n// basic.vert\n\nuniform vec4 uSpeed;\nuniform vec4 uOffset;\nuniform float uTime;\nuniform float uSpread;\nuniform float uAmount;\nuniform vec4 uWave1;\nuniform vec4 uWave2;\nuniform vec4 uWave3;\nuniform vec2 uNoise;\nuniform vec2 uFadeEdge;\nuniform vec3 uCameraPos;\n\nuniform vec3 uLightWorldPosition;\nuniform vec3 uIntersection;\nuniform vec2 uScale;\nvarying vec3 vNormal;\nvarying vec3 pEye;\nvarying vec3 vSurfaceToLight;\nvarying float vColor;\nvarying float vEdge;\nvarying float vLightStrength;\n\nvec3 mod289(vec3 x)\n{\n  return x-floor(x*(1./289.))*289.;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x-floor(x*(1./289.))*289.;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.)+1.)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159-.85373472095314*r;\n}\n\nvec3 fade(vec3 t){\n  return t*t*t*(t*(t*6.-15.)+10.);\n}\n\nfloat snoise(vec3 v){\n  const vec2 C=vec2(1./6.,1./3.);\n  const vec4 D=vec4(0.,.5,1.,2.);\n  \n  vec3 i=floor(v+dot(v,C.yyy));\n  vec3 x0=v-i+dot(i,C.xxx);\n  \n  vec3 g=step(x0.yzx,x0.xyz);\n  vec3 l=1.-g;\n  vec3 i1=min(g.xyz,l.zxy);\n  vec3 i2=max(g.xyz,l.zxy);\n  \n  vec3 x1=x0-i1+1.*C.xxx;\n  vec3 x2=x0-i2+2.*C.xxx;\n  vec3 x3=x0-1.+3.*C.xxx;\n  \n  i=mod(i,289.);\n  vec4 p=permute(permute(permute(i.z+vec4(0.,i1.z,i2.z,1.))+i.y+vec4(0.,i1.y,i2.y,1.))+i.x+vec4(0.,i1.x,i2.x,1.));\n  \n  float n_=1./7.;\n  vec3 ns=n_*D.wyz-D.xzx;\n  \n  vec4 j=p-49.*floor(p*ns.z*ns.z);\n  \n  vec4 x_=floor(j*ns.z);\n  vec4 y_=floor(j-7.*x_);\n  \n  vec4 x=x_*ns.x+ns.yyyy;\n  vec4 y=y_*ns.x+ns.yyyy;\n  vec4 h=1.-abs(x)-abs(y);\n  \n  vec4 b0=vec4(x.xy,y.xy);\n  vec4 b1=vec4(x.zw,y.zw);\n  \n  vec4 s0=floor(b0)*2.+1.;\n  vec4 s1=floor(b1)*2.+1.;\n  vec4 sh=-step(h,vec4(0.));\n  \n  vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;\n  vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;\n  \n  vec3 p0=vec3(a0.xy,h.x);\n  vec3 p1=vec3(a0.zw,h.y);\n  vec3 p2=vec3(a1.xy,h.z);\n  vec3 p3=vec3(a1.zw,h.w);\n  \n  vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));\n  p0*=norm.x;\n  p1*=norm.y;\n  p2*=norm.z;\n  p3*=norm.w;\n  \n  vec4 m=max(.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.);\n  m=m*m;\n  return 42.*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));\n}\n\nfloat snoise(float x,float y,float z){\n  return snoise(vec3(x,y,z));\n}\n\nfloat getDistance(vec3 center,vec3 position,float radius){\n  // return clamp(smoothstep(0.05 * uScale.x, .4 * uScale.x, distance(position, center)) / uScale.x, 0., 1.);\n  // float totalWidth = uScale.x * 2;\n  \n  // return clamp(distance(position, center) / radius, 0., 1.);\n  // return clamp(smoothstep(0.,radius,distance(position,center)),0.,1.);\n  return smoothstep(0.,radius,distance(position,center));\n}\n\nfloat f(vec3 p,float noiseScale){\n  return snoise(vec3(p))*noiseScale;\n}\n\nvec3 GerstnerWave(vec4 wave,vec3 p,inout vec3 tangent,inout vec3 binormal,float speed,float offset){\n  float steepness=wave.z;\n  float waveLength=wave.w;\n  \n  float k=(2.*3.14)/waveLength;// * (1. - invScale * 0.05);\n  vec2 d=normalize(wave.xy);\n  \n  float f=k*(dot(d,p.xz)-uTime*speed+offset);// + sin(uTime) * invScale * 2.;\n  float a=steepness/k;\n  \n  tangent+=vec3(\n    -d.x*d.x*(steepness*sin(f))*1.,\n    d.x*(steepness*cos(f)),\n    -d.x*d.y*(steepness*sin(f))\n  );\n  \n  binormal+=vec3(\n    -d.x*d.y*(steepness*sin(f))*1.,\n    d.y*(steepness*cos(f)),\n    -d.y*d.y*(steepness*sin(f))\n  );\n  \n  return vec3(\n    d.x*(a*cos(f))*1.,\n    a*sin(f),\n    d.y*(a*cos(f))\n  );\n}\n\nvoid main(void){\n  \n  vec3 posInter=aVertexPosition;\n  posInter.x*=uScale.x;\n  posInter.z*=uScale.y;\n  \n  vEdge=smoothstep(.4,.49,distance(aVertexPosition.z,.0))*uFadeEdge[1];\n  vEdge+=smoothstep(.4,.49,distance(aVertexPosition.x,.0))*uFadeEdge[0];\n  \n  // position.y += sin(position.x / 10. * 3.14 * 2.) * 2.;\n  \n  // float time = uTime * 0.1;\n  // float time = 1.;\n  // float ox = (time) * 0.2;\n  // float oy = (time) * 0.83245789;\n  \n  // vec3 anim = vec3(position.z, 1., 1.) * 1. + vec3(ox, oy, time);\n  // float k =\n  // vec3 anim = position * 4.;\n  \n  vec3 newPosition=aVertexPosition;\n  newPosition.x*=uScale.x;\n  newPosition.z*=uScale.y;\n  \n  vec3 savedPosition=newPosition;\n  \n  vec3 tangent=vec3(1.,0.,0.);\n  vec3 binormal=vec3(0.,0.,1.);\n  \n  // float invScale = (1. - dist);\n  // ((1. + invScale * 0.2))\n  \n  newPosition+=GerstnerWave(uWave1,savedPosition,tangent,binormal,uSpeed.x,uOffset.x);\n  newPosition+=GerstnerWave(uWave2,savedPosition,tangent,binormal,uSpeed.y,uOffset.y);\n  newPosition+=GerstnerWave(uWave3,savedPosition,tangent,binormal,uSpeed.z,uOffset.z);\n  \n  vec3 modifiedNormal=normalize(cross(binormal,tangent));\n  \n  float noise=uNoise.x;\n  float noiseScale=uNoise.y;\n  float time=uTime*.1;\n  float ox=time*.2;\n  float oy=time*.83245789;\n  vec3 anim=vec3(savedPosition)*noise+vec3(ox,oy,time);\n  \n  vec3 posNoise=newPosition;\n  // posNoise.x *= uScale.x;\n  // posNoise.z *= uScale.y;\n  // vec3 modifiedNormal = normal;\n  \n  float f0=f(anim,noiseScale);\n  float fx=1.*f(anim+vec3(1.,0.,0.),noiseScale);\n  float fy=1.*f(anim+vec3(0.,1.,0.),noiseScale);\n  float fz=1.*f(anim+vec3(0.,0.,1.),noiseScale);\n  \n  modifiedNormal=normalize(modifiedNormal-vec3((fx-f0)/1.,(fy-f0)/1.,(fz-f0)/1.));\n  // position *= 1.0 + f0 * 0.1 * 1.;\n  \n  // float f0 =  0.01 * f( aniNormal );\n  \n  // vec3 newPosition = position;\n  // newPosition.z += f0;\n  posNoise+=f0;\n  \n  vec3 posNoiseWorld=vec4(uModelMatrix*vec4(posNoise,1.)).xyz;\n  \n  vec3 direction=normalize(posNoiseWorld-uIntersection);\n  \n  float dist=getDistance(posNoiseWorld,uIntersection,uSpread);\n  vColor=smoothstep(0.,.8,(1.-dist));\n  posNoiseWorld+=smoothstep(0.,.8,(1.-dist))*direction*uAmount;\n  \n  // posNoise.y *= dist;\n  // f2\n  \n  // f0 = getDistance(worldPos.xyz, uIntersection);\n  // fx = 1. * getDistance( worldPos.xyz + vec3( 1., 0.0, 0.0 ), uIntersection);\n  // fy = 1. * getDistance( worldPos.xyz + vec3( 0.0, 1., 0.0 ), uIntersection);\n  // fz = 1. * getDistance( worldPos.xyz + vec3( 0.0, 0.0, 1. ), uIntersection);\n  \n  // modifiedNormal = normalize( modifiedNormal - vec3( (fx - f0) / 1., (fy - f0) / 1., (fz - f0) / 1. ) );\n  \n  // posNoise.y *= f0;\n  \n  // posNoise = position;\n  // posNoise.xz *= uScale;\n  \n  // (1. - scale)\n  // posNoise.y += (1. - dist);\n  \n  // gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n  gl_Position=uProjectionMatrix*uViewMatrix*vec4(posNoiseWorld,1.);\n  // vTextureCoord = aTextureCoord;\n  vNormal=normalize(modifiedNormal*uNormalMatrix);\n  \n  // compute the world position of the surface\n  vec3 surfaceWorldPosition=posNoiseWorld;//(modelMatrix * vec4(posNoise, 1.0)).xyz;\n  vLightStrength=1.-getDistance(surfaceWorldPosition,uLightWorldPosition,10.);\n  \n  pEye=normalize(posNoiseWorld.xyz-uCameraPos);\n  // Transfomr the *directions* of the normal and position-relative-to-eye so\n  // that the matcap stays aligned with the view:\n  // vNormal=mat3(viewMatrix)*vNormal;\n  vNormal=normalize(vec3(uModelMatrix*vec4(vNormal,0.)));\n  \n  pEye=mat3(uViewMatrix)*pEye;\n  vNormal=mat3(uViewMatrix)*vNormal;\n  \n  // compute the vector of the surface to the light\n  // and pass it to the fragment shader\n  \n  // vec3 lightPos = uIntersection;\n  // lightPos.y = posNoise.y;\n  \n  // vSurfaceToLight = lightPos - surfaceWorldPosition;\n  vSurfaceToLight=uLightWorldPosition-surfaceWorldPosition;\n}\n","precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D uTexture;\nuniform vec3 uCameraPos;\nuniform float uShowLight;\nuniform float uAlpha;\nuniform float uShowContact;\n\nvarying vec3 pEye;\nvarying vec3 vNormal;\nvarying vec3 vSurfaceToLight;\nvarying float vColor;\nvarying float vEdge;\nvarying float vLightStrength;\n\nfloat diffuse(vec3 n,vec3 l){\n  float d=dot(normalize(n),normalize(l));\n  return max(d,0.);\n}\n\nfloat diffuse(vec3 n,vec3 l,float t){\n  float d=dot(normalize(n),normalize(l));\n  return mix(1.,max(d,0.),t);\n}\n\nvec2 matcap(vec3 eye,vec3 normal){\n  vec3 reflected=reflect(eye,normal);\n  float m=2.8284271247461903*sqrt(reflected.z+1.);\n  return reflected.xy/m+.5;\n}\n\nfloat blendAdd(float base, float blend) {\n\treturn min(base+blend,1.0);\n}\n\nvec3 blendAdd(vec3 base, vec3 blend) {\n\treturn min(base+blend,vec3(1.0));\n}\n\nvec3 blendAdd(vec3 base, vec3 blend, float opacity) {\n\treturn (blendAdd(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nfloat blendSoftLight(float base, float blend) {\n\treturn (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend) {\n\treturn vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend, float opacity) {\n\treturn (blendSoftLight(base, blend) * opacity + base * (1.0 - opacity));\n}\nvoid main(void){\n  float d = diffuse(vNormal, vec3(-2., 1., 0.), .5);\n  \n  vec3 surfaceToLightDirection=normalize(vSurfaceToLight);\n  \n  float light= clamp(dot(vNormal,surfaceToLightDirection)*vLightStrength, 0., 1.);\n  \n  vec2 uv=matcap(pEye,normalize(vNormal));\n  // vec2 uv=vec2(normalize(pEye*vNormal))*.5+vec2(.5,.5);\n  \n  // vec2 uv=matcap(uCameraPos,vNormal);\n  \n  // vec3 colorMatcap= texture2D(uTexture,vec2(uv.x,1.-uv.y)).rgb*(1.+abs(light)*1.5);\n  vec3 colorMatcap= texture2D(uTexture,vec2(uv.x,1.-uv.y)).rgb;\n  vec3 colorLight=vec3(abs(light));\n  \n  // vec3 color = colorMatcap;\n  // vec3 color=mix(pow(colorMatcap,vec3(1.25))*1.25,colorLight,uShowLight);\n  vec3 color=mix(colorMatcap,colorLight + d * 0.1,uShowLight);\n  color=mix(color,vec3(vColor),uShowContact);\n\n  color = blendAdd(color, vec3(min(1., 0.25 + min(0.6, light))));\n  \n  gl_FragColor=vec4(color,1.-vEdge);\n  gl_FragColor*=uAlpha;\n  // gl_FragColor += d * 0.75;\n  // gl_FragColor += light;\n  // gl_FragColor=vec4(vec3(vEdge),1.);\n  \n  // gl_FragColor=vec4(1.);\n  \n  // gl_FragColor.rgb*=1.-lightDebug;\n  // gl_FragColor.rgb *= ;\n  // gl_FragColor.rgb*=(1.-light*.8);\n  // gl_FragColor.rgb= vec3(lightDebug);\n}\n"),this.matcapTexture=Of.get("matcap2"),this.time=0,this.mesh=uu.Geom.plane(1,1,80,"xz"),this.visible=!0}_init(){}render(t,e={},n,r={},i){this.rotationX=t.rotation.x,this.rotationY=t.rotation.y,this.rotationZ=t.rotation.z,this.x=t.position.x*(1+3*(1-i)),this.y=t.position.y*(1+3*(1-i)),this.z=t.position.z*(1+3*(1-i)),this.shader.bind(),this.shader.uniform("uIntersection","vec3",[void 0!==r.x?r.x:9999,void 0!==r.y?r.y:9999,void 0!==r.z?r.z:9999]),this.time+=.05,this.shader.uniform("uTexture","uniform1i",0),this.matcapTexture.bind(0),this.shader.uniform("uTime","float",this.time),this.shader.uniform("uAlpha","float",i),this.shader.uniform("uSpread","float",Uf.interaction.spread),this.shader.uniform("uShowContact","float",Uf.interaction.showContact?1:0),this.shader.uniform("uShowLight","float",Uf.interaction.showLight?1:0),this.shader.uniform("uAmount","float",Uf.interaction.amount*n),this.shader.uniform("uScale","vec2",[t.scale.x,t.scale.z]),this.shader.uniform("uCameraPos","vec3",[t.camera.x,t.camera.y,t.camera.z]),this.shader.uniform("uLightWorldPosition","vec3",[e.x,e.y,e.z]),this.shader.uniform("uNoise","vec2",[Uf.noise.value,Uf.noise.scale]),this.shader.uniform("uFadeEdge","vec2",[t.fadeX||0,t.fadeZ||0]);const s=[0,0,0,0],a=[0,0,0,0];for(let e=0;e<t.waves.length;e++){const n=t.waves[e];s[e]=n.speed,a[e]=n.offset,this.shader.uniform("uWave"+(e+1),"vec4",[n.directionX,n.directionY,n.steepness,n.waveLength])}this.shader.uniform("uSpeed","vec4",s),this.shader.uniform("uOffset","vec4",a),aa.rotate(this._matrix),aa.draw(this.mesh)}}var Bf=Df;const Xf=(t,e,n=1,r=1,i=0)=>{const s=t._fov,a=Vf(e)-i,o=2*Math.tan(s/2)*a;return{scaleX:n/(1/(o*aa.aspectRatio)),scaleY:r/(1/o)}},Vf=t=>isNaN(t)?t.radius.targetValue:t;class Gf extends uu.View3D{constructor(t){super("// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 uPosition;\nuniform vec2 uScale;\nuniform vec2 uAspectRatio;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\n    vec3 cameraRight = vec3(\n\n        \n        uViewMatrix[0].x, uViewMatrix[1].x, uViewMatrix[2].x\n    );\n    vec3 cameraUp = vec3(\n        uViewMatrix[0].y, uViewMatrix[1].y, uViewMatrix[2].y\n    );\n\n    vec3 pos = uPosition + (cameraRight * uScale.x * aVertexPosition.x) + (cameraUp * uScale.y * aVertexPosition.y);\n\n    gl_Position = uProjectionMatrix * uViewMatrix * vec4(pos, 1.0);\n\n    // vec3 pos = uPosition;\n    //     gl_Position =  uProjectionMatrix * uViewMatrix * vec4(pos, 1.0);\n    //     gl_Position /= gl_Position.w;\n    //     gl_Position.xy += (aVertexPosition.xy * vec2(1., uAspectRatio) * uScale * 1.);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}","// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n\n    float p = distance(vTextureCoord,vec2(0.5));\n\n    // vec3 color = mix(vec3(1.), vec3(145./255., 95./255., 88./255.), pow(p, .75));\n    vec3 color = mix(vec3(1.), vec3(204./255., 160./255., 155./255.), pow(p, .75));\n\n    gl_FragColor = vec4(color, 1.);\n}"),this.scene=t,this.time=0,this.mesh=uu.Geom.plane(1,1,1),this.scaleX=1,this.scaleY=1,this.z=0}_init(){}render(){this.shader.bind(),this.shader.uniform("uScale","vec2",[this.scaleX,this.scaleY]),this.shader.uniform("uAspectRatio","vec2",[window.innerWidth,window.innerHeight]),this.shader.uniform("uPosition","vec3",[0,0,this.z]),aa.draw(this.mesh)}resize(){Math.max(window.innerWidth,window.innerHeight);const{scaleX:t,scaleY:e}=((t,e,n,r,i)=>{const{scaleX:s,scaleY:a}=Xf(r,i,t/window.innerWidth,e/window.innerHeight,n);return{scaleX:s,scaleY:a}})(window.innerWidth,window.innerHeight,this.z,this.scene.camera,this.scene.orbitalControl);this.scaleX=t,this.scaleY=e}}var kf=Gf;var zf=class extends au{constructor(){super(uu.ShaderLibs.bigTriangleVert,"// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nuniform sampler2D texture;\n\nuniform float uOpacity;\n// uniform vec2 uScreenSize;\nuniform float time;\nvarying vec2 vTextureCoord;\n\n      \n      float blendSoftLight(float base,float blend){\n        return(blend<.5)?(2.*base*blend+base*base*(1.-2.*blend)):(sqrt(base)*(2.*blend-1.)+2.*base*(1.-blend));\n      }\n      \n      vec3 blendSoftLight(vec3 base,vec3 blend){\n        return vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));\n      }\n      \n      vec3 blendSoftLight(vec3 base,vec3 blend,float opacity){\n        return(blendSoftLight(base,blend)*opacity+base*(1.-opacity));\n      }\n      \n      float blendAdd(float base,float blend){\n        return min(base+blend,1.);\n      }\n      \n      vec3 blendAdd(vec3 base,vec3 blend){\n        return min(base+blend,vec3(1.));\n      }\n      \n      vec3 blendAdd(vec3 base,vec3 blend,float opacity){\n        return(blendAdd(base,blend)*opacity+base*(1.-opacity));\n      }\n      \n      float random(vec2 st){\n        return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n      }\n      \n      float mapValue(float value,float min1,float max1,float min2,float max2){\n        return min2+(value-min1)*(max2-min2)/(max1-min1);\n      }\n      \n      void main(){\n        \n        // vec2 uv=(vTextureCoord);\n        // // vec2 u= mod(vTextureCoord * 10.);\n        // float division=mapValue(uScale,0.,1.,.00001,.01);\n        // float u=floor(uv.x/division);\n        // u=u*division;\n        \n        // float v=floor(uv.y/division);\n        // v=v*division;\n        // float u=step(uv.x,.5);\n        // float g=random(vec2(u, v)+time);\n        \n        float g=random(vTextureCoord+vec2(time));\n        vec3 colorBase=texture2D(texture,vTextureCoord).rgb;\n        vec3 color=mix(colorBase,blendSoftLight(colorBase,vec3(g)),uOpacity);\n\n        gl_FragColor=vec4(color,1.);\n        // gl_FragColor=vec4(vec3(u),1.);\n      }\n      "),this.isMobile=aa.isMobile}_init(){this.mesh=uu.Geom.bigTriangle(),this.time=0}render(t){this.time+=.01,this.time%=100,this.shader.bind(),this.shader.uniform("texture","uniform1i",0),t.bind(0),this.shader.uniform("uOpacity","float",this.isMobile?.08:.12),this.shader.uniform("time","float",this.time),aa.draw(this.mesh)}};class Hf extends uu.View3D{constructor(t){super("// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat3 uNormalMatrix;\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\n\t// vec3 smoothNormal = normalize(aVertexPosition.xyz);\n\t// float percentageSmooth = 1.;\n\t// vNormal       = normalize(vec3(uNormalMatrix * vec4(mix(aNormal, smoothNormal, percentageSmooth), 0.0)));\n\t// vNormal       = mix(aNormal, smoothNormal, percentageSmooth);\n\tvNormal = uNormalMatrix * aNormal;\n\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    // vNormal = aNormal;\n}","// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nuniform sampler2D texture;\nuniform vec3 uLightPos;\nuniform float uAlpha;\n\nfloat diffuse(vec3 n,vec3 l){\n  float d=dot(normalize(n),normalize(l));\n  return max(d,0.);\n}\n\nfloat diffuse(vec3 n,vec3 l,float t){\n  float d=dot(normalize(n),normalize(l));\n  return mix(1.,max(d,0.),t);\n}\n\nvoid main(void) {\n    float d = abs(diffuse(normalize(vNormal), uLightPos, .7)) + 0.2;\n\n    gl_FragColor = texture2D(texture, vTextureCoord);\n    gl_FragColor.rgb += 0.05;\n    gl_FragColor.rgb *= (1. + d);\n    gl_FragColor *= uAlpha;\n}"),this.scene=t,this.mouseX=0,this.mouseY=0,this.time=0,this.alpha=0,this.texture=Of.get("base"),this.mesh=Of.get("oreo")}_init(){}render(t,e,n){this.shader.bind(),n>.01&&this.alpha<1&&(this.alpha=1,this.shader.uniform("uAlpha","float",this.alpha)),this.time++,this.mouseX+=.03*(e.x-this.mouseX),this.mouseY+=.03*(e.y-this.mouseY),this.x=Uf.tooth.position.x+1.2*this.mouseX,this.y=Uf.tooth.position.y+.5*Math.cos(this.time/50)+1.5*this.mouseY+10*(1-n),this.z=Uf.tooth.position.z+1.2*this.mouseX,this.scaleX=.1*Uf.tooth.scale.x,this.scaleY=.1*Uf.tooth.scale.y,this.scaleZ=.1*Uf.tooth.scale.z,this.rotationX=Uf.tooth.rotation.x+.1*Math.sin(this.time/50)-this.mouseY*Math.PI/6+(1-n)*Math.PI*2,this.rotationY=Uf.tooth.rotation.y-this.mouseX*Math.PI/4,this.rotationZ=Uf.tooth.rotation.z+.1*Math.cos(this.time/100)+(1-n)*Math.PI*2,this.shader.uniform("uLightPos","vec3",[t.x,t.y,t.z]),this.shader.uniform("texture","uniform1i",0),this.texture.bind(0),aa.rotate(this._matrix),aa.draw(this.mesh)}resize(){}}var Yf=Hf;const jf=(t,e)=>{var n=document.createElement("a"),r=(t=>{for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),i=r.length,s=new Uint8Array(i);i--;)s[i]=r.charCodeAt(i);return new Blob([s],{type:n})})(t.toDataURL({format:"png",multiplier:4})),i=URL.createObjectURL(r);n.download=e+".png",n.href=i,n.click()},Wf=(t,e,n,r,i)=>(t-e)/(n-e)*(i-r)+r;var qf=class extends Jo{constructor(){super(),aa.enableAlphaBlending(),this.resize()}_initTextures(){console.log("init textures")}_initViews(){this.transition=0,this.first=!0,console.log("init views"),this.orbitalControl.lock(),this.orbitalControl.rx.setTo(.3),this.orbitalControl.ry.setTo(.3),this.orbitalControl.radius.setTo(20);const t={minFilter:aa.LINEAR,magFilter:aa.LINEAR};this.fboNoise=new uu.FrameBuffer(aa.width,aa.height,t),this.isMoving=!1,this.lastIntersect={x:0,y:0,z:0},this.displacementAmount=0,this.targetDisplacementAmount=0,this.lightPos={x:0,y:0,z:-12},this.targetLightPos={x:0,y:0,z:-12},this.tick=0,this.tickZ=0,this.mouse={x:0,y:0},this.time=0,this.getPlanesFromConfig(),this.interactionPlanes=[],this._bCopy=new uu.BatchCopy,this._bAxis=new uu.BatchAxis,this._bDots=new uu.BatchDotsPlane,this.sphere=new uu.BatchBall,this.sphereLight=new uu.BatchBall,this._vNoise=new zf,this._vTooth=new Yf,this._vBackground=new kf(this),setTimeout(()=>{If.to(this,6,{transition:1,ease:"circ.out"})},1e3),window.addEventListener("mousemove",this.onMouseMove.bind(this),!1),window.addEventListener("touchmove",this.onMouseMove.bind(this),!1)}onMouseMove(t){t.changedTouches&&t.changedTouches.length&&(t.x=t.changedTouches[0].pageX,t.y=t.changedTouches[0].pageY),void 0===t.x&&(t.x=t.pageX,t.y=t.pageY),this.isMoving=!0,this.tickZ++,this.mouse.x=t.x/window.innerWidth*2-1,this.mouse.y=-t.y/window.innerHeight*2+1;window.innerHeight,window.innerWidth;this.targetLightPos.y=Wf(this.mouse.y,-1,1,Wf(this.mouse.x,-1,1,-10,0),Wf(this.mouse.x,-1,1,10,7.5)),this.targetLightPos.z=Wf(this.mouse.x,-1,1,Wf(this.mouse.y,-1,1,-12,-18),Wf(this.mouse.y,-1,1,12,8)),this.targetLightPos.x=Wf(this.mouse.x,-1,1,-10,Wf(this.mouse.y,-1,1,0,5)),this.targetDisplacementAmount=1}getPlanesFromConfig(t){t=t||Uf.planes.length,this.planes=[];for(let e=0;e<t;e++){const t=new Bf;this.planes.push(t)}}render(){aa.clear(0,0,0,0),this.orbitalControl.rx.value=.3-.05*this.mouse.y,this.orbitalControl.ry.value=.3+.05*this.mouse.x,this.displacementAmount+=.06*(this.targetDisplacementAmount-this.displacementAmount),this.lightPos.x+=.05*(this.targetLightPos.x-this.lightPos.x),this.lightPos.y+=.05*(this.targetLightPos.y-this.lightPos.y),this.lightPos.z+=.05*(this.targetLightPos.z-this.lightPos.z),this.fboNoise.bind(),aa.clear(0,0,0,1),aa.disable(aa.DEPTH_TEST),this._vBackground.render(),aa.enable(aa.DEPTH_TEST),aa.disable(aa.CULL_FACE),Uf.interaction.debug&&Uf.interaction.showLight&&this.sphereLight.draw([this.lightPos.x,this.lightPos.y,this.lightPos.z],[.1,.1,.1],[1,0,0]),this.tick++;const t={};for(let e=0;e<this.planes.length;e++){const n=this.planes[e],r=Uf.planes[e];r.visible&&n.render(r,this.lightPos,this.displacementAmount,t,this.transition)}aa.enable(aa.CULL_FACE),this._vTooth.render(this.lightPos,this.mouse,this.transition),this.fboNoise.unbind(),this.isMoving||(this.targetDisplacementAmount*=.96),this.isMoving=!1,this.first||this._vNoise.render(this.fboNoise.getTexture(0)),this.first=!1}resize(t,e){((t,e)=>{const{innerWidth:n,innerHeight:r}=window,i=Math.min(window.devicePixelRatio,1.5);t=i*(t||n),e=i*(e||r),aa.setSize(t,e);let s=Math.min(t,n),a=Math.min(e,r);const o=n/t,u=r/e,h=Math.min(o,u);s=t*h,a=e*h,aa.canvas.style.width=s+"px",aa.canvas.style.height=a+"px"})(),this.camera.setAspectRatio(aa.aspectRatio),this._vBackground.resize();const n={minFilter:aa.LINEAR,magFilter:aa.LINEAR};this.fboNoise=new uu.FrameBuffer(aa.width,aa.height,n)}},Zf=n(2),Kf=n.n(Zf);Kf.a.queryString=n(19);n(21);String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)};window.addEventListener("keydown",t=>{if(83===t.keyCode&&t.metaKey){t.preventDefault();const e=new Date;let n=e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate()+"-"+e.getHours()+"."+e.getMinutes()+"."+e.getSeconds();jf(aa.canvas,n)}});var Qf=n(6),$f=n.n(Qf);const Jf=()=>new Promise((t,e)=>{const n=document.createElement("img");n.onload=()=>{console.log("img loaded",n),t(n)},n.src="assets/css-img/loading.png"}),t_=()=>new Promise((t,e)=>{console.log("create loading animation"),t()}),e_=()=>new Promise((t,e)=>{console.log("Load Assets"),Nf.length>0?(document.body.classList.add("isLoading"),new $f.a({assets:Nf}).on("error",t=>{console.log("Error :",t)}).on("progress",t=>{const e=document.body.querySelector(".Loading-Bar");e&&(e.style.width=100*t+"%")}).on("complete",e=>{t(e)}).start()):t([])}),n_=t=>new Promise((e,n)=>{console.log("Init Assets",t),document.body.querySelector(".Loading-Bar").style.width="100%",Of.init(t),e()}),r_=()=>new Promise((t,e)=>{console.log("Close loading animation"),setTimeout(()=>{document.body.classList.remove("isLoading")},250),setTimeout(()=>{t()},500)});var i_=()=>new Promise((t,e)=>{new Promise((t,e)=>{const n=document.createElement("canvas"),r=document.body.querySelector(".container");n.className="Main-Canvas",r.appendChild(n),aa.init(n,{ignoreWebgl2:!1,preserveDrawingBuffer:!0}),t()}).then(Jf).then(t_).then(e_).then(n_).then(r_).then(()=>{t()}).catch(t=>{console.log("Error",t)})});function s_(){i_().then(o_,a_)}function a_(t){console.log("Error",t)}function o_(){console.log("IS_DEVELOPMENT",!1);new qf}document.body?s_():window.addEventListener("DOMContentLoaded",s_)}]);