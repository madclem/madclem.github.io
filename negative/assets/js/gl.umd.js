(function (we, Gn) {
  typeof exports == "object" && typeof module != "undefined"
    ? Gn(exports)
    : typeof define == "function" && define.amd
    ? define(["exports"], Gn)
    : ((we = typeof globalThis != "undefined" ? globalThis : we || self),
      Gn((we.WebGLAnimation = {})));
})(this, function (we) {
  "use strict";
  function Gn(r) {
    var t = this.constructor;
    return this.then(
      function (e) {
        return t.resolve(r()).then(function () {
          return e;
        });
      },
      function (e) {
        return t.resolve(r()).then(function () {
          return t.reject(e);
        });
      }
    );
  }
  function Yy(r) {
    var t = this;
    return new t(function (e, i) {
      if (!(r && typeof r.length != "undefined"))
        return i(
          new TypeError(
            typeof r +
              " " +
              r +
              " is not iterable(cannot read property Symbol(Symbol.iterator))"
          )
        );
      var n = Array.prototype.slice.call(r);
      if (n.length === 0) return e([]);
      var s = n.length;
      function o(h, f) {
        if (f && (typeof f == "object" || typeof f == "function")) {
          var p = f.then;
          if (typeof p == "function") {
            p.call(
              f,
              function (v) {
                o(h, v);
              },
              function (v) {
                (n[h] = { status: "rejected", reason: v }), --s === 0 && e(n);
              }
            );
            return;
          }
        }
        (n[h] = { status: "fulfilled", value: f }), --s === 0 && e(n);
      }
      for (var l = 0; l < n.length; l++) o(l, n[l]);
    });
  }
  var qy = setTimeout;
  function Fc(r) {
    return Boolean(r && typeof r.length != "undefined");
  }
  function Ky() {}
  function Zy(r, t) {
    return function () {
      r.apply(t, arguments);
    };
  }
  function jt(r) {
    if (!(this instanceof jt))
      throw new TypeError("Promises must be constructed via new");
    if (typeof r != "function") throw new TypeError("not a function");
    (this._state = 0),
      (this._handled = !1),
      (this._value = void 0),
      (this._deferreds = []),
      Bc(r, this);
  }
  function kc(r, t) {
    for (; r._state === 3; ) r = r._value;
    if (r._state === 0) {
      r._deferreds.push(t);
      return;
    }
    (r._handled = !0),
      jt._immediateFn(function () {
        var e = r._state === 1 ? t.onFulfilled : t.onRejected;
        if (e === null) {
          (r._state === 1 ? Ga : Mn)(t.promise, r._value);
          return;
        }
        var i;
        try {
          i = e(r._value);
        } catch (n) {
          Mn(t.promise, n);
          return;
        }
        Ga(t.promise, i);
      });
  }
  function Ga(r, t) {
    try {
      if (t === r)
        throw new TypeError("A promise cannot be resolved with itself.");
      if (t && (typeof t == "object" || typeof t == "function")) {
        var e = t.then;
        if (t instanceof jt) {
          (r._state = 3), (r._value = t), Ma(r);
          return;
        } else if (typeof e == "function") {
          Bc(Zy(e, t), r);
          return;
        }
      }
      (r._state = 1), (r._value = t), Ma(r);
    } catch (i) {
      Mn(r, i);
    }
  }
  function Mn(r, t) {
    (r._state = 2), (r._value = t), Ma(r);
  }
  function Ma(r) {
    r._state === 2 &&
      r._deferreds.length === 0 &&
      jt._immediateFn(function () {
        r._handled || jt._unhandledRejectionFn(r._value);
      });
    for (var t = 0, e = r._deferreds.length; t < e; t++) kc(r, r._deferreds[t]);
    r._deferreds = null;
  }
  function Jy(r, t, e) {
    (this.onFulfilled = typeof r == "function" ? r : null),
      (this.onRejected = typeof t == "function" ? t : null),
      (this.promise = e);
  }
  function Bc(r, t) {
    var e = !1;
    try {
      r(
        function (i) {
          e || ((e = !0), Ga(t, i));
        },
        function (i) {
          e || ((e = !0), Mn(t, i));
        }
      );
    } catch (i) {
      if (e) return;
      (e = !0), Mn(t, i);
    }
  }
  (jt.prototype.catch = function (r) {
    return this.then(null, r);
  }),
    (jt.prototype.then = function (r, t) {
      var e = new this.constructor(Ky);
      return kc(this, new Jy(r, t, e)), e;
    }),
    (jt.prototype.finally = Gn),
    (jt.all = function (r) {
      return new jt(function (t, e) {
        if (!Fc(r)) return e(new TypeError("Promise.all accepts an array"));
        var i = Array.prototype.slice.call(r);
        if (i.length === 0) return t([]);
        var n = i.length;
        function s(l, h) {
          try {
            if (h && (typeof h == "object" || typeof h == "function")) {
              var f = h.then;
              if (typeof f == "function") {
                f.call(
                  h,
                  function (p) {
                    s(l, p);
                  },
                  e
                );
                return;
              }
            }
            (i[l] = h), --n === 0 && t(i);
          } catch (p) {
            e(p);
          }
        }
        for (var o = 0; o < i.length; o++) s(o, i[o]);
      });
    }),
    (jt.allSettled = Yy),
    (jt.resolve = function (r) {
      return r && typeof r == "object" && r.constructor === jt
        ? r
        : new jt(function (t) {
            t(r);
          });
    }),
    (jt.reject = function (r) {
      return new jt(function (t, e) {
        e(r);
      });
    }),
    (jt.race = function (r) {
      return new jt(function (t, e) {
        if (!Fc(r)) return e(new TypeError("Promise.race accepts an array"));
        for (var i = 0, n = r.length; i < n; i++) jt.resolve(r[i]).then(t, e);
      });
    }),
    (jt._immediateFn =
      (typeof setImmediate == "function" &&
        function (r) {
          setImmediate(r);
        }) ||
      function (r) {
        qy(r, 0);
      }),
    (jt._unhandledRejectionFn = function (t) {
      typeof console != "undefined" &&
        console &&
        console.warn("Possible Unhandled Promise Rejection:", t);
    });
  var Ys =
    typeof globalThis != "undefined"
      ? globalThis
      : typeof window != "undefined"
      ? window
      : typeof global != "undefined"
      ? global
      : typeof self != "undefined"
      ? self
      : {};
  function Qy(r) {
    if (r.__esModule) return r;
    var t = Object.defineProperty({}, "__esModule", { value: !0 });
    return (
      Object.keys(r).forEach(function (e) {
        var i = Object.getOwnPropertyDescriptor(r, e);
        Object.defineProperty(
          t,
          e,
          i.get
            ? i
            : {
                enumerable: !0,
                get: function () {
                  return r[e];
                },
              }
        );
      }),
      t
    );
  }
  /*
object-assign
(c) Sindre Sorhus
@license MIT
*/ var Gc = Object.getOwnPropertySymbols,
    tb = Object.prototype.hasOwnProperty,
    eb = Object.prototype.propertyIsEnumerable;
  function rb(r) {
    if (r == null)
      throw new TypeError(
        "Object.assign cannot be called with null or undefined"
      );
    return Object(r);
  }
  function ib() {
    try {
      if (!Object.assign) return !1;
      var r = new String("abc");
      if (((r[5] = "de"), Object.getOwnPropertyNames(r)[0] === "5")) return !1;
      for (var t = {}, e = 0; e < 10; e++) t["_" + String.fromCharCode(e)] = e;
      var i = Object.getOwnPropertyNames(t).map(function (s) {
        return t[s];
      });
      if (i.join("") !== "0123456789") return !1;
      var n = {};
      return (
        "abcdefghijklmnopqrst".split("").forEach(function (s) {
          n[s] = s;
        }),
        Object.keys(Object.assign({}, n)).join("") === "abcdefghijklmnopqrst"
      );
    } catch {
      return !1;
    }
  }
  var Mc = ib()
    ? Object.assign
    : function (r, t) {
        for (var e, i = rb(r), n, s = 1; s < arguments.length; s++) {
          e = Object(arguments[s]);
          for (var o in e) tb.call(e, o) && (i[o] = e[o]);
          if (Gc) {
            n = Gc(e);
            for (var l = 0; l < n.length; l++)
              eb.call(e, n[l]) && (i[n[l]] = e[n[l]]);
          }
        }
        return i;
      };
  /*!
   * @pixi/polyfill - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/polyfill is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ typeof globalThis == "undefined" &&
    (typeof self != "undefined"
      ? (self.globalThis = self)
      : typeof global != "undefined" && (global.globalThis = global)),
    globalThis.Promise || (globalThis.Promise = jt),
    Object.assign || (Object.assign = Mc);
  var nb = 16;
  if (
    ((Date.now && Date.prototype.getTime) ||
      (Date.now = function () {
        return new Date().getTime();
      }),
    !(globalThis.performance && globalThis.performance.now))
  ) {
    var sb = Date.now();
    globalThis.performance || (globalThis.performance = {}),
      (globalThis.performance.now = function () {
        return Date.now() - sb;
      });
  }
  for (
    var Da = Date.now(), Dc = ["ms", "moz", "webkit", "o"], Va = 0;
    Va < Dc.length && !globalThis.requestAnimationFrame;
    ++Va
  ) {
    var Ha = Dc[Va];
    (globalThis.requestAnimationFrame =
      globalThis[Ha + "RequestAnimationFrame"]),
      (globalThis.cancelAnimationFrame =
        globalThis[Ha + "CancelAnimationFrame"] ||
        globalThis[Ha + "CancelRequestAnimationFrame"]);
  }
  globalThis.requestAnimationFrame ||
    (globalThis.requestAnimationFrame = function (r) {
      if (typeof r != "function") throw new TypeError(r + "is not a function");
      var t = Date.now(),
        e = nb + Da - t;
      return (
        e < 0 && (e = 0),
        (Da = t),
        globalThis.self.setTimeout(function () {
          (Da = Date.now()), r(performance.now());
        }, e)
      );
    }),
    globalThis.cancelAnimationFrame ||
      (globalThis.cancelAnimationFrame = function (r) {
        return clearTimeout(r);
      }),
    Math.sign ||
      (Math.sign = function (t) {
        return (t = Number(t)), t === 0 || isNaN(t) ? t : t > 0 ? 1 : -1;
      }),
    Number.isInteger ||
      (Number.isInteger = function (t) {
        return typeof t == "number" && isFinite(t) && Math.floor(t) === t;
      }),
    globalThis.ArrayBuffer || (globalThis.ArrayBuffer = Array),
    globalThis.Float32Array || (globalThis.Float32Array = Array),
    globalThis.Uint32Array || (globalThis.Uint32Array = Array),
    globalThis.Uint16Array || (globalThis.Uint16Array = Array),
    globalThis.Uint8Array || (globalThis.Uint8Array = Array),
    globalThis.Int32Array || (globalThis.Int32Array = Array);
  var Xa = /iPhone/i,
    Vc = /iPod/i,
    Hc = /iPad/i,
    Xc = /\biOS-universal(?:.+)Mac\b/i,
    $a = /\bAndroid(?:.+)Mobile\b/i,
    $c = /Android/i,
    Mi = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
    qs = /Silk/i,
    ur = /Windows Phone/i,
    jc = /\bWindows(?:.+)ARM\b/i,
    zc = /BlackBerry/i,
    Wc = /BB10/i,
    Yc = /Opera Mini/i,
    qc = /\b(CriOS|Chrome)(?:.+)Mobile/i,
    Kc = /Mobile(?:.+)Firefox\b/i,
    Zc = function (r) {
      return (
        typeof r != "undefined" &&
        r.platform === "MacIntel" &&
        typeof r.maxTouchPoints == "number" &&
        r.maxTouchPoints > 1 &&
        typeof MSStream == "undefined"
      );
    };
  function ob(r) {
    return function (t) {
      return t.test(r);
    };
  }
  function ab(r) {
    var t = { userAgent: "", platform: "", maxTouchPoints: 0 };
    !r && typeof navigator != "undefined"
      ? (t = {
          userAgent: navigator.userAgent,
          platform: navigator.platform,
          maxTouchPoints: navigator.maxTouchPoints || 0,
        })
      : typeof r == "string"
      ? (t.userAgent = r)
      : r &&
        r.userAgent &&
        (t = {
          userAgent: r.userAgent,
          platform: r.platform,
          maxTouchPoints: r.maxTouchPoints || 0,
        });
    var e = t.userAgent,
      i = e.split("[FBAN");
    typeof i[1] != "undefined" && (e = i[0]),
      (i = e.split("Twitter")),
      typeof i[1] != "undefined" && (e = i[0]);
    var n = ob(e),
      s = {
        apple: {
          phone: n(Xa) && !n(ur),
          ipod: n(Vc),
          tablet: !n(Xa) && (n(Hc) || Zc(t)) && !n(ur),
          universal: n(Xc),
          device: (n(Xa) || n(Vc) || n(Hc) || n(Xc) || Zc(t)) && !n(ur),
        },
        amazon: {
          phone: n(Mi),
          tablet: !n(Mi) && n(qs),
          device: n(Mi) || n(qs),
        },
        android: {
          phone: (!n(ur) && n(Mi)) || (!n(ur) && n($a)),
          tablet: !n(ur) && !n(Mi) && !n($a) && (n(qs) || n($c)),
          device:
            (!n(ur) && (n(Mi) || n(qs) || n($a) || n($c))) || n(/\bokhttp\b/i),
        },
        windows: { phone: n(ur), tablet: n(jc), device: n(ur) || n(jc) },
        other: {
          blackberry: n(zc),
          blackberry10: n(Wc),
          opera: n(Yc),
          firefox: n(Kc),
          chrome: n(qc),
          device: n(zc) || n(Wc) || n(Yc) || n(Kc) || n(qc),
        },
        any: !1,
        phone: !1,
        tablet: !1,
      };
    return (
      (s.any =
        s.apple.device ||
        s.android.device ||
        s.windows.device ||
        s.other.device),
      (s.phone = s.apple.phone || s.android.phone || s.windows.phone),
      (s.tablet = s.apple.tablet || s.android.tablet || s.windows.tablet),
      s
    );
  }
  /*!
   * @pixi/settings - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/settings is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var Ke = ab(globalThis.navigator);
  function lb(r) {
    var t = !0;
    if (Ke.tablet || Ke.phone) {
      if (Ke.apple.device) {
        var e = navigator.userAgent.match(/OS (\d+)_(\d+)?/);
        if (e) {
          var i = parseInt(e[1], 10);
          i < 11 && (t = !1);
        }
      }
      if (Ke.android.device) {
        var e = navigator.userAgent.match(/Android\s([0-9.]*)/);
        if (e) {
          var i = parseInt(e[1], 10);
          i < 7 && (t = !1);
        }
      }
    }
    return t ? r : 4;
  }
  function ub() {
    return !Ke.apple.device;
  }
  /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var Jc;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(Jc || (Jc = {}));
  var Qc;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })(Qc || (Qc = {}));
  var tf;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(tf || (tf = {}));
  var ef;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(ef || (ef = {}));
  var rf;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(rf || (rf = {}));
  var nf;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })(nf || (nf = {}));
  var sf;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })(sf || (sf = {}));
  var of;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(of || (of = {}));
  var af;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(af || (af = {}));
  var ja;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(ja || (ja = {}));
  var za;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(za || (za = {}));
  var Wa;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(Wa || (Wa = {}));
  var lf;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(lf || (lf = {}));
  var uf;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(uf || (uf = {}));
  var Ya;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(Ya || (Ya = {}));
  var Dn;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(Dn || (Dn = {}));
  var hf;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(hf || (hf = {}));
  var qa;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(qa || (qa = {}));
  var cf;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(cf || (cf = {}));
  var Q = {
      MIPMAP_TEXTURES: Wa.POW2,
      ANISOTROPIC_LEVEL: 0,
      RESOLUTION: 1,
      FILTER_RESOLUTION: 1,
      FILTER_MULTISAMPLE: qa.NONE,
      SPRITE_MAX_TEXTURES: lb(32),
      SPRITE_BATCH_SIZE: 4096,
      RENDER_OPTIONS: {
        view: null,
        antialias: !1,
        autoDensity: !1,
        backgroundColor: 0,
        backgroundAlpha: 1,
        useContextAlpha: !0,
        clearBeforeRender: !0,
        preserveDrawingBuffer: !1,
        width: 800,
        height: 600,
        legacy: !1,
      },
      GC_MODE: Ya.AUTO,
      GC_MAX_IDLE: 60 * 60,
      GC_MAX_CHECK_COUNT: 60 * 10,
      WRAP_MODE: za.CLAMP,
      SCALE_MODE: ja.LINEAR,
      PRECISION_VERTEX: Dn.HIGH,
      PRECISION_FRAGMENT: Ke.apple.device ? Dn.HIGH : Dn.MEDIUM,
      CAN_UPLOAD_SAME_BUFFER: ub(),
      CREATE_IMAGE_BITMAP: !1,
      ROUND_PIXELS: !1,
    },
    ff = { exports: {} };
  (function (r) {
    var t = Object.prototype.hasOwnProperty,
      e = "~";
    function i() {}
    Object.create &&
      ((i.prototype = Object.create(null)), new i().__proto__ || (e = !1));
    function n(h, f, p) {
      (this.fn = h), (this.context = f), (this.once = p || !1);
    }
    function s(h, f, p, v, _) {
      if (typeof p != "function")
        throw new TypeError("The listener must be a function");
      var m = new n(p, v || h, _),
        g = e ? e + f : f;
      return (
        h._events[g]
          ? h._events[g].fn
            ? (h._events[g] = [h._events[g], m])
            : h._events[g].push(m)
          : ((h._events[g] = m), h._eventsCount++),
        h
      );
    }
    function o(h, f) {
      --h._eventsCount === 0 ? (h._events = new i()) : delete h._events[f];
    }
    function l() {
      (this._events = new i()), (this._eventsCount = 0);
    }
    (l.prototype.eventNames = function () {
      var f = [],
        p,
        v;
      if (this._eventsCount === 0) return f;
      for (v in (p = this._events)) t.call(p, v) && f.push(e ? v.slice(1) : v);
      return Object.getOwnPropertySymbols
        ? f.concat(Object.getOwnPropertySymbols(p))
        : f;
    }),
      (l.prototype.listeners = function (f) {
        var p = e ? e + f : f,
          v = this._events[p];
        if (!v) return [];
        if (v.fn) return [v.fn];
        for (var _ = 0, m = v.length, g = new Array(m); _ < m; _++)
          g[_] = v[_].fn;
        return g;
      }),
      (l.prototype.listenerCount = function (f) {
        var p = e ? e + f : f,
          v = this._events[p];
        return v ? (v.fn ? 1 : v.length) : 0;
      }),
      (l.prototype.emit = function (f, p, v, _, m, g) {
        var y = e ? e + f : f;
        if (!this._events[y]) return !1;
        var b = this._events[y],
          w = arguments.length,
          C,
          T;
        if (b.fn) {
          switch ((b.once && this.removeListener(f, b.fn, void 0, !0), w)) {
            case 1:
              return b.fn.call(b.context), !0;
            case 2:
              return b.fn.call(b.context, p), !0;
            case 3:
              return b.fn.call(b.context, p, v), !0;
            case 4:
              return b.fn.call(b.context, p, v, _), !0;
            case 5:
              return b.fn.call(b.context, p, v, _, m), !0;
            case 6:
              return b.fn.call(b.context, p, v, _, m, g), !0;
          }
          for (T = 1, C = new Array(w - 1); T < w; T++) C[T - 1] = arguments[T];
          b.fn.apply(b.context, C);
        } else {
          var A = b.length,
            I;
          for (T = 0; T < A; T++)
            switch (
              (b[T].once && this.removeListener(f, b[T].fn, void 0, !0), w)
            ) {
              case 1:
                b[T].fn.call(b[T].context);
                break;
              case 2:
                b[T].fn.call(b[T].context, p);
                break;
              case 3:
                b[T].fn.call(b[T].context, p, v);
                break;
              case 4:
                b[T].fn.call(b[T].context, p, v, _);
                break;
              default:
                if (!C)
                  for (I = 1, C = new Array(w - 1); I < w; I++)
                    C[I - 1] = arguments[I];
                b[T].fn.apply(b[T].context, C);
            }
        }
        return !0;
      }),
      (l.prototype.on = function (f, p, v) {
        return s(this, f, p, v, !1);
      }),
      (l.prototype.once = function (f, p, v) {
        return s(this, f, p, v, !0);
      }),
      (l.prototype.removeListener = function (f, p, v, _) {
        var m = e ? e + f : f;
        if (!this._events[m]) return this;
        if (!p) return o(this, m), this;
        var g = this._events[m];
        if (g.fn)
          g.fn === p && (!_ || g.once) && (!v || g.context === v) && o(this, m);
        else {
          for (var y = 0, b = [], w = g.length; y < w; y++)
            (g[y].fn !== p || (_ && !g[y].once) || (v && g[y].context !== v)) &&
              b.push(g[y]);
          b.length ? (this._events[m] = b.length === 1 ? b[0] : b) : o(this, m);
        }
        return this;
      }),
      (l.prototype.removeAllListeners = function (f) {
        var p;
        return (
          f
            ? ((p = e ? e + f : f), this._events[p] && o(this, p))
            : ((this._events = new i()), (this._eventsCount = 0)),
          this
        );
      }),
      (l.prototype.off = l.prototype.removeListener),
      (l.prototype.addListener = l.prototype.on),
      (l.prefixed = e),
      (l.EventEmitter = l),
      (r.exports = l);
  })(ff);
  var Di = ff.exports,
    Ka = { exports: {} };
  (Ka.exports = Ks), (Ka.exports.default = Ks);
  function Ks(r, t, e) {
    e = e || 2;
    var i = t && t.length,
      n = i ? t[0] * e : r.length,
      s = pf(r, 0, n, e, !0),
      o = [];
    if (!s || s.next === s.prev) return o;
    var l, h, f, p, v, _, m;
    if ((i && (s = db(r, t, s, e)), r.length > 80 * e)) {
      (l = f = r[0]), (h = p = r[1]);
      for (var g = e; g < n; g += e)
        (v = r[g]),
          (_ = r[g + 1]),
          v < l && (l = v),
          _ < h && (h = _),
          v > f && (f = v),
          _ > p && (p = _);
      (m = Math.max(f - l, p - h)), (m = m !== 0 ? 1 / m : 0);
    }
    return Vn(s, o, e, l, h, m), o;
  }
  function pf(r, t, e, i, n) {
    var s, o;
    if (n === Qa(r, t, e, i) > 0)
      for (s = t; s < e; s += i) o = _f(s, r[s], r[s + 1], o);
    else for (s = e - i; s >= t; s -= i) o = _f(s, r[s], r[s + 1], o);
    return o && Zs(o, o.next) && (Xn(o), (o = o.next)), o;
  }
  function Ar(r, t) {
    if (!r) return r;
    t || (t = r);
    var e = r,
      i;
    do
      if (
        ((i = !1), !e.steiner && (Zs(e, e.next) || Mt(e.prev, e, e.next) === 0))
      ) {
        if ((Xn(e), (e = t = e.prev), e === e.next)) break;
        i = !0;
      } else e = e.next;
    while (i || e !== t);
    return t;
  }
  function Vn(r, t, e, i, n, s, o) {
    if (!!r) {
      !o && s && yb(r, i, n, s);
      for (var l = r, h, f; r.prev !== r.next; ) {
        if (((h = r.prev), (f = r.next), s ? cb(r, i, n, s) : hb(r))) {
          t.push(h.i / e),
            t.push(r.i / e),
            t.push(f.i / e),
            Xn(r),
            (r = f.next),
            (l = f.next);
          continue;
        }
        if (((r = f), r === l)) {
          o
            ? o === 1
              ? ((r = fb(Ar(r), t, e)), Vn(r, t, e, i, n, s, 2))
              : o === 2 && pb(r, t, e, i, n, s)
            : Vn(Ar(r), t, e, i, n, s, 1);
          break;
        }
      }
    }
  }
  function hb(r) {
    var t = r.prev,
      e = r,
      i = r.next;
    if (Mt(t, e, i) >= 0) return !1;
    for (var n = r.next.next; n !== r.prev; ) {
      if (
        Vi(t.x, t.y, e.x, e.y, i.x, i.y, n.x, n.y) &&
        Mt(n.prev, n, n.next) >= 0
      )
        return !1;
      n = n.next;
    }
    return !0;
  }
  function cb(r, t, e, i) {
    var n = r.prev,
      s = r,
      o = r.next;
    if (Mt(n, s, o) >= 0) return !1;
    for (
      var l = n.x < s.x ? (n.x < o.x ? n.x : o.x) : s.x < o.x ? s.x : o.x,
        h = n.y < s.y ? (n.y < o.y ? n.y : o.y) : s.y < o.y ? s.y : o.y,
        f = n.x > s.x ? (n.x > o.x ? n.x : o.x) : s.x > o.x ? s.x : o.x,
        p = n.y > s.y ? (n.y > o.y ? n.y : o.y) : s.y > o.y ? s.y : o.y,
        v = Za(l, h, t, e, i),
        _ = Za(f, p, t, e, i),
        m = r.prevZ,
        g = r.nextZ;
      m && m.z >= v && g && g.z <= _;

    ) {
      if (
        (m !== r.prev &&
          m !== r.next &&
          Vi(n.x, n.y, s.x, s.y, o.x, o.y, m.x, m.y) &&
          Mt(m.prev, m, m.next) >= 0) ||
        ((m = m.prevZ),
        g !== r.prev &&
          g !== r.next &&
          Vi(n.x, n.y, s.x, s.y, o.x, o.y, g.x, g.y) &&
          Mt(g.prev, g, g.next) >= 0)
      )
        return !1;
      g = g.nextZ;
    }
    for (; m && m.z >= v; ) {
      if (
        m !== r.prev &&
        m !== r.next &&
        Vi(n.x, n.y, s.x, s.y, o.x, o.y, m.x, m.y) &&
        Mt(m.prev, m, m.next) >= 0
      )
        return !1;
      m = m.prevZ;
    }
    for (; g && g.z <= _; ) {
      if (
        g !== r.prev &&
        g !== r.next &&
        Vi(n.x, n.y, s.x, s.y, o.x, o.y, g.x, g.y) &&
        Mt(g.prev, g, g.next) >= 0
      )
        return !1;
      g = g.nextZ;
    }
    return !0;
  }
  function fb(r, t, e) {
    var i = r;
    do {
      var n = i.prev,
        s = i.next.next;
      !Zs(n, s) &&
        df(n, i, i.next, s) &&
        Hn(n, s) &&
        Hn(s, n) &&
        (t.push(n.i / e),
        t.push(i.i / e),
        t.push(s.i / e),
        Xn(i),
        Xn(i.next),
        (i = r = s)),
        (i = i.next);
    } while (i !== r);
    return Ar(i);
  }
  function pb(r, t, e, i, n, s) {
    var o = r;
    do {
      for (var l = o.next.next; l !== o.prev; ) {
        if (o.i !== l.i && wb(o, l)) {
          var h = vf(o, l);
          (o = Ar(o, o.next)),
            (h = Ar(h, h.next)),
            Vn(o, t, e, i, n, s),
            Vn(h, t, e, i, n, s);
          return;
        }
        l = l.next;
      }
      o = o.next;
    } while (o !== r);
  }
  function db(r, t, e, i) {
    var n = [],
      s,
      o,
      l,
      h,
      f;
    for (s = 0, o = t.length; s < o; s++)
      (l = t[s] * i),
        (h = s < o - 1 ? t[s + 1] * i : r.length),
        (f = pf(r, l, h, i, !1)),
        f === f.next && (f.steiner = !0),
        n.push(xb(f));
    for (n.sort(vb), s = 0; s < n.length; s++)
      (e = _b(n[s], e)), (e = Ar(e, e.next));
    return e;
  }
  function vb(r, t) {
    return r.x - t.x;
  }
  function _b(r, t) {
    var e = mb(r, t);
    if (!e) return t;
    var i = vf(e, r),
      n = Ar(e, e.next);
    return Ar(i, i.next), t === e ? n : t;
  }
  function mb(r, t) {
    var e = t,
      i = r.x,
      n = r.y,
      s = -1 / 0,
      o;
    do {
      if (n <= e.y && n >= e.next.y && e.next.y !== e.y) {
        var l = e.x + ((n - e.y) * (e.next.x - e.x)) / (e.next.y - e.y);
        if (l <= i && l > s) {
          if (((s = l), l === i)) {
            if (n === e.y) return e;
            if (n === e.next.y) return e.next;
          }
          o = e.x < e.next.x ? e : e.next;
        }
      }
      e = e.next;
    } while (e !== t);
    if (!o) return null;
    if (i === s) return o;
    var h = o,
      f = o.x,
      p = o.y,
      v = 1 / 0,
      _;
    e = o;
    do
      i >= e.x &&
        e.x >= f &&
        i !== e.x &&
        Vi(n < p ? i : s, n, f, p, n < p ? s : i, n, e.x, e.y) &&
        ((_ = Math.abs(n - e.y) / (i - e.x)),
        Hn(e, r) &&
          (_ < v || (_ === v && (e.x > o.x || (e.x === o.x && gb(o, e))))) &&
          ((o = e), (v = _))),
        (e = e.next);
    while (e !== h);
    return o;
  }
  function gb(r, t) {
    return Mt(r.prev, r, t.prev) < 0 && Mt(t.next, r, r.next) < 0;
  }
  function yb(r, t, e, i) {
    var n = r;
    do
      n.z === null && (n.z = Za(n.x, n.y, t, e, i)),
        (n.prevZ = n.prev),
        (n.nextZ = n.next),
        (n = n.next);
    while (n !== r);
    (n.prevZ.nextZ = null), (n.prevZ = null), bb(n);
  }
  function bb(r) {
    var t,
      e,
      i,
      n,
      s,
      o,
      l,
      h,
      f = 1;
    do {
      for (e = r, r = null, s = null, o = 0; e; ) {
        for (o++, i = e, l = 0, t = 0; t < f && (l++, (i = i.nextZ), !!i); t++);
        for (h = f; l > 0 || (h > 0 && i); )
          l !== 0 && (h === 0 || !i || e.z <= i.z)
            ? ((n = e), (e = e.nextZ), l--)
            : ((n = i), (i = i.nextZ), h--),
            s ? (s.nextZ = n) : (r = n),
            (n.prevZ = s),
            (s = n);
        e = i;
      }
      (s.nextZ = null), (f *= 2);
    } while (o > 1);
    return r;
  }
  function Za(r, t, e, i, n) {
    return (
      (r = 32767 * (r - e) * n),
      (t = 32767 * (t - i) * n),
      (r = (r | (r << 8)) & 16711935),
      (r = (r | (r << 4)) & 252645135),
      (r = (r | (r << 2)) & 858993459),
      (r = (r | (r << 1)) & 1431655765),
      (t = (t | (t << 8)) & 16711935),
      (t = (t | (t << 4)) & 252645135),
      (t = (t | (t << 2)) & 858993459),
      (t = (t | (t << 1)) & 1431655765),
      r | (t << 1)
    );
  }
  function xb(r) {
    var t = r,
      e = r;
    do (t.x < e.x || (t.x === e.x && t.y < e.y)) && (e = t), (t = t.next);
    while (t !== r);
    return e;
  }
  function Vi(r, t, e, i, n, s, o, l) {
    return (
      (n - o) * (t - l) - (r - o) * (s - l) >= 0 &&
      (r - o) * (i - l) - (e - o) * (t - l) >= 0 &&
      (e - o) * (s - l) - (n - o) * (i - l) >= 0
    );
  }
  function wb(r, t) {
    return (
      r.next.i !== t.i &&
      r.prev.i !== t.i &&
      !Tb(r, t) &&
      ((Hn(r, t) &&
        Hn(t, r) &&
        Eb(r, t) &&
        (Mt(r.prev, r, t.prev) || Mt(r, t.prev, t))) ||
        (Zs(r, t) && Mt(r.prev, r, r.next) > 0 && Mt(t.prev, t, t.next) > 0))
    );
  }
  function Mt(r, t, e) {
    return (t.y - r.y) * (e.x - t.x) - (t.x - r.x) * (e.y - t.y);
  }
  function Zs(r, t) {
    return r.x === t.x && r.y === t.y;
  }
  function df(r, t, e, i) {
    var n = Qs(Mt(r, t, e)),
      s = Qs(Mt(r, t, i)),
      o = Qs(Mt(e, i, r)),
      l = Qs(Mt(e, i, t));
    return !!(
      (n !== s && o !== l) ||
      (n === 0 && Js(r, e, t)) ||
      (s === 0 && Js(r, i, t)) ||
      (o === 0 && Js(e, r, i)) ||
      (l === 0 && Js(e, t, i))
    );
  }
  function Js(r, t, e) {
    return (
      t.x <= Math.max(r.x, e.x) &&
      t.x >= Math.min(r.x, e.x) &&
      t.y <= Math.max(r.y, e.y) &&
      t.y >= Math.min(r.y, e.y)
    );
  }
  function Qs(r) {
    return r > 0 ? 1 : r < 0 ? -1 : 0;
  }
  function Tb(r, t) {
    var e = r;
    do {
      if (
        e.i !== r.i &&
        e.next.i !== r.i &&
        e.i !== t.i &&
        e.next.i !== t.i &&
        df(e, e.next, r, t)
      )
        return !0;
      e = e.next;
    } while (e !== r);
    return !1;
  }
  function Hn(r, t) {
    return Mt(r.prev, r, r.next) < 0
      ? Mt(r, t, r.next) >= 0 && Mt(r, r.prev, t) >= 0
      : Mt(r, t, r.prev) < 0 || Mt(r, r.next, t) < 0;
  }
  function Eb(r, t) {
    var e = r,
      i = !1,
      n = (r.x + t.x) / 2,
      s = (r.y + t.y) / 2;
    do
      e.y > s != e.next.y > s &&
        e.next.y !== e.y &&
        n < ((e.next.x - e.x) * (s - e.y)) / (e.next.y - e.y) + e.x &&
        (i = !i),
        (e = e.next);
    while (e !== r);
    return i;
  }
  function vf(r, t) {
    var e = new Ja(r.i, r.x, r.y),
      i = new Ja(t.i, t.x, t.y),
      n = r.next,
      s = t.prev;
    return (
      (r.next = t),
      (t.prev = r),
      (e.next = n),
      (n.prev = e),
      (i.next = e),
      (e.prev = i),
      (s.next = i),
      (i.prev = s),
      i
    );
  }
  function _f(r, t, e, i) {
    var n = new Ja(r, t, e);
    return (
      i
        ? ((n.next = i.next), (n.prev = i), (i.next.prev = n), (i.next = n))
        : ((n.prev = n), (n.next = n)),
      n
    );
  }
  function Xn(r) {
    (r.next.prev = r.prev),
      (r.prev.next = r.next),
      r.prevZ && (r.prevZ.nextZ = r.nextZ),
      r.nextZ && (r.nextZ.prevZ = r.prevZ);
  }
  function Ja(r, t, e) {
    (this.i = r),
      (this.x = t),
      (this.y = e),
      (this.prev = null),
      (this.next = null),
      (this.z = null),
      (this.prevZ = null),
      (this.nextZ = null),
      (this.steiner = !1);
  }
  Ks.deviation = function (r, t, e, i) {
    var n = t && t.length,
      s = n ? t[0] * e : r.length,
      o = Math.abs(Qa(r, 0, s, e));
    if (n)
      for (var l = 0, h = t.length; l < h; l++) {
        var f = t[l] * e,
          p = l < h - 1 ? t[l + 1] * e : r.length;
        o -= Math.abs(Qa(r, f, p, e));
      }
    var v = 0;
    for (l = 0; l < i.length; l += 3) {
      var _ = i[l] * e,
        m = i[l + 1] * e,
        g = i[l + 2] * e;
      v += Math.abs(
        (r[_] - r[g]) * (r[m + 1] - r[_ + 1]) -
          (r[_] - r[m]) * (r[g + 1] - r[_ + 1])
      );
    }
    return o === 0 && v === 0 ? 0 : Math.abs((v - o) / o);
  };
  function Qa(r, t, e, i) {
    for (var n = 0, s = t, o = e - i; s < e; s += i)
      (n += (r[o] - r[s]) * (r[s + 1] + r[o + 1])), (o = s);
    return n;
  }
  Ks.flatten = function (r) {
    for (
      var t = r[0][0].length,
        e = { vertices: [], holes: [], dimensions: t },
        i = 0,
        n = 0;
      n < r.length;
      n++
    ) {
      for (var s = 0; s < r[n].length; s++)
        for (var o = 0; o < t; o++) e.vertices.push(r[n][s][o]);
      n > 0 && ((i += r[n - 1].length), e.holes.push(i));
    }
    return e;
  };
  var mf = Ka.exports,
    tl = { exports: {} };
  /*! https://mths.be/punycode v1.3.2 by @mathias */ (function (r, t) {
    (function (e) {
      var i = t && !t.nodeType && t,
        n = r && !r.nodeType && r,
        s = typeof Ys == "object" && Ys;
      (s.global === s || s.window === s || s.self === s) && (e = s);
      var o,
        l = 2147483647,
        h = 36,
        f = 1,
        p = 26,
        v = 38,
        _ = 700,
        m = 72,
        g = 128,
        y = "-",
        b = /^xn--/,
        w = /[^\x20-\x7E]/,
        C = /[\x2E\u3002\uFF0E\uFF61]/g,
        T = {
          overflow: "Overflow: input needs wider integers to process",
          "not-basic": "Illegal input >= 0x80 (not a basic code point)",
          "invalid-input": "Invalid input",
        },
        A = h - f,
        I = Math.floor,
        P = String.fromCharCode,
        O;
      function L(B) {
        throw RangeError(T[B]);
      }
      function N(B, Y) {
        for (var tt = B.length, q = []; tt--; ) q[tt] = Y(B[tt]);
        return q;
      }
      function F(B, Y) {
        var tt = B.split("@"),
          q = "";
        tt.length > 1 && ((q = tt[0] + "@"), (B = tt[1])),
          (B = B.replace(C, "."));
        var K = B.split("."),
          _t = N(K, Y).join(".");
        return q + _t;
      }
      function H(B) {
        for (var Y = [], tt = 0, q = B.length, K, _t; tt < q; )
          (K = B.charCodeAt(tt++)),
            K >= 55296 && K <= 56319 && tt < q
              ? ((_t = B.charCodeAt(tt++)),
                (_t & 64512) == 56320
                  ? Y.push(((K & 1023) << 10) + (_t & 1023) + 65536)
                  : (Y.push(K), tt--))
              : Y.push(K);
        return Y;
      }
      function j(B) {
        return N(B, function (Y) {
          var tt = "";
          return (
            Y > 65535 &&
              ((Y -= 65536),
              (tt += P(((Y >>> 10) & 1023) | 55296)),
              (Y = 56320 | (Y & 1023))),
            (tt += P(Y)),
            tt
          );
        }).join("");
      }
      function z(B) {
        return B - 48 < 10
          ? B - 22
          : B - 65 < 26
          ? B - 65
          : B - 97 < 26
          ? B - 97
          : h;
      }
      function J(B, Y) {
        return B + 22 + 75 * (B < 26) - ((Y != 0) << 5);
      }
      function X(B, Y, tt) {
        var q = 0;
        for (
          B = tt ? I(B / _) : B >> 1, B += I(B / Y);
          B > (A * p) >> 1;
          q += h
        )
          B = I(B / A);
        return I(q + ((A + 1) * B) / (B + v));
      }
      function M(B) {
        var Y = [],
          tt = B.length,
          q,
          K = 0,
          _t = g,
          Et = m,
          Ut,
          Bt,
          bt,
          mt,
          pt,
          Rt,
          ut,
          Zt,
          $t;
        for (Ut = B.lastIndexOf(y), Ut < 0 && (Ut = 0), Bt = 0; Bt < Ut; ++Bt)
          B.charCodeAt(Bt) >= 128 && L("not-basic"), Y.push(B.charCodeAt(Bt));
        for (bt = Ut > 0 ? Ut + 1 : 0; bt < tt; ) {
          for (
            mt = K, pt = 1, Rt = h;
            bt >= tt && L("invalid-input"),
              (ut = z(B.charCodeAt(bt++))),
              (ut >= h || ut > I((l - K) / pt)) && L("overflow"),
              (K += ut * pt),
              (Zt = Rt <= Et ? f : Rt >= Et + p ? p : Rt - Et),
              !(ut < Zt);
            Rt += h
          )
            ($t = h - Zt), pt > I(l / $t) && L("overflow"), (pt *= $t);
          (q = Y.length + 1),
            (Et = X(K - mt, q, mt == 0)),
            I(K / q) > l - _t && L("overflow"),
            (_t += I(K / q)),
            (K %= q),
            Y.splice(K++, 0, _t);
        }
        return j(Y);
      }
      function D(B) {
        var Y,
          tt,
          q,
          K,
          _t,
          Et,
          Ut,
          Bt,
          bt,
          mt,
          pt,
          Rt = [],
          ut,
          Zt,
          $t,
          ct;
        for (
          B = H(B), ut = B.length, Y = g, tt = 0, _t = m, Et = 0;
          Et < ut;
          ++Et
        )
          (pt = B[Et]), pt < 128 && Rt.push(P(pt));
        for (q = K = Rt.length, K && Rt.push(y); q < ut; ) {
          for (Ut = l, Et = 0; Et < ut; ++Et)
            (pt = B[Et]), pt >= Y && pt < Ut && (Ut = pt);
          for (
            Zt = q + 1,
              Ut - Y > I((l - tt) / Zt) && L("overflow"),
              tt += (Ut - Y) * Zt,
              Y = Ut,
              Et = 0;
            Et < ut;
            ++Et
          )
            if (((pt = B[Et]), pt < Y && ++tt > l && L("overflow"), pt == Y)) {
              for (
                Bt = tt, bt = h;
                (mt = bt <= _t ? f : bt >= _t + p ? p : bt - _t), !(Bt < mt);
                bt += h
              )
                (ct = Bt - mt),
                  ($t = h - mt),
                  Rt.push(P(J(mt + (ct % $t), 0))),
                  (Bt = I(ct / $t));
              Rt.push(P(J(Bt, 0))), (_t = X(tt, Zt, q == K)), (tt = 0), ++q;
            }
          ++tt, ++Y;
        }
        return Rt.join("");
      }
      function lt(B) {
        return F(B, function (Y) {
          return b.test(Y) ? M(Y.slice(4).toLowerCase()) : Y;
        });
      }
      function at(B) {
        return F(B, function (Y) {
          return w.test(Y) ? "xn--" + D(Y) : Y;
        });
      }
      if (
        ((o = {
          version: "1.3.2",
          ucs2: { decode: H, encode: j },
          decode: M,
          encode: D,
          toASCII: at,
          toUnicode: lt,
        }),
        i && n)
      )
        if (r.exports == i) n.exports = o;
        else for (O in o) o.hasOwnProperty(O) && (i[O] = o[O]);
      else e.punycode = o;
    })(Ys);
  })(tl, tl.exports);
  var Cb = {
      isString: function (r) {
        return typeof r == "string";
      },
      isObject: function (r) {
        return typeof r == "object" && r !== null;
      },
      isNull: function (r) {
        return r === null;
      },
      isNullOrUndefined: function (r) {
        return r == null;
      },
    },
    $n = {};
  function Pb(r, t) {
    return Object.prototype.hasOwnProperty.call(r, t);
  }
  var Ib = function (r, t, e, i) {
      (t = t || "&"), (e = e || "=");
      var n = {};
      if (typeof r != "string" || r.length === 0) return n;
      var s = /\+/g;
      r = r.split(t);
      var o = 1e3;
      i && typeof i.maxKeys == "number" && (o = i.maxKeys);
      var l = r.length;
      o > 0 && l > o && (l = o);
      for (var h = 0; h < l; ++h) {
        var f = r[h].replace(s, "%20"),
          p = f.indexOf(e),
          v,
          _,
          m,
          g;
        p >= 0
          ? ((v = f.substr(0, p)), (_ = f.substr(p + 1)))
          : ((v = f), (_ = "")),
          (m = decodeURIComponent(v)),
          (g = decodeURIComponent(_)),
          Pb(n, m)
            ? Array.isArray(n[m])
              ? n[m].push(g)
              : (n[m] = [n[m], g])
            : (n[m] = g);
      }
      return n;
    },
    jn = function (r) {
      switch (typeof r) {
        case "string":
          return r;
        case "boolean":
          return r ? "true" : "false";
        case "number":
          return isFinite(r) ? r : "";
        default:
          return "";
      }
    },
    Rb = function (r, t, e, i) {
      return (
        (t = t || "&"),
        (e = e || "="),
        r === null && (r = void 0),
        typeof r == "object"
          ? Object.keys(r)
              .map(function (n) {
                var s = encodeURIComponent(jn(n)) + e;
                return Array.isArray(r[n])
                  ? r[n]
                      .map(function (o) {
                        return s + encodeURIComponent(jn(o));
                      })
                      .join(t)
                  : s + encodeURIComponent(jn(r[n]));
              })
              .join(t)
          : i
          ? encodeURIComponent(jn(i)) + e + encodeURIComponent(jn(r))
          : ""
      );
    };
  ($n.decode = $n.parse = Ib), ($n.encode = $n.stringify = Rb);
  var Ab = tl.exports,
    Ze = Cb,
    Nb = to,
    Sb = Hb,
    Ob = Vb;
  function Me() {
    (this.protocol = null),
      (this.slashes = null),
      (this.auth = null),
      (this.host = null),
      (this.port = null),
      (this.hostname = null),
      (this.hash = null),
      (this.search = null),
      (this.query = null),
      (this.pathname = null),
      (this.path = null),
      (this.href = null);
  }
  var Ub = /^([a-z0-9.+-]+:)/i,
    Lb = /:[0-9]*$/,
    Fb = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
    kb = [
      "<",
      ">",
      '"',
      "`",
      " ",
      "\r",
      `
`,
      "	",
    ],
    Bb = ["{", "}", "|", "\\", "^", "`"].concat(kb),
    el = ["'"].concat(Bb),
    gf = ["%", "/", "?", ";", "#"].concat(el),
    yf = ["/", "?", "#"],
    Gb = 255,
    bf = /^[+a-z0-9A-Z_-]{0,63}$/,
    Mb = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    Db = { javascript: !0, "javascript:": !0 },
    rl = { javascript: !0, "javascript:": !0 },
    Hi = {
      http: !0,
      https: !0,
      ftp: !0,
      gopher: !0,
      file: !0,
      "http:": !0,
      "https:": !0,
      "ftp:": !0,
      "gopher:": !0,
      "file:": !0,
    },
    il = $n;
  function to(r, t, e) {
    if (r && Ze.isObject(r) && r instanceof Me) return r;
    var i = new Me();
    return i.parse(r, t, e), i;
  }
  Me.prototype.parse = function (r, t, e) {
    if (!Ze.isString(r))
      throw new TypeError("Parameter 'url' must be a string, not " + typeof r);
    var i = r.indexOf("?"),
      n = i !== -1 && i < r.indexOf("#") ? "?" : "#",
      s = r.split(n),
      o = /\\/g;
    (s[0] = s[0].replace(o, "/")), (r = s.join(n));
    var l = r;
    if (((l = l.trim()), !e && r.split("#").length === 1)) {
      var h = Fb.exec(l);
      if (h)
        return (
          (this.path = l),
          (this.href = l),
          (this.pathname = h[1]),
          h[2]
            ? ((this.search = h[2]),
              t
                ? (this.query = il.parse(this.search.substr(1)))
                : (this.query = this.search.substr(1)))
            : t && ((this.search = ""), (this.query = {})),
          this
        );
    }
    var f = Ub.exec(l);
    if (f) {
      f = f[0];
      var p = f.toLowerCase();
      (this.protocol = p), (l = l.substr(f.length));
    }
    if (e || f || l.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      var v = l.substr(0, 2) === "//";
      v && !(f && rl[f]) && ((l = l.substr(2)), (this.slashes = !0));
    }
    if (!rl[f] && (v || (f && !Hi[f]))) {
      for (var _ = -1, m = 0; m < yf.length; m++) {
        var g = l.indexOf(yf[m]);
        g !== -1 && (_ === -1 || g < _) && (_ = g);
      }
      var y, b;
      _ === -1 ? (b = l.lastIndexOf("@")) : (b = l.lastIndexOf("@", _)),
        b !== -1 &&
          ((y = l.slice(0, b)),
          (l = l.slice(b + 1)),
          (this.auth = decodeURIComponent(y))),
        (_ = -1);
      for (var m = 0; m < gf.length; m++) {
        var g = l.indexOf(gf[m]);
        g !== -1 && (_ === -1 || g < _) && (_ = g);
      }
      _ === -1 && (_ = l.length),
        (this.host = l.slice(0, _)),
        (l = l.slice(_)),
        this.parseHost(),
        (this.hostname = this.hostname || "");
      var w =
        this.hostname[0] === "[" &&
        this.hostname[this.hostname.length - 1] === "]";
      if (!w)
        for (
          var C = this.hostname.split(/\./), m = 0, T = C.length;
          m < T;
          m++
        ) {
          var A = C[m];
          if (!!A && !A.match(bf)) {
            for (var I = "", P = 0, O = A.length; P < O; P++)
              A.charCodeAt(P) > 127 ? (I += "x") : (I += A[P]);
            if (!I.match(bf)) {
              var L = C.slice(0, m),
                N = C.slice(m + 1),
                F = A.match(Mb);
              F && (L.push(F[1]), N.unshift(F[2])),
                N.length && (l = "/" + N.join(".") + l),
                (this.hostname = L.join("."));
              break;
            }
          }
        }
      this.hostname.length > Gb
        ? (this.hostname = "")
        : (this.hostname = this.hostname.toLowerCase()),
        w || (this.hostname = Ab.toASCII(this.hostname));
      var H = this.port ? ":" + this.port : "",
        j = this.hostname || "";
      (this.host = j + H),
        (this.href += this.host),
        w &&
          ((this.hostname = this.hostname.substr(1, this.hostname.length - 2)),
          l[0] !== "/" && (l = "/" + l));
    }
    if (!Db[p])
      for (var m = 0, T = el.length; m < T; m++) {
        var z = el[m];
        if (l.indexOf(z) !== -1) {
          var J = encodeURIComponent(z);
          J === z && (J = escape(z)), (l = l.split(z).join(J));
        }
      }
    var X = l.indexOf("#");
    X !== -1 && ((this.hash = l.substr(X)), (l = l.slice(0, X)));
    var M = l.indexOf("?");
    if (
      (M !== -1
        ? ((this.search = l.substr(M)),
          (this.query = l.substr(M + 1)),
          t && (this.query = il.parse(this.query)),
          (l = l.slice(0, M)))
        : t && ((this.search = ""), (this.query = {})),
      l && (this.pathname = l),
      Hi[p] && this.hostname && !this.pathname && (this.pathname = "/"),
      this.pathname || this.search)
    ) {
      var H = this.pathname || "",
        D = this.search || "";
      this.path = H + D;
    }
    return (this.href = this.format()), this;
  };
  function Vb(r) {
    return (
      Ze.isString(r) && (r = to(r)),
      r instanceof Me ? r.format() : Me.prototype.format.call(r)
    );
  }
  Me.prototype.format = function () {
    var r = this.auth || "";
    r &&
      ((r = encodeURIComponent(r)), (r = r.replace(/%3A/i, ":")), (r += "@"));
    var t = this.protocol || "",
      e = this.pathname || "",
      i = this.hash || "",
      n = !1,
      s = "";
    this.host
      ? (n = r + this.host)
      : this.hostname &&
        ((n =
          r +
          (this.hostname.indexOf(":") === -1
            ? this.hostname
            : "[" + this.hostname + "]")),
        this.port && (n += ":" + this.port)),
      this.query &&
        Ze.isObject(this.query) &&
        Object.keys(this.query).length &&
        (s = il.stringify(this.query));
    var o = this.search || (s && "?" + s) || "";
    return (
      t && t.substr(-1) !== ":" && (t += ":"),
      this.slashes || ((!t || Hi[t]) && n !== !1)
        ? ((n = "//" + (n || "")), e && e.charAt(0) !== "/" && (e = "/" + e))
        : n || (n = ""),
      i && i.charAt(0) !== "#" && (i = "#" + i),
      o && o.charAt(0) !== "?" && (o = "?" + o),
      (e = e.replace(/[?#]/g, function (l) {
        return encodeURIComponent(l);
      })),
      (o = o.replace("#", "%23")),
      t + n + e + o + i
    );
  };
  function Hb(r, t) {
    return to(r, !1, !0).resolve(t);
  }
  (Me.prototype.resolve = function (r) {
    return this.resolveObject(to(r, !1, !0)).format();
  }),
    (Me.prototype.resolveObject = function (r) {
      if (Ze.isString(r)) {
        var t = new Me();
        t.parse(r, !1, !0), (r = t);
      }
      for (var e = new Me(), i = Object.keys(this), n = 0; n < i.length; n++) {
        var s = i[n];
        e[s] = this[s];
      }
      if (((e.hash = r.hash), r.href === "")) return (e.href = e.format()), e;
      if (r.slashes && !r.protocol) {
        for (var o = Object.keys(r), l = 0; l < o.length; l++) {
          var h = o[l];
          h !== "protocol" && (e[h] = r[h]);
        }
        return (
          Hi[e.protocol] &&
            e.hostname &&
            !e.pathname &&
            (e.path = e.pathname = "/"),
          (e.href = e.format()),
          e
        );
      }
      if (r.protocol && r.protocol !== e.protocol) {
        if (!Hi[r.protocol]) {
          for (var f = Object.keys(r), p = 0; p < f.length; p++) {
            var v = f[p];
            e[v] = r[v];
          }
          return (e.href = e.format()), e;
        }
        if (((e.protocol = r.protocol), !r.host && !rl[r.protocol])) {
          for (
            var T = (r.pathname || "").split("/");
            T.length && !(r.host = T.shift());

          );
          r.host || (r.host = ""),
            r.hostname || (r.hostname = ""),
            T[0] !== "" && T.unshift(""),
            T.length < 2 && T.unshift(""),
            (e.pathname = T.join("/"));
        } else e.pathname = r.pathname;
        if (
          ((e.search = r.search),
          (e.query = r.query),
          (e.host = r.host || ""),
          (e.auth = r.auth),
          (e.hostname = r.hostname || r.host),
          (e.port = r.port),
          e.pathname || e.search)
        ) {
          var _ = e.pathname || "",
            m = e.search || "";
          e.path = _ + m;
        }
        return (e.slashes = e.slashes || r.slashes), (e.href = e.format()), e;
      }
      var g = e.pathname && e.pathname.charAt(0) === "/",
        y = r.host || (r.pathname && r.pathname.charAt(0) === "/"),
        b = y || g || (e.host && r.pathname),
        w = b,
        C = (e.pathname && e.pathname.split("/")) || [],
        T = (r.pathname && r.pathname.split("/")) || [],
        A = e.protocol && !Hi[e.protocol];
      if (
        (A &&
          ((e.hostname = ""),
          (e.port = null),
          e.host && (C[0] === "" ? (C[0] = e.host) : C.unshift(e.host)),
          (e.host = ""),
          r.protocol &&
            ((r.hostname = null),
            (r.port = null),
            r.host && (T[0] === "" ? (T[0] = r.host) : T.unshift(r.host)),
            (r.host = null)),
          (b = b && (T[0] === "" || C[0] === ""))),
        y)
      )
        (e.host = r.host || r.host === "" ? r.host : e.host),
          (e.hostname =
            r.hostname || r.hostname === "" ? r.hostname : e.hostname),
          (e.search = r.search),
          (e.query = r.query),
          (C = T);
      else if (T.length)
        C || (C = []),
          C.pop(),
          (C = C.concat(T)),
          (e.search = r.search),
          (e.query = r.query);
      else if (!Ze.isNullOrUndefined(r.search)) {
        if (A) {
          e.hostname = e.host = C.shift();
          var I = e.host && e.host.indexOf("@") > 0 ? e.host.split("@") : !1;
          I && ((e.auth = I.shift()), (e.host = e.hostname = I.shift()));
        }
        return (
          (e.search = r.search),
          (e.query = r.query),
          (!Ze.isNull(e.pathname) || !Ze.isNull(e.search)) &&
            (e.path =
              (e.pathname ? e.pathname : "") + (e.search ? e.search : "")),
          (e.href = e.format()),
          e
        );
      }
      if (!C.length)
        return (
          (e.pathname = null),
          e.search ? (e.path = "/" + e.search) : (e.path = null),
          (e.href = e.format()),
          e
        );
      for (
        var P = C.slice(-1)[0],
          O =
            ((e.host || r.host || C.length > 1) && (P === "." || P === "..")) ||
            P === "",
          L = 0,
          N = C.length;
        N >= 0;
        N--
      )
        (P = C[N]),
          P === "."
            ? C.splice(N, 1)
            : P === ".."
            ? (C.splice(N, 1), L++)
            : L && (C.splice(N, 1), L--);
      if (!b && !w) for (; L--; L) C.unshift("..");
      b && C[0] !== "" && (!C[0] || C[0].charAt(0) !== "/") && C.unshift(""),
        O && C.join("/").substr(-1) !== "/" && C.push("");
      var F = C[0] === "" || (C[0] && C[0].charAt(0) === "/");
      if (A) {
        e.hostname = e.host = F ? "" : C.length ? C.shift() : "";
        var I = e.host && e.host.indexOf("@") > 0 ? e.host.split("@") : !1;
        I && ((e.auth = I.shift()), (e.host = e.hostname = I.shift()));
      }
      return (
        (b = b || (e.host && C.length)),
        b && !F && C.unshift(""),
        C.length
          ? (e.pathname = C.join("/"))
          : ((e.pathname = null), (e.path = null)),
        (!Ze.isNull(e.pathname) || !Ze.isNull(e.search)) &&
          (e.path =
            (e.pathname ? e.pathname : "") + (e.search ? e.search : "")),
        (e.auth = r.auth || e.auth),
        (e.slashes = e.slashes || r.slashes),
        (e.href = e.format()),
        e
      );
    }),
    (Me.prototype.parseHost = function () {
      var r = this.host,
        t = Lb.exec(r);
      t &&
        ((t = t[0]),
        t !== ":" && (this.port = t.substr(1)),
        (r = r.substr(0, r.length - t.length))),
        r && (this.hostname = r);
    });
  /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var hr;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(hr || (hr = {}));
  var zn;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })(zn || (zn = {}));
  var eo;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(eo || (eo = {}));
  var it;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(it || (it = {}));
  var De;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(De || (De = {}));
  var $;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })($ || ($ = {}));
  var ai;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })(ai || (ai = {}));
  var rt;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(rt || (rt = {}));
  var ro;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(ro || (ro = {}));
  var Je;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(Je || (Je = {}));
  var Qe;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(Qe || (Qe = {}));
  var cr;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(cr || (cr = {}));
  var Ve;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(Ve || (Ve = {}));
  var Nr;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(Nr || (Nr = {}));
  var nl;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(nl || (nl = {}));
  var tr;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(tr || (tr = {}));
  var ue;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(ue || (ue = {}));
  var Jt;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(Jt || (Jt = {}));
  var er;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(er || (er = {}));
  /*!
   * @pixi/utils - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/utils is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var Xi = { parse: Nb, format: Ob, resolve: Sb };
  (Q.RETINA_PREFIX = /@([0-9\.]+)x/), (Q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !1);
  var xf = !1,
    wf = "6.4.2";
  function Xb(r) {
    var t;
    if (!xf) {
      if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
        var e = [
          `
 %c %c %c PixiJS ` +
            wf +
            " - \u2730 " +
            r +
            ` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,
          "background: #ff66a5; padding:5px 0;",
          "background: #ff66a5; padding:5px 0;",
          "color: #ff66a5; background: #030307; padding:5px 0;",
          "background: #ff66a5; padding:5px 0;",
          "background: #ffc3dc; padding:5px 0;",
          "background: #ff66a5; padding:5px 0;",
          "color: #ff2424; background: #fff; padding:5px 0;",
          "color: #ff2424; background: #fff; padding:5px 0;",
          "color: #ff2424; background: #fff; padding:5px 0;",
        ];
        (t = globalThis.console).log.apply(t, e);
      } else
        globalThis.console &&
          globalThis.console.log(
            "PixiJS " + wf + " - " + r + " - http://www.pixijs.com/"
          );
      xf = !0;
    }
  }
  var sl;
  function $b() {
    return (
      typeof sl == "undefined" &&
        (sl = (function () {
          var t = {
            stencil: !0,
            failIfMajorPerformanceCaveat: Q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT,
          };
          try {
            if (!globalThis.WebGLRenderingContext) return !1;
            var e = document.createElement("canvas"),
              i =
                e.getContext("webgl", t) ||
                e.getContext("experimental-webgl", t),
              n = !!(i && i.getContextAttributes().stencil);
            if (i) {
              var s = i.getExtension("WEBGL_lose_context");
              s && s.loseContext();
            }
            return (i = null), n;
          } catch {
            return !1;
          }
        })()),
      sl
    );
  }
  var jb = "#f0f8ff",
    zb = "#faebd7",
    Wb = "#00ffff",
    Yb = "#7fffd4",
    qb = "#f0ffff",
    Kb = "#f5f5dc",
    Zb = "#ffe4c4",
    Jb = "#000000",
    Qb = "#ffebcd",
    tx = "#0000ff",
    ex = "#8a2be2",
    rx = "#a52a2a",
    ix = "#deb887",
    nx = "#5f9ea0",
    sx = "#7fff00",
    ox = "#d2691e",
    ax = "#ff7f50",
    lx = "#6495ed",
    ux = "#fff8dc",
    hx = "#dc143c",
    cx = "#00ffff",
    fx = "#00008b",
    px = "#008b8b",
    dx = "#b8860b",
    vx = "#a9a9a9",
    _x = "#006400",
    mx = "#a9a9a9",
    gx = "#bdb76b",
    yx = "#8b008b",
    bx = "#556b2f",
    xx = "#ff8c00",
    wx = "#9932cc",
    Tx = "#8b0000",
    Ex = "#e9967a",
    Cx = "#8fbc8f",
    Px = "#483d8b",
    Ix = "#2f4f4f",
    Rx = "#2f4f4f",
    Ax = "#00ced1",
    Nx = "#9400d3",
    Sx = "#ff1493",
    Ox = "#00bfff",
    Ux = "#696969",
    Lx = "#696969",
    Fx = "#1e90ff",
    kx = "#b22222",
    Bx = "#fffaf0",
    Gx = "#228b22",
    Mx = "#ff00ff",
    Dx = "#dcdcdc",
    Vx = "#f8f8ff",
    Hx = "#daa520",
    Xx = "#ffd700",
    $x = "#808080",
    jx = "#008000",
    zx = "#adff2f",
    Wx = "#808080",
    Yx = "#f0fff0",
    qx = "#ff69b4",
    Kx = "#cd5c5c",
    Zx = "#4b0082",
    Jx = "#fffff0",
    Qx = "#f0e68c",
    tw = "#fff0f5",
    ew = "#e6e6fa",
    rw = "#7cfc00",
    iw = "#fffacd",
    nw = "#add8e6",
    sw = "#f08080",
    ow = "#e0ffff",
    aw = "#fafad2",
    lw = "#d3d3d3",
    uw = "#90ee90",
    hw = "#d3d3d3",
    cw = "#ffb6c1",
    fw = "#ffa07a",
    pw = "#20b2aa",
    dw = "#87cefa",
    vw = "#778899",
    _w = "#778899",
    mw = "#b0c4de",
    gw = "#ffffe0",
    yw = "#00ff00",
    bw = "#32cd32",
    xw = "#faf0e6",
    ww = "#ff00ff",
    Tw = "#800000",
    Ew = "#66cdaa",
    Cw = "#0000cd",
    Pw = "#ba55d3",
    Iw = "#9370db",
    Rw = "#3cb371",
    Aw = "#7b68ee",
    Nw = "#00fa9a",
    Sw = "#48d1cc",
    Ow = "#c71585",
    Uw = "#191970",
    Lw = "#f5fffa",
    Fw = "#ffe4e1",
    kw = "#ffe4b5",
    Bw = "#ffdead",
    Gw = "#000080",
    Mw = "#fdf5e6",
    Dw = "#808000",
    Vw = "#6b8e23",
    Hw = "#ffa500",
    Xw = "#ff4500",
    $w = "#da70d6",
    jw = "#eee8aa",
    zw = "#98fb98",
    Ww = "#afeeee",
    Yw = "#db7093",
    qw = "#ffefd5",
    Kw = "#ffdab9",
    Zw = "#cd853f",
    Jw = "#ffc0cb",
    Qw = "#dda0dd",
    t1 = "#b0e0e6",
    e1 = "#800080",
    r1 = "#663399",
    i1 = "#ff0000",
    n1 = "#bc8f8f",
    s1 = "#4169e1",
    o1 = "#8b4513",
    a1 = "#fa8072",
    l1 = "#f4a460",
    u1 = "#2e8b57",
    h1 = "#fff5ee",
    c1 = "#a0522d",
    f1 = "#c0c0c0",
    p1 = "#87ceeb",
    d1 = "#6a5acd",
    v1 = "#708090",
    _1 = "#708090",
    m1 = "#fffafa",
    g1 = "#00ff7f",
    y1 = "#4682b4",
    b1 = "#d2b48c",
    x1 = "#008080",
    w1 = "#d8bfd8",
    T1 = "#ff6347",
    E1 = "#40e0d0",
    C1 = "#ee82ee",
    P1 = "#f5deb3",
    I1 = "#ffffff",
    R1 = "#f5f5f5",
    A1 = "#ffff00",
    N1 = "#9acd32",
    S1 = {
      aliceblue: jb,
      antiquewhite: zb,
      aqua: Wb,
      aquamarine: Yb,
      azure: qb,
      beige: Kb,
      bisque: Zb,
      black: Jb,
      blanchedalmond: Qb,
      blue: tx,
      blueviolet: ex,
      brown: rx,
      burlywood: ix,
      cadetblue: nx,
      chartreuse: sx,
      chocolate: ox,
      coral: ax,
      cornflowerblue: lx,
      cornsilk: ux,
      crimson: hx,
      cyan: cx,
      darkblue: fx,
      darkcyan: px,
      darkgoldenrod: dx,
      darkgray: vx,
      darkgreen: _x,
      darkgrey: mx,
      darkkhaki: gx,
      darkmagenta: yx,
      darkolivegreen: bx,
      darkorange: xx,
      darkorchid: wx,
      darkred: Tx,
      darksalmon: Ex,
      darkseagreen: Cx,
      darkslateblue: Px,
      darkslategray: Ix,
      darkslategrey: Rx,
      darkturquoise: Ax,
      darkviolet: Nx,
      deeppink: Sx,
      deepskyblue: Ox,
      dimgray: Ux,
      dimgrey: Lx,
      dodgerblue: Fx,
      firebrick: kx,
      floralwhite: Bx,
      forestgreen: Gx,
      fuchsia: Mx,
      gainsboro: Dx,
      ghostwhite: Vx,
      goldenrod: Hx,
      gold: Xx,
      gray: $x,
      green: jx,
      greenyellow: zx,
      grey: Wx,
      honeydew: Yx,
      hotpink: qx,
      indianred: Kx,
      indigo: Zx,
      ivory: Jx,
      khaki: Qx,
      lavenderblush: tw,
      lavender: ew,
      lawngreen: rw,
      lemonchiffon: iw,
      lightblue: nw,
      lightcoral: sw,
      lightcyan: ow,
      lightgoldenrodyellow: aw,
      lightgray: lw,
      lightgreen: uw,
      lightgrey: hw,
      lightpink: cw,
      lightsalmon: fw,
      lightseagreen: pw,
      lightskyblue: dw,
      lightslategray: vw,
      lightslategrey: _w,
      lightsteelblue: mw,
      lightyellow: gw,
      lime: yw,
      limegreen: bw,
      linen: xw,
      magenta: ww,
      maroon: Tw,
      mediumaquamarine: Ew,
      mediumblue: Cw,
      mediumorchid: Pw,
      mediumpurple: Iw,
      mediumseagreen: Rw,
      mediumslateblue: Aw,
      mediumspringgreen: Nw,
      mediumturquoise: Sw,
      mediumvioletred: Ow,
      midnightblue: Uw,
      mintcream: Lw,
      mistyrose: Fw,
      moccasin: kw,
      navajowhite: Bw,
      navy: Gw,
      oldlace: Mw,
      olive: Dw,
      olivedrab: Vw,
      orange: Hw,
      orangered: Xw,
      orchid: $w,
      palegoldenrod: jw,
      palegreen: zw,
      paleturquoise: Ww,
      palevioletred: Yw,
      papayawhip: qw,
      peachpuff: Kw,
      peru: Zw,
      pink: Jw,
      plum: Qw,
      powderblue: t1,
      purple: e1,
      rebeccapurple: r1,
      red: i1,
      rosybrown: n1,
      royalblue: s1,
      saddlebrown: o1,
      salmon: a1,
      sandybrown: l1,
      seagreen: u1,
      seashell: h1,
      sienna: c1,
      silver: f1,
      skyblue: p1,
      slateblue: d1,
      slategray: v1,
      slategrey: _1,
      snow: m1,
      springgreen: g1,
      steelblue: y1,
      tan: b1,
      teal: x1,
      thistle: w1,
      tomato: T1,
      turquoise: E1,
      violet: C1,
      wheat: P1,
      white: I1,
      whitesmoke: R1,
      yellow: A1,
      yellowgreen: N1,
    };
  function $i(r, t) {
    return (
      t === void 0 && (t = []),
      (t[0] = ((r >> 16) & 255) / 255),
      (t[1] = ((r >> 8) & 255) / 255),
      (t[2] = (r & 255) / 255),
      t
    );
  }
  function Tf(r) {
    var t = r.toString(16);
    return (t = "000000".substring(0, 6 - t.length) + t), "#" + t;
  }
  function Ef(r) {
    return (
      typeof r == "string" &&
        ((r = S1[r.toLowerCase()] || r), r[0] === "#" && (r = r.slice(1))),
      parseInt(r, 16)
    );
  }
  function O1() {
    for (var r = [], t = [], e = 0; e < 32; e++) (r[e] = e), (t[e] = e);
    (r[it.NORMAL_NPM] = it.NORMAL),
      (r[it.ADD_NPM] = it.ADD),
      (r[it.SCREEN_NPM] = it.SCREEN),
      (t[it.NORMAL] = it.NORMAL_NPM),
      (t[it.ADD] = it.ADD_NPM),
      (t[it.SCREEN] = it.SCREEN_NPM);
    var i = [];
    return i.push(t), i.push(r), i;
  }
  var Cf = O1();
  function Pf(r, t) {
    return Cf[t ? 1 : 0][r];
  }
  function U1(r, t, e, i) {
    return (
      (e = e || new Float32Array(4)),
      i || i === void 0
        ? ((e[0] = r[0] * t), (e[1] = r[1] * t), (e[2] = r[2] * t))
        : ((e[0] = r[0]), (e[1] = r[1]), (e[2] = r[2])),
      (e[3] = t),
      e
    );
  }
  function ol(r, t) {
    if (t === 1) return ((t * 255) << 24) + r;
    if (t === 0) return 0;
    var e = (r >> 16) & 255,
      i = (r >> 8) & 255,
      n = r & 255;
    return (
      (e = (e * t + 0.5) | 0),
      (i = (i * t + 0.5) | 0),
      (n = (n * t + 0.5) | 0),
      ((t * 255) << 24) + (e << 16) + (i << 8) + n
    );
  }
  function If(r, t, e, i) {
    return (
      (e = e || new Float32Array(4)),
      (e[0] = ((r >> 16) & 255) / 255),
      (e[1] = ((r >> 8) & 255) / 255),
      (e[2] = (r & 255) / 255),
      (i || i === void 0) && ((e[0] *= t), (e[1] *= t), (e[2] *= t)),
      (e[3] = t),
      e
    );
  }
  function L1(r, t) {
    t === void 0 && (t = null);
    var e = r * 6;
    if (((t = t || new Uint16Array(e)), t.length !== e))
      throw new Error(
        "Out buffer length is incorrect, got " + t.length + " and expected " + e
      );
    for (var i = 0, n = 0; i < e; i += 6, n += 4)
      (t[i + 0] = n + 0),
        (t[i + 1] = n + 1),
        (t[i + 2] = n + 2),
        (t[i + 3] = n + 0),
        (t[i + 4] = n + 2),
        (t[i + 5] = n + 3);
    return t;
  }
  function Rf(r) {
    if (r.BYTES_PER_ELEMENT === 4)
      return r instanceof Float32Array
        ? "Float32Array"
        : r instanceof Uint32Array
        ? "Uint32Array"
        : "Int32Array";
    if (r.BYTES_PER_ELEMENT === 2) {
      if (r instanceof Uint16Array) return "Uint16Array";
    } else if (r.BYTES_PER_ELEMENT === 1 && r instanceof Uint8Array) return "Uint8Array";
    return null;
  }
  function io(r) {
    return (
      (r += r === 0 ? 1 : 0),
      --r,
      (r |= r >>> 1),
      (r |= r >>> 2),
      (r |= r >>> 4),
      (r |= r >>> 8),
      (r |= r >>> 16),
      r + 1
    );
  }
  function Af(r) {
    return !(r & (r - 1)) && !!r;
  }
  function Nf(r) {
    var t = (r > 65535 ? 1 : 0) << 4;
    r >>>= t;
    var e = (r > 255 ? 1 : 0) << 3;
    return (
      (r >>>= e),
      (t |= e),
      (e = (r > 15 ? 1 : 0) << 2),
      (r >>>= e),
      (t |= e),
      (e = (r > 3 ? 1 : 0) << 1),
      (r >>>= e),
      (t |= e),
      t | (r >> 1)
    );
  }
  function fr(r, t, e) {
    var i = r.length,
      n;
    if (!(t >= i || e === 0)) {
      e = t + e > i ? i - t : e;
      var s = i - e;
      for (n = t; n < s; ++n) r[n] = r[n + e];
      r.length = s;
    }
  }
  function ji(r) {
    return r === 0 ? 0 : r < 0 ? -1 : 1;
  }
  var F1 = 0;
  function li() {
    return ++F1;
  }
  var Sf = {};
  function Wn(r, t, e) {
    if ((e === void 0 && (e = 3), !Sf[t])) {
      var i = new Error().stack;
      typeof i == "undefined"
        ? console.warn(
            "PixiJS Deprecation Warning: ",
            t +
              `
Deprecated since v` +
              r
          )
        : ((i = i
            .split(
              `
`
            )
            .splice(e).join(`
`)),
          console.groupCollapsed
            ? (console.groupCollapsed(
                "%cPixiJS Deprecation Warning: %c%s",
                "color:#614108;background:#fffbe6",
                "font-weight:normal;color:#614108;background:#fffbe6",
                t +
                  `
Deprecated since v` +
                  r
              ),
              console.warn(i),
              console.groupEnd())
            : (console.warn(
                "PixiJS Deprecation Warning: ",
                t +
                  `
Deprecated since v` +
                  r
              ),
              console.warn(i))),
        (Sf[t] = !0);
    }
  }
  var Of = {},
    He = Object.create(null),
    Sr = Object.create(null),
    Uf = (function () {
      function r(t, e, i) {
        (this.canvas = document.createElement("canvas")),
          (this.context = this.canvas.getContext("2d")),
          (this.resolution = i || Q.RESOLUTION),
          this.resize(t, e);
      }
      return (
        (r.prototype.clear = function () {
          this.context.setTransform(1, 0, 0, 1, 0, 0),
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }),
        (r.prototype.resize = function (t, e) {
          (this.canvas.width = Math.round(t * this.resolution)),
            (this.canvas.height = Math.round(e * this.resolution));
        }),
        (r.prototype.destroy = function () {
          (this.context = null), (this.canvas = null);
        }),
        Object.defineProperty(r.prototype, "width", {
          get: function () {
            return this.canvas.width;
          },
          set: function (t) {
            this.canvas.width = Math.round(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "height", {
          get: function () {
            return this.canvas.height;
          },
          set: function (t) {
            this.canvas.height = Math.round(t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        r
      );
    })();
  function k1(r) {
    var t = r.width,
      e = r.height,
      i = r.getContext("2d"),
      n = i.getImageData(0, 0, t, e),
      s = n.data,
      o = s.length,
      l = { top: null, left: null, right: null, bottom: null },
      h = null,
      f,
      p,
      v;
    for (f = 0; f < o; f += 4)
      s[f + 3] !== 0 &&
        ((p = (f / 4) % t),
        (v = ~~(f / 4 / t)),
        l.top === null && (l.top = v),
        (l.left === null || p < l.left) && (l.left = p),
        (l.right === null || l.right < p) && (l.right = p + 1),
        (l.bottom === null || l.bottom < v) && (l.bottom = v));
    return (
      l.top !== null &&
        ((t = l.right - l.left),
        (e = l.bottom - l.top + 1),
        (h = i.getImageData(l.left, l.top, t, e))),
      { height: e, width: t, data: h }
    );
  }
  var no;
  function B1(r, t) {
    if ((t === void 0 && (t = globalThis.location), r.indexOf("data:") === 0))
      return "";
    (t = t || globalThis.location),
      no || (no = document.createElement("a")),
      (no.href = r);
    var e = Xi.parse(no.href),
      i = (!e.port && t.port === "") || e.port === t.port;
    return e.hostname !== t.hostname || !i || e.protocol !== t.protocol
      ? "anonymous"
      : "";
  }
  function so(r, t) {
    var e = Q.RETINA_PREFIX.exec(r);
    return e ? parseFloat(e[1]) : t !== void 0 ? t : 1;
  }
  /*!
   * @pixi/math - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/math is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var oo = Math.PI * 2,
    Lf = 180 / Math.PI,
    Ff = Math.PI / 180,
    Dt;
  (function (r) {
    (r[(r.POLY = 0)] = "POLY"),
      (r[(r.RECT = 1)] = "RECT"),
      (r[(r.CIRC = 2)] = "CIRC"),
      (r[(r.ELIP = 3)] = "ELIP"),
      (r[(r.RREC = 4)] = "RREC");
  })(Dt || (Dt = {}));
  var kt = (function () {
      function r(t, e) {
        t === void 0 && (t = 0),
          e === void 0 && (e = 0),
          (this.x = 0),
          (this.y = 0),
          (this.x = t),
          (this.y = e);
      }
      return (
        (r.prototype.clone = function () {
          return new r(this.x, this.y);
        }),
        (r.prototype.copyFrom = function (t) {
          return this.set(t.x, t.y), this;
        }),
        (r.prototype.copyTo = function (t) {
          return t.set(this.x, this.y), t;
        }),
        (r.prototype.equals = function (t) {
          return t.x === this.x && t.y === this.y;
        }),
        (r.prototype.set = function (t, e) {
          return (
            t === void 0 && (t = 0),
            e === void 0 && (e = t),
            (this.x = t),
            (this.y = e),
            this
          );
        }),
        (r.prototype.toString = function () {
          return "[@pixi/math:Point x=" + this.x + " y=" + this.y + "]";
        }),
        r
      );
    })(),
    ao = [new kt(), new kt(), new kt(), new kt()],
    ft = (function () {
      function r(t, e, i, n) {
        t === void 0 && (t = 0),
          e === void 0 && (e = 0),
          i === void 0 && (i = 0),
          n === void 0 && (n = 0),
          (this.x = Number(t)),
          (this.y = Number(e)),
          (this.width = Number(i)),
          (this.height = Number(n)),
          (this.type = Dt.RECT);
      }
      return (
        Object.defineProperty(r.prototype, "left", {
          get: function () {
            return this.x;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "right", {
          get: function () {
            return this.x + this.width;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "top", {
          get: function () {
            return this.y;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "bottom", {
          get: function () {
            return this.y + this.height;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "EMPTY", {
          get: function () {
            return new r(0, 0, 0, 0);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.clone = function () {
          return new r(this.x, this.y, this.width, this.height);
        }),
        (r.prototype.copyFrom = function (t) {
          return (
            (this.x = t.x),
            (this.y = t.y),
            (this.width = t.width),
            (this.height = t.height),
            this
          );
        }),
        (r.prototype.copyTo = function (t) {
          return (
            (t.x = this.x),
            (t.y = this.y),
            (t.width = this.width),
            (t.height = this.height),
            t
          );
        }),
        (r.prototype.contains = function (t, e) {
          return this.width <= 0 || this.height <= 0
            ? !1
            : t >= this.x &&
                t < this.x + this.width &&
                e >= this.y &&
                e < this.y + this.height;
        }),
        (r.prototype.intersects = function (t, e) {
          if (!e) {
            var i = this.x < t.x ? t.x : this.x,
              n = this.right > t.right ? t.right : this.right;
            if (n <= i) return !1;
            var s = this.y < t.y ? t.y : this.y,
              o = this.bottom > t.bottom ? t.bottom : this.bottom;
            return o > s;
          }
          var l = this.left,
            h = this.right,
            f = this.top,
            p = this.bottom;
          if (h <= l || p <= f) return !1;
          var v = ao[0].set(t.left, t.top),
            _ = ao[1].set(t.left, t.bottom),
            m = ao[2].set(t.right, t.top),
            g = ao[3].set(t.right, t.bottom);
          if (m.x <= v.x || _.y <= v.y) return !1;
          var y = Math.sign(e.a * e.d - e.b * e.c);
          if (
            y === 0 ||
            (e.apply(v, v),
            e.apply(_, _),
            e.apply(m, m),
            e.apply(g, g),
            Math.max(v.x, _.x, m.x, g.x) <= l ||
              Math.min(v.x, _.x, m.x, g.x) >= h ||
              Math.max(v.y, _.y, m.y, g.y) <= f ||
              Math.min(v.y, _.y, m.y, g.y) >= p)
          )
            return !1;
          var b = y * (_.y - v.y),
            w = y * (v.x - _.x),
            C = b * l + w * f,
            T = b * h + w * f,
            A = b * l + w * p,
            I = b * h + w * p;
          if (
            Math.max(C, T, A, I) <= b * v.x + w * v.y ||
            Math.min(C, T, A, I) >= b * g.x + w * g.y
          )
            return !1;
          var P = y * (v.y - m.y),
            O = y * (m.x - v.x),
            L = P * l + O * f,
            N = P * h + O * f,
            F = P * l + O * p,
            H = P * h + O * p;
          return !(
            Math.max(L, N, F, H) <= P * v.x + O * v.y ||
            Math.min(L, N, F, H) >= P * g.x + O * g.y
          );
        }),
        (r.prototype.pad = function (t, e) {
          return (
            t === void 0 && (t = 0),
            e === void 0 && (e = t),
            (this.x -= t),
            (this.y -= e),
            (this.width += t * 2),
            (this.height += e * 2),
            this
          );
        }),
        (r.prototype.fit = function (t) {
          var e = Math.max(this.x, t.x),
            i = Math.min(this.x + this.width, t.x + t.width),
            n = Math.max(this.y, t.y),
            s = Math.min(this.y + this.height, t.y + t.height);
          return (
            (this.x = e),
            (this.width = Math.max(i - e, 0)),
            (this.y = n),
            (this.height = Math.max(s - n, 0)),
            this
          );
        }),
        (r.prototype.ceil = function (t, e) {
          t === void 0 && (t = 1), e === void 0 && (e = 0.001);
          var i = Math.ceil((this.x + this.width - e) * t) / t,
            n = Math.ceil((this.y + this.height - e) * t) / t;
          return (
            (this.x = Math.floor((this.x + e) * t) / t),
            (this.y = Math.floor((this.y + e) * t) / t),
            (this.width = i - this.x),
            (this.height = n - this.y),
            this
          );
        }),
        (r.prototype.enlarge = function (t) {
          var e = Math.min(this.x, t.x),
            i = Math.max(this.x + this.width, t.x + t.width),
            n = Math.min(this.y, t.y),
            s = Math.max(this.y + this.height, t.y + t.height);
          return (
            (this.x = e),
            (this.width = i - e),
            (this.y = n),
            (this.height = s - n),
            this
          );
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:Rectangle x=" +
            this.x +
            " y=" +
            this.y +
            " width=" +
            this.width +
            " height=" +
            this.height +
            "]"
          );
        }),
        r
      );
    })(),
    G1 = (function () {
      function r(t, e, i) {
        t === void 0 && (t = 0),
          e === void 0 && (e = 0),
          i === void 0 && (i = 0),
          (this.x = t),
          (this.y = e),
          (this.radius = i),
          (this.type = Dt.CIRC);
      }
      return (
        (r.prototype.clone = function () {
          return new r(this.x, this.y, this.radius);
        }),
        (r.prototype.contains = function (t, e) {
          if (this.radius <= 0) return !1;
          var i = this.radius * this.radius,
            n = this.x - t,
            s = this.y - e;
          return (n *= n), (s *= s), n + s <= i;
        }),
        (r.prototype.getBounds = function () {
          return new ft(
            this.x - this.radius,
            this.y - this.radius,
            this.radius * 2,
            this.radius * 2
          );
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:Circle x=" +
            this.x +
            " y=" +
            this.y +
            " radius=" +
            this.radius +
            "]"
          );
        }),
        r
      );
    })(),
    M1 = (function () {
      function r(t, e, i, n) {
        t === void 0 && (t = 0),
          e === void 0 && (e = 0),
          i === void 0 && (i = 0),
          n === void 0 && (n = 0),
          (this.x = t),
          (this.y = e),
          (this.width = i),
          (this.height = n),
          (this.type = Dt.ELIP);
      }
      return (
        (r.prototype.clone = function () {
          return new r(this.x, this.y, this.width, this.height);
        }),
        (r.prototype.contains = function (t, e) {
          if (this.width <= 0 || this.height <= 0) return !1;
          var i = (t - this.x) / this.width,
            n = (e - this.y) / this.height;
          return (i *= i), (n *= n), i + n <= 1;
        }),
        (r.prototype.getBounds = function () {
          return new ft(
            this.x - this.width,
            this.y - this.height,
            this.width,
            this.height
          );
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:Ellipse x=" +
            this.x +
            " y=" +
            this.y +
            " width=" +
            this.width +
            " height=" +
            this.height +
            "]"
          );
        }),
        r
      );
    })(),
    lo = (function () {
      function r() {
        for (var t = arguments, e = [], i = 0; i < arguments.length; i++)
          e[i] = t[i];
        var n = Array.isArray(e[0]) ? e[0] : e;
        if (typeof n[0] != "number") {
          for (var s = [], o = 0, l = n.length; o < l; o++)
            s.push(n[o].x, n[o].y);
          n = s;
        }
        (this.points = n), (this.type = Dt.POLY), (this.closeStroke = !0);
      }
      return (
        (r.prototype.clone = function () {
          var t = this.points.slice(),
            e = new r(t);
          return (e.closeStroke = this.closeStroke), e;
        }),
        (r.prototype.contains = function (t, e) {
          for (
            var i = !1, n = this.points.length / 2, s = 0, o = n - 1;
            s < n;
            o = s++
          ) {
            var l = this.points[s * 2],
              h = this.points[s * 2 + 1],
              f = this.points[o * 2],
              p = this.points[o * 2 + 1],
              v = h > e != p > e && t < (f - l) * ((e - h) / (p - h)) + l;
            v && (i = !i);
          }
          return i;
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:Polygon" +
            ("closeStroke=" + this.closeStroke) +
            ("points=" +
              this.points.reduce(function (t, e) {
                return t + ", " + e;
              }, "") +
              "]")
          );
        }),
        r
      );
    })(),
    D1 = (function () {
      function r(t, e, i, n, s) {
        t === void 0 && (t = 0),
          e === void 0 && (e = 0),
          i === void 0 && (i = 0),
          n === void 0 && (n = 0),
          s === void 0 && (s = 20),
          (this.x = t),
          (this.y = e),
          (this.width = i),
          (this.height = n),
          (this.radius = s),
          (this.type = Dt.RREC);
      }
      return (
        (r.prototype.clone = function () {
          return new r(this.x, this.y, this.width, this.height, this.radius);
        }),
        (r.prototype.contains = function (t, e) {
          if (this.width <= 0 || this.height <= 0) return !1;
          if (
            t >= this.x &&
            t <= this.x + this.width &&
            e >= this.y &&
            e <= this.y + this.height
          ) {
            var i = Math.max(
              0,
              Math.min(this.radius, Math.min(this.width, this.height) / 2)
            );
            if (
              (e >= this.y + i && e <= this.y + this.height - i) ||
              (t >= this.x + i && t <= this.x + this.width - i)
            )
              return !0;
            var n = t - (this.x + i),
              s = e - (this.y + i),
              o = i * i;
            if (
              n * n + s * s <= o ||
              ((n = t - (this.x + this.width - i)), n * n + s * s <= o) ||
              ((s = e - (this.y + this.height - i)), n * n + s * s <= o) ||
              ((n = t - (this.x + i)), n * n + s * s <= o)
            )
              return !0;
          }
          return !1;
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:RoundedRectangle x=" +
            this.x +
            " y=" +
            this.y +
            ("width=" +
              this.width +
              " height=" +
              this.height +
              " radius=" +
              this.radius +
              "]")
          );
        }),
        r
      );
    })(),
    zi = (function () {
      function r(t, e, i, n) {
        i === void 0 && (i = 0),
          n === void 0 && (n = 0),
          (this._x = i),
          (this._y = n),
          (this.cb = t),
          (this.scope = e);
      }
      return (
        (r.prototype.clone = function (t, e) {
          return (
            t === void 0 && (t = this.cb),
            e === void 0 && (e = this.scope),
            new r(t, e, this._x, this._y)
          );
        }),
        (r.prototype.set = function (t, e) {
          return (
            t === void 0 && (t = 0),
            e === void 0 && (e = t),
            (this._x !== t || this._y !== e) &&
              ((this._x = t), (this._y = e), this.cb.call(this.scope)),
            this
          );
        }),
        (r.prototype.copyFrom = function (t) {
          return (
            (this._x !== t.x || this._y !== t.y) &&
              ((this._x = t.x), (this._y = t.y), this.cb.call(this.scope)),
            this
          );
        }),
        (r.prototype.copyTo = function (t) {
          return t.set(this._x, this._y), t;
        }),
        (r.prototype.equals = function (t) {
          return t.x === this._x && t.y === this._y;
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:ObservablePoint x=" +
            0 +
            " y=" +
            0 +
            " scope=" +
            this.scope +
            "]"
          );
        }),
        Object.defineProperty(r.prototype, "x", {
          get: function () {
            return this._x;
          },
          set: function (t) {
            this._x !== t && ((this._x = t), this.cb.call(this.scope));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "y", {
          get: function () {
            return this._y;
          },
          set: function (t) {
            this._y !== t && ((this._y = t), this.cb.call(this.scope));
          },
          enumerable: !1,
          configurable: !0,
        }),
        r
      );
    })(),
    Yt = (function () {
      function r(t, e, i, n, s, o) {
        t === void 0 && (t = 1),
          e === void 0 && (e = 0),
          i === void 0 && (i = 0),
          n === void 0 && (n = 1),
          s === void 0 && (s = 0),
          o === void 0 && (o = 0),
          (this.array = null),
          (this.a = t),
          (this.b = e),
          (this.c = i),
          (this.d = n),
          (this.tx = s),
          (this.ty = o);
      }
      return (
        (r.prototype.fromArray = function (t) {
          (this.a = t[0]),
            (this.b = t[1]),
            (this.c = t[3]),
            (this.d = t[4]),
            (this.tx = t[2]),
            (this.ty = t[5]);
        }),
        (r.prototype.set = function (t, e, i, n, s, o) {
          return (
            (this.a = t),
            (this.b = e),
            (this.c = i),
            (this.d = n),
            (this.tx = s),
            (this.ty = o),
            this
          );
        }),
        (r.prototype.toArray = function (t, e) {
          this.array || (this.array = new Float32Array(9));
          var i = e || this.array;
          return (
            t
              ? ((i[0] = this.a),
                (i[1] = this.b),
                (i[2] = 0),
                (i[3] = this.c),
                (i[4] = this.d),
                (i[5] = 0),
                (i[6] = this.tx),
                (i[7] = this.ty),
                (i[8] = 1))
              : ((i[0] = this.a),
                (i[1] = this.c),
                (i[2] = this.tx),
                (i[3] = this.b),
                (i[4] = this.d),
                (i[5] = this.ty),
                (i[6] = 0),
                (i[7] = 0),
                (i[8] = 1)),
            i
          );
        }),
        (r.prototype.apply = function (t, e) {
          e = e || new kt();
          var i = t.x,
            n = t.y;
          return (
            (e.x = this.a * i + this.c * n + this.tx),
            (e.y = this.b * i + this.d * n + this.ty),
            e
          );
        }),
        (r.prototype.applyInverse = function (t, e) {
          e = e || new kt();
          var i = 1 / (this.a * this.d + this.c * -this.b),
            n = t.x,
            s = t.y;
          return (
            (e.x =
              this.d * i * n +
              -this.c * i * s +
              (this.ty * this.c - this.tx * this.d) * i),
            (e.y =
              this.a * i * s +
              -this.b * i * n +
              (-this.ty * this.a + this.tx * this.b) * i),
            e
          );
        }),
        (r.prototype.translate = function (t, e) {
          return (this.tx += t), (this.ty += e), this;
        }),
        (r.prototype.scale = function (t, e) {
          return (
            (this.a *= t),
            (this.d *= e),
            (this.c *= t),
            (this.b *= e),
            (this.tx *= t),
            (this.ty *= e),
            this
          );
        }),
        (r.prototype.rotate = function (t) {
          var e = Math.cos(t),
            i = Math.sin(t),
            n = this.a,
            s = this.c,
            o = this.tx;
          return (
            (this.a = n * e - this.b * i),
            (this.b = n * i + this.b * e),
            (this.c = s * e - this.d * i),
            (this.d = s * i + this.d * e),
            (this.tx = o * e - this.ty * i),
            (this.ty = o * i + this.ty * e),
            this
          );
        }),
        (r.prototype.append = function (t) {
          var e = this.a,
            i = this.b,
            n = this.c,
            s = this.d;
          return (
            (this.a = t.a * e + t.b * n),
            (this.b = t.a * i + t.b * s),
            (this.c = t.c * e + t.d * n),
            (this.d = t.c * i + t.d * s),
            (this.tx = t.tx * e + t.ty * n + this.tx),
            (this.ty = t.tx * i + t.ty * s + this.ty),
            this
          );
        }),
        (r.prototype.setTransform = function (t, e, i, n, s, o, l, h, f) {
          return (
            (this.a = Math.cos(l + f) * s),
            (this.b = Math.sin(l + f) * s),
            (this.c = -Math.sin(l - h) * o),
            (this.d = Math.cos(l - h) * o),
            (this.tx = t - (i * this.a + n * this.c)),
            (this.ty = e - (i * this.b + n * this.d)),
            this
          );
        }),
        (r.prototype.prepend = function (t) {
          var e = this.tx;
          if (t.a !== 1 || t.b !== 0 || t.c !== 0 || t.d !== 1) {
            var i = this.a,
              n = this.c;
            (this.a = i * t.a + this.b * t.c),
              (this.b = i * t.b + this.b * t.d),
              (this.c = n * t.a + this.d * t.c),
              (this.d = n * t.b + this.d * t.d);
          }
          return (
            (this.tx = e * t.a + this.ty * t.c + t.tx),
            (this.ty = e * t.b + this.ty * t.d + t.ty),
            this
          );
        }),
        (r.prototype.decompose = function (t) {
          var e = this.a,
            i = this.b,
            n = this.c,
            s = this.d,
            o = t.pivot,
            l = -Math.atan2(-n, s),
            h = Math.atan2(i, e),
            f = Math.abs(l + h);
          return (
            f < 1e-5 || Math.abs(oo - f) < 1e-5
              ? ((t.rotation = h), (t.skew.x = t.skew.y = 0))
              : ((t.rotation = 0), (t.skew.x = l), (t.skew.y = h)),
            (t.scale.x = Math.sqrt(e * e + i * i)),
            (t.scale.y = Math.sqrt(n * n + s * s)),
            (t.position.x = this.tx + (o.x * e + o.y * n)),
            (t.position.y = this.ty + (o.x * i + o.y * s)),
            t
          );
        }),
        (r.prototype.invert = function () {
          var t = this.a,
            e = this.b,
            i = this.c,
            n = this.d,
            s = this.tx,
            o = t * n - e * i;
          return (
            (this.a = n / o),
            (this.b = -e / o),
            (this.c = -i / o),
            (this.d = t / o),
            (this.tx = (i * this.ty - n * s) / o),
            (this.ty = -(t * this.ty - e * s) / o),
            this
          );
        }),
        (r.prototype.identity = function () {
          return (
            (this.a = 1),
            (this.b = 0),
            (this.c = 0),
            (this.d = 1),
            (this.tx = 0),
            (this.ty = 0),
            this
          );
        }),
        (r.prototype.clone = function () {
          var t = new r();
          return (
            (t.a = this.a),
            (t.b = this.b),
            (t.c = this.c),
            (t.d = this.d),
            (t.tx = this.tx),
            (t.ty = this.ty),
            t
          );
        }),
        (r.prototype.copyTo = function (t) {
          return (
            (t.a = this.a),
            (t.b = this.b),
            (t.c = this.c),
            (t.d = this.d),
            (t.tx = this.tx),
            (t.ty = this.ty),
            t
          );
        }),
        (r.prototype.copyFrom = function (t) {
          return (
            (this.a = t.a),
            (this.b = t.b),
            (this.c = t.c),
            (this.d = t.d),
            (this.tx = t.tx),
            (this.ty = t.ty),
            this
          );
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:Matrix a=" +
            this.a +
            " b=" +
            this.b +
            " c=" +
            this.c +
            " d=" +
            this.d +
            " tx=" +
            this.tx +
            " ty=" +
            this.ty +
            "]"
          );
        }),
        Object.defineProperty(r, "IDENTITY", {
          get: function () {
            return new r();
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "TEMP_MATRIX", {
          get: function () {
            return new r();
          },
          enumerable: !1,
          configurable: !0,
        }),
        r
      );
    })(),
    ui = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
    hi = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
    ci = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
    fi = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
    al = [],
    kf = [],
    uo = Math.sign;
  function V1() {
    for (var r = 0; r < 16; r++) {
      var t = [];
      al.push(t);
      for (var e = 0; e < 16; e++)
        for (
          var i = uo(ui[r] * ui[e] + ci[r] * hi[e]),
            n = uo(hi[r] * ui[e] + fi[r] * hi[e]),
            s = uo(ui[r] * ci[e] + ci[r] * fi[e]),
            o = uo(hi[r] * ci[e] + fi[r] * fi[e]),
            l = 0;
          l < 16;
          l++
        )
          if (ui[l] === i && hi[l] === n && ci[l] === s && fi[l] === o) {
            t.push(l);
            break;
          }
    }
    for (var r = 0; r < 16; r++) {
      var h = new Yt();
      h.set(ui[r], hi[r], ci[r], fi[r], 0, 0), kf.push(h);
    }
  }
  V1();
  var Vt = {
      E: 0,
      SE: 1,
      S: 2,
      SW: 3,
      W: 4,
      NW: 5,
      N: 6,
      NE: 7,
      MIRROR_VERTICAL: 8,
      MAIN_DIAGONAL: 10,
      MIRROR_HORIZONTAL: 12,
      REVERSE_DIAGONAL: 14,
      uX: function (r) {
        return ui[r];
      },
      uY: function (r) {
        return hi[r];
      },
      vX: function (r) {
        return ci[r];
      },
      vY: function (r) {
        return fi[r];
      },
      inv: function (r) {
        return r & 8 ? r & 15 : -r & 7;
      },
      add: function (r, t) {
        return al[r][t];
      },
      sub: function (r, t) {
        return al[r][Vt.inv(t)];
      },
      rotate180: function (r) {
        return r ^ 4;
      },
      isVertical: function (r) {
        return (r & 3) === 2;
      },
      byDirection: function (r, t) {
        return Math.abs(r) * 2 <= Math.abs(t)
          ? t >= 0
            ? Vt.S
            : Vt.N
          : Math.abs(t) * 2 <= Math.abs(r)
          ? r > 0
            ? Vt.E
            : Vt.W
          : t > 0
          ? r > 0
            ? Vt.SE
            : Vt.SW
          : r > 0
          ? Vt.NE
          : Vt.NW;
      },
      matrixAppendRotationInv: function (r, t, e, i) {
        e === void 0 && (e = 0), i === void 0 && (i = 0);
        var n = kf[Vt.inv(t)];
        (n.tx = e), (n.ty = i), r.append(n);
      },
    },
    ll = (function () {
      function r() {
        (this.worldTransform = new Yt()),
          (this.localTransform = new Yt()),
          (this.position = new zi(this.onChange, this, 0, 0)),
          (this.scale = new zi(this.onChange, this, 1, 1)),
          (this.pivot = new zi(this.onChange, this, 0, 0)),
          (this.skew = new zi(this.updateSkew, this, 0, 0)),
          (this._rotation = 0),
          (this._cx = 1),
          (this._sx = 0),
          (this._cy = 0),
          (this._sy = 1),
          (this._localID = 0),
          (this._currentLocalID = 0),
          (this._worldID = 0),
          (this._parentID = 0);
      }
      return (
        (r.prototype.onChange = function () {
          this._localID++;
        }),
        (r.prototype.updateSkew = function () {
          (this._cx = Math.cos(this._rotation + this.skew.y)),
            (this._sx = Math.sin(this._rotation + this.skew.y)),
            (this._cy = -Math.sin(this._rotation - this.skew.x)),
            (this._sy = Math.cos(this._rotation - this.skew.x)),
            this._localID++;
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/math:Transform " +
            ("position=(" + this.position.x + ", " + this.position.y + ") ") +
            ("rotation=" + this.rotation + " ") +
            ("scale=(" + this.scale.x + ", " + this.scale.y + ") ") +
            ("skew=(" + this.skew.x + ", " + this.skew.y + ") ") +
            "]"
          );
        }),
        (r.prototype.updateLocalTransform = function () {
          var t = this.localTransform;
          this._localID !== this._currentLocalID &&
            ((t.a = this._cx * this.scale.x),
            (t.b = this._sx * this.scale.x),
            (t.c = this._cy * this.scale.y),
            (t.d = this._sy * this.scale.y),
            (t.tx =
              this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c)),
            (t.ty =
              this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d)),
            (this._currentLocalID = this._localID),
            (this._parentID = -1));
        }),
        (r.prototype.updateTransform = function (t) {
          var e = this.localTransform;
          if (
            (this._localID !== this._currentLocalID &&
              ((e.a = this._cx * this.scale.x),
              (e.b = this._sx * this.scale.x),
              (e.c = this._cy * this.scale.y),
              (e.d = this._sy * this.scale.y),
              (e.tx =
                this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c)),
              (e.ty =
                this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d)),
              (this._currentLocalID = this._localID),
              (this._parentID = -1)),
            this._parentID !== t._worldID)
          ) {
            var i = t.worldTransform,
              n = this.worldTransform;
            (n.a = e.a * i.a + e.b * i.c),
              (n.b = e.a * i.b + e.b * i.d),
              (n.c = e.c * i.a + e.d * i.c),
              (n.d = e.c * i.b + e.d * i.d),
              (n.tx = e.tx * i.a + e.ty * i.c + i.tx),
              (n.ty = e.tx * i.b + e.ty * i.d + i.ty),
              (this._parentID = t._worldID),
              this._worldID++;
          }
        }),
        (r.prototype.setFromMatrix = function (t) {
          t.decompose(this), this._localID++;
        }),
        Object.defineProperty(r.prototype, "rotation", {
          get: function () {
            return this._rotation;
          },
          set: function (t) {
            this._rotation !== t && ((this._rotation = t), this.updateSkew());
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.IDENTITY = new r()),
        r
      );
    })();
  /*!
   * @pixi/display - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/display is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ Q.SORTABLE_CHILDREN = !1;
  var Yn = (function () {
    function r() {
      (this.minX = 1 / 0),
        (this.minY = 1 / 0),
        (this.maxX = -1 / 0),
        (this.maxY = -1 / 0),
        (this.rect = null),
        (this.updateID = -1);
    }
    return (
      (r.prototype.isEmpty = function () {
        return this.minX > this.maxX || this.minY > this.maxY;
      }),
      (r.prototype.clear = function () {
        (this.minX = 1 / 0),
          (this.minY = 1 / 0),
          (this.maxX = -1 / 0),
          (this.maxY = -1 / 0);
      }),
      (r.prototype.getRectangle = function (t) {
        return this.minX > this.maxX || this.minY > this.maxY
          ? ft.EMPTY
          : ((t = t || new ft(0, 0, 1, 1)),
            (t.x = this.minX),
            (t.y = this.minY),
            (t.width = this.maxX - this.minX),
            (t.height = this.maxY - this.minY),
            t);
      }),
      (r.prototype.addPoint = function (t) {
        (this.minX = Math.min(this.minX, t.x)),
          (this.maxX = Math.max(this.maxX, t.x)),
          (this.minY = Math.min(this.minY, t.y)),
          (this.maxY = Math.max(this.maxY, t.y));
      }),
      (r.prototype.addPointMatrix = function (t, e) {
        var i = t.a,
          n = t.b,
          s = t.c,
          o = t.d,
          l = t.tx,
          h = t.ty,
          f = i * e.x + s * e.y + l,
          p = n * e.x + o * e.y + h;
        (this.minX = Math.min(this.minX, f)),
          (this.maxX = Math.max(this.maxX, f)),
          (this.minY = Math.min(this.minY, p)),
          (this.maxY = Math.max(this.maxY, p));
      }),
      (r.prototype.addQuad = function (t) {
        var e = this.minX,
          i = this.minY,
          n = this.maxX,
          s = this.maxY,
          o = t[0],
          l = t[1];
        (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (o = t[2]),
          (l = t[3]),
          (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (o = t[4]),
          (l = t[5]),
          (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (o = t[6]),
          (l = t[7]),
          (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (this.minX = e),
          (this.minY = i),
          (this.maxX = n),
          (this.maxY = s);
      }),
      (r.prototype.addFrame = function (t, e, i, n, s) {
        this.addFrameMatrix(t.worldTransform, e, i, n, s);
      }),
      (r.prototype.addFrameMatrix = function (t, e, i, n, s) {
        var o = t.a,
          l = t.b,
          h = t.c,
          f = t.d,
          p = t.tx,
          v = t.ty,
          _ = this.minX,
          m = this.minY,
          g = this.maxX,
          y = this.maxY,
          b = o * e + h * i + p,
          w = l * e + f * i + v;
        (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (b = o * n + h * i + p),
          (w = l * n + f * i + v),
          (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (b = o * e + h * s + p),
          (w = l * e + f * s + v),
          (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (b = o * n + h * s + p),
          (w = l * n + f * s + v),
          (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (this.minX = _),
          (this.minY = m),
          (this.maxX = g),
          (this.maxY = y);
      }),
      (r.prototype.addVertexData = function (t, e, i) {
        for (
          var n = this.minX, s = this.minY, o = this.maxX, l = this.maxY, h = e;
          h < i;
          h += 2
        ) {
          var f = t[h],
            p = t[h + 1];
          (n = f < n ? f : n),
            (s = p < s ? p : s),
            (o = f > o ? f : o),
            (l = p > l ? p : l);
        }
        (this.minX = n), (this.minY = s), (this.maxX = o), (this.maxY = l);
      }),
      (r.prototype.addVertices = function (t, e, i, n) {
        this.addVerticesMatrix(t.worldTransform, e, i, n);
      }),
      (r.prototype.addVerticesMatrix = function (t, e, i, n, s, o) {
        s === void 0 && (s = 0), o === void 0 && (o = s);
        for (
          var l = t.a,
            h = t.b,
            f = t.c,
            p = t.d,
            v = t.tx,
            _ = t.ty,
            m = this.minX,
            g = this.minY,
            y = this.maxX,
            b = this.maxY,
            w = i;
          w < n;
          w += 2
        ) {
          var C = e[w],
            T = e[w + 1],
            A = l * C + f * T + v,
            I = p * T + h * C + _;
          (m = Math.min(m, A - s)),
            (y = Math.max(y, A + s)),
            (g = Math.min(g, I - o)),
            (b = Math.max(b, I + o));
        }
        (this.minX = m), (this.minY = g), (this.maxX = y), (this.maxY = b);
      }),
      (r.prototype.addBounds = function (t) {
        var e = this.minX,
          i = this.minY,
          n = this.maxX,
          s = this.maxY;
        (this.minX = t.minX < e ? t.minX : e),
          (this.minY = t.minY < i ? t.minY : i),
          (this.maxX = t.maxX > n ? t.maxX : n),
          (this.maxY = t.maxY > s ? t.maxY : s);
      }),
      (r.prototype.addBoundsMask = function (t, e) {
        var i = t.minX > e.minX ? t.minX : e.minX,
          n = t.minY > e.minY ? t.minY : e.minY,
          s = t.maxX < e.maxX ? t.maxX : e.maxX,
          o = t.maxY < e.maxY ? t.maxY : e.maxY;
        if (i <= s && n <= o) {
          var l = this.minX,
            h = this.minY,
            f = this.maxX,
            p = this.maxY;
          (this.minX = i < l ? i : l),
            (this.minY = n < h ? n : h),
            (this.maxX = s > f ? s : f),
            (this.maxY = o > p ? o : p);
        }
      }),
      (r.prototype.addBoundsMatrix = function (t, e) {
        this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY);
      }),
      (r.prototype.addBoundsArea = function (t, e) {
        var i = t.minX > e.x ? t.minX : e.x,
          n = t.minY > e.y ? t.minY : e.y,
          s = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
          o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
        if (i <= s && n <= o) {
          var l = this.minX,
            h = this.minY,
            f = this.maxX,
            p = this.maxY;
          (this.minX = i < l ? i : l),
            (this.minY = n < h ? n : h),
            (this.maxX = s > f ? s : f),
            (this.maxY = o > p ? o : p);
        }
      }),
      (r.prototype.pad = function (t, e) {
        t === void 0 && (t = 0),
          e === void 0 && (e = t),
          this.isEmpty() ||
            ((this.minX -= t),
            (this.maxX += t),
            (this.minY -= e),
            (this.maxY += e));
      }),
      (r.prototype.addFramePad = function (t, e, i, n, s, o) {
        (t -= s),
          (e -= o),
          (i += s),
          (n += o),
          (this.minX = this.minX < t ? this.minX : t),
          (this.maxX = this.maxX > i ? this.maxX : i),
          (this.minY = this.minY < e ? this.minY : e),
          (this.maxY = this.maxY > n ? this.maxY : n);
      }),
      r
    );
  })();
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var ul =
    function (r, t) {
      return (
        (ul =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        ul(r, t)
      );
    };
  function hl(r, t) {
    ul(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var qt = (function (r) {
      hl(t, r);
      function t() {
        var e = r.call(this) || this;
        return (
          (e.tempDisplayObjectParent = null),
          (e.transform = new ll()),
          (e.alpha = 1),
          (e.visible = !0),
          (e.renderable = !0),
          (e.cullable = !1),
          (e.cullArea = null),
          (e.parent = null),
          (e.worldAlpha = 1),
          (e._lastSortedIndex = 0),
          (e._zIndex = 0),
          (e.filterArea = null),
          (e.filters = null),
          (e._enabledFilters = null),
          (e._bounds = new Yn()),
          (e._localBounds = null),
          (e._boundsID = 0),
          (e._boundsRect = null),
          (e._localBoundsRect = null),
          (e._mask = null),
          (e._maskRefCount = 0),
          (e._destroyed = !1),
          (e.isSprite = !1),
          (e.isMask = !1),
          e
        );
      }
      return (
        (t.mixin = function (e) {
          for (var i = Object.keys(e), n = 0; n < i.length; ++n) {
            var s = i[n];
            Object.defineProperty(
              t.prototype,
              s,
              Object.getOwnPropertyDescriptor(e, s)
            );
          }
        }),
        Object.defineProperty(t.prototype, "destroyed", {
          get: function () {
            return this._destroyed;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype._recursivePostUpdateTransform = function () {
          this.parent
            ? (this.parent._recursivePostUpdateTransform(),
              this.transform.updateTransform(this.parent.transform))
            : this.transform.updateTransform(
                this._tempDisplayObjectParent.transform
              );
        }),
        (t.prototype.updateTransform = function () {
          this._boundsID++,
            this.transform.updateTransform(this.parent.transform),
            (this.worldAlpha = this.alpha * this.parent.worldAlpha);
        }),
        (t.prototype.getBounds = function (e, i) {
          return (
            e ||
              (this.parent
                ? (this._recursivePostUpdateTransform(), this.updateTransform())
                : ((this.parent = this._tempDisplayObjectParent),
                  this.updateTransform(),
                  (this.parent = null))),
            this._bounds.updateID !== this._boundsID &&
              (this.calculateBounds(),
              (this._bounds.updateID = this._boundsID)),
            i ||
              (this._boundsRect || (this._boundsRect = new ft()),
              (i = this._boundsRect)),
            this._bounds.getRectangle(i)
          );
        }),
        (t.prototype.getLocalBounds = function (e) {
          e ||
            (this._localBoundsRect || (this._localBoundsRect = new ft()),
            (e = this._localBoundsRect)),
            this._localBounds || (this._localBounds = new Yn());
          var i = this.transform,
            n = this.parent;
          (this.parent = null),
            (this.transform = this._tempDisplayObjectParent.transform);
          var s = this._bounds,
            o = this._boundsID;
          this._bounds = this._localBounds;
          var l = this.getBounds(!1, e);
          return (
            (this.parent = n),
            (this.transform = i),
            (this._bounds = s),
            (this._bounds.updateID += this._boundsID - o),
            l
          );
        }),
        (t.prototype.toGlobal = function (e, i, n) {
          return (
            n === void 0 && (n = !1),
            n ||
              (this._recursivePostUpdateTransform(),
              this.parent
                ? this.displayObjectUpdateTransform()
                : ((this.parent = this._tempDisplayObjectParent),
                  this.displayObjectUpdateTransform(),
                  (this.parent = null))),
            this.worldTransform.apply(e, i)
          );
        }),
        (t.prototype.toLocal = function (e, i, n, s) {
          return (
            i && (e = i.toGlobal(e, n, s)),
            s ||
              (this._recursivePostUpdateTransform(),
              this.parent
                ? this.displayObjectUpdateTransform()
                : ((this.parent = this._tempDisplayObjectParent),
                  this.displayObjectUpdateTransform(),
                  (this.parent = null))),
            this.worldTransform.applyInverse(e, n)
          );
        }),
        (t.prototype.setParent = function (e) {
          if (!e || !e.addChild)
            throw new Error("setParent: Argument must be a Container");
          return e.addChild(this), e;
        }),
        (t.prototype.setTransform = function (e, i, n, s, o, l, h, f, p) {
          return (
            e === void 0 && (e = 0),
            i === void 0 && (i = 0),
            n === void 0 && (n = 1),
            s === void 0 && (s = 1),
            o === void 0 && (o = 0),
            l === void 0 && (l = 0),
            h === void 0 && (h = 0),
            f === void 0 && (f = 0),
            p === void 0 && (p = 0),
            (this.position.x = e),
            (this.position.y = i),
            (this.scale.x = n || 1),
            (this.scale.y = s || 1),
            (this.rotation = o),
            (this.skew.x = l),
            (this.skew.y = h),
            (this.pivot.x = f),
            (this.pivot.y = p),
            this
          );
        }),
        (t.prototype.destroy = function (e) {
          this.parent && this.parent.removeChild(this),
            (this._destroyed = !0),
            (this.transform = null),
            (this.parent = null),
            (this._bounds = null),
            (this.mask = null),
            (this.cullArea = null),
            (this.filters = null),
            (this.filterArea = null),
            (this.hitArea = null),
            (this.interactive = !1),
            (this.interactiveChildren = !1),
            this.emit("destroyed"),
            this.removeAllListeners();
        }),
        Object.defineProperty(t.prototype, "_tempDisplayObjectParent", {
          get: function () {
            return (
              this.tempDisplayObjectParent === null &&
                (this.tempDisplayObjectParent = new Bf()),
              this.tempDisplayObjectParent
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.enableTempParent = function () {
          var e = this.parent;
          return (this.parent = this._tempDisplayObjectParent), e;
        }),
        (t.prototype.disableTempParent = function (e) {
          this.parent = e;
        }),
        Object.defineProperty(t.prototype, "x", {
          get: function () {
            return this.position.x;
          },
          set: function (e) {
            this.transform.position.x = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "y", {
          get: function () {
            return this.position.y;
          },
          set: function (e) {
            this.transform.position.y = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "worldTransform", {
          get: function () {
            return this.transform.worldTransform;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "localTransform", {
          get: function () {
            return this.transform.localTransform;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "position", {
          get: function () {
            return this.transform.position;
          },
          set: function (e) {
            this.transform.position.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "scale", {
          get: function () {
            return this.transform.scale;
          },
          set: function (e) {
            this.transform.scale.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "pivot", {
          get: function () {
            return this.transform.pivot;
          },
          set: function (e) {
            this.transform.pivot.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "skew", {
          get: function () {
            return this.transform.skew;
          },
          set: function (e) {
            this.transform.skew.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "rotation", {
          get: function () {
            return this.transform.rotation;
          },
          set: function (e) {
            this.transform.rotation = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "angle", {
          get: function () {
            return this.transform.rotation * Lf;
          },
          set: function (e) {
            this.transform.rotation = e * Ff;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "zIndex", {
          get: function () {
            return this._zIndex;
          },
          set: function (e) {
            (this._zIndex = e), this.parent && (this.parent.sortDirty = !0);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "worldVisible", {
          get: function () {
            var e = this;
            do {
              if (!e.visible) return !1;
              e = e.parent;
            } while (e);
            return !0;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "mask", {
          get: function () {
            return this._mask;
          },
          set: function (e) {
            if (this._mask !== e) {
              if (this._mask) {
                var i = this._mask.maskObject || this._mask;
                i._maskRefCount--,
                  i._maskRefCount === 0 &&
                    ((i.renderable = !0), (i.isMask = !1));
              }
              if (((this._mask = e), this._mask)) {
                var i = this._mask.maskObject || this._mask;
                i._maskRefCount === 0 && ((i.renderable = !1), (i.isMask = !0)),
                  i._maskRefCount++;
              }
            }
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Di),
    Bf = (function (r) {
      hl(t, r);
      function t() {
        var e = (r !== null && r.apply(this, arguments)) || this;
        return (e.sortDirty = null), e;
      }
      return t;
    })(qt);
  qt.prototype.displayObjectUpdateTransform = qt.prototype.updateTransform;
  /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var Gf;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(Gf || (Gf = {}));
  var Mf;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })(Mf || (Mf = {}));
  var Df;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(Df || (Df = {}));
  var Vf;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(Vf || (Vf = {}));
  var Hf;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(Hf || (Hf = {}));
  var Xf;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })(Xf || (Xf = {}));
  var $f;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })($f || ($f = {}));
  var jf;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(jf || (jf = {}));
  var zf;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(zf || (zf = {}));
  var Wf;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(Wf || (Wf = {}));
  var Yf;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(Yf || (Yf = {}));
  var qf;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(qf || (qf = {}));
  var Kf;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(Kf || (Kf = {}));
  var Zf;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(Zf || (Zf = {}));
  var Jf;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(Jf || (Jf = {}));
  var Qf;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(Qf || (Qf = {}));
  var cl;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(cl || (cl = {}));
  var tp;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(tp || (tp = {}));
  var ep;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(ep || (ep = {}));
  function H1(r, t) {
    return r.zIndex === t.zIndex
      ? r._lastSortedIndex - t._lastSortedIndex
      : r.zIndex - t.zIndex;
  }
  var Te = (function (r) {
    hl(t, r);
    function t() {
      var e = r.call(this) || this;
      return (
        (e.children = []),
        (e.sortableChildren = Q.SORTABLE_CHILDREN),
        (e.sortDirty = !1),
        e
      );
    }
    return (
      (t.prototype.onChildrenChange = function (e) {}),
      (t.prototype.addChild = function () {
        for (var e = arguments, i = [], n = 0; n < arguments.length; n++)
          i[n] = e[n];
        if (i.length > 1)
          for (var s = 0; s < i.length; s++) this.addChild(i[s]);
        else {
          var o = i[0];
          o.parent && o.parent.removeChild(o),
            (o.parent = this),
            (this.sortDirty = !0),
            (o.transform._parentID = -1),
            this.children.push(o),
            this._boundsID++,
            this.onChildrenChange(this.children.length - 1),
            this.emit("childAdded", o, this, this.children.length - 1),
            o.emit("added", this);
        }
        return i[0];
      }),
      (t.prototype.addChildAt = function (e, i) {
        if (i < 0 || i > this.children.length)
          throw new Error(
            e +
              "addChildAt: The index " +
              i +
              " supplied is out of bounds " +
              this.children.length
          );
        return (
          e.parent && e.parent.removeChild(e),
          (e.parent = this),
          (this.sortDirty = !0),
          (e.transform._parentID = -1),
          this.children.splice(i, 0, e),
          this._boundsID++,
          this.onChildrenChange(i),
          e.emit("added", this),
          this.emit("childAdded", e, this, i),
          e
        );
      }),
      (t.prototype.swapChildren = function (e, i) {
        if (e !== i) {
          var n = this.getChildIndex(e),
            s = this.getChildIndex(i);
          (this.children[n] = i),
            (this.children[s] = e),
            this.onChildrenChange(n < s ? n : s);
        }
      }),
      (t.prototype.getChildIndex = function (e) {
        var i = this.children.indexOf(e);
        if (i === -1)
          throw new Error(
            "The supplied DisplayObject must be a child of the caller"
          );
        return i;
      }),
      (t.prototype.setChildIndex = function (e, i) {
        if (i < 0 || i >= this.children.length)
          throw new Error(
            "The index " +
              i +
              " supplied is out of bounds " +
              this.children.length
          );
        var n = this.getChildIndex(e);
        fr(this.children, n, 1),
          this.children.splice(i, 0, e),
          this.onChildrenChange(i);
      }),
      (t.prototype.getChildAt = function (e) {
        if (e < 0 || e >= this.children.length)
          throw new Error("getChildAt: Index (" + e + ") does not exist.");
        return this.children[e];
      }),
      (t.prototype.removeChild = function () {
        for (var e = arguments, i = [], n = 0; n < arguments.length; n++)
          i[n] = e[n];
        if (i.length > 1)
          for (var s = 0; s < i.length; s++) this.removeChild(i[s]);
        else {
          var o = i[0],
            l = this.children.indexOf(o);
          if (l === -1) return null;
          (o.parent = null),
            (o.transform._parentID = -1),
            fr(this.children, l, 1),
            this._boundsID++,
            this.onChildrenChange(l),
            o.emit("removed", this),
            this.emit("childRemoved", o, this, l);
        }
        return i[0];
      }),
      (t.prototype.removeChildAt = function (e) {
        var i = this.getChildAt(e);
        return (
          (i.parent = null),
          (i.transform._parentID = -1),
          fr(this.children, e, 1),
          this._boundsID++,
          this.onChildrenChange(e),
          i.emit("removed", this),
          this.emit("childRemoved", i, this, e),
          i
        );
      }),
      (t.prototype.removeChildren = function (e, i) {
        e === void 0 && (e = 0), i === void 0 && (i = this.children.length);
        var n = e,
          s = i,
          o = s - n,
          l;
        if (o > 0 && o <= s) {
          l = this.children.splice(n, o);
          for (var h = 0; h < l.length; ++h)
            (l[h].parent = null),
              l[h].transform && (l[h].transform._parentID = -1);
          this._boundsID++, this.onChildrenChange(e);
          for (var h = 0; h < l.length; ++h)
            l[h].emit("removed", this),
              this.emit("childRemoved", l[h], this, h);
          return l;
        } else if (o === 0 && this.children.length === 0) return [];
        throw new RangeError(
          "removeChildren: numeric values are outside the acceptable range."
        );
      }),
      (t.prototype.sortChildren = function () {
        for (var e = !1, i = 0, n = this.children.length; i < n; ++i) {
          var s = this.children[i];
          (s._lastSortedIndex = i), !e && s.zIndex !== 0 && (e = !0);
        }
        e && this.children.length > 1 && this.children.sort(H1),
          (this.sortDirty = !1);
      }),
      (t.prototype.updateTransform = function () {
        this.sortableChildren && this.sortDirty && this.sortChildren(),
          this._boundsID++,
          this.transform.updateTransform(this.parent.transform),
          (this.worldAlpha = this.alpha * this.parent.worldAlpha);
        for (var e = 0, i = this.children.length; e < i; ++e) {
          var n = this.children[e];
          n.visible && n.updateTransform();
        }
      }),
      (t.prototype.calculateBounds = function () {
        this._bounds.clear(), this._calculateBounds();
        for (var e = 0; e < this.children.length; e++) {
          var i = this.children[e];
          if (!(!i.visible || !i.renderable))
            if ((i.calculateBounds(), i._mask)) {
              var n = i._mask.maskObject || i._mask;
              n.calculateBounds(),
                this._bounds.addBoundsMask(i._bounds, n._bounds);
            } else
              i.filterArea
                ? this._bounds.addBoundsArea(i._bounds, i.filterArea)
                : this._bounds.addBounds(i._bounds);
        }
        this._bounds.updateID = this._boundsID;
      }),
      (t.prototype.getLocalBounds = function (e, i) {
        i === void 0 && (i = !1);
        var n = r.prototype.getLocalBounds.call(this, e);
        if (!i)
          for (var s = 0, o = this.children.length; s < o; ++s) {
            var l = this.children[s];
            l.visible && l.updateTransform();
          }
        return n;
      }),
      (t.prototype._calculateBounds = function () {}),
      (t.prototype._renderWithCulling = function (e) {
        var i = e.renderTexture.sourceFrame;
        if (i.width > 0 && i.height > 0) {
          var n, s;
          if (
            (this.cullArea
              ? ((n = this.cullArea), (s = this.worldTransform))
              : this._render !== t.prototype._render &&
                (n = this.getBounds(!0)),
            n && i.intersects(n, s))
          )
            this._render(e);
          else if (this.cullArea) return;
          for (var o = 0, l = this.children.length; o < l; ++o) {
            var h = this.children[o],
              f = h.cullable;
            (h.cullable = f || !this.cullArea), h.render(e), (h.cullable = f);
          }
        }
      }),
      (t.prototype.render = function (e) {
        if (!(!this.visible || this.worldAlpha <= 0 || !this.renderable))
          if (this._mask || (this.filters && this.filters.length))
            this.renderAdvanced(e);
          else if (this.cullable) this._renderWithCulling(e);
          else {
            this._render(e);
            for (var i = 0, n = this.children.length; i < n; ++i)
              this.children[i].render(e);
          }
      }),
      (t.prototype.renderAdvanced = function (e) {
        var i = this.filters,
          n = this._mask;
        if (i) {
          this._enabledFilters || (this._enabledFilters = []),
            (this._enabledFilters.length = 0);
          for (var s = 0; s < i.length; s++)
            i[s].enabled && this._enabledFilters.push(i[s]);
        }
        var o =
          (i && this._enabledFilters && this._enabledFilters.length) ||
          (n &&
            (!n.isMaskData ||
              (n.enabled && (n.autoDetect || n.type !== cl.NONE))));
        if (
          (o && e.batch.flush(),
          i &&
            this._enabledFilters &&
            this._enabledFilters.length &&
            e.filter.push(this, this._enabledFilters),
          n && e.mask.push(this, this._mask),
          this.cullable)
        )
          this._renderWithCulling(e);
        else {
          this._render(e);
          for (var s = 0, l = this.children.length; s < l; ++s)
            this.children[s].render(e);
        }
        o && e.batch.flush(),
          n && e.mask.pop(this),
          i &&
            this._enabledFilters &&
            this._enabledFilters.length &&
            e.filter.pop();
      }),
      (t.prototype._render = function (e) {}),
      (t.prototype.destroy = function (e) {
        r.prototype.destroy.call(this), (this.sortDirty = !1);
        var i = typeof e == "boolean" ? e : e && e.children,
          n = this.removeChildren(0, this.children.length);
        if (i) for (var s = 0; s < n.length; ++s) n[s].destroy(e);
      }),
      Object.defineProperty(t.prototype, "width", {
        get: function () {
          return this.scale.x * this.getLocalBounds().width;
        },
        set: function (e) {
          var i = this.getLocalBounds().width;
          i !== 0 ? (this.scale.x = e / i) : (this.scale.x = 1),
            (this._width = e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "height", {
        get: function () {
          return this.scale.y * this.getLocalBounds().height;
        },
        set: function (e) {
          var i = this.getLocalBounds().height;
          i !== 0 ? (this.scale.y = e / i) : (this.scale.y = 1),
            (this._height = e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(qt);
  Te.prototype.containerUpdateTransform = Te.prototype.updateTransform;
  /*!
   * @pixi/accessibility - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/accessibility is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var X1 = {
    accessible: !1,
    accessibleTitle: null,
    accessibleHint: null,
    tabIndex: 0,
    _accessibleActive: !1,
    _accessibleDiv: null,
    accessibleType: "button",
    accessiblePointerEvents: "auto",
    accessibleChildren: !0,
    renderId: -1,
  };
  qt.mixin(X1);
  var $1 = 9,
    ho = 100,
    j1 = 0,
    z1 = 0,
    rp = 2,
    ip = 1,
    W1 = -1e3,
    Y1 = -1e3,
    q1 = 2,
    K1 = (function () {
      function r(t) {
        (this.debug = !1),
          (this._isActive = !1),
          (this._isMobileAccessibility = !1),
          (this.pool = []),
          (this.renderId = 0),
          (this.children = []),
          (this.androidUpdateCount = 0),
          (this.androidUpdateFrequency = 500),
          (this._hookDiv = null),
          (Ke.tablet || Ke.phone) && this.createTouchHook();
        var e = document.createElement("div");
        (e.style.width = ho + "px"),
          (e.style.height = ho + "px"),
          (e.style.position = "absolute"),
          (e.style.top = j1 + "px"),
          (e.style.left = z1 + "px"),
          (e.style.zIndex = rp.toString()),
          (this.div = e),
          (this.renderer = t),
          (this._onKeyDown = this._onKeyDown.bind(this)),
          (this._onMouseMove = this._onMouseMove.bind(this)),
          globalThis.addEventListener("keydown", this._onKeyDown, !1);
      }
      return (
        Object.defineProperty(r.prototype, "isActive", {
          get: function () {
            return this._isActive;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "isMobileAccessibility", {
          get: function () {
            return this._isMobileAccessibility;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.createTouchHook = function () {
          var t = this,
            e = document.createElement("button");
          (e.style.width = ip + "px"),
            (e.style.height = ip + "px"),
            (e.style.position = "absolute"),
            (e.style.top = W1 + "px"),
            (e.style.left = Y1 + "px"),
            (e.style.zIndex = q1.toString()),
            (e.style.backgroundColor = "#FF0000"),
            (e.title = "select to enable accessibility for this content"),
            e.addEventListener("focus", function () {
              (t._isMobileAccessibility = !0),
                t.activate(),
                t.destroyTouchHook();
            }),
            document.body.appendChild(e),
            (this._hookDiv = e);
        }),
        (r.prototype.destroyTouchHook = function () {
          !this._hookDiv ||
            (document.body.removeChild(this._hookDiv), (this._hookDiv = null));
        }),
        (r.prototype.activate = function () {
          var t;
          this._isActive ||
            ((this._isActive = !0),
            globalThis.document.addEventListener(
              "mousemove",
              this._onMouseMove,
              !0
            ),
            globalThis.removeEventListener("keydown", this._onKeyDown, !1),
            this.renderer.on("postrender", this.update, this),
            (t = this.renderer.view.parentNode) === null ||
              t === void 0 ||
              t.appendChild(this.div));
        }),
        (r.prototype.deactivate = function () {
          var t;
          !this._isActive ||
            this._isMobileAccessibility ||
            ((this._isActive = !1),
            globalThis.document.removeEventListener(
              "mousemove",
              this._onMouseMove,
              !0
            ),
            globalThis.addEventListener("keydown", this._onKeyDown, !1),
            this.renderer.off("postrender", this.update),
            (t = this.div.parentNode) === null ||
              t === void 0 ||
              t.removeChild(this.div));
        }),
        (r.prototype.updateAccessibleObjects = function (t) {
          if (!(!t.visible || !t.accessibleChildren)) {
            t.accessible &&
              t.interactive &&
              (t._accessibleActive || this.addChild(t),
              (t.renderId = this.renderId));
            var e = t.children;
            if (e)
              for (var i = 0; i < e.length; i++)
                this.updateAccessibleObjects(e[i]);
          }
        }),
        (r.prototype.update = function () {
          var t = performance.now();
          if (
            !(Ke.android.device && t < this.androidUpdateCount) &&
            ((this.androidUpdateCount = t + this.androidUpdateFrequency),
            !!this.renderer.renderingToScreen)
          ) {
            this.renderer._lastObjectRendered &&
              this.updateAccessibleObjects(this.renderer._lastObjectRendered);
            var e = this.renderer.view.getBoundingClientRect(),
              i = e.left,
              n = e.top,
              s = e.width,
              o = e.height,
              l = this.renderer,
              h = l.width,
              f = l.height,
              p = l.resolution,
              v = (s / h) * p,
              _ = (o / f) * p,
              m = this.div;
            (m.style.left = i + "px"),
              (m.style.top = n + "px"),
              (m.style.width = h + "px"),
              (m.style.height = f + "px");
            for (var g = 0; g < this.children.length; g++) {
              var y = this.children[g];
              if (y.renderId !== this.renderId)
                (y._accessibleActive = !1),
                  fr(this.children, g, 1),
                  this.div.removeChild(y._accessibleDiv),
                  this.pool.push(y._accessibleDiv),
                  (y._accessibleDiv = null),
                  g--;
              else {
                m = y._accessibleDiv;
                var b = y.hitArea,
                  w = y.worldTransform;
                y.hitArea
                  ? ((m.style.left = (w.tx + b.x * w.a) * v + "px"),
                    (m.style.top = (w.ty + b.y * w.d) * _ + "px"),
                    (m.style.width = b.width * w.a * v + "px"),
                    (m.style.height = b.height * w.d * _ + "px"))
                  : ((b = y.getBounds()),
                    this.capHitArea(b),
                    (m.style.left = b.x * v + "px"),
                    (m.style.top = b.y * _ + "px"),
                    (m.style.width = b.width * v + "px"),
                    (m.style.height = b.height * _ + "px"),
                    m.title !== y.accessibleTitle &&
                      y.accessibleTitle !== null &&
                      (m.title = y.accessibleTitle),
                    m.getAttribute("aria-label") !== y.accessibleHint &&
                      y.accessibleHint !== null &&
                      m.setAttribute("aria-label", y.accessibleHint)),
                  (y.accessibleTitle !== m.title ||
                    y.tabIndex !== m.tabIndex) &&
                    ((m.title = y.accessibleTitle),
                    (m.tabIndex = y.tabIndex),
                    this.debug && this.updateDebugHTML(m));
              }
            }
            this.renderId++;
          }
        }),
        (r.prototype.updateDebugHTML = function (t) {
          t.innerHTML =
            "type: " +
            t.type +
            "</br> title : " +
            t.title +
            "</br> tabIndex: " +
            t.tabIndex;
        }),
        (r.prototype.capHitArea = function (t) {
          t.x < 0 && ((t.width += t.x), (t.x = 0)),
            t.y < 0 && ((t.height += t.y), (t.y = 0));
          var e = this.renderer,
            i = e.width,
            n = e.height;
          t.x + t.width > i && (t.width = i - t.x),
            t.y + t.height > n && (t.height = n - t.y);
        }),
        (r.prototype.addChild = function (t) {
          var e = this.pool.pop();
          e ||
            ((e = document.createElement("button")),
            (e.style.width = ho + "px"),
            (e.style.height = ho + "px"),
            (e.style.backgroundColor = this.debug
              ? "rgba(255,255,255,0.5)"
              : "transparent"),
            (e.style.position = "absolute"),
            (e.style.zIndex = rp.toString()),
            (e.style.borderStyle = "none"),
            navigator.userAgent.toLowerCase().indexOf("chrome") > -1
              ? e.setAttribute("aria-live", "off")
              : e.setAttribute("aria-live", "polite"),
            navigator.userAgent.match(/rv:.*Gecko\//)
              ? e.setAttribute("aria-relevant", "additions")
              : e.setAttribute("aria-relevant", "text"),
            e.addEventListener("click", this._onClick.bind(this)),
            e.addEventListener("focus", this._onFocus.bind(this)),
            e.addEventListener("focusout", this._onFocusOut.bind(this))),
            (e.style.pointerEvents = t.accessiblePointerEvents),
            (e.type = t.accessibleType),
            t.accessibleTitle && t.accessibleTitle !== null
              ? (e.title = t.accessibleTitle)
              : (!t.accessibleHint || t.accessibleHint === null) &&
                (e.title = "displayObject " + t.tabIndex),
            t.accessibleHint &&
              t.accessibleHint !== null &&
              e.setAttribute("aria-label", t.accessibleHint),
            this.debug && this.updateDebugHTML(e),
            (t._accessibleActive = !0),
            (t._accessibleDiv = e),
            (e.displayObject = t),
            this.children.push(t),
            this.div.appendChild(t._accessibleDiv),
            (t._accessibleDiv.tabIndex = t.tabIndex);
        }),
        (r.prototype._onClick = function (t) {
          var e = this.renderer.plugins.interaction,
            i = t.target.displayObject,
            n = e.eventData;
          e.dispatchEvent(i, "click", n),
            e.dispatchEvent(i, "pointertap", n),
            e.dispatchEvent(i, "tap", n);
        }),
        (r.prototype._onFocus = function (t) {
          t.target.getAttribute("aria-live") ||
            t.target.setAttribute("aria-live", "assertive");
          var e = this.renderer.plugins.interaction,
            i = t.target.displayObject,
            n = e.eventData;
          e.dispatchEvent(i, "mouseover", n);
        }),
        (r.prototype._onFocusOut = function (t) {
          t.target.getAttribute("aria-live") ||
            t.target.setAttribute("aria-live", "polite");
          var e = this.renderer.plugins.interaction,
            i = t.target.displayObject,
            n = e.eventData;
          e.dispatchEvent(i, "mouseout", n);
        }),
        (r.prototype._onKeyDown = function (t) {
          t.keyCode === $1 && this.activate();
        }),
        (r.prototype._onMouseMove = function (t) {
          (t.movementX === 0 && t.movementY === 0) || this.deactivate();
        }),
        (r.prototype.destroy = function () {
          this.destroyTouchHook(),
            (this.div = null),
            globalThis.document.removeEventListener(
              "mousemove",
              this._onMouseMove,
              !0
            ),
            globalThis.removeEventListener("keydown", this._onKeyDown),
            (this.pool = null),
            (this.children = null),
            (this.renderer = null);
        }),
        r
      );
    })();
  /*!
   * @pixi/ticker - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/ticker is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ Q.TARGET_FPMS = 0.06;
  var pr;
  (function (r) {
    (r[(r.INTERACTION = 50)] = "INTERACTION"),
      (r[(r.HIGH = 25)] = "HIGH"),
      (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.LOW = -25)] = "LOW"),
      (r[(r.UTILITY = -50)] = "UTILITY");
  })(pr || (pr = {}));
  var fl = (function () {
      function r(t, e, i, n) {
        e === void 0 && (e = null),
          i === void 0 && (i = 0),
          n === void 0 && (n = !1),
          (this.next = null),
          (this.previous = null),
          (this._destroyed = !1),
          (this.fn = t),
          (this.context = e),
          (this.priority = i),
          (this.once = n);
      }
      return (
        (r.prototype.match = function (t, e) {
          return (
            e === void 0 && (e = null), this.fn === t && this.context === e
          );
        }),
        (r.prototype.emit = function (t) {
          this.fn &&
            (this.context ? this.fn.call(this.context, t) : this.fn(t));
          var e = this.next;
          return (
            this.once && this.destroy(!0),
            this._destroyed && (this.next = null),
            e
          );
        }),
        (r.prototype.connect = function (t) {
          (this.previous = t),
            t.next && (t.next.previous = this),
            (this.next = t.next),
            (t.next = this);
        }),
        (r.prototype.destroy = function (t) {
          t === void 0 && (t = !1),
            (this._destroyed = !0),
            (this.fn = null),
            (this.context = null),
            this.previous && (this.previous.next = this.next),
            this.next && (this.next.previous = this.previous);
          var e = this.next;
          return (this.next = t ? null : e), (this.previous = null), e;
        }),
        r
      );
    })(),
    oe = (function () {
      function r() {
        var t = this;
        (this.autoStart = !1),
          (this.deltaTime = 1),
          (this.lastTime = -1),
          (this.speed = 1),
          (this.started = !1),
          (this._requestId = null),
          (this._maxElapsedMS = 100),
          (this._minElapsedMS = 0),
          (this._protected = !1),
          (this._lastFrame = -1),
          (this._head = new fl(null, null, 1 / 0)),
          (this.deltaMS = 1 / Q.TARGET_FPMS),
          (this.elapsedMS = 1 / Q.TARGET_FPMS),
          (this._tick = function (e) {
            (t._requestId = null),
              t.started &&
                (t.update(e),
                t.started &&
                  t._requestId === null &&
                  t._head.next &&
                  (t._requestId = requestAnimationFrame(t._tick)));
          });
      }
      return (
        (r.prototype._requestIfNeeded = function () {
          this._requestId === null &&
            this._head.next &&
            ((this.lastTime = performance.now()),
            (this._lastFrame = this.lastTime),
            (this._requestId = requestAnimationFrame(this._tick)));
        }),
        (r.prototype._cancelIfNeeded = function () {
          this._requestId !== null &&
            (cancelAnimationFrame(this._requestId), (this._requestId = null));
        }),
        (r.prototype._startIfPossible = function () {
          this.started
            ? this._requestIfNeeded()
            : this.autoStart && this.start();
        }),
        (r.prototype.add = function (t, e, i) {
          return (
            i === void 0 && (i = pr.NORMAL), this._addListener(new fl(t, e, i))
          );
        }),
        (r.prototype.addOnce = function (t, e, i) {
          return (
            i === void 0 && (i = pr.NORMAL),
            this._addListener(new fl(t, e, i, !0))
          );
        }),
        (r.prototype._addListener = function (t) {
          var e = this._head.next,
            i = this._head;
          if (!e) t.connect(i);
          else {
            for (; e; ) {
              if (t.priority > e.priority) {
                t.connect(i);
                break;
              }
              (i = e), (e = e.next);
            }
            t.previous || t.connect(i);
          }
          return this._startIfPossible(), this;
        }),
        (r.prototype.remove = function (t, e) {
          for (var i = this._head.next; i; )
            i.match(t, e) ? (i = i.destroy()) : (i = i.next);
          return this._head.next || this._cancelIfNeeded(), this;
        }),
        Object.defineProperty(r.prototype, "count", {
          get: function () {
            if (!this._head) return 0;
            for (var t = 0, e = this._head; (e = e.next); ) t++;
            return t;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.start = function () {
          this.started || ((this.started = !0), this._requestIfNeeded());
        }),
        (r.prototype.stop = function () {
          this.started && ((this.started = !1), this._cancelIfNeeded());
        }),
        (r.prototype.destroy = function () {
          if (!this._protected) {
            this.stop();
            for (var t = this._head.next; t; ) t = t.destroy(!0);
            this._head.destroy(), (this._head = null);
          }
        }),
        (r.prototype.update = function (t) {
          t === void 0 && (t = performance.now());
          var e;
          if (t > this.lastTime) {
            if (
              ((e = this.elapsedMS = t - this.lastTime),
              e > this._maxElapsedMS && (e = this._maxElapsedMS),
              (e *= this.speed),
              this._minElapsedMS)
            ) {
              var i = (t - this._lastFrame) | 0;
              if (i < this._minElapsedMS) return;
              this._lastFrame = t - (i % this._minElapsedMS);
            }
            (this.deltaMS = e), (this.deltaTime = this.deltaMS * Q.TARGET_FPMS);
            for (var n = this._head, s = n.next; s; )
              s = s.emit(this.deltaTime);
            n.next || this._cancelIfNeeded();
          } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
          this.lastTime = t;
        }),
        Object.defineProperty(r.prototype, "FPS", {
          get: function () {
            return 1e3 / this.elapsedMS;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "minFPS", {
          get: function () {
            return 1e3 / this._maxElapsedMS;
          },
          set: function (t) {
            var e = Math.min(this.maxFPS, t),
              i = Math.min(Math.max(0, e) / 1e3, Q.TARGET_FPMS);
            this._maxElapsedMS = 1 / i;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "maxFPS", {
          get: function () {
            return this._minElapsedMS
              ? Math.round(1e3 / this._minElapsedMS)
              : 0;
          },
          set: function (t) {
            if (t === 0) this._minElapsedMS = 0;
            else {
              var e = Math.max(this.minFPS, t);
              this._minElapsedMS = 1 / (e / 1e3);
            }
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "shared", {
          get: function () {
            if (!r._shared) {
              var t = (r._shared = new r());
              (t.autoStart = !0), (t._protected = !0);
            }
            return r._shared;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "system", {
          get: function () {
            if (!r._system) {
              var t = (r._system = new r());
              (t.autoStart = !0), (t._protected = !0);
            }
            return r._system;
          },
          enumerable: !1,
          configurable: !0,
        }),
        r
      );
    })(),
    Z1 = (function () {
      function r() {}
      return (
        (r.init = function (t) {
          var e = this;
          (t = Object.assign({ autoStart: !0, sharedTicker: !1 }, t)),
            Object.defineProperty(this, "ticker", {
              set: function (i) {
                this._ticker && this._ticker.remove(this.render, this),
                  (this._ticker = i),
                  i && i.add(this.render, this, pr.LOW);
              },
              get: function () {
                return this._ticker;
              },
            }),
            (this.stop = function () {
              e._ticker.stop();
            }),
            (this.start = function () {
              e._ticker.start();
            }),
            (this._ticker = null),
            (this.ticker = t.sharedTicker ? oe.shared : new oe()),
            t.autoStart && this.start();
        }),
        (r.destroy = function () {
          if (this._ticker) {
            var t = this._ticker;
            (this.ticker = null), t.destroy();
          }
        }),
        r
      );
    })();
  /*!
   * @pixi/interaction - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/interaction is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var np = (function () {
    function r() {
      (this.pressure = 0),
        (this.rotationAngle = 0),
        (this.twist = 0),
        (this.tangentialPressure = 0),
        (this.global = new kt()),
        (this.target = null),
        (this.originalEvent = null),
        (this.identifier = null),
        (this.isPrimary = !1),
        (this.button = 0),
        (this.buttons = 0),
        (this.width = 0),
        (this.height = 0),
        (this.tiltX = 0),
        (this.tiltY = 0),
        (this.pointerType = null),
        (this.pressure = 0),
        (this.rotationAngle = 0),
        (this.twist = 0),
        (this.tangentialPressure = 0);
    }
    return (
      Object.defineProperty(r.prototype, "pointerId", {
        get: function () {
          return this.identifier;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.getLocalPosition = function (t, e, i) {
        return t.worldTransform.applyInverse(i || this.global, e);
      }),
      (r.prototype.copyEvent = function (t) {
        "isPrimary" in t && t.isPrimary && (this.isPrimary = !0),
          (this.button = "button" in t && t.button);
        var e = "buttons" in t && t.buttons;
        (this.buttons = Number.isInteger(e) ? e : "which" in t && t.which),
          (this.width = "width" in t && t.width),
          (this.height = "height" in t && t.height),
          (this.tiltX = "tiltX" in t && t.tiltX),
          (this.tiltY = "tiltY" in t && t.tiltY),
          (this.pointerType = "pointerType" in t && t.pointerType),
          (this.pressure = "pressure" in t && t.pressure),
          (this.rotationAngle = "rotationAngle" in t && t.rotationAngle),
          (this.twist = ("twist" in t && t.twist) || 0),
          (this.tangentialPressure =
            ("tangentialPressure" in t && t.tangentialPressure) || 0);
      }),
      (r.prototype.reset = function () {
        this.isPrimary = !1;
      }),
      r
    );
  })();
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var pl =
    function (r, t) {
      return (
        (pl =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        pl(r, t)
      );
    };
  function J1(r, t) {
    pl(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var Q1 = (function () {
      function r() {
        (this.stopped = !1),
          (this.stopsPropagatingAt = null),
          (this.stopPropagationHint = !1),
          (this.target = null),
          (this.currentTarget = null),
          (this.type = null),
          (this.data = null);
      }
      return (
        (r.prototype.stopPropagation = function () {
          (this.stopped = !0),
            (this.stopPropagationHint = !0),
            (this.stopsPropagatingAt = this.currentTarget);
        }),
        (r.prototype.reset = function () {
          (this.stopped = !1),
            (this.stopsPropagatingAt = null),
            (this.stopPropagationHint = !1),
            (this.currentTarget = null),
            (this.target = null);
        }),
        r
      );
    })(),
    dl = (function () {
      function r(t) {
        (this._pointerId = t), (this._flags = r.FLAGS.NONE);
      }
      return (
        (r.prototype._doSet = function (t, e) {
          e
            ? (this._flags = this._flags | t)
            : (this._flags = this._flags & ~t);
        }),
        Object.defineProperty(r.prototype, "pointerId", {
          get: function () {
            return this._pointerId;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "flags", {
          get: function () {
            return this._flags;
          },
          set: function (t) {
            this._flags = t;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "none", {
          get: function () {
            return this._flags === r.FLAGS.NONE;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "over", {
          get: function () {
            return (this._flags & r.FLAGS.OVER) !== 0;
          },
          set: function (t) {
            this._doSet(r.FLAGS.OVER, t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "rightDown", {
          get: function () {
            return (this._flags & r.FLAGS.RIGHT_DOWN) !== 0;
          },
          set: function (t) {
            this._doSet(r.FLAGS.RIGHT_DOWN, t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "leftDown", {
          get: function () {
            return (this._flags & r.FLAGS.LEFT_DOWN) !== 0;
          },
          set: function (t) {
            this._doSet(r.FLAGS.LEFT_DOWN, t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.FLAGS = Object.freeze({
          NONE: 0,
          OVER: 1 << 0,
          LEFT_DOWN: 1 << 1,
          RIGHT_DOWN: 1 << 2,
        })),
        r
      );
    })(),
    tT = (function () {
      function r() {
        this._tempPoint = new kt();
      }
      return (
        (r.prototype.recursiveFindHit = function (t, e, i, n, s) {
          if (!e || !e.visible) return !1;
          var o = t.data.global;
          s = e.interactive || s;
          var l = !1,
            h = s,
            f = !0;
          if (
            (e.hitArea
              ? (n &&
                  (e.worldTransform.applyInverse(o, this._tempPoint),
                  e.hitArea.contains(this._tempPoint.x, this._tempPoint.y)
                    ? (l = !0)
                    : ((n = !1), (f = !1))),
                (h = !1))
              : e._mask &&
                n &&
                ((e._mask.containsPoint && e._mask.containsPoint(o)) ||
                  (n = !1)),
            f && e.interactiveChildren && e.children)
          )
            for (var p = e.children, v = p.length - 1; v >= 0; v--) {
              var _ = p[v],
                m = this.recursiveFindHit(t, _, i, n, h);
              if (m) {
                if (!_.parent) continue;
                (h = !1), m && (t.target && (n = !1), (l = !0));
              }
            }
          return (
            s &&
              (n &&
                !t.target &&
                !e.hitArea &&
                e.containsPoint &&
                e.containsPoint(o) &&
                (l = !0),
              e.interactive &&
                (l && !t.target && (t.target = e), i && i(t, e, !!l))),
            l
          );
        }),
        (r.prototype.findHit = function (t, e, i, n) {
          this.recursiveFindHit(t, e, i, n, !1);
        }),
        r
      );
    })(),
    eT = {
      interactive: !1,
      interactiveChildren: !0,
      hitArea: null,
      get buttonMode() {
        return this.cursor === "pointer";
      },
      set buttonMode(r) {
        r
          ? (this.cursor = "pointer")
          : this.cursor === "pointer" && (this.cursor = null);
      },
      cursor: null,
      get trackedPointers() {
        return (
          this._trackedPointers === void 0 && (this._trackedPointers = {}),
          this._trackedPointers
        );
      },
      _trackedPointers: void 0,
    };
  qt.mixin(eT);
  var co = 1,
    fo = { target: null, data: { global: null } },
    rT = (function (r) {
      J1(t, r);
      function t(e, i) {
        var n = r.call(this) || this;
        return (
          (i = i || {}),
          (n.renderer = e),
          (n.autoPreventDefault =
            i.autoPreventDefault !== void 0 ? i.autoPreventDefault : !0),
          (n.interactionFrequency = i.interactionFrequency || 10),
          (n.mouse = new np()),
          (n.mouse.identifier = co),
          n.mouse.global.set(-999999),
          (n.activeInteractionData = {}),
          (n.activeInteractionData[co] = n.mouse),
          (n.interactionDataPool = []),
          (n.eventData = new Q1()),
          (n.interactionDOMElement = null),
          (n.moveWhenInside = !1),
          (n.eventsAdded = !1),
          (n.tickerAdded = !1),
          (n.mouseOverRenderer = !("PointerEvent" in globalThis)),
          (n.supportsTouchEvents = "ontouchstart" in globalThis),
          (n.supportsPointerEvents = !!globalThis.PointerEvent),
          (n.onPointerUp = n.onPointerUp.bind(n)),
          (n.processPointerUp = n.processPointerUp.bind(n)),
          (n.onPointerCancel = n.onPointerCancel.bind(n)),
          (n.processPointerCancel = n.processPointerCancel.bind(n)),
          (n.onPointerDown = n.onPointerDown.bind(n)),
          (n.processPointerDown = n.processPointerDown.bind(n)),
          (n.onPointerMove = n.onPointerMove.bind(n)),
          (n.processPointerMove = n.processPointerMove.bind(n)),
          (n.onPointerOut = n.onPointerOut.bind(n)),
          (n.processPointerOverOut = n.processPointerOverOut.bind(n)),
          (n.onPointerOver = n.onPointerOver.bind(n)),
          (n.cursorStyles = { default: "inherit", pointer: "pointer" }),
          (n.currentCursorMode = null),
          (n.cursor = null),
          (n.resolution = 1),
          (n.delayedEvents = []),
          (n.search = new tT()),
          (n._tempDisplayObject = new Bf()),
          (n._eventListenerOptions = { capture: !0, passive: !1 }),
          (n._useSystemTicker =
            i.useSystemTicker !== void 0 ? i.useSystemTicker : !0),
          n.setTargetElement(n.renderer.view, n.renderer.resolution),
          n
        );
      }
      return (
        Object.defineProperty(t.prototype, "useSystemTicker", {
          get: function () {
            return this._useSystemTicker;
          },
          set: function (e) {
            (this._useSystemTicker = e),
              e ? this.addTickerListener() : this.removeTickerListener();
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "lastObjectRendered", {
          get: function () {
            return this.renderer._lastObjectRendered || this._tempDisplayObject;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.hitTest = function (e, i) {
          return (
            (fo.target = null),
            (fo.data.global = e),
            i || (i = this.lastObjectRendered),
            this.processInteractive(fo, i, null, !0),
            fo.target
          );
        }),
        (t.prototype.setTargetElement = function (e, i) {
          i === void 0 && (i = 1),
            this.removeTickerListener(),
            this.removeEvents(),
            (this.interactionDOMElement = e),
            (this.resolution = i),
            this.addEvents(),
            this.addTickerListener();
        }),
        (t.prototype.addTickerListener = function () {
          this.tickerAdded ||
            !this.interactionDOMElement ||
            !this._useSystemTicker ||
            (oe.system.add(this.tickerUpdate, this, pr.INTERACTION),
            (this.tickerAdded = !0));
        }),
        (t.prototype.removeTickerListener = function () {
          !this.tickerAdded ||
            (oe.system.remove(this.tickerUpdate, this),
            (this.tickerAdded = !1));
        }),
        (t.prototype.addEvents = function () {
          if (!(this.eventsAdded || !this.interactionDOMElement)) {
            var e = this.interactionDOMElement.style;
            globalThis.navigator.msPointerEnabled
              ? ((e.msContentZooming = "none"), (e.msTouchAction = "none"))
              : this.supportsPointerEvents && (e.touchAction = "none"),
              this.supportsPointerEvents
                ? (globalThis.document.addEventListener(
                    "pointermove",
                    this.onPointerMove,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.addEventListener(
                    "pointerdown",
                    this.onPointerDown,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.addEventListener(
                    "pointerleave",
                    this.onPointerOut,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.addEventListener(
                    "pointerover",
                    this.onPointerOver,
                    this._eventListenerOptions
                  ),
                  globalThis.addEventListener(
                    "pointercancel",
                    this.onPointerCancel,
                    this._eventListenerOptions
                  ),
                  globalThis.addEventListener(
                    "pointerup",
                    this.onPointerUp,
                    this._eventListenerOptions
                  ))
                : (globalThis.document.addEventListener(
                    "mousemove",
                    this.onPointerMove,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.addEventListener(
                    "mousedown",
                    this.onPointerDown,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.addEventListener(
                    "mouseout",
                    this.onPointerOut,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.addEventListener(
                    "mouseover",
                    this.onPointerOver,
                    this._eventListenerOptions
                  ),
                  globalThis.addEventListener(
                    "mouseup",
                    this.onPointerUp,
                    this._eventListenerOptions
                  )),
              this.supportsTouchEvents &&
                (this.interactionDOMElement.addEventListener(
                  "touchstart",
                  this.onPointerDown,
                  this._eventListenerOptions
                ),
                this.interactionDOMElement.addEventListener(
                  "touchcancel",
                  this.onPointerCancel,
                  this._eventListenerOptions
                ),
                this.interactionDOMElement.addEventListener(
                  "touchend",
                  this.onPointerUp,
                  this._eventListenerOptions
                ),
                this.interactionDOMElement.addEventListener(
                  "touchmove",
                  this.onPointerMove,
                  this._eventListenerOptions
                )),
              (this.eventsAdded = !0);
          }
        }),
        (t.prototype.removeEvents = function () {
          if (!(!this.eventsAdded || !this.interactionDOMElement)) {
            var e = this.interactionDOMElement.style;
            globalThis.navigator.msPointerEnabled
              ? ((e.msContentZooming = ""), (e.msTouchAction = ""))
              : this.supportsPointerEvents && (e.touchAction = ""),
              this.supportsPointerEvents
                ? (globalThis.document.removeEventListener(
                    "pointermove",
                    this.onPointerMove,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.removeEventListener(
                    "pointerdown",
                    this.onPointerDown,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.removeEventListener(
                    "pointerleave",
                    this.onPointerOut,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.removeEventListener(
                    "pointerover",
                    this.onPointerOver,
                    this._eventListenerOptions
                  ),
                  globalThis.removeEventListener(
                    "pointercancel",
                    this.onPointerCancel,
                    this._eventListenerOptions
                  ),
                  globalThis.removeEventListener(
                    "pointerup",
                    this.onPointerUp,
                    this._eventListenerOptions
                  ))
                : (globalThis.document.removeEventListener(
                    "mousemove",
                    this.onPointerMove,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.removeEventListener(
                    "mousedown",
                    this.onPointerDown,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.removeEventListener(
                    "mouseout",
                    this.onPointerOut,
                    this._eventListenerOptions
                  ),
                  this.interactionDOMElement.removeEventListener(
                    "mouseover",
                    this.onPointerOver,
                    this._eventListenerOptions
                  ),
                  globalThis.removeEventListener(
                    "mouseup",
                    this.onPointerUp,
                    this._eventListenerOptions
                  )),
              this.supportsTouchEvents &&
                (this.interactionDOMElement.removeEventListener(
                  "touchstart",
                  this.onPointerDown,
                  this._eventListenerOptions
                ),
                this.interactionDOMElement.removeEventListener(
                  "touchcancel",
                  this.onPointerCancel,
                  this._eventListenerOptions
                ),
                this.interactionDOMElement.removeEventListener(
                  "touchend",
                  this.onPointerUp,
                  this._eventListenerOptions
                ),
                this.interactionDOMElement.removeEventListener(
                  "touchmove",
                  this.onPointerMove,
                  this._eventListenerOptions
                )),
              (this.interactionDOMElement = null),
              (this.eventsAdded = !1);
          }
        }),
        (t.prototype.tickerUpdate = function (e) {
          (this._deltaTime += e),
            !(this._deltaTime < this.interactionFrequency) &&
              ((this._deltaTime = 0), this.update());
        }),
        (t.prototype.update = function () {
          if (!!this.interactionDOMElement) {
            if (this._didMove) {
              this._didMove = !1;
              return;
            }
            this.cursor = null;
            for (var e in this.activeInteractionData)
              if (this.activeInteractionData.hasOwnProperty(e)) {
                var i = this.activeInteractionData[e];
                if (i.originalEvent && i.pointerType !== "touch") {
                  var n = this.configureInteractionEventForDOMEvent(
                    this.eventData,
                    i.originalEvent,
                    i
                  );
                  this.processInteractive(
                    n,
                    this.lastObjectRendered,
                    this.processPointerOverOut,
                    !0
                  );
                }
              }
            this.setCursorMode(this.cursor);
          }
        }),
        (t.prototype.setCursorMode = function (e) {
          e = e || "default";
          var i = !0;
          if (
            (globalThis.OffscreenCanvas &&
              this.interactionDOMElement instanceof OffscreenCanvas &&
              (i = !1),
            this.currentCursorMode !== e)
          ) {
            this.currentCursorMode = e;
            var n = this.cursorStyles[e];
            if (n)
              switch (typeof n) {
                case "string":
                  i && (this.interactionDOMElement.style.cursor = n);
                  break;
                case "function":
                  n(e);
                  break;
                case "object":
                  i && Object.assign(this.interactionDOMElement.style, n);
                  break;
              }
            else
              i &&
                typeof e == "string" &&
                !Object.prototype.hasOwnProperty.call(this.cursorStyles, e) &&
                (this.interactionDOMElement.style.cursor = e);
          }
        }),
        (t.prototype.dispatchEvent = function (e, i, n) {
          (!n.stopPropagationHint || e === n.stopsPropagatingAt) &&
            ((n.currentTarget = e),
            (n.type = i),
            e.emit(i, n),
            e[i] && e[i](n));
        }),
        (t.prototype.delayDispatchEvent = function (e, i, n) {
          this.delayedEvents.push({
            displayObject: e,
            eventString: i,
            eventData: n,
          });
        }),
        (t.prototype.mapPositionToPoint = function (e, i, n) {
          var s;
          this.interactionDOMElement.parentElement
            ? (s = this.interactionDOMElement.getBoundingClientRect())
            : (s = {
                x: 0,
                y: 0,
                width: this.interactionDOMElement.width,
                height: this.interactionDOMElement.height,
                left: 0,
                top: 0,
              });
          var o = 1 / this.resolution;
          (e.x =
            (i - s.left) * (this.interactionDOMElement.width / s.width) * o),
            (e.y =
              (n - s.top) * (this.interactionDOMElement.height / s.height) * o);
        }),
        (t.prototype.processInteractive = function (e, i, n, s) {
          var o = this.search.findHit(e, i, n, s),
            l = this.delayedEvents;
          if (!l.length) return o;
          e.stopPropagationHint = !1;
          var h = l.length;
          this.delayedEvents = [];
          for (var f = 0; f < h; f++) {
            var p = l[f],
              v = p.displayObject,
              _ = p.eventString,
              m = p.eventData;
            m.stopsPropagatingAt === v && (m.stopPropagationHint = !0),
              this.dispatchEvent(v, _, m);
          }
          return o;
        }),
        (t.prototype.onPointerDown = function (e) {
          if (!(this.supportsTouchEvents && e.pointerType === "touch")) {
            var i = this.normalizeToPointerData(e);
            if (this.autoPreventDefault && i[0].isNormalized) {
              var n = e.cancelable || !("cancelable" in e);
              n && e.preventDefault();
            }
            for (var s = i.length, o = 0; o < s; o++) {
              var l = i[o],
                h = this.getInteractionDataForPointerId(l),
                f = this.configureInteractionEventForDOMEvent(
                  this.eventData,
                  l,
                  h
                );
              if (
                ((f.data.originalEvent = e),
                this.processInteractive(
                  f,
                  this.lastObjectRendered,
                  this.processPointerDown,
                  !0
                ),
                this.emit("pointerdown", f),
                l.pointerType === "touch")
              )
                this.emit("touchstart", f);
              else if (l.pointerType === "mouse" || l.pointerType === "pen") {
                var p = l.button === 2;
                this.emit(p ? "rightdown" : "mousedown", this.eventData);
              }
            }
          }
        }),
        (t.prototype.processPointerDown = function (e, i, n) {
          var s = e.data,
            o = e.data.identifier;
          if (n) {
            if (
              (i.trackedPointers[o] || (i.trackedPointers[o] = new dl(o)),
              this.dispatchEvent(i, "pointerdown", e),
              s.pointerType === "touch")
            )
              this.dispatchEvent(i, "touchstart", e);
            else if (s.pointerType === "mouse" || s.pointerType === "pen") {
              var l = s.button === 2;
              l
                ? (i.trackedPointers[o].rightDown = !0)
                : (i.trackedPointers[o].leftDown = !0),
                this.dispatchEvent(i, l ? "rightdown" : "mousedown", e);
            }
          }
        }),
        (t.prototype.onPointerComplete = function (e, i, n) {
          for (
            var s = this.normalizeToPointerData(e),
              o = s.length,
              l = e.target !== this.interactionDOMElement ? "outside" : "",
              h = 0;
            h < o;
            h++
          ) {
            var f = s[h],
              p = this.getInteractionDataForPointerId(f),
              v = this.configureInteractionEventForDOMEvent(
                this.eventData,
                f,
                p
              );
            if (
              ((v.data.originalEvent = e),
              this.processInteractive(v, this.lastObjectRendered, n, i || !l),
              this.emit(i ? "pointercancel" : "pointerup" + l, v),
              f.pointerType === "mouse" || f.pointerType === "pen")
            ) {
              var _ = f.button === 2;
              this.emit(_ ? "rightup" + l : "mouseup" + l, v);
            } else
              f.pointerType === "touch" &&
                (this.emit(i ? "touchcancel" : "touchend" + l, v),
                this.releaseInteractionDataForPointerId(f.pointerId));
          }
        }),
        (t.prototype.onPointerCancel = function (e) {
          (this.supportsTouchEvents && e.pointerType === "touch") ||
            this.onPointerComplete(e, !0, this.processPointerCancel);
        }),
        (t.prototype.processPointerCancel = function (e, i) {
          var n = e.data,
            s = e.data.identifier;
          i.trackedPointers[s] !== void 0 &&
            (delete i.trackedPointers[s],
            this.dispatchEvent(i, "pointercancel", e),
            n.pointerType === "touch" &&
              this.dispatchEvent(i, "touchcancel", e));
        }),
        (t.prototype.onPointerUp = function (e) {
          (this.supportsTouchEvents && e.pointerType === "touch") ||
            this.onPointerComplete(e, !1, this.processPointerUp);
        }),
        (t.prototype.processPointerUp = function (e, i, n) {
          var s = e.data,
            o = e.data.identifier,
            l = i.trackedPointers[o],
            h = s.pointerType === "touch",
            f = s.pointerType === "mouse" || s.pointerType === "pen",
            p = !1;
          if (f) {
            var v = s.button === 2,
              _ = dl.FLAGS,
              m = v ? _.RIGHT_DOWN : _.LEFT_DOWN,
              g = l !== void 0 && l.flags & m;
            n
              ? (this.dispatchEvent(i, v ? "rightup" : "mouseup", e),
                g &&
                  (this.dispatchEvent(i, v ? "rightclick" : "click", e),
                  (p = !0)))
              : g &&
                this.dispatchEvent(
                  i,
                  v ? "rightupoutside" : "mouseupoutside",
                  e
                ),
              l && (v ? (l.rightDown = !1) : (l.leftDown = !1));
          }
          n
            ? (this.dispatchEvent(i, "pointerup", e),
              h && this.dispatchEvent(i, "touchend", e),
              l &&
                ((!f || p) && this.dispatchEvent(i, "pointertap", e),
                h && (this.dispatchEvent(i, "tap", e), (l.over = !1))))
            : l &&
              (this.dispatchEvent(i, "pointerupoutside", e),
              h && this.dispatchEvent(i, "touchendoutside", e)),
            l && l.none && delete i.trackedPointers[o];
        }),
        (t.prototype.onPointerMove = function (e) {
          if (!(this.supportsTouchEvents && e.pointerType === "touch")) {
            var i = this.normalizeToPointerData(e);
            (i[0].pointerType === "mouse" || i[0].pointerType === "pen") &&
              ((this._didMove = !0), (this.cursor = null));
            for (var n = i.length, s = 0; s < n; s++) {
              var o = i[s],
                l = this.getInteractionDataForPointerId(o),
                h = this.configureInteractionEventForDOMEvent(
                  this.eventData,
                  o,
                  l
                );
              (h.data.originalEvent = e),
                this.processInteractive(
                  h,
                  this.lastObjectRendered,
                  this.processPointerMove,
                  !0
                ),
                this.emit("pointermove", h),
                o.pointerType === "touch" && this.emit("touchmove", h),
                (o.pointerType === "mouse" || o.pointerType === "pen") &&
                  this.emit("mousemove", h);
            }
            i[0].pointerType === "mouse" && this.setCursorMode(this.cursor);
          }
        }),
        (t.prototype.processPointerMove = function (e, i, n) {
          var s = e.data,
            o = s.pointerType === "touch",
            l = s.pointerType === "mouse" || s.pointerType === "pen";
          l && this.processPointerOverOut(e, i, n),
            (!this.moveWhenInside || n) &&
              (this.dispatchEvent(i, "pointermove", e),
              o && this.dispatchEvent(i, "touchmove", e),
              l && this.dispatchEvent(i, "mousemove", e));
        }),
        (t.prototype.onPointerOut = function (e) {
          if (!(this.supportsTouchEvents && e.pointerType === "touch")) {
            var i = this.normalizeToPointerData(e),
              n = i[0];
            n.pointerType === "mouse" &&
              ((this.mouseOverRenderer = !1), this.setCursorMode(null));
            var s = this.getInteractionDataForPointerId(n),
              o = this.configureInteractionEventForDOMEvent(
                this.eventData,
                n,
                s
              );
            (o.data.originalEvent = n),
              this.processInteractive(
                o,
                this.lastObjectRendered,
                this.processPointerOverOut,
                !1
              ),
              this.emit("pointerout", o),
              n.pointerType === "mouse" || n.pointerType === "pen"
                ? this.emit("mouseout", o)
                : this.releaseInteractionDataForPointerId(s.identifier);
          }
        }),
        (t.prototype.processPointerOverOut = function (e, i, n) {
          var s = e.data,
            o = e.data.identifier,
            l = s.pointerType === "mouse" || s.pointerType === "pen",
            h = i.trackedPointers[o];
          n && !h && (h = i.trackedPointers[o] = new dl(o)),
            h !== void 0 &&
              (n && this.mouseOverRenderer
                ? (h.over ||
                    ((h.over = !0),
                    this.delayDispatchEvent(i, "pointerover", e),
                    l && this.delayDispatchEvent(i, "mouseover", e)),
                  l && this.cursor === null && (this.cursor = i.cursor))
                : h.over &&
                  ((h.over = !1),
                  this.dispatchEvent(i, "pointerout", this.eventData),
                  l && this.dispatchEvent(i, "mouseout", e),
                  h.none && delete i.trackedPointers[o]));
        }),
        (t.prototype.onPointerOver = function (e) {
          var i = this.normalizeToPointerData(e),
            n = i[0],
            s = this.getInteractionDataForPointerId(n),
            o = this.configureInteractionEventForDOMEvent(this.eventData, n, s);
          (o.data.originalEvent = n),
            n.pointerType === "mouse" && (this.mouseOverRenderer = !0),
            this.emit("pointerover", o),
            (n.pointerType === "mouse" || n.pointerType === "pen") &&
              this.emit("mouseover", o);
        }),
        (t.prototype.getInteractionDataForPointerId = function (e) {
          var i = e.pointerId,
            n;
          return (
            i === co || e.pointerType === "mouse"
              ? (n = this.mouse)
              : this.activeInteractionData[i]
              ? (n = this.activeInteractionData[i])
              : ((n = this.interactionDataPool.pop() || new np()),
                (n.identifier = i),
                (this.activeInteractionData[i] = n)),
            n.copyEvent(e),
            n
          );
        }),
        (t.prototype.releaseInteractionDataForPointerId = function (e) {
          var i = this.activeInteractionData[e];
          i &&
            (delete this.activeInteractionData[e],
            i.reset(),
            this.interactionDataPool.push(i));
        }),
        (t.prototype.configureInteractionEventForDOMEvent = function (e, i, n) {
          return (
            (e.data = n),
            this.mapPositionToPoint(n.global, i.clientX, i.clientY),
            i.pointerType === "touch" &&
              ((i.globalX = n.global.x), (i.globalY = n.global.y)),
            (n.originalEvent = i),
            e.reset(),
            e
          );
        }),
        (t.prototype.normalizeToPointerData = function (e) {
          var i = [];
          if (this.supportsTouchEvents && e instanceof TouchEvent)
            for (var n = 0, s = e.changedTouches.length; n < s; n++) {
              var o = e.changedTouches[n];
              typeof o.button == "undefined" &&
                (o.button = e.touches.length ? 1 : 0),
                typeof o.buttons == "undefined" &&
                  (o.buttons = e.touches.length ? 1 : 0),
                typeof o.isPrimary == "undefined" &&
                  (o.isPrimary =
                    e.touches.length === 1 && e.type === "touchstart"),
                typeof o.width == "undefined" && (o.width = o.radiusX || 1),
                typeof o.height == "undefined" && (o.height = o.radiusY || 1),
                typeof o.tiltX == "undefined" && (o.tiltX = 0),
                typeof o.tiltY == "undefined" && (o.tiltY = 0),
                typeof o.pointerType == "undefined" &&
                  (o.pointerType = "touch"),
                typeof o.pointerId == "undefined" &&
                  (o.pointerId = o.identifier || 0),
                typeof o.pressure == "undefined" &&
                  (o.pressure = o.force || 0.5),
                typeof o.twist == "undefined" && (o.twist = 0),
                typeof o.tangentialPressure == "undefined" &&
                  (o.tangentialPressure = 0),
                typeof o.layerX == "undefined" &&
                  (o.layerX = o.offsetX = o.clientX),
                typeof o.layerY == "undefined" &&
                  (o.layerY = o.offsetY = o.clientY),
                (o.isNormalized = !0),
                i.push(o);
            }
          else if (
            !globalThis.MouseEvent ||
            (e instanceof MouseEvent &&
              (!this.supportsPointerEvents ||
                !(e instanceof globalThis.PointerEvent)))
          ) {
            var l = e;
            typeof l.isPrimary == "undefined" && (l.isPrimary = !0),
              typeof l.width == "undefined" && (l.width = 1),
              typeof l.height == "undefined" && (l.height = 1),
              typeof l.tiltX == "undefined" && (l.tiltX = 0),
              typeof l.tiltY == "undefined" && (l.tiltY = 0),
              typeof l.pointerType == "undefined" && (l.pointerType = "mouse"),
              typeof l.pointerId == "undefined" && (l.pointerId = co),
              typeof l.pressure == "undefined" && (l.pressure = 0.5),
              typeof l.twist == "undefined" && (l.twist = 0),
              typeof l.tangentialPressure == "undefined" &&
                (l.tangentialPressure = 0),
              (l.isNormalized = !0),
              i.push(l);
          } else i.push(e);
          return i;
        }),
        (t.prototype.destroy = function () {
          this.removeEvents(),
            this.removeTickerListener(),
            this.removeAllListeners(),
            (this.renderer = null),
            (this.mouse = null),
            (this.eventData = null),
            (this.interactionDOMElement = null),
            (this.onPointerDown = null),
            (this.processPointerDown = null),
            (this.onPointerUp = null),
            (this.processPointerUp = null),
            (this.onPointerCancel = null),
            (this.processPointerCancel = null),
            (this.onPointerMove = null),
            (this.processPointerMove = null),
            (this.onPointerOut = null),
            (this.processPointerOverOut = null),
            (this.onPointerOver = null),
            (this.search = null);
        }),
        t
      );
    })(Di);
  /*!
   * @pixi/runner - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/runner is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var he = (function () {
    function r(t) {
      (this.items = []), (this._name = t), (this._aliasCount = 0);
    }
    return (
      (r.prototype.emit = function (t, e, i, n, s, o, l, h) {
        if (arguments.length > 8) throw new Error("max arguments reached");
        var f = this,
          p = f.name,
          v = f.items;
        this._aliasCount++;
        for (var _ = 0, m = v.length; _ < m; _++)
          v[_][p](t, e, i, n, s, o, l, h);
        return v === this.items && this._aliasCount--, this;
      }),
      (r.prototype.ensureNonAliasedItems = function () {
        this._aliasCount > 0 &&
          this.items.length > 1 &&
          ((this._aliasCount = 0), (this.items = this.items.slice(0)));
      }),
      (r.prototype.add = function (t) {
        return (
          t[this._name] &&
            (this.ensureNonAliasedItems(), this.remove(t), this.items.push(t)),
          this
        );
      }),
      (r.prototype.remove = function (t) {
        var e = this.items.indexOf(t);
        return (
          e !== -1 && (this.ensureNonAliasedItems(), this.items.splice(e, 1)),
          this
        );
      }),
      (r.prototype.contains = function (t) {
        return this.items.indexOf(t) !== -1;
      }),
      (r.prototype.removeAll = function () {
        return this.ensureNonAliasedItems(), (this.items.length = 0), this;
      }),
      (r.prototype.destroy = function () {
        this.removeAll(), (this.items = null), (this._name = null);
      }),
      Object.defineProperty(r.prototype, "empty", {
        get: function () {
          return this.items.length === 0;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(r.prototype, "name", {
        get: function () {
          return this._name;
        },
        enumerable: !1,
        configurable: !0,
      }),
      r
    );
  })();
  Object.defineProperties(he.prototype, {
    dispatch: { value: he.prototype.emit },
    run: { value: he.prototype.emit },
  });
  /*!
   * @pixi/core - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/core is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ (Q.PREFER_ENV = Ke.any ? hr.WEBGL : hr.WEBGL2),
    (Q.STRICT_TEXTURE_CACHE = !1);
  var vl = [];
  function sp(r, t) {
    if (!r) return null;
    var e = "";
    if (typeof r == "string") {
      var i = /\.(\w{3,4})(?:$|\?|#)/i.exec(r);
      i && (e = i[1].toLowerCase());
    }
    for (var n = vl.length - 1; n >= 0; --n) {
      var s = vl[n];
      if (s.test && s.test(r, e)) return new s(r, t);
    }
    throw new Error("Unrecognized source type to auto-detect Resource");
  }
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var _l =
    function (r, t) {
      return (
        (_l =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        _l(r, t)
      );
    };
  function Lt(r, t) {
    _l(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var ml = function () {
    return (
      (ml =
        Object.assign ||
        function (t) {
          for (var e = arguments, i, n = 1, s = arguments.length; n < s; n++) {
            i = e[n];
            for (var o in i)
              Object.prototype.hasOwnProperty.call(i, o) && (t[o] = i[o]);
          }
          return t;
        }),
      ml.apply(this, arguments)
    );
  };
  function iT(r, t) {
    var e = {};
    for (var i in r)
      Object.prototype.hasOwnProperty.call(r, i) &&
        t.indexOf(i) < 0 &&
        (e[i] = r[i]);
    if (r != null && typeof Object.getOwnPropertySymbols == "function")
      for (var n = 0, i = Object.getOwnPropertySymbols(r); n < i.length; n++)
        t.indexOf(i[n]) < 0 && (e[i[n]] = r[i[n]]);
    return e;
  }
  var qn = (function () {
      function r(t, e) {
        t === void 0 && (t = 0),
          e === void 0 && (e = 0),
          (this._width = t),
          (this._height = e),
          (this.destroyed = !1),
          (this.internal = !1),
          (this.onResize = new he("setRealSize")),
          (this.onUpdate = new he("update")),
          (this.onError = new he("onError"));
      }
      return (
        (r.prototype.bind = function (t) {
          this.onResize.add(t),
            this.onUpdate.add(t),
            this.onError.add(t),
            (this._width || this._height) &&
              this.onResize.emit(this._width, this._height);
        }),
        (r.prototype.unbind = function (t) {
          this.onResize.remove(t),
            this.onUpdate.remove(t),
            this.onError.remove(t);
        }),
        (r.prototype.resize = function (t, e) {
          (t !== this._width || e !== this._height) &&
            ((this._width = t), (this._height = e), this.onResize.emit(t, e));
        }),
        Object.defineProperty(r.prototype, "valid", {
          get: function () {
            return !!this._width && !!this._height;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.update = function () {
          this.destroyed || this.onUpdate.emit();
        }),
        (r.prototype.load = function () {
          return Promise.resolve(this);
        }),
        Object.defineProperty(r.prototype, "width", {
          get: function () {
            return this._width;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "height", {
          get: function () {
            return this._height;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.style = function (t, e, i) {
          return !1;
        }),
        (r.prototype.dispose = function () {}),
        (r.prototype.destroy = function () {
          this.destroyed ||
            ((this.destroyed = !0),
            this.dispose(),
            this.onError.removeAll(),
            (this.onError = null),
            this.onResize.removeAll(),
            (this.onResize = null),
            this.onUpdate.removeAll(),
            (this.onUpdate = null));
        }),
        (r.test = function (t, e) {
          return !1;
        }),
        r
      );
    })(),
    Kn = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this,
          s = i || {},
          o = s.width,
          l = s.height;
        if (!o || !l) throw new Error("BufferResource width or height invalid");
        return (n = r.call(this, o, l) || this), (n.data = e), n;
      }
      return (
        (t.prototype.upload = function (e, i, n) {
          var s = e.gl;
          s.pixelStorei(
            s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
            i.alphaMode === Ve.UNPACK
          );
          var o = i.realWidth,
            l = i.realHeight;
          return (
            n.width === o && n.height === l
              ? s.texSubImage2D(
                  i.target,
                  0,
                  0,
                  0,
                  o,
                  l,
                  i.format,
                  n.type,
                  this.data
                )
              : ((n.width = o),
                (n.height = l),
                s.texImage2D(
                  i.target,
                  0,
                  n.internalFormat,
                  o,
                  l,
                  0,
                  i.format,
                  n.type,
                  this.data
                )),
            !0
          );
        }),
        (t.prototype.dispose = function () {
          this.data = null;
        }),
        (t.test = function (e) {
          return (
            e instanceof Float32Array ||
            e instanceof Uint8Array ||
            e instanceof Uint32Array
          );
        }),
        t
      );
    })(qn),
    nT = { scaleMode: Je.NEAREST, format: $.RGBA, alphaMode: Ve.NPM },
    gt = (function (r) {
      Lt(t, r);
      function t(e, i) {
        e === void 0 && (e = null), i === void 0 && (i = null);
        var n = r.call(this) || this;
        i = i || {};
        var s = i.alphaMode,
          o = i.mipmap,
          l = i.anisotropicLevel,
          h = i.scaleMode,
          f = i.width,
          p = i.height,
          v = i.wrapMode,
          _ = i.format,
          m = i.type,
          g = i.target,
          y = i.resolution,
          b = i.resourceOptions;
        return (
          e && !(e instanceof qn) && ((e = sp(e, b)), (e.internal = !0)),
          (n.resolution = y || Q.RESOLUTION),
          (n.width = Math.round((f || 0) * n.resolution) / n.resolution),
          (n.height = Math.round((p || 0) * n.resolution) / n.resolution),
          (n._mipmap = o !== void 0 ? o : Q.MIPMAP_TEXTURES),
          (n.anisotropicLevel = l !== void 0 ? l : Q.ANISOTROPIC_LEVEL),
          (n._wrapMode = v || Q.WRAP_MODE),
          (n._scaleMode = h !== void 0 ? h : Q.SCALE_MODE),
          (n.format = _ || $.RGBA),
          (n.type = m || rt.UNSIGNED_BYTE),
          (n.target = g || ai.TEXTURE_2D),
          (n.alphaMode = s !== void 0 ? s : Ve.UNPACK),
          (n.uid = li()),
          (n.touched = 0),
          (n.isPowerOfTwo = !1),
          n._refreshPOT(),
          (n._glTextures = {}),
          (n.dirtyId = 0),
          (n.dirtyStyleId = 0),
          (n.cacheId = null),
          (n.valid = f > 0 && p > 0),
          (n.textureCacheIds = []),
          (n.destroyed = !1),
          (n.resource = null),
          (n._batchEnabled = 0),
          (n._batchLocation = 0),
          (n.parentTextureArray = null),
          n.setResource(e),
          n
        );
      }
      return (
        Object.defineProperty(t.prototype, "realWidth", {
          get: function () {
            return Math.round(this.width * this.resolution);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "realHeight", {
          get: function () {
            return Math.round(this.height * this.resolution);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "mipmap", {
          get: function () {
            return this._mipmap;
          },
          set: function (e) {
            this._mipmap !== e && ((this._mipmap = e), this.dirtyStyleId++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "scaleMode", {
          get: function () {
            return this._scaleMode;
          },
          set: function (e) {
            this._scaleMode !== e &&
              ((this._scaleMode = e), this.dirtyStyleId++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "wrapMode", {
          get: function () {
            return this._wrapMode;
          },
          set: function (e) {
            this._wrapMode !== e && ((this._wrapMode = e), this.dirtyStyleId++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.setStyle = function (e, i) {
          var n;
          return (
            e !== void 0 &&
              e !== this.scaleMode &&
              ((this.scaleMode = e), (n = !0)),
            i !== void 0 && i !== this.mipmap && ((this.mipmap = i), (n = !0)),
            n && this.dirtyStyleId++,
            this
          );
        }),
        (t.prototype.setSize = function (e, i, n) {
          return (n = n || this.resolution), this.setRealSize(e * n, i * n, n);
        }),
        (t.prototype.setRealSize = function (e, i, n) {
          return (
            (this.resolution = n || this.resolution),
            (this.width = Math.round(e) / this.resolution),
            (this.height = Math.round(i) / this.resolution),
            this._refreshPOT(),
            this.update(),
            this
          );
        }),
        (t.prototype._refreshPOT = function () {
          this.isPowerOfTwo = Af(this.realWidth) && Af(this.realHeight);
        }),
        (t.prototype.setResolution = function (e) {
          var i = this.resolution;
          return i === e
            ? this
            : ((this.resolution = e),
              this.valid &&
                ((this.width = Math.round(this.width * i) / e),
                (this.height = Math.round(this.height * i) / e),
                this.emit("update", this)),
              this._refreshPOT(),
              this);
        }),
        (t.prototype.setResource = function (e) {
          if (this.resource === e) return this;
          if (this.resource) throw new Error("Resource can be set only once");
          return e.bind(this), (this.resource = e), this;
        }),
        (t.prototype.update = function () {
          this.valid
            ? (this.dirtyId++, this.dirtyStyleId++, this.emit("update", this))
            : this.width > 0 &&
              this.height > 0 &&
              ((this.valid = !0),
              this.emit("loaded", this),
              this.emit("update", this));
        }),
        (t.prototype.onError = function (e) {
          this.emit("error", this, e);
        }),
        (t.prototype.destroy = function () {
          this.resource &&
            (this.resource.unbind(this),
            this.resource.internal && this.resource.destroy(),
            (this.resource = null)),
            this.cacheId &&
              (delete Sr[this.cacheId],
              delete He[this.cacheId],
              (this.cacheId = null)),
            this.dispose(),
            t.removeFromCache(this),
            (this.textureCacheIds = null),
            (this.destroyed = !0);
        }),
        (t.prototype.dispose = function () {
          this.emit("dispose", this);
        }),
        (t.prototype.castToBaseTexture = function () {
          return this;
        }),
        (t.from = function (e, i, n) {
          n === void 0 && (n = Q.STRICT_TEXTURE_CACHE);
          var s = typeof e == "string",
            o = null;
          if (s) o = e;
          else {
            if (!e._pixiId) {
              var l = (i && i.pixiIdPrefix) || "pixiid";
              e._pixiId = l + "_" + li();
            }
            o = e._pixiId;
          }
          var h = Sr[o];
          if (s && n && !h)
            throw new Error(
              'The cacheId "' + o + '" does not exist in BaseTextureCache.'
            );
          return (
            h || ((h = new t(e, i)), (h.cacheId = o), t.addToCache(h, o)), h
          );
        }),
        (t.fromBuffer = function (e, i, n, s) {
          e = e || new Float32Array(i * n * 4);
          var o = new Kn(e, { width: i, height: n }),
            l = e instanceof Float32Array ? rt.FLOAT : rt.UNSIGNED_BYTE;
          return new t(
            o,
            Object.assign(nT, s || { width: i, height: n, type: l })
          );
        }),
        (t.addToCache = function (e, i) {
          i &&
            (e.textureCacheIds.indexOf(i) === -1 && e.textureCacheIds.push(i),
            Sr[i] &&
              console.warn(
                "BaseTexture added to the cache with an id [" +
                  i +
                  "] that already had an entry"
              ),
            (Sr[i] = e));
        }),
        (t.removeFromCache = function (e) {
          if (typeof e == "string") {
            var i = Sr[e];
            if (i) {
              var n = i.textureCacheIds.indexOf(e);
              return n > -1 && i.textureCacheIds.splice(n, 1), delete Sr[e], i;
            }
          } else if (e && e.textureCacheIds) {
            for (var s = 0; s < e.textureCacheIds.length; ++s)
              delete Sr[e.textureCacheIds[s]];
            return (e.textureCacheIds.length = 0), e;
          }
          return null;
        }),
        (t._globalBatch = 0),
        t
      );
    })(Di),
    op = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this,
          s = i || {},
          o = s.width,
          l = s.height;
        (n = r.call(this, o, l) || this), (n.items = []), (n.itemDirtyIds = []);
        for (var h = 0; h < e; h++) {
          var f = new gt();
          n.items.push(f), n.itemDirtyIds.push(-2);
        }
        return (n.length = e), (n._load = null), (n.baseTexture = null), n;
      }
      return (
        (t.prototype.initFromArray = function (e, i) {
          for (var n = 0; n < this.length; n++)
            !e[n] ||
              (e[n].castToBaseTexture
                ? this.addBaseTextureAt(e[n].castToBaseTexture(), n)
                : e[n] instanceof qn
                ? this.addResourceAt(e[n], n)
                : this.addResourceAt(sp(e[n], i), n));
        }),
        (t.prototype.dispose = function () {
          for (var e = 0, i = this.length; e < i; e++) this.items[e].destroy();
          (this.items = null), (this.itemDirtyIds = null), (this._load = null);
        }),
        (t.prototype.addResourceAt = function (e, i) {
          if (!this.items[i])
            throw new Error("Index " + i + " is out of bounds");
          return (
            e.valid && !this.valid && this.resize(e.width, e.height),
            this.items[i].setResource(e),
            this
          );
        }),
        (t.prototype.bind = function (e) {
          if (this.baseTexture !== null)
            throw new Error(
              "Only one base texture per TextureArray is allowed"
            );
          r.prototype.bind.call(this, e);
          for (var i = 0; i < this.length; i++)
            (this.items[i].parentTextureArray = e),
              this.items[i].on("update", e.update, e);
        }),
        (t.prototype.unbind = function (e) {
          r.prototype.unbind.call(this, e);
          for (var i = 0; i < this.length; i++)
            (this.items[i].parentTextureArray = null),
              this.items[i].off("update", e.update, e);
        }),
        (t.prototype.load = function () {
          var e = this;
          if (this._load) return this._load;
          var i = this.items
              .map(function (s) {
                return s.resource;
              })
              .filter(function (s) {
                return s;
              }),
            n = i.map(function (s) {
              return s.load();
            });
          return (
            (this._load = Promise.all(n).then(function () {
              var s = e.items[0],
                o = s.realWidth,
                l = s.realHeight;
              return e.resize(o, l), Promise.resolve(e);
            })),
            this._load
          );
        }),
        t
      );
    })(qn),
    sT = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this,
          s = i || {},
          o = s.width,
          l = s.height,
          h,
          f;
        return (
          Array.isArray(e) ? ((h = e), (f = e.length)) : (f = e),
          (n = r.call(this, f, { width: o, height: l }) || this),
          h && n.initFromArray(h, i),
          n
        );
      }
      return (
        (t.prototype.addBaseTextureAt = function (e, i) {
          if (e.resource) this.addResourceAt(e.resource, i);
          else throw new Error("ArrayResource does not support RenderTexture");
          return this;
        }),
        (t.prototype.bind = function (e) {
          r.prototype.bind.call(this, e), (e.target = ai.TEXTURE_2D_ARRAY);
        }),
        (t.prototype.upload = function (e, i, n) {
          var s = this,
            o = s.length,
            l = s.itemDirtyIds,
            h = s.items,
            f = e.gl;
          n.dirtyId < 0 &&
            f.texImage3D(
              f.TEXTURE_2D_ARRAY,
              0,
              n.internalFormat,
              this._width,
              this._height,
              o,
              0,
              i.format,
              n.type,
              null
            );
          for (var p = 0; p < o; p++) {
            var v = h[p];
            l[p] < v.dirtyId &&
              ((l[p] = v.dirtyId),
              v.valid &&
                f.texSubImage3D(
                  f.TEXTURE_2D_ARRAY,
                  0,
                  0,
                  0,
                  p,
                  v.resource.width,
                  v.resource.height,
                  1,
                  i.format,
                  n.type,
                  v.resource.source
                ));
          }
          return !0;
        }),
        t
      );
    })(op),
    Or = (function (r) {
      Lt(t, r);
      function t(e) {
        var i = this,
          n = e,
          s = n.naturalWidth || n.videoWidth || n.width,
          o = n.naturalHeight || n.videoHeight || n.height;
        return (
          (i = r.call(this, s, o) || this),
          (i.source = e),
          (i.noSubImage = !1),
          i
        );
      }
      return (
        (t.crossOrigin = function (e, i, n) {
          n === void 0 && i.indexOf("data:") !== 0
            ? (e.crossOrigin = B1(i))
            : n !== !1 &&
              (e.crossOrigin = typeof n == "string" ? n : "anonymous");
        }),
        (t.prototype.upload = function (e, i, n, s) {
          var o = e.gl,
            l = i.realWidth,
            h = i.realHeight;
          if (((s = s || this.source), s instanceof HTMLImageElement)) {
            if (!s.complete || s.naturalWidth === 0) return !1;
          } else if (s instanceof HTMLVideoElement && s.readyState <= 1)
            return !1;
          return (
            o.pixelStorei(
              o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
              i.alphaMode === Ve.UNPACK
            ),
            !this.noSubImage &&
            i.target === o.TEXTURE_2D &&
            n.width === l &&
            n.height === h
              ? o.texSubImage2D(o.TEXTURE_2D, 0, 0, 0, i.format, n.type, s)
              : ((n.width = l),
                (n.height = h),
                o.texImage2D(
                  i.target,
                  0,
                  n.internalFormat,
                  i.format,
                  n.type,
                  s
                )),
            !0
          );
        }),
        (t.prototype.update = function () {
          if (!this.destroyed) {
            var e = this.source,
              i = e.naturalWidth || e.videoWidth || e.width,
              n = e.naturalHeight || e.videoHeight || e.height;
            this.resize(i, n), r.prototype.update.call(this);
          }
        }),
        (t.prototype.dispose = function () {
          this.source = null;
        }),
        t
      );
    })(qn),
    ap = (function (r) {
      Lt(t, r);
      function t(e) {
        return r.call(this, e) || this;
      }
      return (
        (t.test = function (e) {
          var i = globalThis.OffscreenCanvas;
          return i && e instanceof i
            ? !0
            : globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement;
        }),
        t
      );
    })(Or),
    oT = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this,
          s = i || {},
          o = s.width,
          l = s.height,
          h = s.autoLoad,
          f = s.linkBaseTexture;
        if (e && e.length !== t.SIDES)
          throw new Error("Invalid length. Got " + e.length + ", expected 6");
        n = r.call(this, 6, { width: o, height: l }) || this;
        for (var p = 0; p < t.SIDES; p++)
          n.items[p].target = ai.TEXTURE_CUBE_MAP_POSITIVE_X + p;
        return (
          (n.linkBaseTexture = f !== !1),
          e && n.initFromArray(e, i),
          h !== !1 && n.load(),
          n
        );
      }
      return (
        (t.prototype.bind = function (e) {
          r.prototype.bind.call(this, e), (e.target = ai.TEXTURE_CUBE_MAP);
        }),
        (t.prototype.addBaseTextureAt = function (e, i, n) {
          if (!this.items[i])
            throw new Error("Index " + i + " is out of bounds");
          if (
            !this.linkBaseTexture ||
            e.parentTextureArray ||
            Object.keys(e._glTextures).length > 0
          )
            if (e.resource) this.addResourceAt(e.resource, i);
            else
              throw new Error(
                "CubeResource does not support copying of renderTexture."
              );
          else
            (e.target = ai.TEXTURE_CUBE_MAP_POSITIVE_X + i),
              (e.parentTextureArray = this.baseTexture),
              (this.items[i] = e);
          return (
            e.valid && !this.valid && this.resize(e.realWidth, e.realHeight),
            (this.items[i] = e),
            this
          );
        }),
        (t.prototype.upload = function (e, i, n) {
          for (var s = this.itemDirtyIds, o = 0; o < t.SIDES; o++) {
            var l = this.items[o];
            s[o] < l.dirtyId &&
              (l.valid && l.resource
                ? (l.resource.upload(e, l, n), (s[o] = l.dirtyId))
                : s[o] < -1 &&
                  (e.gl.texImage2D(
                    l.target,
                    0,
                    n.internalFormat,
                    i.realWidth,
                    i.realHeight,
                    0,
                    i.format,
                    n.type,
                    null
                  ),
                  (s[o] = -1)));
          }
          return !0;
        }),
        (t.test = function (e) {
          return Array.isArray(e) && e.length === t.SIDES;
        }),
        (t.SIDES = 6),
        t
      );
    })(op),
    lp = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this;
        if (((i = i || {}), !(e instanceof HTMLImageElement))) {
          var s = new Image();
          Or.crossOrigin(s, e, i.crossorigin), (s.src = e), (e = s);
        }
        return (
          (n = r.call(this, e) || this),
          !e.complete &&
            !!n._width &&
            !!n._height &&
            ((n._width = 0), (n._height = 0)),
          (n.url = e.src),
          (n._process = null),
          (n.preserveBitmap = !1),
          (n.createBitmap =
            (i.createBitmap !== void 0
              ? i.createBitmap
              : Q.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap),
          (n.alphaMode = typeof i.alphaMode == "number" ? i.alphaMode : null),
          (n.bitmap = null),
          (n._load = null),
          i.autoLoad !== !1 && n.load(),
          n
        );
      }
      return (
        (t.prototype.load = function (e) {
          var i = this;
          return this._load
            ? this._load
            : (e !== void 0 && (this.createBitmap = e),
              (this._load = new Promise(function (n, s) {
                var o = i.source;
                i.url = o.src;
                var l = function () {
                  i.destroyed ||
                    ((o.onload = null),
                    (o.onerror = null),
                    i.resize(o.width, o.height),
                    (i._load = null),
                    i.createBitmap ? n(i.process()) : n(i));
                };
                o.complete && o.src
                  ? l()
                  : ((o.onload = l),
                    (o.onerror = function (h) {
                      s(h), i.onError.emit(h);
                    }));
              })),
              this._load);
        }),
        (t.prototype.process = function () {
          var e = this,
            i = this.source;
          if (this._process !== null) return this._process;
          if (this.bitmap !== null || !globalThis.createImageBitmap)
            return Promise.resolve(this);
          var n = globalThis.createImageBitmap,
            s = !i.crossOrigin || i.crossOrigin === "anonymous";
          return (
            (this._process = fetch(i.src, { mode: s ? "cors" : "no-cors" })
              .then(function (o) {
                return o.blob();
              })
              .then(function (o) {
                return n(o, 0, 0, i.width, i.height, {
                  premultiplyAlpha:
                    e.alphaMode === Ve.UNPACK ? "premultiply" : "none",
                });
              })
              .then(function (o) {
                return e.destroyed
                  ? Promise.reject()
                  : ((e.bitmap = o),
                    e.update(),
                    (e._process = null),
                    Promise.resolve(e));
              })),
            this._process
          );
        }),
        (t.prototype.upload = function (e, i, n) {
          if (
            (typeof this.alphaMode == "number" &&
              (i.alphaMode = this.alphaMode),
            !this.createBitmap)
          )
            return r.prototype.upload.call(this, e, i, n);
          if (!this.bitmap && (this.process(), !this.bitmap)) return !1;
          if (
            (r.prototype.upload.call(this, e, i, n, this.bitmap),
            !this.preserveBitmap)
          ) {
            var s = !0,
              o = i._glTextures;
            for (var l in o) {
              var h = o[l];
              if (h !== n && h.dirtyId !== i.dirtyId) {
                s = !1;
                break;
              }
            }
            s &&
              (this.bitmap.close && this.bitmap.close(), (this.bitmap = null));
          }
          return !0;
        }),
        (t.prototype.dispose = function () {
          (this.source.onload = null),
            (this.source.onerror = null),
            r.prototype.dispose.call(this),
            this.bitmap && (this.bitmap.close(), (this.bitmap = null)),
            (this._process = null),
            (this._load = null);
        }),
        (t.test = function (e) {
          return typeof e == "string" || e instanceof HTMLImageElement;
        }),
        t
      );
    })(Or),
    aT = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this;
        return (
          (i = i || {}),
          (n = r.call(this, document.createElement("canvas")) || this),
          (n._width = 0),
          (n._height = 0),
          (n.svg = e),
          (n.scale = i.scale || 1),
          (n._overrideWidth = i.width),
          (n._overrideHeight = i.height),
          (n._resolve = null),
          (n._crossorigin = i.crossorigin),
          (n._load = null),
          i.autoLoad !== !1 && n.load(),
          n
        );
      }
      return (
        (t.prototype.load = function () {
          var e = this;
          return this._load
            ? this._load
            : ((this._load = new Promise(function (i) {
                if (
                  ((e._resolve = function () {
                    e.resize(e.source.width, e.source.height), i(e);
                  }),
                  t.SVG_XML.test(e.svg.trim()))
                ) {
                  if (!btoa)
                    throw new Error(
                      "Your browser doesn't support base64 conversions."
                    );
                  e.svg =
                    "data:image/svg+xml;base64," +
                    btoa(unescape(encodeURIComponent(e.svg)));
                }
                e._loadSvg();
              })),
              this._load);
        }),
        (t.prototype._loadSvg = function () {
          var e = this,
            i = new Image();
          Or.crossOrigin(i, this.svg, this._crossorigin),
            (i.src = this.svg),
            (i.onerror = function (n) {
              !e._resolve || ((i.onerror = null), e.onError.emit(n));
            }),
            (i.onload = function () {
              if (!!e._resolve) {
                var n = i.width,
                  s = i.height;
                if (!n || !s)
                  throw new Error(
                    "The SVG image must have width and height defined (in pixels), canvas API needs them."
                  );
                var o = n * e.scale,
                  l = s * e.scale;
                (e._overrideWidth || e._overrideHeight) &&
                  ((o = e._overrideWidth || (e._overrideHeight / s) * n),
                  (l = e._overrideHeight || (e._overrideWidth / n) * s)),
                  (o = Math.round(o)),
                  (l = Math.round(l));
                var h = e.source;
                (h.width = o),
                  (h.height = l),
                  (h._pixiId = "canvas_" + li()),
                  h.getContext("2d").drawImage(i, 0, 0, n, s, 0, 0, o, l),
                  e._resolve(),
                  (e._resolve = null);
              }
            });
        }),
        (t.getSize = function (e) {
          var i = t.SVG_SIZE.exec(e),
            n = {};
          return (
            i &&
              ((n[i[1]] = Math.round(parseFloat(i[3]))),
              (n[i[5]] = Math.round(parseFloat(i[7])))),
            n
          );
        }),
        (t.prototype.dispose = function () {
          r.prototype.dispose.call(this),
            (this._resolve = null),
            (this._crossorigin = null);
        }),
        (t.test = function (e, i) {
          return (
            i === "svg" ||
            (typeof e == "string" &&
              /^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)) ||
            (typeof e == "string" && t.SVG_XML.test(e))
          );
        }),
        (t.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m),
        (t.SVG_SIZE =
          /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i),
        t
      );
    })(Or),
    lT = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = this;
        if (((i = i || {}), !(e instanceof HTMLVideoElement))) {
          var s = document.createElement("video");
          s.setAttribute("preload", "auto"),
            s.setAttribute("webkit-playsinline", ""),
            s.setAttribute("playsinline", ""),
            typeof e == "string" && (e = [e]);
          var o = e[0].src || e[0];
          Or.crossOrigin(s, o, i.crossorigin);
          for (var l = 0; l < e.length; ++l) {
            var h = document.createElement("source"),
              f = e[l],
              p = f.src,
              v = f.mime;
            p = p || e[l];
            var _ = p.split("?").shift().toLowerCase(),
              m = _.slice(_.lastIndexOf(".") + 1);
            (v = v || t.MIME_TYPES[m] || "video/" + m),
              (h.src = p),
              (h.type = v),
              s.appendChild(h);
          }
          e = s;
        }
        return (
          (n = r.call(this, e) || this),
          (n.noSubImage = !0),
          (n._autoUpdate = !0),
          (n._isConnectedToTicker = !1),
          (n._updateFPS = i.updateFPS || 0),
          (n._msToNextUpdate = 0),
          (n.autoPlay = i.autoPlay !== !1),
          (n._load = null),
          (n._resolve = null),
          (n._onCanPlay = n._onCanPlay.bind(n)),
          (n._onError = n._onError.bind(n)),
          i.autoLoad !== !1 && n.load(),
          n
        );
      }
      return (
        (t.prototype.update = function (e) {
          if (!this.destroyed) {
            var i = oe.shared.elapsedMS * this.source.playbackRate;
            (this._msToNextUpdate = Math.floor(this._msToNextUpdate - i)),
              (!this._updateFPS || this._msToNextUpdate <= 0) &&
                (r.prototype.update.call(this),
                (this._msToNextUpdate = this._updateFPS
                  ? Math.floor(1e3 / this._updateFPS)
                  : 0));
          }
        }),
        (t.prototype.load = function () {
          var e = this;
          if (this._load) return this._load;
          var i = this.source;
          return (
            (i.readyState === i.HAVE_ENOUGH_DATA ||
              i.readyState === i.HAVE_FUTURE_DATA) &&
              i.width &&
              i.height &&
              (i.complete = !0),
            i.addEventListener("play", this._onPlayStart.bind(this)),
            i.addEventListener("pause", this._onPlayStop.bind(this)),
            this._isSourceReady()
              ? this._onCanPlay()
              : (i.addEventListener("canplay", this._onCanPlay),
                i.addEventListener("canplaythrough", this._onCanPlay),
                i.addEventListener("error", this._onError, !0)),
            (this._load = new Promise(function (n) {
              e.valid ? n(e) : ((e._resolve = n), i.load());
            })),
            this._load
          );
        }),
        (t.prototype._onError = function (e) {
          this.source.removeEventListener("error", this._onError, !0),
            this.onError.emit(e);
        }),
        (t.prototype._isSourcePlaying = function () {
          var e = this.source;
          return (
            e.currentTime > 0 &&
            e.paused === !1 &&
            e.ended === !1 &&
            e.readyState > 2
          );
        }),
        (t.prototype._isSourceReady = function () {
          var e = this.source;
          return e.readyState === 3 || e.readyState === 4;
        }),
        (t.prototype._onPlayStart = function () {
          this.valid || this._onCanPlay(),
            this.autoUpdate &&
              !this._isConnectedToTicker &&
              (oe.shared.add(this.update, this),
              (this._isConnectedToTicker = !0));
        }),
        (t.prototype._onPlayStop = function () {
          this._isConnectedToTicker &&
            (oe.shared.remove(this.update, this),
            (this._isConnectedToTicker = !1));
        }),
        (t.prototype._onCanPlay = function () {
          var e = this.source;
          e.removeEventListener("canplay", this._onCanPlay),
            e.removeEventListener("canplaythrough", this._onCanPlay);
          var i = this.valid;
          this.resize(e.videoWidth, e.videoHeight),
            !i &&
              this._resolve &&
              (this._resolve(this), (this._resolve = null)),
            this._isSourcePlaying()
              ? this._onPlayStart()
              : this.autoPlay && e.play();
        }),
        (t.prototype.dispose = function () {
          this._isConnectedToTicker &&
            (oe.shared.remove(this.update, this),
            (this._isConnectedToTicker = !1));
          var e = this.source;
          e &&
            (e.removeEventListener("error", this._onError, !0),
            e.pause(),
            (e.src = ""),
            e.load()),
            r.prototype.dispose.call(this);
        }),
        Object.defineProperty(t.prototype, "autoUpdate", {
          get: function () {
            return this._autoUpdate;
          },
          set: function (e) {
            e !== this._autoUpdate &&
              ((this._autoUpdate = e),
              !this._autoUpdate && this._isConnectedToTicker
                ? (oe.shared.remove(this.update, this),
                  (this._isConnectedToTicker = !1))
                : this._autoUpdate &&
                  !this._isConnectedToTicker &&
                  this._isSourcePlaying() &&
                  (oe.shared.add(this.update, this),
                  (this._isConnectedToTicker = !0)));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "updateFPS", {
          get: function () {
            return this._updateFPS;
          },
          set: function (e) {
            e !== this._updateFPS && (this._updateFPS = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.test = function (e, i) {
          return (
            (globalThis.HTMLVideoElement && e instanceof HTMLVideoElement) ||
            t.TYPES.indexOf(i) > -1
          );
        }),
        (t.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"]),
        (t.MIME_TYPES = {
          ogv: "video/ogg",
          mov: "video/quicktime",
          m4v: "video/mp4",
        }),
        t
      );
    })(Or),
    uT = (function (r) {
      Lt(t, r);
      function t(e) {
        return r.call(this, e) || this;
      }
      return (
        (t.test = function (e) {
          return !!globalThis.createImageBitmap && e instanceof ImageBitmap;
        }),
        t
      );
    })(Or);
  vl.push(lp, uT, ap, lT, aT, Kn, oT, sT);
  var hT = (function (r) {
      Lt(t, r);
      function t() {
        return (r !== null && r.apply(this, arguments)) || this;
      }
      return (
        (t.prototype.upload = function (e, i, n) {
          var s = e.gl;
          s.pixelStorei(
            s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
            i.alphaMode === Ve.UNPACK
          );
          var o = i.realWidth,
            l = i.realHeight;
          return (
            n.width === o && n.height === l
              ? s.texSubImage2D(
                  i.target,
                  0,
                  0,
                  0,
                  o,
                  l,
                  i.format,
                  n.type,
                  this.data
                )
              : ((n.width = o),
                (n.height = l),
                s.texImage2D(
                  i.target,
                  0,
                  n.internalFormat,
                  o,
                  l,
                  0,
                  i.format,
                  n.type,
                  this.data
                )),
            !0
          );
        }),
        t
      );
    })(Kn),
    gl = (function () {
      function r(t, e) {
        (this.width = Math.round(t || 100)),
          (this.height = Math.round(e || 100)),
          (this.stencil = !1),
          (this.depth = !1),
          (this.dirtyId = 0),
          (this.dirtyFormat = 0),
          (this.dirtySize = 0),
          (this.depthTexture = null),
          (this.colorTextures = []),
          (this.glFramebuffers = {}),
          (this.disposeRunner = new he("disposeFramebuffer")),
          (this.multisample = Jt.NONE);
      }
      return (
        Object.defineProperty(r.prototype, "colorTexture", {
          get: function () {
            return this.colorTextures[0];
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.addColorTexture = function (t, e) {
          return (
            t === void 0 && (t = 0),
            (this.colorTextures[t] =
              e ||
              new gt(null, {
                scaleMode: Je.NEAREST,
                resolution: 1,
                mipmap: cr.OFF,
                width: this.width,
                height: this.height,
              })),
            this.dirtyId++,
            this.dirtyFormat++,
            this
          );
        }),
        (r.prototype.addDepthTexture = function (t) {
          return (
            (this.depthTexture =
              t ||
              new gt(new hT(null, { width: this.width, height: this.height }), {
                scaleMode: Je.NEAREST,
                resolution: 1,
                width: this.width,
                height: this.height,
                mipmap: cr.OFF,
                format: $.DEPTH_COMPONENT,
                type: rt.UNSIGNED_SHORT,
              })),
            this.dirtyId++,
            this.dirtyFormat++,
            this
          );
        }),
        (r.prototype.enableDepth = function () {
          return (this.depth = !0), this.dirtyId++, this.dirtyFormat++, this;
        }),
        (r.prototype.enableStencil = function () {
          return (this.stencil = !0), this.dirtyId++, this.dirtyFormat++, this;
        }),
        (r.prototype.resize = function (t, e) {
          if (
            ((t = Math.round(t)),
            (e = Math.round(e)),
            !(t === this.width && e === this.height))
          ) {
            (this.width = t),
              (this.height = e),
              this.dirtyId++,
              this.dirtySize++;
            for (var i = 0; i < this.colorTextures.length; i++) {
              var n = this.colorTextures[i],
                s = n.resolution;
              n.setSize(t / s, e / s);
            }
            if (this.depthTexture) {
              var s = this.depthTexture.resolution;
              this.depthTexture.setSize(t / s, e / s);
            }
          }
        }),
        (r.prototype.dispose = function () {
          this.disposeRunner.emit(this, !1);
        }),
        (r.prototype.destroyDepthTexture = function () {
          this.depthTexture &&
            (this.depthTexture.destroy(),
            (this.depthTexture = null),
            ++this.dirtyId,
            ++this.dirtyFormat);
        }),
        r
      );
    })(),
    up = (function (r) {
      Lt(t, r);
      function t(e) {
        e === void 0 && (e = {});
        var i = this;
        if (typeof e == "number") {
          var n = arguments[0],
            s = arguments[1],
            o = arguments[2],
            l = arguments[3];
          e = { width: n, height: s, scaleMode: o, resolution: l };
        }
        return (
          (e.width = e.width || 100),
          (e.height = e.height || 100),
          (e.multisample = e.multisample !== void 0 ? e.multisample : Jt.NONE),
          (i = r.call(this, null, e) || this),
          (i.mipmap = cr.OFF),
          (i.valid = !0),
          (i.clearColor = [0, 0, 0, 0]),
          (i.framebuffer = new gl(i.realWidth, i.realHeight).addColorTexture(
            0,
            i
          )),
          (i.framebuffer.multisample = e.multisample),
          (i.maskStack = []),
          (i.filterStack = [{}]),
          i
        );
      }
      return (
        (t.prototype.resize = function (e, i) {
          this.framebuffer.resize(e * this.resolution, i * this.resolution),
            this.setRealSize(this.framebuffer.width, this.framebuffer.height);
        }),
        (t.prototype.dispose = function () {
          this.framebuffer.dispose(), r.prototype.dispose.call(this);
        }),
        (t.prototype.destroy = function () {
          r.prototype.destroy.call(this),
            this.framebuffer.destroyDepthTexture(),
            (this.framebuffer = null);
        }),
        t
      );
    })(gt),
    hp = (function () {
      function r() {
        (this.x0 = 0),
          (this.y0 = 0),
          (this.x1 = 1),
          (this.y1 = 0),
          (this.x2 = 1),
          (this.y2 = 1),
          (this.x3 = 0),
          (this.y3 = 1),
          (this.uvsFloat32 = new Float32Array(8));
      }
      return (
        (r.prototype.set = function (t, e, i) {
          var n = e.width,
            s = e.height;
          if (i) {
            var o = t.width / 2 / n,
              l = t.height / 2 / s,
              h = t.x / n + o,
              f = t.y / s + l;
            (i = Vt.add(i, Vt.NW)),
              (this.x0 = h + o * Vt.uX(i)),
              (this.y0 = f + l * Vt.uY(i)),
              (i = Vt.add(i, 2)),
              (this.x1 = h + o * Vt.uX(i)),
              (this.y1 = f + l * Vt.uY(i)),
              (i = Vt.add(i, 2)),
              (this.x2 = h + o * Vt.uX(i)),
              (this.y2 = f + l * Vt.uY(i)),
              (i = Vt.add(i, 2)),
              (this.x3 = h + o * Vt.uX(i)),
              (this.y3 = f + l * Vt.uY(i));
          } else
            (this.x0 = t.x / n),
              (this.y0 = t.y / s),
              (this.x1 = (t.x + t.width) / n),
              (this.y1 = t.y / s),
              (this.x2 = (t.x + t.width) / n),
              (this.y2 = (t.y + t.height) / s),
              (this.x3 = t.x / n),
              (this.y3 = (t.y + t.height) / s);
          (this.uvsFloat32[0] = this.x0),
            (this.uvsFloat32[1] = this.y0),
            (this.uvsFloat32[2] = this.x1),
            (this.uvsFloat32[3] = this.y1),
            (this.uvsFloat32[4] = this.x2),
            (this.uvsFloat32[5] = this.y2),
            (this.uvsFloat32[6] = this.x3),
            (this.uvsFloat32[7] = this.y3);
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/core:TextureUvs " +
            ("x0=" + this.x0 + " y0=" + this.y0 + " ") +
            ("x1=" + this.x1 + " y1=" + this.y1 + " x2=" + this.x2 + " ") +
            ("y2=" + this.y2 + " x3=" + this.x3 + " y3=" + this.y3) +
            "]"
          );
        }),
        r
      );
    })(),
    cp = new hp();
  function po(r) {
    (r.destroy = function () {}),
      (r.on = function () {}),
      (r.once = function () {}),
      (r.emit = function () {});
  }
  var ot = (function (r) {
      Lt(t, r);
      function t(e, i, n, s, o, l) {
        var h = r.call(this) || this;
        if (
          ((h.noFrame = !1),
          i || ((h.noFrame = !0), (i = new ft(0, 0, 1, 1))),
          e instanceof t && (e = e.baseTexture),
          (h.baseTexture = e),
          (h._frame = i),
          (h.trim = s),
          (h.valid = !1),
          (h._uvs = cp),
          (h.uvMatrix = null),
          (h.orig = n || i),
          (h._rotate = Number(o || 0)),
          o === !0)
        )
          h._rotate = 2;
        else if (h._rotate % 2 !== 0)
          throw new Error(
            "attempt to use diamond-shaped UVs. If you are sure, set rotation manually"
          );
        return (
          (h.defaultAnchor = l ? new kt(l.x, l.y) : new kt(0, 0)),
          (h._updateID = 0),
          (h.textureCacheIds = []),
          e.valid
            ? h.noFrame
              ? e.valid && h.onBaseTextureUpdated(e)
              : (h.frame = i)
            : e.once("loaded", h.onBaseTextureUpdated, h),
          h.noFrame && e.on("update", h.onBaseTextureUpdated, h),
          h
        );
      }
      return (
        (t.prototype.update = function () {
          this.baseTexture.resource && this.baseTexture.resource.update();
        }),
        (t.prototype.onBaseTextureUpdated = function (e) {
          if (this.noFrame) {
            if (!this.baseTexture.valid) return;
            (this._frame.width = e.width),
              (this._frame.height = e.height),
              (this.valid = !0),
              this.updateUvs();
          } else this.frame = this._frame;
          this.emit("update", this);
        }),
        (t.prototype.destroy = function (e) {
          if (this.baseTexture) {
            if (e) {
              var i = this.baseTexture.resource;
              i && i.url && He[i.url] && t.removeFromCache(i.url),
                this.baseTexture.destroy();
            }
            this.baseTexture.off("loaded", this.onBaseTextureUpdated, this),
              this.baseTexture.off("update", this.onBaseTextureUpdated, this),
              (this.baseTexture = null);
          }
          (this._frame = null),
            (this._uvs = null),
            (this.trim = null),
            (this.orig = null),
            (this.valid = !1),
            t.removeFromCache(this),
            (this.textureCacheIds = null);
        }),
        (t.prototype.clone = function () {
          var e = this._frame.clone(),
            i = this._frame === this.orig ? e : this.orig.clone(),
            n = new t(
              this.baseTexture,
              !this.noFrame && e,
              i,
              this.trim && this.trim.clone(),
              this.rotate,
              this.defaultAnchor
            );
          return this.noFrame && (n._frame = e), n;
        }),
        (t.prototype.updateUvs = function () {
          this._uvs === cp && (this._uvs = new hp()),
            this._uvs.set(this._frame, this.baseTexture, this.rotate),
            this._updateID++;
        }),
        (t.from = function (e, i, n) {
          i === void 0 && (i = {}),
            n === void 0 && (n = Q.STRICT_TEXTURE_CACHE);
          var s = typeof e == "string",
            o = null;
          if (s) o = e;
          else if (e instanceof gt) {
            if (!e.cacheId) {
              var l = (i && i.pixiIdPrefix) || "pixiid";
              (e.cacheId = l + "-" + li()), gt.addToCache(e, e.cacheId);
            }
            o = e.cacheId;
          } else {
            if (!e._pixiId) {
              var l = (i && i.pixiIdPrefix) || "pixiid";
              e._pixiId = l + "_" + li();
            }
            o = e._pixiId;
          }
          var h = He[o];
          if (s && n && !h)
            throw new Error(
              'The cacheId "' + o + '" does not exist in TextureCache.'
            );
          return (
            !h && !(e instanceof gt)
              ? (i.resolution || (i.resolution = so(e)),
                (h = new t(new gt(e, i))),
                (h.baseTexture.cacheId = o),
                gt.addToCache(h.baseTexture, o),
                t.addToCache(h, o))
              : !h && e instanceof gt && ((h = new t(e)), t.addToCache(h, o)),
            h
          );
        }),
        (t.fromURL = function (e, i) {
          var n = Object.assign(
              { autoLoad: !1 },
              i == null ? void 0 : i.resourceOptions
            ),
            s = t.from(e, Object.assign({ resourceOptions: n }, i), !1),
            o = s.baseTexture.resource;
          return s.baseTexture.valid
            ? Promise.resolve(s)
            : o.load().then(function () {
                return Promise.resolve(s);
              });
        }),
        (t.fromBuffer = function (e, i, n, s) {
          return new t(gt.fromBuffer(e, i, n, s));
        }),
        (t.fromLoader = function (e, i, n, s) {
          var o = new gt(
              e,
              Object.assign({ scaleMode: Q.SCALE_MODE, resolution: so(i) }, s)
            ),
            l = o.resource;
          l instanceof lp && (l.url = i);
          var h = new t(o);
          return (
            n || (n = i),
            gt.addToCache(h.baseTexture, n),
            t.addToCache(h, n),
            n !== i && (gt.addToCache(h.baseTexture, i), t.addToCache(h, i)),
            h.baseTexture.valid
              ? Promise.resolve(h)
              : new Promise(function (f) {
                  h.baseTexture.once("loaded", function () {
                    return f(h);
                  });
                })
          );
        }),
        (t.addToCache = function (e, i) {
          i &&
            (e.textureCacheIds.indexOf(i) === -1 && e.textureCacheIds.push(i),
            He[i] &&
              console.warn(
                "Texture added to the cache with an id [" +
                  i +
                  "] that already had an entry"
              ),
            (He[i] = e));
        }),
        (t.removeFromCache = function (e) {
          if (typeof e == "string") {
            var i = He[e];
            if (i) {
              var n = i.textureCacheIds.indexOf(e);
              return n > -1 && i.textureCacheIds.splice(n, 1), delete He[e], i;
            }
          } else if (e && e.textureCacheIds) {
            for (var s = 0; s < e.textureCacheIds.length; ++s)
              He[e.textureCacheIds[s]] === e && delete He[e.textureCacheIds[s]];
            return (e.textureCacheIds.length = 0), e;
          }
          return null;
        }),
        Object.defineProperty(t.prototype, "resolution", {
          get: function () {
            return this.baseTexture.resolution;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "frame", {
          get: function () {
            return this._frame;
          },
          set: function (e) {
            (this._frame = e), (this.noFrame = !1);
            var i = e.x,
              n = e.y,
              s = e.width,
              o = e.height,
              l = i + s > this.baseTexture.width,
              h = n + o > this.baseTexture.height;
            if (l || h) {
              var f = l && h ? "and" : "or",
                p =
                  "X: " +
                  i +
                  " + " +
                  s +
                  " = " +
                  (i + s) +
                  " > " +
                  this.baseTexture.width,
                v =
                  "Y: " +
                  n +
                  " + " +
                  o +
                  " = " +
                  (n + o) +
                  " > " +
                  this.baseTexture.height;
              throw new Error(
                "Texture Error: frame does not fit inside the base Texture dimensions: " +
                  (p + " " + f + " " + v)
              );
            }
            (this.valid = s && o && this.baseTexture.valid),
              !this.trim && !this.rotate && (this.orig = e),
              this.valid && this.updateUvs();
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "rotate", {
          get: function () {
            return this._rotate;
          },
          set: function (e) {
            (this._rotate = e), this.valid && this.updateUvs();
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "width", {
          get: function () {
            return this.orig.width;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "height", {
          get: function () {
            return this.orig.height;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.castToBaseTexture = function () {
          return this.baseTexture;
        }),
        Object.defineProperty(t, "EMPTY", {
          get: function () {
            return (
              t._EMPTY ||
                ((t._EMPTY = new t(new gt())),
                po(t._EMPTY),
                po(t._EMPTY.baseTexture)),
              t._EMPTY
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t, "WHITE", {
          get: function () {
            if (!t._WHITE) {
              var e = document.createElement("canvas"),
                i = e.getContext("2d");
              (e.width = 16),
                (e.height = 16),
                (i.fillStyle = "white"),
                i.fillRect(0, 0, 16, 16),
                (t._WHITE = new t(new gt(new ap(e)))),
                po(t._WHITE),
                po(t._WHITE.baseTexture);
            }
            return t._WHITE;
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Di),
    pi = (function (r) {
      Lt(t, r);
      function t(e, i) {
        var n = r.call(this, e, i) || this;
        return (
          (n.valid = !0),
          (n.filterFrame = null),
          (n.filterPoolKey = null),
          n.updateUvs(),
          n
        );
      }
      return (
        Object.defineProperty(t.prototype, "framebuffer", {
          get: function () {
            return this.baseTexture.framebuffer;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "multisample", {
          get: function () {
            return this.framebuffer.multisample;
          },
          set: function (e) {
            this.framebuffer.multisample = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.resize = function (e, i, n) {
          n === void 0 && (n = !0);
          var s = this.baseTexture.resolution,
            o = Math.round(e * s) / s,
            l = Math.round(i * s) / s;
          (this.valid = o > 0 && l > 0),
            (this._frame.width = this.orig.width = o),
            (this._frame.height = this.orig.height = l),
            n && this.baseTexture.resize(o, l),
            this.updateUvs();
        }),
        (t.prototype.setResolution = function (e) {
          var i = this.baseTexture;
          i.resolution !== e &&
            (i.setResolution(e), this.resize(i.width, i.height, !1));
        }),
        (t.create = function (e) {
          for (var i = arguments, n = [], s = 1; s < arguments.length; s++)
            n[s - 1] = i[s];
          return (
            typeof e == "number" &&
              (Wn(
                "6.0.0",
                "Arguments (width, height, scaleMode, resolution) have been deprecated."
              ),
              (e = {
                width: e,
                height: n[0],
                scaleMode: n[1],
                resolution: n[2],
              })),
            new t(new up(e))
          );
        }),
        t
      );
    })(ot),
    cT = (function () {
      function r(t) {
        (this.texturePool = {}),
          (this.textureOptions = t || {}),
          (this.enableFullScreen = !1),
          (this._pixelsWidth = 0),
          (this._pixelsHeight = 0);
      }
      return (
        (r.prototype.createTexture = function (t, e, i) {
          i === void 0 && (i = Jt.NONE);
          var n = new up(
            Object.assign(
              { width: t, height: e, resolution: 1, multisample: i },
              this.textureOptions
            )
          );
          return new pi(n);
        }),
        (r.prototype.getOptimalTexture = function (t, e, i, n) {
          i === void 0 && (i = 1), n === void 0 && (n = Jt.NONE);
          var s;
          (t = Math.ceil(t * i - 1e-6)),
            (e = Math.ceil(e * i - 1e-6)),
            !this.enableFullScreen ||
            t !== this._pixelsWidth ||
            e !== this._pixelsHeight
              ? ((t = io(t)),
                (e = io(e)),
                (s = (((t & 65535) << 16) | (e & 65535)) >>> 0),
                n > 1 && (s += n * 4294967296))
              : (s = n > 1 ? -n : -1),
            this.texturePool[s] || (this.texturePool[s] = []);
          var o = this.texturePool[s].pop();
          return (
            o || (o = this.createTexture(t, e, n)),
            (o.filterPoolKey = s),
            o.setResolution(i),
            o
          );
        }),
        (r.prototype.getFilterTexture = function (t, e, i) {
          var n = this.getOptimalTexture(
            t.width,
            t.height,
            e || t.resolution,
            i || Jt.NONE
          );
          return (n.filterFrame = t.filterFrame), n;
        }),
        (r.prototype.returnTexture = function (t) {
          var e = t.filterPoolKey;
          (t.filterFrame = null), this.texturePool[e].push(t);
        }),
        (r.prototype.returnFilterTexture = function (t) {
          this.returnTexture(t);
        }),
        (r.prototype.clear = function (t) {
          if (((t = t !== !1), t))
            for (var e in this.texturePool) {
              var i = this.texturePool[e];
              if (i) for (var n = 0; n < i.length; n++) i[n].destroy(!0);
            }
          this.texturePool = {};
        }),
        (r.prototype.setScreenSize = function (t) {
          if (
            !(t.width === this._pixelsWidth && t.height === this._pixelsHeight)
          ) {
            this.enableFullScreen = t.width > 0 && t.height > 0;
            for (var e in this.texturePool)
              if (Number(e) < 0) {
                var i = this.texturePool[e];
                if (i) for (var n = 0; n < i.length; n++) i[n].destroy(!0);
                this.texturePool[e] = [];
              }
            (this._pixelsWidth = t.width), (this._pixelsHeight = t.height);
          }
        }),
        (r.SCREEN_KEY = -1),
        r
      );
    })(),
    fp = (function () {
      function r(t, e, i, n, s, o, l) {
        e === void 0 && (e = 0),
          i === void 0 && (i = !1),
          n === void 0 && (n = rt.FLOAT),
          (this.buffer = t),
          (this.size = e),
          (this.normalized = i),
          (this.type = n),
          (this.stride = s),
          (this.start = o),
          (this.instance = l);
      }
      return (
        (r.prototype.destroy = function () {
          this.buffer = null;
        }),
        (r.from = function (t, e, i, n, s) {
          return new r(t, e, i, n, s);
        }),
        r
      );
    })(),
    fT = 0,
    ee = (function () {
      function r(t, e, i) {
        e === void 0 && (e = !0),
          i === void 0 && (i = !1),
          (this.data = t || new Float32Array(1)),
          (this._glBuffers = {}),
          (this._updateID = 0),
          (this.index = i),
          (this.static = e),
          (this.id = fT++),
          (this.disposeRunner = new he("disposeBuffer"));
      }
      return (
        (r.prototype.update = function (t) {
          t instanceof Array && (t = new Float32Array(t)),
            (this.data = t || this.data),
            this._updateID++;
        }),
        (r.prototype.dispose = function () {
          this.disposeRunner.emit(this, !1);
        }),
        (r.prototype.destroy = function () {
          this.dispose(), (this.data = null);
        }),
        Object.defineProperty(r.prototype, "index", {
          get: function () {
            return this.type === er.ELEMENT_ARRAY_BUFFER;
          },
          set: function (t) {
            this.type = t ? er.ELEMENT_ARRAY_BUFFER : er.ARRAY_BUFFER;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.from = function (t) {
          return t instanceof Array && (t = new Float32Array(t)), new r(t);
        }),
        r
      );
    })(),
    pT = { Float32Array, Uint32Array, Int32Array, Uint8Array };
  function dT(r, t) {
    for (var e = 0, i = 0, n = {}, s = 0; s < r.length; s++)
      (i += t[s]), (e += r[s].length);
    for (
      var o = new ArrayBuffer(e * 4), l = null, h = 0, s = 0;
      s < r.length;
      s++
    ) {
      var f = t[s],
        p = r[s],
        v = Rf(p);
      n[v] || (n[v] = new pT[v](o)), (l = n[v]);
      for (var _ = 0; _ < p.length; _++) {
        var m = ((_ / f) | 0) * i + h,
          g = _ % f;
        l[m + g] = p[_];
      }
      h += f;
    }
    return new Float32Array(o);
  }
  var pp = { 5126: 4, 5123: 2, 5121: 1 },
    vT = 0,
    _T = { Float32Array, Uint32Array, Int32Array, Uint8Array, Uint16Array },
    Zn = (function () {
      function r(t, e) {
        t === void 0 && (t = []),
          e === void 0 && (e = {}),
          (this.buffers = t),
          (this.indexBuffer = null),
          (this.attributes = e),
          (this.glVertexArrayObjects = {}),
          (this.id = vT++),
          (this.instanced = !1),
          (this.instanceCount = 1),
          (this.disposeRunner = new he("disposeGeometry")),
          (this.refCount = 0);
      }
      return (
        (r.prototype.addAttribute = function (t, e, i, n, s, o, l, h) {
          if (
            (i === void 0 && (i = 0),
            n === void 0 && (n = !1),
            h === void 0 && (h = !1),
            !e)
          )
            throw new Error(
              "You must pass a buffer when creating an attribute"
            );
          e instanceof ee ||
            (e instanceof Array && (e = new Float32Array(e)), (e = new ee(e)));
          var f = t.split("|");
          if (f.length > 1) {
            for (var p = 0; p < f.length; p++)
              this.addAttribute(f[p], e, i, n, s);
            return this;
          }
          var v = this.buffers.indexOf(e);
          return (
            v === -1 && (this.buffers.push(e), (v = this.buffers.length - 1)),
            (this.attributes[t] = new fp(v, i, n, s, o, l, h)),
            (this.instanced = this.instanced || h),
            this
          );
        }),
        (r.prototype.getAttribute = function (t) {
          return this.attributes[t];
        }),
        (r.prototype.getBuffer = function (t) {
          return this.buffers[this.getAttribute(t).buffer];
        }),
        (r.prototype.addIndex = function (t) {
          return (
            t instanceof ee ||
              (t instanceof Array && (t = new Uint16Array(t)), (t = new ee(t))),
            (t.type = er.ELEMENT_ARRAY_BUFFER),
            (this.indexBuffer = t),
            this.buffers.indexOf(t) === -1 && this.buffers.push(t),
            this
          );
        }),
        (r.prototype.getIndex = function () {
          return this.indexBuffer;
        }),
        (r.prototype.interleave = function () {
          if (
            this.buffers.length === 1 ||
            (this.buffers.length === 2 && this.indexBuffer)
          )
            return this;
          var t = [],
            e = [],
            i = new ee(),
            n;
          for (n in this.attributes) {
            var s = this.attributes[n],
              o = this.buffers[s.buffer];
            t.push(o.data), e.push((s.size * pp[s.type]) / 4), (s.buffer = 0);
          }
          for (i.data = dT(t, e), n = 0; n < this.buffers.length; n++)
            this.buffers[n] !== this.indexBuffer && this.buffers[n].destroy();
          return (
            (this.buffers = [i]),
            this.indexBuffer && this.buffers.push(this.indexBuffer),
            this
          );
        }),
        (r.prototype.getSize = function () {
          for (var t in this.attributes) {
            var e = this.attributes[t],
              i = this.buffers[e.buffer];
            return i.data.length / (e.stride / 4 || e.size);
          }
          return 0;
        }),
        (r.prototype.dispose = function () {
          this.disposeRunner.emit(this, !1);
        }),
        (r.prototype.destroy = function () {
          this.dispose(),
            (this.buffers = null),
            (this.indexBuffer = null),
            (this.attributes = null);
        }),
        (r.prototype.clone = function () {
          for (var t = new r(), e = 0; e < this.buffers.length; e++)
            t.buffers[e] = new ee(this.buffers[e].data.slice(0));
          for (var e in this.attributes) {
            var i = this.attributes[e];
            t.attributes[e] = new fp(
              i.buffer,
              i.size,
              i.normalized,
              i.type,
              i.stride,
              i.start,
              i.instance
            );
          }
          return (
            this.indexBuffer &&
              ((t.indexBuffer =
                t.buffers[this.buffers.indexOf(this.indexBuffer)]),
              (t.indexBuffer.type = er.ELEMENT_ARRAY_BUFFER)),
            t
          );
        }),
        (r.merge = function (t) {
          for (
            var e = new r(), i = [], n = [], s = [], o, l = 0;
            l < t.length;
            l++
          ) {
            o = t[l];
            for (var h = 0; h < o.buffers.length; h++)
              (n[h] = n[h] || 0),
                (n[h] += o.buffers[h].data.length),
                (s[h] = 0);
          }
          for (var l = 0; l < o.buffers.length; l++)
            (i[l] = new _T[Rf(o.buffers[l].data)](n[l])),
              (e.buffers[l] = new ee(i[l]));
          for (var l = 0; l < t.length; l++) {
            o = t[l];
            for (var h = 0; h < o.buffers.length; h++)
              i[h].set(o.buffers[h].data, s[h]),
                (s[h] += o.buffers[h].data.length);
          }
          if (((e.attributes = o.attributes), o.indexBuffer)) {
            (e.indexBuffer = e.buffers[o.buffers.indexOf(o.indexBuffer)]),
              (e.indexBuffer.type = er.ELEMENT_ARRAY_BUFFER);
            for (
              var f = 0, p = 0, v = 0, _ = 0, l = 0;
              l < o.buffers.length;
              l++
            )
              if (o.buffers[l] !== o.indexBuffer) {
                _ = l;
                break;
              }
            for (var l in o.attributes) {
              var m = o.attributes[l];
              (m.buffer | 0) === _ && (p += (m.size * pp[m.type]) / 4);
            }
            for (var l = 0; l < t.length; l++) {
              for (var g = t[l].indexBuffer.data, h = 0; h < g.length; h++)
                e.indexBuffer.data[h + v] += f;
              (f += t[l].buffers[_].data.length / p), (v += g.length);
            }
          }
          return e;
        }),
        r
      );
    })(),
    mT = (function (r) {
      Lt(t, r);
      function t() {
        var e = r.call(this) || this;
        return (
          e
            .addAttribute(
              "aVertexPosition",
              new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])
            )
            .addIndex([0, 1, 3, 2]),
          e
        );
      }
      return t;
    })(Zn),
    dp = (function (r) {
      Lt(t, r);
      function t() {
        var e = r.call(this) || this;
        return (
          (e.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1])),
          (e.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])),
          (e.vertexBuffer = new ee(e.vertices)),
          (e.uvBuffer = new ee(e.uvs)),
          e
            .addAttribute("aVertexPosition", e.vertexBuffer)
            .addAttribute("aTextureCoord", e.uvBuffer)
            .addIndex([0, 1, 2, 0, 2, 3]),
          e
        );
      }
      return (
        (t.prototype.map = function (e, i) {
          var n = 0,
            s = 0;
          return (
            (this.uvs[0] = n),
            (this.uvs[1] = s),
            (this.uvs[2] = n + i.width / e.width),
            (this.uvs[3] = s),
            (this.uvs[4] = n + i.width / e.width),
            (this.uvs[5] = s + i.height / e.height),
            (this.uvs[6] = n),
            (this.uvs[7] = s + i.height / e.height),
            (n = i.x),
            (s = i.y),
            (this.vertices[0] = n),
            (this.vertices[1] = s),
            (this.vertices[2] = n + i.width),
            (this.vertices[3] = s),
            (this.vertices[4] = n + i.width),
            (this.vertices[5] = s + i.height),
            (this.vertices[6] = n),
            (this.vertices[7] = s + i.height),
            this.invalidate(),
            this
          );
        }),
        (t.prototype.invalidate = function () {
          return this.vertexBuffer._updateID++, this.uvBuffer._updateID++, this;
        }),
        t
      );
    })(Zn),
    gT = 0,
    di = (function () {
      function r(t, e, i) {
        (this.group = !0),
          (this.syncUniforms = {}),
          (this.dirtyId = 0),
          (this.id = gT++),
          (this.static = !!e),
          (this.ubo = !!i),
          t instanceof ee
            ? ((this.buffer = t),
              (this.buffer.type = er.UNIFORM_BUFFER),
              (this.autoManage = !1),
              (this.ubo = !0))
            : ((this.uniforms = t),
              this.ubo &&
                ((this.buffer = new ee(new Float32Array(1))),
                (this.buffer.type = er.UNIFORM_BUFFER),
                (this.autoManage = !0)));
      }
      return (
        (r.prototype.update = function () {
          this.dirtyId++,
            !this.autoManage && this.buffer && this.buffer.update();
        }),
        (r.prototype.add = function (t, e, i) {
          if (!this.ubo) this.uniforms[t] = new r(e, i);
          else
            throw new Error(
              "[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them"
            );
        }),
        (r.from = function (t, e, i) {
          return new r(t, e, i);
        }),
        (r.uboFrom = function (t, e) {
          return new r(t, e != null ? e : !0, !0);
        }),
        r
      );
    })(),
    yT = (function () {
      function r() {
        (this.renderTexture = null),
          (this.target = null),
          (this.legacy = !1),
          (this.resolution = 1),
          (this.multisample = Jt.NONE),
          (this.sourceFrame = new ft()),
          (this.destinationFrame = new ft()),
          (this.bindingSourceFrame = new ft()),
          (this.bindingDestinationFrame = new ft()),
          (this.filters = []),
          (this.transform = null);
      }
      return (
        (r.prototype.clear = function () {
          (this.target = null),
            (this.filters = null),
            (this.renderTexture = null);
        }),
        r
      );
    })(),
    vo = [new kt(), new kt(), new kt(), new kt()],
    yl = new Yt(),
    bT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.defaultFilterStack = [{}]),
          (this.texturePool = new cT()),
          this.texturePool.setScreenSize(t.view),
          (this.statePool = []),
          (this.quad = new mT()),
          (this.quadUv = new dp()),
          (this.tempRect = new ft()),
          (this.activeState = {}),
          (this.globalUniforms = new di(
            {
              outputFrame: new ft(),
              inputSize: new Float32Array(4),
              inputPixel: new Float32Array(4),
              inputClamp: new Float32Array(4),
              resolution: 1,
              filterArea: new Float32Array(4),
              filterClamp: new Float32Array(4),
            },
            !0
          )),
          (this.forceClear = !1),
          (this.useMaxPadding = !1);
      }
      return (
        (r.prototype.push = function (t, e) {
          for (
            var i,
              n,
              s = this.renderer,
              o = this.defaultFilterStack,
              l = this.statePool.pop() || new yT(),
              h = this.renderer.renderTexture,
              f = e[0].resolution,
              p = e[0].multisample,
              v = e[0].padding,
              _ = e[0].autoFit,
              m = (i = e[0].legacy) !== null && i !== void 0 ? i : !0,
              g = 1;
            g < e.length;
            g++
          ) {
            var y = e[g];
            (f = Math.min(f, y.resolution)),
              (p = Math.min(p, y.multisample)),
              (v = this.useMaxPadding ? Math.max(v, y.padding) : v + y.padding),
              (_ = _ && y.autoFit),
              (m = m || ((n = y.legacy) !== null && n !== void 0 ? n : !0));
          }
          o.length === 1 &&
            (this.defaultFilterStack[0].renderTexture = h.current),
            o.push(l),
            (l.resolution = f),
            (l.multisample = p),
            (l.legacy = m),
            (l.target = t),
            l.sourceFrame.copyFrom(t.filterArea || t.getBounds(!0)),
            l.sourceFrame.pad(v);
          var b = this.tempRect.copyFrom(h.sourceFrame);
          s.projection.transform &&
            this.transformAABB(yl.copyFrom(s.projection.transform).invert(), b),
            _
              ? (l.sourceFrame.fit(b),
                (l.sourceFrame.width <= 0 || l.sourceFrame.height <= 0) &&
                  ((l.sourceFrame.width = 0), (l.sourceFrame.height = 0)))
              : l.sourceFrame.intersects(b) ||
                ((l.sourceFrame.width = 0), (l.sourceFrame.height = 0)),
            this.roundFrame(
              l.sourceFrame,
              h.current ? h.current.resolution : s.resolution,
              h.sourceFrame,
              h.destinationFrame,
              s.projection.transform
            ),
            (l.renderTexture = this.getOptimalFilterTexture(
              l.sourceFrame.width,
              l.sourceFrame.height,
              f,
              p
            )),
            (l.filters = e),
            (l.destinationFrame.width = l.renderTexture.width),
            (l.destinationFrame.height = l.renderTexture.height);
          var w = this.tempRect;
          (w.x = 0),
            (w.y = 0),
            (w.width = l.sourceFrame.width),
            (w.height = l.sourceFrame.height),
            (l.renderTexture.filterFrame = l.sourceFrame),
            l.bindingSourceFrame.copyFrom(h.sourceFrame),
            l.bindingDestinationFrame.copyFrom(h.destinationFrame),
            (l.transform = s.projection.transform),
            (s.projection.transform = null),
            h.bind(l.renderTexture, l.sourceFrame, w),
            s.framebuffer.clear(0, 0, 0, 0);
        }),
        (r.prototype.pop = function () {
          var t = this.defaultFilterStack,
            e = t.pop(),
            i = e.filters;
          this.activeState = e;
          var n = this.globalUniforms.uniforms;
          (n.outputFrame = e.sourceFrame), (n.resolution = e.resolution);
          var s = n.inputSize,
            o = n.inputPixel,
            l = n.inputClamp;
          if (
            ((s[0] = e.destinationFrame.width),
            (s[1] = e.destinationFrame.height),
            (s[2] = 1 / s[0]),
            (s[3] = 1 / s[1]),
            (o[0] = Math.round(s[0] * e.resolution)),
            (o[1] = Math.round(s[1] * e.resolution)),
            (o[2] = 1 / o[0]),
            (o[3] = 1 / o[1]),
            (l[0] = 0.5 * o[2]),
            (l[1] = 0.5 * o[3]),
            (l[2] = e.sourceFrame.width * s[2] - 0.5 * o[2]),
            (l[3] = e.sourceFrame.height * s[3] - 0.5 * o[3]),
            e.legacy)
          ) {
            var h = n.filterArea;
            (h[0] = e.destinationFrame.width),
              (h[1] = e.destinationFrame.height),
              (h[2] = e.sourceFrame.x),
              (h[3] = e.sourceFrame.y),
              (n.filterClamp = n.inputClamp);
          }
          this.globalUniforms.update();
          var f = t[t.length - 1];
          if ((this.renderer.framebuffer.blit(), i.length === 1))
            i[0].apply(this, e.renderTexture, f.renderTexture, Nr.BLEND, e),
              this.returnFilterTexture(e.renderTexture);
          else {
            var p = e.renderTexture,
              v = this.getOptimalFilterTexture(p.width, p.height, e.resolution);
            v.filterFrame = p.filterFrame;
            var _ = 0;
            for (_ = 0; _ < i.length - 1; ++_) {
              _ === 1 &&
                e.multisample > 1 &&
                ((v = this.getOptimalFilterTexture(
                  p.width,
                  p.height,
                  e.resolution
                )),
                (v.filterFrame = p.filterFrame)),
                i[_].apply(this, p, v, Nr.CLEAR, e);
              var m = p;
              (p = v), (v = m);
            }
            i[_].apply(this, p, f.renderTexture, Nr.BLEND, e),
              _ > 1 &&
                e.multisample > 1 &&
                this.returnFilterTexture(e.renderTexture),
              this.returnFilterTexture(p),
              this.returnFilterTexture(v);
          }
          e.clear(), this.statePool.push(e);
        }),
        (r.prototype.bindAndClear = function (t, e) {
          e === void 0 && (e = Nr.CLEAR);
          var i = this.renderer,
            n = i.renderTexture,
            s = i.state;
          if (
            (t ===
            this.defaultFilterStack[this.defaultFilterStack.length - 1]
              .renderTexture
              ? (this.renderer.projection.transform =
                  this.activeState.transform)
              : (this.renderer.projection.transform = null),
            t && t.filterFrame)
          ) {
            var o = this.tempRect;
            (o.x = 0),
              (o.y = 0),
              (o.width = t.filterFrame.width),
              (o.height = t.filterFrame.height),
              n.bind(t, t.filterFrame, o);
          } else
            t !==
            this.defaultFilterStack[this.defaultFilterStack.length - 1]
              .renderTexture
              ? n.bind(t)
              : this.renderer.renderTexture.bind(
                  t,
                  this.activeState.bindingSourceFrame,
                  this.activeState.bindingDestinationFrame
                );
          var l = s.stateId & 1 || this.forceClear;
          (e === Nr.CLEAR || (e === Nr.BLIT && l)) &&
            this.renderer.framebuffer.clear(0, 0, 0, 0);
        }),
        (r.prototype.applyFilter = function (t, e, i, n) {
          var s = this.renderer;
          s.state.set(t.state),
            this.bindAndClear(i, n),
            (t.uniforms.uSampler = e),
            (t.uniforms.filterGlobals = this.globalUniforms),
            s.shader.bind(t),
            (t.legacy = !!t.program.attributeData.aTextureCoord),
            t.legacy
              ? (this.quadUv.map(e._frame, e.filterFrame),
                s.geometry.bind(this.quadUv),
                s.geometry.draw(De.TRIANGLES))
              : (s.geometry.bind(this.quad),
                s.geometry.draw(De.TRIANGLE_STRIP));
        }),
        (r.prototype.calculateSpriteMatrix = function (t, e) {
          var i = this.activeState,
            n = i.sourceFrame,
            s = i.destinationFrame,
            o = e._texture.orig,
            l = t.set(s.width, 0, 0, s.height, n.x, n.y),
            h = e.worldTransform.copyTo(Yt.TEMP_MATRIX);
          return (
            h.invert(),
            l.prepend(h),
            l.scale(1 / o.width, 1 / o.height),
            l.translate(e.anchor.x, e.anchor.y),
            l
          );
        }),
        (r.prototype.destroy = function () {
          (this.renderer = null), this.texturePool.clear(!1);
        }),
        (r.prototype.getOptimalFilterTexture = function (t, e, i, n) {
          return (
            i === void 0 && (i = 1),
            n === void 0 && (n = Jt.NONE),
            this.texturePool.getOptimalTexture(t, e, i, n)
          );
        }),
        (r.prototype.getFilterTexture = function (t, e, i) {
          if (typeof t == "number") {
            var n = t;
            (t = e), (e = n);
          }
          t = t || this.activeState.renderTexture;
          var s = this.texturePool.getOptimalTexture(
            t.width,
            t.height,
            e || t.resolution,
            i || Jt.NONE
          );
          return (s.filterFrame = t.filterFrame), s;
        }),
        (r.prototype.returnFilterTexture = function (t) {
          this.texturePool.returnTexture(t);
        }),
        (r.prototype.emptyPool = function () {
          this.texturePool.clear(!0);
        }),
        (r.prototype.resize = function () {
          this.texturePool.setScreenSize(this.renderer.view);
        }),
        (r.prototype.transformAABB = function (t, e) {
          var i = vo[0],
            n = vo[1],
            s = vo[2],
            o = vo[3];
          i.set(e.left, e.top),
            n.set(e.left, e.bottom),
            s.set(e.right, e.top),
            o.set(e.right, e.bottom),
            t.apply(i, i),
            t.apply(n, n),
            t.apply(s, s),
            t.apply(o, o);
          var l = Math.min(i.x, n.x, s.x, o.x),
            h = Math.min(i.y, n.y, s.y, o.y),
            f = Math.max(i.x, n.x, s.x, o.x),
            p = Math.max(i.y, n.y, s.y, o.y);
          (e.x = l), (e.y = h), (e.width = f - l), (e.height = p - h);
        }),
        (r.prototype.roundFrame = function (t, e, i, n, s) {
          if (
            !(t.width <= 0 || t.height <= 0 || i.width <= 0 || i.height <= 0)
          ) {
            if (s) {
              var o = s.a,
                l = s.b,
                h = s.c,
                f = s.d;
              if (
                (Math.abs(l) > 1e-4 || Math.abs(h) > 1e-4) &&
                (Math.abs(o) > 1e-4 || Math.abs(f) > 1e-4)
              )
                return;
            }
            (s = s ? yl.copyFrom(s) : yl.identity()),
              s
                .translate(-i.x, -i.y)
                .scale(n.width / i.width, n.height / i.height)
                .translate(n.x, n.y),
              this.transformAABB(s, t),
              t.ceil(e),
              this.transformAABB(s.invert(), t);
          }
        }),
        r
      );
    })(),
    _o = (function () {
      function r(t) {
        this.renderer = t;
      }
      return (
        (r.prototype.flush = function () {}),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        (r.prototype.start = function () {}),
        (r.prototype.stop = function () {
          this.flush();
        }),
        (r.prototype.render = function (t) {}),
        r
      );
    })(),
    xT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.emptyRenderer = new _o(t)),
          (this.currentRenderer = this.emptyRenderer);
      }
      return (
        (r.prototype.setObjectRenderer = function (t) {
          this.currentRenderer !== t &&
            (this.currentRenderer.stop(),
            (this.currentRenderer = t),
            this.currentRenderer.start());
        }),
        (r.prototype.flush = function () {
          this.setObjectRenderer(this.emptyRenderer);
        }),
        (r.prototype.reset = function () {
          this.setObjectRenderer(this.emptyRenderer);
        }),
        (r.prototype.copyBoundTextures = function (t, e) {
          for (
            var i = this.renderer.texture.boundTextures, n = e - 1;
            n >= 0;
            --n
          )
            (t[n] = i[n] || null), t[n] && (t[n]._batchLocation = n);
        }),
        (r.prototype.boundArray = function (t, e, i, n) {
          for (
            var s = t.elements, o = t.ids, l = t.count, h = 0, f = 0;
            f < l;
            f++
          ) {
            var p = s[f],
              v = p._batchLocation;
            if (v >= 0 && v < n && e[v] === p) {
              o[f] = v;
              continue;
            }
            for (; h < n; ) {
              var _ = e[h];
              if (_ && _._batchEnabled === i && _._batchLocation === h) {
                h++;
                continue;
              }
              (o[f] = h), (p._batchLocation = h), (e[h] = p);
              break;
            }
          }
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })(),
    vp = 0,
    wT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.webGLVersion = 1),
          (this.extensions = {}),
          (this.supports = { uint32Indices: !1 }),
          (this.handleContextLost = this.handleContextLost.bind(this)),
          (this.handleContextRestored = this.handleContextRestored.bind(this)),
          t.view.addEventListener(
            "webglcontextlost",
            this.handleContextLost,
            !1
          ),
          t.view.addEventListener(
            "webglcontextrestored",
            this.handleContextRestored,
            !1
          );
      }
      return (
        Object.defineProperty(r.prototype, "isLost", {
          get: function () {
            return !this.gl || this.gl.isContextLost();
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.contextChange = function (t) {
          (this.gl = t),
            (this.renderer.gl = t),
            (this.renderer.CONTEXT_UID = vp++),
            t.isContextLost() &&
              t.getExtension("WEBGL_lose_context") &&
              t.getExtension("WEBGL_lose_context").restoreContext();
        }),
        (r.prototype.initFromContext = function (t) {
          (this.gl = t),
            this.validateContext(t),
            (this.renderer.gl = t),
            (this.renderer.CONTEXT_UID = vp++),
            this.renderer.runners.contextChange.emit(t);
        }),
        (r.prototype.initFromOptions = function (t) {
          var e = this.createContext(this.renderer.view, t);
          this.initFromContext(e);
        }),
        (r.prototype.createContext = function (t, e) {
          var i;
          if ((Q.PREFER_ENV >= hr.WEBGL2 && (i = t.getContext("webgl2", e)), i))
            this.webGLVersion = 2;
          else if (
            ((this.webGLVersion = 1),
            (i =
              t.getContext("webgl", e) ||
              t.getContext("experimental-webgl", e)),
            !i)
          )
            throw new Error(
              "This browser does not support WebGL. Try using the canvas renderer"
            );
          return (this.gl = i), this.getExtensions(), this.gl;
        }),
        (r.prototype.getExtensions = function () {
          var t = this.gl,
            e = {
              anisotropicFiltering: t.getExtension(
                "EXT_texture_filter_anisotropic"
              ),
              floatTextureLinear: t.getExtension("OES_texture_float_linear"),
              s3tc: t.getExtension("WEBGL_compressed_texture_s3tc"),
              s3tc_sRGB: t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
              etc: t.getExtension("WEBGL_compressed_texture_etc"),
              etc1: t.getExtension("WEBGL_compressed_texture_etc1"),
              pvrtc:
                t.getExtension("WEBGL_compressed_texture_pvrtc") ||
                t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
              atc: t.getExtension("WEBGL_compressed_texture_atc"),
              astc: t.getExtension("WEBGL_compressed_texture_astc"),
            };
          this.webGLVersion === 1
            ? Object.assign(this.extensions, e, {
                drawBuffers: t.getExtension("WEBGL_draw_buffers"),
                depthTexture: t.getExtension("WEBGL_depth_texture"),
                loseContext: t.getExtension("WEBGL_lose_context"),
                vertexArrayObject:
                  t.getExtension("OES_vertex_array_object") ||
                  t.getExtension("MOZ_OES_vertex_array_object") ||
                  t.getExtension("WEBKIT_OES_vertex_array_object"),
                uint32ElementIndex: t.getExtension("OES_element_index_uint"),
                floatTexture: t.getExtension("OES_texture_float"),
                floatTextureLinear: t.getExtension("OES_texture_float_linear"),
                textureHalfFloat: t.getExtension("OES_texture_half_float"),
                textureHalfFloatLinear: t.getExtension(
                  "OES_texture_half_float_linear"
                ),
              })
            : this.webGLVersion === 2 &&
              Object.assign(this.extensions, e, {
                colorBufferFloat: t.getExtension("EXT_color_buffer_float"),
              });
        }),
        (r.prototype.handleContextLost = function (t) {
          t.preventDefault();
        }),
        (r.prototype.handleContextRestored = function () {
          this.renderer.runners.contextChange.emit(this.gl);
        }),
        (r.prototype.destroy = function () {
          var t = this.renderer.view;
          (this.renderer = null),
            t.removeEventListener("webglcontextlost", this.handleContextLost),
            t.removeEventListener(
              "webglcontextrestored",
              this.handleContextRestored
            ),
            this.gl.useProgram(null),
            this.extensions.loseContext &&
              this.extensions.loseContext.loseContext();
        }),
        (r.prototype.postrender = function () {
          this.renderer.renderingToScreen && this.gl.flush();
        }),
        (r.prototype.validateContext = function (t) {
          var e = t.getContextAttributes(),
            i =
              "WebGL2RenderingContext" in globalThis &&
              t instanceof globalThis.WebGL2RenderingContext;
          i && (this.webGLVersion = 2),
            e &&
              !e.stencil &&
              console.warn(
                "Provided WebGL context does not have a stencil buffer, masks may not render correctly"
              );
          var n = i || !!t.getExtension("OES_element_index_uint");
          (this.supports.uint32Indices = n),
            n ||
              console.warn(
                "Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly"
              );
        }),
        r
      );
    })(),
    TT = (function () {
      function r(t) {
        (this.framebuffer = t),
          (this.stencil = null),
          (this.dirtyId = -1),
          (this.dirtyFormat = -1),
          (this.dirtySize = -1),
          (this.multisample = Jt.NONE),
          (this.msaaBuffer = null),
          (this.blitFramebuffer = null),
          (this.mipLevel = 0);
      }
      return r;
    })(),
    ET = new ft(),
    CT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.managedFramebuffers = []),
          (this.unknownFramebuffer = new gl(10, 10)),
          (this.msaaSamples = null);
      }
      return (
        (r.prototype.contextChange = function () {
          var t = (this.gl = this.renderer.gl);
          if (
            ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
            (this.current = this.unknownFramebuffer),
            (this.viewport = new ft()),
            (this.hasMRT = !0),
            (this.writeDepthTexture = !0),
            this.disposeAll(!0),
            this.renderer.context.webGLVersion === 1)
          ) {
            var e = this.renderer.context.extensions.drawBuffers,
              i = this.renderer.context.extensions.depthTexture;
            Q.PREFER_ENV === hr.WEBGL_LEGACY && ((e = null), (i = null)),
              e
                ? (t.drawBuffers = function (n) {
                    return e.drawBuffersWEBGL(n);
                  })
                : ((this.hasMRT = !1), (t.drawBuffers = function () {})),
              i || (this.writeDepthTexture = !1);
          } else
            this.msaaSamples = t.getInternalformatParameter(
              t.RENDERBUFFER,
              t.RGBA8,
              t.SAMPLES
            );
        }),
        (r.prototype.bind = function (t, e, i) {
          i === void 0 && (i = 0);
          var n = this.gl;
          if (t) {
            var s =
              t.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(t);
            this.current !== t &&
              ((this.current = t),
              n.bindFramebuffer(n.FRAMEBUFFER, s.framebuffer)),
              s.mipLevel !== i &&
                (t.dirtyId++, t.dirtyFormat++, (s.mipLevel = i)),
              s.dirtyId !== t.dirtyId &&
                ((s.dirtyId = t.dirtyId),
                s.dirtyFormat !== t.dirtyFormat
                  ? ((s.dirtyFormat = t.dirtyFormat),
                    (s.dirtySize = t.dirtySize),
                    this.updateFramebuffer(t, i))
                  : s.dirtySize !== t.dirtySize &&
                    ((s.dirtySize = t.dirtySize), this.resizeFramebuffer(t)));
            for (var o = 0; o < t.colorTextures.length; o++) {
              var l = t.colorTextures[o];
              this.renderer.texture.unbind(l.parentTextureArray || l);
            }
            if (
              (t.depthTexture && this.renderer.texture.unbind(t.depthTexture),
              e)
            ) {
              var h = e.width >> i,
                f = e.height >> i,
                p = h / e.width;
              this.setViewport(e.x * p, e.y * p, h, f);
            } else {
              var h = t.width >> i,
                f = t.height >> i;
              this.setViewport(0, 0, h, f);
            }
          } else
            this.current &&
              ((this.current = null), n.bindFramebuffer(n.FRAMEBUFFER, null)),
              e
                ? this.setViewport(e.x, e.y, e.width, e.height)
                : this.setViewport(
                    0,
                    0,
                    this.renderer.width,
                    this.renderer.height
                  );
        }),
        (r.prototype.setViewport = function (t, e, i, n) {
          var s = this.viewport;
          (t = Math.round(t)),
            (e = Math.round(e)),
            (i = Math.round(i)),
            (n = Math.round(n)),
            (s.width !== i || s.height !== n || s.x !== t || s.y !== e) &&
              ((s.x = t),
              (s.y = e),
              (s.width = i),
              (s.height = n),
              this.gl.viewport(t, e, i, n));
        }),
        Object.defineProperty(r.prototype, "size", {
          get: function () {
            return this.current
              ? {
                  x: 0,
                  y: 0,
                  width: this.current.width,
                  height: this.current.height,
                }
              : {
                  x: 0,
                  y: 0,
                  width: this.renderer.width,
                  height: this.renderer.height,
                };
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.clear = function (t, e, i, n, s) {
          s === void 0 && (s = eo.COLOR | eo.DEPTH);
          var o = this.gl;
          o.clearColor(t, e, i, n), o.clear(s);
        }),
        (r.prototype.initFramebuffer = function (t) {
          var e = this.gl,
            i = new TT(e.createFramebuffer());
          return (
            (i.multisample = this.detectSamples(t.multisample)),
            (t.glFramebuffers[this.CONTEXT_UID] = i),
            this.managedFramebuffers.push(t),
            t.disposeRunner.add(this),
            i
          );
        }),
        (r.prototype.resizeFramebuffer = function (t) {
          var e = this.gl,
            i = t.glFramebuffers[this.CONTEXT_UID];
          i.msaaBuffer &&
            (e.bindRenderbuffer(e.RENDERBUFFER, i.msaaBuffer),
            e.renderbufferStorageMultisample(
              e.RENDERBUFFER,
              i.multisample,
              e.RGBA8,
              t.width,
              t.height
            )),
            i.stencil &&
              (e.bindRenderbuffer(e.RENDERBUFFER, i.stencil),
              i.msaaBuffer
                ? e.renderbufferStorageMultisample(
                    e.RENDERBUFFER,
                    i.multisample,
                    e.DEPTH24_STENCIL8,
                    t.width,
                    t.height
                  )
                : e.renderbufferStorage(
                    e.RENDERBUFFER,
                    e.DEPTH_STENCIL,
                    t.width,
                    t.height
                  ));
          var n = t.colorTextures,
            s = n.length;
          e.drawBuffers || (s = Math.min(s, 1));
          for (var o = 0; o < s; o++) {
            var l = n[o],
              h = l.parentTextureArray || l;
            this.renderer.texture.bind(h, 0);
          }
          t.depthTexture &&
            this.writeDepthTexture &&
            this.renderer.texture.bind(t.depthTexture, 0);
        }),
        (r.prototype.updateFramebuffer = function (t, e) {
          var i = this.gl,
            n = t.glFramebuffers[this.CONTEXT_UID],
            s = t.colorTextures,
            o = s.length;
          i.drawBuffers || (o = Math.min(o, 1)),
            n.multisample > 1 && this.canMultisampleFramebuffer(t)
              ? ((n.msaaBuffer = n.msaaBuffer || i.createRenderbuffer()),
                i.bindRenderbuffer(i.RENDERBUFFER, n.msaaBuffer),
                i.renderbufferStorageMultisample(
                  i.RENDERBUFFER,
                  n.multisample,
                  i.RGBA8,
                  t.width,
                  t.height
                ),
                i.framebufferRenderbuffer(
                  i.FRAMEBUFFER,
                  i.COLOR_ATTACHMENT0,
                  i.RENDERBUFFER,
                  n.msaaBuffer
                ))
              : n.msaaBuffer &&
                (i.deleteRenderbuffer(n.msaaBuffer),
                (n.msaaBuffer = null),
                n.blitFramebuffer &&
                  (n.blitFramebuffer.dispose(), (n.blitFramebuffer = null)));
          for (var l = [], h = 0; h < o; h++) {
            var f = s[h],
              p = f.parentTextureArray || f;
            this.renderer.texture.bind(p, 0),
              !(h === 0 && n.msaaBuffer) &&
                (i.framebufferTexture2D(
                  i.FRAMEBUFFER,
                  i.COLOR_ATTACHMENT0 + h,
                  f.target,
                  p._glTextures[this.CONTEXT_UID].texture,
                  e
                ),
                l.push(i.COLOR_ATTACHMENT0 + h));
          }
          if ((l.length > 1 && i.drawBuffers(l), t.depthTexture)) {
            var v = this.writeDepthTexture;
            if (v) {
              var _ = t.depthTexture;
              this.renderer.texture.bind(_, 0),
                i.framebufferTexture2D(
                  i.FRAMEBUFFER,
                  i.DEPTH_ATTACHMENT,
                  i.TEXTURE_2D,
                  _._glTextures[this.CONTEXT_UID].texture,
                  e
                );
            }
          }
          (t.stencil || t.depth) && !(t.depthTexture && this.writeDepthTexture)
            ? ((n.stencil = n.stencil || i.createRenderbuffer()),
              i.bindRenderbuffer(i.RENDERBUFFER, n.stencil),
              n.msaaBuffer
                ? i.renderbufferStorageMultisample(
                    i.RENDERBUFFER,
                    n.multisample,
                    i.DEPTH24_STENCIL8,
                    t.width,
                    t.height
                  )
                : i.renderbufferStorage(
                    i.RENDERBUFFER,
                    i.DEPTH_STENCIL,
                    t.width,
                    t.height
                  ),
              i.framebufferRenderbuffer(
                i.FRAMEBUFFER,
                i.DEPTH_STENCIL_ATTACHMENT,
                i.RENDERBUFFER,
                n.stencil
              ))
            : n.stencil &&
              (i.deleteRenderbuffer(n.stencil), (n.stencil = null));
        }),
        (r.prototype.canMultisampleFramebuffer = function (t) {
          return (
            this.renderer.context.webGLVersion !== 1 &&
            t.colorTextures.length <= 1 &&
            !t.depthTexture
          );
        }),
        (r.prototype.detectSamples = function (t) {
          var e = this.msaaSamples,
            i = Jt.NONE;
          if (t <= 1 || e === null) return i;
          for (var n = 0; n < e.length; n++)
            if (e[n] <= t) {
              i = e[n];
              break;
            }
          return i === 1 && (i = Jt.NONE), i;
        }),
        (r.prototype.blit = function (t, e, i) {
          var n = this,
            s = n.current,
            o = n.renderer,
            l = n.gl,
            h = n.CONTEXT_UID;
          if (o.context.webGLVersion === 2 && !!s) {
            var f = s.glFramebuffers[h];
            if (!!f) {
              if (!t) {
                if (!f.msaaBuffer) return;
                var p = s.colorTextures[0];
                if (!p) return;
                f.blitFramebuffer ||
                  ((f.blitFramebuffer = new gl(s.width, s.height)),
                  f.blitFramebuffer.addColorTexture(0, p)),
                  (t = f.blitFramebuffer),
                  t.colorTextures[0] !== p &&
                    ((t.colorTextures[0] = p), t.dirtyId++, t.dirtyFormat++),
                  (t.width !== s.width || t.height !== s.height) &&
                    ((t.width = s.width),
                    (t.height = s.height),
                    t.dirtyId++,
                    t.dirtySize++);
              }
              e || ((e = ET), (e.width = s.width), (e.height = s.height)),
                i || (i = e);
              var v = e.width === i.width && e.height === i.height;
              this.bind(t),
                l.bindFramebuffer(l.READ_FRAMEBUFFER, f.framebuffer),
                l.blitFramebuffer(
                  e.left,
                  e.top,
                  e.right,
                  e.bottom,
                  i.left,
                  i.top,
                  i.right,
                  i.bottom,
                  l.COLOR_BUFFER_BIT,
                  v ? l.NEAREST : l.LINEAR
                );
            }
          }
        }),
        (r.prototype.disposeFramebuffer = function (t, e) {
          var i = t.glFramebuffers[this.CONTEXT_UID],
            n = this.gl;
          if (!!i) {
            delete t.glFramebuffers[this.CONTEXT_UID];
            var s = this.managedFramebuffers.indexOf(t);
            s >= 0 && this.managedFramebuffers.splice(s, 1),
              t.disposeRunner.remove(this),
              e ||
                (n.deleteFramebuffer(i.framebuffer),
                i.msaaBuffer && n.deleteRenderbuffer(i.msaaBuffer),
                i.stencil && n.deleteRenderbuffer(i.stencil)),
              i.blitFramebuffer && i.blitFramebuffer.dispose();
          }
        }),
        (r.prototype.disposeAll = function (t) {
          var e = this.managedFramebuffers;
          this.managedFramebuffers = [];
          for (var i = 0; i < e.length; i++) this.disposeFramebuffer(e[i], t);
        }),
        (r.prototype.forceStencil = function () {
          var t = this.current;
          if (!!t) {
            var e = t.glFramebuffers[this.CONTEXT_UID];
            if (!(!e || e.stencil)) {
              t.stencil = !0;
              var i = t.width,
                n = t.height,
                s = this.gl,
                o = s.createRenderbuffer();
              s.bindRenderbuffer(s.RENDERBUFFER, o),
                e.msaaBuffer
                  ? s.renderbufferStorageMultisample(
                      s.RENDERBUFFER,
                      e.multisample,
                      s.DEPTH24_STENCIL8,
                      i,
                      n
                    )
                  : s.renderbufferStorage(
                      s.RENDERBUFFER,
                      s.DEPTH_STENCIL,
                      i,
                      n
                    ),
                (e.stencil = o),
                s.framebufferRenderbuffer(
                  s.FRAMEBUFFER,
                  s.DEPTH_STENCIL_ATTACHMENT,
                  s.RENDERBUFFER,
                  o
                );
            }
          }
        }),
        (r.prototype.reset = function () {
          (this.current = this.unknownFramebuffer), (this.viewport = new ft());
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })(),
    bl = { 5126: 4, 5123: 2, 5121: 1 },
    PT = (function () {
      function r(t) {
        (this.renderer = t),
          (this._activeGeometry = null),
          (this._activeVao = null),
          (this.hasVao = !0),
          (this.hasInstance = !0),
          (this.canUseUInt32ElementIndex = !1),
          (this.managedGeometries = {});
      }
      return (
        (r.prototype.contextChange = function () {
          this.disposeAll(!0);
          var t = (this.gl = this.renderer.gl),
            e = this.renderer.context;
          if (
            ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
            e.webGLVersion !== 2)
          ) {
            var i = this.renderer.context.extensions.vertexArrayObject;
            Q.PREFER_ENV === hr.WEBGL_LEGACY && (i = null),
              i
                ? ((t.createVertexArray = function () {
                    return i.createVertexArrayOES();
                  }),
                  (t.bindVertexArray = function (s) {
                    return i.bindVertexArrayOES(s);
                  }),
                  (t.deleteVertexArray = function (s) {
                    return i.deleteVertexArrayOES(s);
                  }))
                : ((this.hasVao = !1),
                  (t.createVertexArray = function () {
                    return null;
                  }),
                  (t.bindVertexArray = function () {
                    return null;
                  }),
                  (t.deleteVertexArray = function () {
                    return null;
                  }));
          }
          if (e.webGLVersion !== 2) {
            var n = t.getExtension("ANGLE_instanced_arrays");
            n
              ? ((t.vertexAttribDivisor = function (s, o) {
                  return n.vertexAttribDivisorANGLE(s, o);
                }),
                (t.drawElementsInstanced = function (s, o, l, h, f) {
                  return n.drawElementsInstancedANGLE(s, o, l, h, f);
                }),
                (t.drawArraysInstanced = function (s, o, l, h) {
                  return n.drawArraysInstancedANGLE(s, o, l, h);
                }))
              : (this.hasInstance = !1);
          }
          this.canUseUInt32ElementIndex =
            e.webGLVersion === 2 || !!e.extensions.uint32ElementIndex;
        }),
        (r.prototype.bind = function (t, e) {
          e = e || this.renderer.shader.shader;
          var i = this.gl,
            n = t.glVertexArrayObjects[this.CONTEXT_UID],
            s = !1;
          n ||
            ((this.managedGeometries[t.id] = t),
            t.disposeRunner.add(this),
            (t.glVertexArrayObjects[this.CONTEXT_UID] = n = {}),
            (s = !0));
          var o = n[e.program.id] || this.initGeometryVao(t, e, s);
          (this._activeGeometry = t),
            this._activeVao !== o &&
              ((this._activeVao = o),
              this.hasVao
                ? i.bindVertexArray(o)
                : this.activateVao(t, e.program)),
            this.updateBuffers();
        }),
        (r.prototype.reset = function () {
          this.unbind();
        }),
        (r.prototype.updateBuffers = function () {
          for (
            var t = this._activeGeometry, e = this.renderer.buffer, i = 0;
            i < t.buffers.length;
            i++
          ) {
            var n = t.buffers[i];
            e.update(n);
          }
        }),
        (r.prototype.checkCompatibility = function (t, e) {
          var i = t.attributes,
            n = e.attributeData;
          for (var s in n)
            if (!i[s])
              throw new Error(
                'shader and geometry incompatible, geometry missing the "' +
                  s +
                  '" attribute'
              );
        }),
        (r.prototype.getSignature = function (t, e) {
          var i = t.attributes,
            n = e.attributeData,
            s = ["g", t.id];
          for (var o in i) n[o] && s.push(o, n[o].location);
          return s.join("-");
        }),
        (r.prototype.initGeometryVao = function (t, e, i) {
          i === void 0 && (i = !0);
          var n = this.gl,
            s = this.CONTEXT_UID,
            o = this.renderer.buffer,
            l = e.program;
          l.glPrograms[s] || this.renderer.shader.generateProgram(e),
            this.checkCompatibility(t, l);
          var h = this.getSignature(t, l),
            f = t.glVertexArrayObjects[this.CONTEXT_UID],
            p = f[h];
          if (p) return (f[l.id] = p), p;
          var v = t.buffers,
            _ = t.attributes,
            m = {},
            g = {};
          for (var y in v) (m[y] = 0), (g[y] = 0);
          for (var y in _)
            !_[y].size && l.attributeData[y]
              ? (_[y].size = l.attributeData[y].size)
              : _[y].size ||
                console.warn(
                  "PIXI Geometry attribute '" +
                    y +
                    "' size cannot be determined (likely the bound shader does not have the attribute)"
                ),
              (m[_[y].buffer] += _[y].size * bl[_[y].type]);
          for (var y in _) {
            var b = _[y],
              w = b.size;
            b.stride === void 0 &&
              (m[b.buffer] === w * bl[b.type]
                ? (b.stride = 0)
                : (b.stride = m[b.buffer])),
              b.start === void 0 &&
                ((b.start = g[b.buffer]), (g[b.buffer] += w * bl[b.type]));
          }
          (p = n.createVertexArray()), n.bindVertexArray(p);
          for (var C = 0; C < v.length; C++) {
            var T = v[C];
            o.bind(T), i && T._glBuffers[s].refCount++;
          }
          return (
            this.activateVao(t, l),
            (this._activeVao = p),
            (f[l.id] = p),
            (f[h] = p),
            p
          );
        }),
        (r.prototype.disposeGeometry = function (t, e) {
          var i;
          if (!!this.managedGeometries[t.id]) {
            delete this.managedGeometries[t.id];
            var n = t.glVertexArrayObjects[this.CONTEXT_UID],
              s = this.gl,
              o = t.buffers,
              l =
                (i = this.renderer) === null || i === void 0
                  ? void 0
                  : i.buffer;
            if ((t.disposeRunner.remove(this), !!n)) {
              if (l)
                for (var h = 0; h < o.length; h++) {
                  var f = o[h]._glBuffers[this.CONTEXT_UID];
                  f &&
                    (f.refCount--,
                    f.refCount === 0 && !e && l.dispose(o[h], e));
                }
              if (!e) {
                for (var p in n)
                  if (p[0] === "g") {
                    var v = n[p];
                    this._activeVao === v && this.unbind(),
                      s.deleteVertexArray(v);
                  }
              }
              delete t.glVertexArrayObjects[this.CONTEXT_UID];
            }
          }
        }),
        (r.prototype.disposeAll = function (t) {
          for (
            var e = Object.keys(this.managedGeometries), i = 0;
            i < e.length;
            i++
          )
            this.disposeGeometry(this.managedGeometries[e[i]], t);
        }),
        (r.prototype.activateVao = function (t, e) {
          var i = this.gl,
            n = this.CONTEXT_UID,
            s = this.renderer.buffer,
            o = t.buffers,
            l = t.attributes;
          t.indexBuffer && s.bind(t.indexBuffer);
          var h = null;
          for (var f in l) {
            var p = l[f],
              v = o[p.buffer],
              _ = v._glBuffers[n];
            if (e.attributeData[f]) {
              h !== _ && (s.bind(v), (h = _));
              var m = e.attributeData[f].location;
              if (
                (i.enableVertexAttribArray(m),
                i.vertexAttribPointer(
                  m,
                  p.size,
                  p.type || i.FLOAT,
                  p.normalized,
                  p.stride,
                  p.start
                ),
                p.instance)
              )
                if (this.hasInstance) i.vertexAttribDivisor(m, 1);
                else
                  throw new Error(
                    "geometry error, GPU Instancing is not supported on this device"
                  );
            }
          }
        }),
        (r.prototype.draw = function (t, e, i, n) {
          var s = this.gl,
            o = this._activeGeometry;
          if (o.indexBuffer) {
            var l = o.indexBuffer.data.BYTES_PER_ELEMENT,
              h = l === 2 ? s.UNSIGNED_SHORT : s.UNSIGNED_INT;
            l === 2 || (l === 4 && this.canUseUInt32ElementIndex)
              ? o.instanced
                ? s.drawElementsInstanced(
                    t,
                    e || o.indexBuffer.data.length,
                    h,
                    (i || 0) * l,
                    n || 1
                  )
                : s.drawElements(
                    t,
                    e || o.indexBuffer.data.length,
                    h,
                    (i || 0) * l
                  )
              : console.warn("unsupported index buffer type: uint32");
          } else
            o.instanced
              ? s.drawArraysInstanced(t, i, e || o.getSize(), n || 1)
              : s.drawArrays(t, i, e || o.getSize());
          return this;
        }),
        (r.prototype.unbind = function () {
          this.gl.bindVertexArray(null),
            (this._activeVao = null),
            (this._activeGeometry = null);
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })(),
    IT = (function () {
      function r(t) {
        t === void 0 && (t = null),
          (this.type = ue.NONE),
          (this.autoDetect = !0),
          (this.maskObject = t || null),
          (this.pooled = !1),
          (this.isMaskData = !0),
          (this.resolution = null),
          (this.multisample = Q.FILTER_MULTISAMPLE),
          (this.enabled = !0),
          (this._filters = null),
          (this._stencilCounter = 0),
          (this._scissorCounter = 0),
          (this._scissorRect = null),
          (this._scissorRectLocal = null),
          (this._target = null);
      }
      return (
        Object.defineProperty(r.prototype, "filter", {
          get: function () {
            return this._filters ? this._filters[0] : null;
          },
          set: function (t) {
            t
              ? this._filters
                ? (this._filters[0] = t)
                : (this._filters = [t])
              : (this._filters = null);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.reset = function () {
          this.pooled &&
            ((this.maskObject = null),
            (this.type = ue.NONE),
            (this.autoDetect = !0)),
            (this._target = null),
            (this._scissorRectLocal = null);
        }),
        (r.prototype.copyCountersOrReset = function (t) {
          t
            ? ((this._stencilCounter = t._stencilCounter),
              (this._scissorCounter = t._scissorCounter),
              (this._scissorRect = t._scissorRect))
            : ((this._stencilCounter = 0),
              (this._scissorCounter = 0),
              (this._scissorRect = null));
        }),
        r
      );
    })();
  function _p(r, t, e) {
    var i = r.createShader(t);
    return r.shaderSource(i, e), r.compileShader(i), i;
  }
  function mp(r, t) {
    var e = r
        .getShaderSource(t)
        .split(
          `
`
        )
        .map(function (f, p) {
          return p + ": " + f;
        }),
      i = r.getShaderInfoLog(t),
      n = i.split(`
`),
      s = {},
      o = n
        .map(function (f) {
          return parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"));
        })
        .filter(function (f) {
          return f && !s[f] ? ((s[f] = !0), !0) : !1;
        }),
      l = [""];
    o.forEach(function (f) {
      (e[f - 1] = "%c" + e[f - 1] + "%c"),
        l.push(
          "background: #FF0000; color:#FFFFFF; font-size: 10px",
          "font-size: 10px"
        );
    });
    var h = e.join(`
`);
    (l[0] = h),
      console.error(i),
      console.groupCollapsed("click to view full shader code"),
      console.warn.apply(console, l),
      console.groupEnd();
  }
  function RT(r, t, e, i) {
    r.getProgramParameter(t, r.LINK_STATUS) ||
      (r.getShaderParameter(e, r.COMPILE_STATUS) || mp(r, e),
      r.getShaderParameter(i, r.COMPILE_STATUS) || mp(r, i),
      console.error("PixiJS Error: Could not initialize shader."),
      r.getProgramInfoLog(t) !== "" &&
        console.warn(
          "PixiJS Warning: gl.getProgramInfoLog()",
          r.getProgramInfoLog(t)
        ));
  }
  function xl(r) {
    for (var t = new Array(r), e = 0; e < t.length; e++) t[e] = !1;
    return t;
  }
  function gp(r, t) {
    switch (r) {
      case "float":
        return 0;
      case "vec2":
        return new Float32Array(2 * t);
      case "vec3":
        return new Float32Array(3 * t);
      case "vec4":
        return new Float32Array(4 * t);
      case "int":
      case "uint":
      case "sampler2D":
      case "sampler2DArray":
        return 0;
      case "ivec2":
        return new Int32Array(2 * t);
      case "ivec3":
        return new Int32Array(3 * t);
      case "ivec4":
        return new Int32Array(4 * t);
      case "uvec2":
        return new Uint32Array(2 * t);
      case "uvec3":
        return new Uint32Array(3 * t);
      case "uvec4":
        return new Uint32Array(4 * t);
      case "bool":
        return !1;
      case "bvec2":
        return xl(2 * t);
      case "bvec3":
        return xl(3 * t);
      case "bvec4":
        return xl(4 * t);
      case "mat2":
        return new Float32Array([1, 0, 0, 1]);
      case "mat3":
        return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
      case "mat4":
        return new Float32Array([
          1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,
        ]);
    }
    return null;
  }
  var yp = {},
    Jn = yp;
  function AT() {
    if (Jn === yp || (Jn && Jn.isContextLost())) {
      var r = document.createElement("canvas"),
        t = void 0;
      Q.PREFER_ENV >= hr.WEBGL2 && (t = r.getContext("webgl2", {})),
        t ||
          ((t =
            r.getContext("webgl", {}) ||
            r.getContext("experimental-webgl", {})),
          t ? t.getExtension("WEBGL_draw_buffers") : (t = null)),
        (Jn = t);
    }
    return Jn;
  }
  var mo;
  function NT() {
    if (!mo) {
      mo = tr.MEDIUM;
      var r = AT();
      if (r && r.getShaderPrecisionFormat) {
        var t = r.getShaderPrecisionFormat(r.FRAGMENT_SHADER, r.HIGH_FLOAT);
        mo = t.precision ? tr.HIGH : tr.MEDIUM;
      }
    }
    return mo;
  }
  function bp(r, t, e) {
    if (r.substring(0, 9) !== "precision") {
      var i = t;
      return (
        t === tr.HIGH && e !== tr.HIGH && (i = tr.MEDIUM),
        "precision " +
          i +
          ` float;
` +
          r
      );
    } else if (e !== tr.HIGH && r.substring(0, 15) === "precision highp") return r.replace("precision highp", "precision mediump");
    return r;
  }
  var ST = {
    float: 1,
    vec2: 2,
    vec3: 3,
    vec4: 4,
    int: 1,
    ivec2: 2,
    ivec3: 3,
    ivec4: 4,
    uint: 1,
    uvec2: 2,
    uvec3: 3,
    uvec4: 4,
    bool: 1,
    bvec2: 2,
    bvec3: 3,
    bvec4: 4,
    mat2: 4,
    mat3: 9,
    mat4: 16,
    sampler2D: 1,
  };
  function xp(r) {
    return ST[r];
  }
  var go = null,
    wp = {
      FLOAT: "float",
      FLOAT_VEC2: "vec2",
      FLOAT_VEC3: "vec3",
      FLOAT_VEC4: "vec4",
      INT: "int",
      INT_VEC2: "ivec2",
      INT_VEC3: "ivec3",
      INT_VEC4: "ivec4",
      UNSIGNED_INT: "uint",
      UNSIGNED_INT_VEC2: "uvec2",
      UNSIGNED_INT_VEC3: "uvec3",
      UNSIGNED_INT_VEC4: "uvec4",
      BOOL: "bool",
      BOOL_VEC2: "bvec2",
      BOOL_VEC3: "bvec3",
      BOOL_VEC4: "bvec4",
      FLOAT_MAT2: "mat2",
      FLOAT_MAT3: "mat3",
      FLOAT_MAT4: "mat4",
      SAMPLER_2D: "sampler2D",
      INT_SAMPLER_2D: "sampler2D",
      UNSIGNED_INT_SAMPLER_2D: "sampler2D",
      SAMPLER_CUBE: "samplerCube",
      INT_SAMPLER_CUBE: "samplerCube",
      UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
      SAMPLER_2D_ARRAY: "sampler2DArray",
      INT_SAMPLER_2D_ARRAY: "sampler2DArray",
      UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray",
    };
  function Tp(r, t) {
    if (!go) {
      var e = Object.keys(wp);
      go = {};
      for (var i = 0; i < e.length; ++i) {
        var n = e[i];
        go[r[n]] = wp[n];
      }
    }
    return go[t];
  }
  var Wi = [
      {
        test: function (r) {
          return r.type === "float" && r.size === 1;
        },
        code: function (r) {
          return (
            `
            if(uv["` +
            r +
            '"] !== ud["' +
            r +
            `"].value)
            {
                ud["` +
            r +
            '"].value = uv["' +
            r +
            `"]
                gl.uniform1f(ud["` +
            r +
            '"].location, uv["' +
            r +
            `"])
            }
            `
          );
        },
      },
      {
        test: function (r) {
          return (
            (r.type === "sampler2D" ||
              r.type === "samplerCube" ||
              r.type === "sampler2DArray") &&
            r.size === 1 &&
            !r.isArray
          );
        },
        code: function (r) {
          return (
            `t = syncData.textureCount++;

            renderer.texture.bind(uv["` +
            r +
            `"], t);

            if(ud["` +
            r +
            `"].value !== t)
            {
                ud["` +
            r +
            `"].value = t;
                gl.uniform1i(ud["` +
            r +
            `"].location, t);
; // eslint-disable-line max-len
            }`
          );
        },
      },
      {
        test: function (r, t) {
          return r.type === "mat3" && r.size === 1 && t.a !== void 0;
        },
        code: function (r) {
          return (
            `
            gl.uniformMatrix3fv(ud["` +
            r +
            '"].location, false, uv["' +
            r +
            `"].toArray(true));
            `
          );
        },
        codeUbo: function (r) {
          return (
            `
                var ` +
            r +
            "_matrix = uv." +
            r +
            `.toArray(true);

                data[offset] = ` +
            r +
            `_matrix[0];
                data[offset+1] = ` +
            r +
            `_matrix[1];
                data[offset+2] = ` +
            r +
            `_matrix[2];
        
                data[offset + 4] = ` +
            r +
            `_matrix[3];
                data[offset + 5] = ` +
            r +
            `_matrix[4];
                data[offset + 6] = ` +
            r +
            `_matrix[5];
        
                data[offset + 8] = ` +
            r +
            `_matrix[6];
                data[offset + 9] = ` +
            r +
            `_matrix[7];
                data[offset + 10] = ` +
            r +
            `_matrix[8];
            `
          );
        },
      },
      {
        test: function (r, t) {
          return r.type === "vec2" && r.size === 1 && t.x !== void 0;
        },
        code: function (r) {
          return (
            `
                cv = ud["` +
            r +
            `"].value;
                v = uv["` +
            r +
            `"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["` +
            r +
            `"].location, v.x, v.y);
                }`
          );
        },
        codeUbo: function (r) {
          return (
            `
                v = uv.` +
            r +
            `;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `
          );
        },
      },
      {
        test: function (r) {
          return r.type === "vec2" && r.size === 1;
        },
        code: function (r) {
          return (
            `
                cv = ud["` +
            r +
            `"].value;
                v = uv["` +
            r +
            `"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["` +
            r +
            `"].location, v[0], v[1]);
                }
            `
          );
        },
      },
      {
        test: function (r, t) {
          return r.type === "vec4" && r.size === 1 && t.width !== void 0;
        },
        code: function (r) {
          return (
            `
                cv = ud["` +
            r +
            `"].value;
                v = uv["` +
            r +
            `"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["` +
            r +
            `"].location, v.x, v.y, v.width, v.height)
                }`
          );
        },
        codeUbo: function (r) {
          return (
            `
                    v = uv.` +
            r +
            `;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `
          );
        },
      },
      {
        test: function (r) {
          return r.type === "vec4" && r.size === 1;
        },
        code: function (r) {
          return (
            `
                cv = ud["` +
            r +
            `"].value;
                v = uv["` +
            r +
            `"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["` +
            r +
            `"].location, v[0], v[1], v[2], v[3])
                }`
          );
        },
      },
    ],
    OT = {
      float: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,
      vec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,
      vec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,
      vec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,
      int: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
      ivec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
      ivec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
      ivec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
      uint: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,
      uvec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,
      uvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,
      uvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,
      bool: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,
      bvec2: `
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
      bvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
      bvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
      mat2: "gl.uniformMatrix2fv(location, false, v)",
      mat3: "gl.uniformMatrix3fv(location, false, v)",
      mat4: "gl.uniformMatrix4fv(location, false, v)",
      sampler2D: "gl.uniform1i(location, v)",
      samplerCube: "gl.uniform1i(location, v)",
      sampler2DArray: "gl.uniform1i(location, v)",
    },
    UT = {
      float: "gl.uniform1fv(location, v)",
      vec2: "gl.uniform2fv(location, v)",
      vec3: "gl.uniform3fv(location, v)",
      vec4: "gl.uniform4fv(location, v)",
      mat4: "gl.uniformMatrix4fv(location, false, v)",
      mat3: "gl.uniformMatrix3fv(location, false, v)",
      mat2: "gl.uniformMatrix2fv(location, false, v)",
      int: "gl.uniform1iv(location, v)",
      ivec2: "gl.uniform2iv(location, v)",
      ivec3: "gl.uniform3iv(location, v)",
      ivec4: "gl.uniform4iv(location, v)",
      uint: "gl.uniform1uiv(location, v)",
      uvec2: "gl.uniform2uiv(location, v)",
      uvec3: "gl.uniform3uiv(location, v)",
      uvec4: "gl.uniform4uiv(location, v)",
      bool: "gl.uniform1iv(location, v)",
      bvec2: "gl.uniform2iv(location, v)",
      bvec3: "gl.uniform3iv(location, v)",
      bvec4: "gl.uniform4iv(location, v)",
      sampler2D: "gl.uniform1iv(location, v)",
      samplerCube: "gl.uniform1iv(location, v)",
      sampler2DArray: "gl.uniform1iv(location, v)",
    };
  function LT(r, t) {
    var e,
      i = [
        `
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `,
      ];
    for (var n in r.uniforms) {
      var s = t[n];
      if (!s) {
        !((e = r.uniforms[n]) === null || e === void 0) &&
          e.group &&
          (r.uniforms[n].ubo
            ? i.push(
                `
                        renderer.shader.syncUniformBufferGroup(uv.` +
                  n +
                  ", '" +
                  n +
                  `');
                    `
              )
            : i.push(
                `
                        renderer.shader.syncUniformGroup(uv.` +
                  n +
                  `, syncData);
                    `
              ));
        continue;
      }
      for (var o = r.uniforms[n], l = !1, h = 0; h < Wi.length; h++)
        if (Wi[h].test(s, o)) {
          i.push(Wi[h].code(n, o)), (l = !0);
          break;
        }
      if (!l) {
        var f = s.size === 1 ? OT : UT,
          p = f[s.type].replace("location", 'ud["' + n + '"].location');
        i.push(
          `
            cu = ud["` +
            n +
            `"];
            cv = cu.value;
            v = uv["` +
            n +
            `"];
            ` +
            p +
            ";"
        );
      }
    }
    return new Function(
      "ud",
      "uv",
      "renderer",
      "syncData",
      i.join(`
`)
    );
  }
  var FT = [
    "precision mediump float;",
    "void main(void){",
    "float test = 0.1;",
    "%forloop%",
    "gl_FragColor = vec4(0.0);",
    "}",
  ].join(`
`);
  function kT(r) {
    for (var t = "", e = 0; e < r; ++e)
      e > 0 &&
        (t += `
else `),
        e < r - 1 && (t += "if(test == " + e + ".0){}");
    return t;
  }
  function BT(r, t) {
    if (r === 0)
      throw new Error(
        "Invalid value of `0` passed to `checkMaxIfStatementsInShader`"
      );
    for (var e = t.createShader(t.FRAGMENT_SHADER); ; ) {
      var i = FT.replace(/%forloop%/gi, kT(r));
      if (
        (t.shaderSource(e, i),
        t.compileShader(e),
        !t.getShaderParameter(e, t.COMPILE_STATUS))
      )
        r = (r / 2) | 0;
      else break;
    }
    return r;
  }
  var Qn;
  function GT() {
    if (typeof Qn == "boolean") return Qn;
    try {
      var r = new Function(
        "param1",
        "param2",
        "param3",
        "return param1[param2] === param3;"
      );
      Qn = r({ a: "b" }, "a", "b") === !0;
    } catch {
      Qn = !1;
    }
    return Qn;
  }
  var MT = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,
    DT = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,
    VT = 0,
    yo = {},
    ts = (function () {
      function r(t, e, i) {
        i === void 0 && (i = "pixi-shader"),
          (this.id = VT++),
          (this.vertexSrc = t || r.defaultVertexSrc),
          (this.fragmentSrc = e || r.defaultFragmentSrc),
          (this.vertexSrc = this.vertexSrc.trim()),
          (this.fragmentSrc = this.fragmentSrc.trim()),
          this.vertexSrc.substring(0, 8) !== "#version" &&
            ((i = i.replace(/\s+/g, "-")),
            yo[i] ? (yo[i]++, (i += "-" + yo[i])) : (yo[i] = 1),
            (this.vertexSrc =
              "#define SHADER_NAME " +
              i +
              `
` +
              this.vertexSrc),
            (this.fragmentSrc =
              "#define SHADER_NAME " +
              i +
              `
` +
              this.fragmentSrc),
            (this.vertexSrc = bp(this.vertexSrc, Q.PRECISION_VERTEX, tr.HIGH)),
            (this.fragmentSrc = bp(
              this.fragmentSrc,
              Q.PRECISION_FRAGMENT,
              NT()
            ))),
          (this.glPrograms = {}),
          (this.syncUniforms = null);
      }
      return (
        Object.defineProperty(r, "defaultVertexSrc", {
          get: function () {
            return DT;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "defaultFragmentSrc", {
          get: function () {
            return MT;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.from = function (t, e, i) {
          var n = t + e,
            s = Of[n];
          return s || (Of[n] = s = new r(t, e, i)), s;
        }),
        r
      );
    })(),
    dr = (function () {
      function r(t, e) {
        (this.uniformBindCount = 0),
          (this.program = t),
          e
            ? e instanceof di
              ? (this.uniformGroup = e)
              : (this.uniformGroup = new di(e))
            : (this.uniformGroup = new di({}));
      }
      return (
        (r.prototype.checkUniformExists = function (t, e) {
          if (e.uniforms[t]) return !0;
          for (var i in e.uniforms) {
            var n = e.uniforms[i];
            if (n.group && this.checkUniformExists(t, n)) return !0;
          }
          return !1;
        }),
        (r.prototype.destroy = function () {
          this.uniformGroup = null;
        }),
        Object.defineProperty(r.prototype, "uniforms", {
          get: function () {
            return this.uniformGroup.uniforms;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.from = function (t, e, i) {
          var n = ts.from(t, e);
          return new r(n, i);
        }),
        r
      );
    })(),
    wl = 0,
    Tl = 1,
    El = 2,
    Cl = 3,
    Pl = 4,
    Il = 5,
    vi = (function () {
      function r() {
        (this.data = 0),
          (this.blendMode = it.NORMAL),
          (this.polygonOffset = 0),
          (this.blend = !0),
          (this.depthMask = !0);
      }
      return (
        Object.defineProperty(r.prototype, "blend", {
          get: function () {
            return !!(this.data & (1 << wl));
          },
          set: function (t) {
            !!(this.data & (1 << wl)) !== t && (this.data ^= 1 << wl);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "offsets", {
          get: function () {
            return !!(this.data & (1 << Tl));
          },
          set: function (t) {
            !!(this.data & (1 << Tl)) !== t && (this.data ^= 1 << Tl);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "culling", {
          get: function () {
            return !!(this.data & (1 << El));
          },
          set: function (t) {
            !!(this.data & (1 << El)) !== t && (this.data ^= 1 << El);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "depthTest", {
          get: function () {
            return !!(this.data & (1 << Cl));
          },
          set: function (t) {
            !!(this.data & (1 << Cl)) !== t && (this.data ^= 1 << Cl);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "depthMask", {
          get: function () {
            return !!(this.data & (1 << Il));
          },
          set: function (t) {
            !!(this.data & (1 << Il)) !== t && (this.data ^= 1 << Il);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "clockwiseFrontFace", {
          get: function () {
            return !!(this.data & (1 << Pl));
          },
          set: function (t) {
            !!(this.data & (1 << Pl)) !== t && (this.data ^= 1 << Pl);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "blendMode", {
          get: function () {
            return this._blendMode;
          },
          set: function (t) {
            (this.blend = t !== it.NONE), (this._blendMode = t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "polygonOffset", {
          get: function () {
            return this._polygonOffset;
          },
          set: function (t) {
            (this.offsets = !!t), (this._polygonOffset = t);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.toString = function () {
          return (
            "[@pixi/core:State " +
            ("blendMode=" + this.blendMode + " ") +
            ("clockwiseFrontFace=" + this.clockwiseFrontFace + " ") +
            ("culling=" + this.culling + " ") +
            ("depthMask=" + this.depthMask + " ") +
            ("polygonOffset=" + this.polygonOffset) +
            "]"
          );
        }),
        (r.for2d = function () {
          var t = new r();
          return (t.depthTest = !1), (t.blend = !0), t;
        }),
        r
      );
    })(),
    HT = `attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,
    XT = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,
    Ur = (function (r) {
      Lt(t, r);
      function t(e, i, n) {
        var s = this,
          o = ts.from(e || t.defaultVertexSrc, i || t.defaultFragmentSrc);
        return (
          (s = r.call(this, o, n) || this),
          (s.padding = 0),
          (s.resolution = Q.FILTER_RESOLUTION),
          (s.multisample = Q.FILTER_MULTISAMPLE),
          (s.enabled = !0),
          (s.autoFit = !0),
          (s.state = new vi()),
          s
        );
      }
      return (
        (t.prototype.apply = function (e, i, n, s, o) {
          e.applyFilter(this, i, n, s);
        }),
        Object.defineProperty(t.prototype, "blendMode", {
          get: function () {
            return this.state.blendMode;
          },
          set: function (e) {
            this.state.blendMode = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "resolution", {
          get: function () {
            return this._resolution;
          },
          set: function (e) {
            this._resolution = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t, "defaultVertexSrc", {
          get: function () {
            return HT;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t, "defaultFragmentSrc", {
          get: function () {
            return XT;
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(dr),
    $T = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,
    jT = `varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,
    Ep = new Yt(),
    Rl = (function () {
      function r(t, e) {
        (this._texture = t),
          (this.mapCoord = new Yt()),
          (this.uClampFrame = new Float32Array(4)),
          (this.uClampOffset = new Float32Array(2)),
          (this._textureID = -1),
          (this._updateID = 0),
          (this.clampOffset = 0),
          (this.clampMargin = typeof e == "undefined" ? 0.5 : e),
          (this.isSimple = !1);
      }
      return (
        Object.defineProperty(r.prototype, "texture", {
          get: function () {
            return this._texture;
          },
          set: function (t) {
            (this._texture = t), (this._textureID = -1);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.multiplyUvs = function (t, e) {
          e === void 0 && (e = t);
          for (var i = this.mapCoord, n = 0; n < t.length; n += 2) {
            var s = t[n],
              o = t[n + 1];
            (e[n] = s * i.a + o * i.c + i.tx),
              (e[n + 1] = s * i.b + o * i.d + i.ty);
          }
          return e;
        }),
        (r.prototype.update = function (t) {
          var e = this._texture;
          if (!e || !e.valid || (!t && this._textureID === e._updateID))
            return !1;
          (this._textureID = e._updateID), this._updateID++;
          var i = e._uvs;
          this.mapCoord.set(
            i.x1 - i.x0,
            i.y1 - i.y0,
            i.x3 - i.x0,
            i.y3 - i.y0,
            i.x0,
            i.y0
          );
          var n = e.orig,
            s = e.trim;
          s &&
            (Ep.set(
              n.width / s.width,
              0,
              0,
              n.height / s.height,
              -s.x / s.width,
              -s.y / s.height
            ),
            this.mapCoord.append(Ep));
          var o = e.baseTexture,
            l = this.uClampFrame,
            h = this.clampMargin / o.resolution,
            f = this.clampOffset;
          return (
            (l[0] = (e._frame.x + h + f) / o.width),
            (l[1] = (e._frame.y + h + f) / o.height),
            (l[2] = (e._frame.x + e._frame.width - h + f) / o.width),
            (l[3] = (e._frame.y + e._frame.height - h + f) / o.height),
            (this.uClampOffset[0] = f / o.realWidth),
            (this.uClampOffset[1] = f / o.realHeight),
            (this.isSimple =
              e._frame.width === o.width &&
              e._frame.height === o.height &&
              e.rotate === 0),
            !0
          );
        }),
        r
      );
    })(),
    zT = (function (r) {
      Lt(t, r);
      function t(e, i, n) {
        var s = this,
          o = null;
        return (
          typeof e != "string" &&
            i === void 0 &&
            n === void 0 &&
            ((o = e), (e = void 0), (i = void 0), (n = void 0)),
          (s = r.call(this, e || $T, i || jT, n) || this),
          (s.maskSprite = o),
          (s.maskMatrix = new Yt()),
          s
        );
      }
      return (
        Object.defineProperty(t.prototype, "maskSprite", {
          get: function () {
            return this._maskSprite;
          },
          set: function (e) {
            (this._maskSprite = e),
              this._maskSprite && (this._maskSprite.renderable = !1);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.apply = function (e, i, n, s) {
          var o = this._maskSprite,
            l = o._texture;
          !l.valid ||
            (l.uvMatrix || (l.uvMatrix = new Rl(l, 0)),
            l.uvMatrix.update(),
            (this.uniforms.npmAlpha = l.baseTexture.alphaMode ? 0 : 1),
            (this.uniforms.mask = l),
            (this.uniforms.otherMatrix = e
              .calculateSpriteMatrix(this.maskMatrix, o)
              .prepend(l.uvMatrix.mapCoord)),
            (this.uniforms.alpha = o.worldAlpha),
            (this.uniforms.maskClamp = l.uvMatrix.uClampFrame),
            e.applyFilter(this, i, n, s));
        }),
        t
      );
    })(Ur),
    WT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.enableScissor = !0),
          (this.alphaMaskPool = []),
          (this.maskDataPool = []),
          (this.maskStack = []),
          (this.alphaMaskIndex = 0);
      }
      return (
        (r.prototype.setMaskStack = function (t) {
          (this.maskStack = t),
            this.renderer.scissor.setMaskStack(t),
            this.renderer.stencil.setMaskStack(t);
        }),
        (r.prototype.push = function (t, e) {
          var i = e;
          if (!i.isMaskData) {
            var n = this.maskDataPool.pop() || new IT();
            (n.pooled = !0), (n.maskObject = e), (i = n);
          }
          var s =
            this.maskStack.length !== 0
              ? this.maskStack[this.maskStack.length - 1]
              : null;
          if (
            (i.copyCountersOrReset(s),
            i.autoDetect && this.detect(i),
            (i._target = t),
            i.type !== ue.SPRITE && this.maskStack.push(i),
            i.enabled)
          )
            switch (i.type) {
              case ue.SCISSOR:
                this.renderer.scissor.push(i);
                break;
              case ue.STENCIL:
                this.renderer.stencil.push(i);
                break;
              case ue.SPRITE:
                i.copyCountersOrReset(null), this.pushSpriteMask(i);
                break;
            }
          i.type === ue.SPRITE && this.maskStack.push(i);
        }),
        (r.prototype.pop = function (t) {
          var e = this.maskStack.pop();
          if (!(!e || e._target !== t)) {
            if (e.enabled)
              switch (e.type) {
                case ue.SCISSOR:
                  this.renderer.scissor.pop();
                  break;
                case ue.STENCIL:
                  this.renderer.stencil.pop(e.maskObject);
                  break;
                case ue.SPRITE:
                  this.popSpriteMask(e);
                  break;
              }
            if (
              (e.reset(),
              e.pooled && this.maskDataPool.push(e),
              this.maskStack.length !== 0)
            ) {
              var i = this.maskStack[this.maskStack.length - 1];
              i.type === ue.SPRITE &&
                i._filters &&
                (i._filters[0].maskSprite = i.maskObject);
            }
          }
        }),
        (r.prototype.detect = function (t) {
          var e = t.maskObject;
          e.isSprite
            ? (t.type = ue.SPRITE)
            : this.enableScissor && this.renderer.scissor.testScissor(t)
            ? (t.type = ue.SCISSOR)
            : (t.type = ue.STENCIL);
        }),
        (r.prototype.pushSpriteMask = function (t) {
          var e,
            i,
            n = t.maskObject,
            s = t._target,
            o = t._filters;
          o ||
            ((o = this.alphaMaskPool[this.alphaMaskIndex]),
            o || (o = this.alphaMaskPool[this.alphaMaskIndex] = [new zT()]));
          var l = this.renderer,
            h = l.renderTexture,
            f,
            p;
          if (h.current) {
            var v = h.current;
            (f = t.resolution || v.resolution),
              (p =
                (e = t.multisample) !== null && e !== void 0
                  ? e
                  : v.multisample);
          } else
            (f = t.resolution || l.resolution),
              (p =
                (i = t.multisample) !== null && i !== void 0
                  ? i
                  : l.multisample);
          (o[0].resolution = f), (o[0].multisample = p), (o[0].maskSprite = n);
          var _ = s.filterArea;
          (s.filterArea = n.getBounds(!0)),
            l.filter.push(s, o),
            (s.filterArea = _),
            t._filters || this.alphaMaskIndex++;
        }),
        (r.prototype.popSpriteMask = function (t) {
          this.renderer.filter.pop(),
            t._filters
              ? (t._filters[0].maskSprite = null)
              : (this.alphaMaskIndex--,
                (this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null));
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })(),
    Cp = (function () {
      function r(t) {
        (this.renderer = t), (this.maskStack = []), (this.glConst = 0);
      }
      return (
        (r.prototype.getStackLength = function () {
          return this.maskStack.length;
        }),
        (r.prototype.setMaskStack = function (t) {
          var e = this.renderer.gl,
            i = this.getStackLength();
          this.maskStack = t;
          var n = this.getStackLength();
          n !== i &&
            (n === 0
              ? e.disable(this.glConst)
              : (e.enable(this.glConst), this._useCurrent()));
        }),
        (r.prototype._useCurrent = function () {}),
        (r.prototype.destroy = function () {
          (this.renderer = null), (this.maskStack = null);
        }),
        r
      );
    })(),
    Pp = new Yt(),
    YT = (function (r) {
      Lt(t, r);
      function t(e) {
        var i = r.call(this, e) || this;
        return (i.glConst = WebGLRenderingContext.SCISSOR_TEST), i;
      }
      return (
        (t.prototype.getStackLength = function () {
          var e = this.maskStack[this.maskStack.length - 1];
          return e ? e._scissorCounter : 0;
        }),
        (t.prototype.calcScissorRect = function (e) {
          if (!e._scissorRectLocal) {
            var i = e._scissorRect,
              n = e.maskObject,
              s = this.renderer,
              o = s.renderTexture;
            n.renderable = !0;
            var l = n.getBounds();
            this.roundFrameToPixels(
              l,
              o.current ? o.current.resolution : s.resolution,
              o.sourceFrame,
              o.destinationFrame,
              s.projection.transform
            ),
              (n.renderable = !1),
              i && l.fit(i),
              (e._scissorRectLocal = l);
          }
        }),
        (t.isMatrixRotated = function (e) {
          if (!e) return !1;
          var i = e.a,
            n = e.b,
            s = e.c,
            o = e.d;
          return (
            (Math.abs(n) > 1e-4 || Math.abs(s) > 1e-4) &&
            (Math.abs(i) > 1e-4 || Math.abs(o) > 1e-4)
          );
        }),
        (t.prototype.testScissor = function (e) {
          var i = e.maskObject;
          if (
            !i.isFastRect ||
            !i.isFastRect() ||
            t.isMatrixRotated(i.worldTransform) ||
            t.isMatrixRotated(this.renderer.projection.transform)
          )
            return !1;
          this.calcScissorRect(e);
          var n = e._scissorRectLocal;
          return n.width > 0 && n.height > 0;
        }),
        (t.prototype.roundFrameToPixels = function (e, i, n, s, o) {
          t.isMatrixRotated(o) ||
            ((o = o ? Pp.copyFrom(o) : Pp.identity()),
            o
              .translate(-n.x, -n.y)
              .scale(s.width / n.width, s.height / n.height)
              .translate(s.x, s.y),
            this.renderer.filter.transformAABB(o, e),
            e.fit(s),
            (e.x = Math.round(e.x * i)),
            (e.y = Math.round(e.y * i)),
            (e.width = Math.round(e.width * i)),
            (e.height = Math.round(e.height * i)));
        }),
        (t.prototype.push = function (e) {
          e._scissorRectLocal || this.calcScissorRect(e);
          var i = this.renderer.gl;
          e._scissorRect || i.enable(i.SCISSOR_TEST),
            e._scissorCounter++,
            (e._scissorRect = e._scissorRectLocal),
            this._useCurrent();
        }),
        (t.prototype.pop = function () {
          var e = this.renderer.gl;
          this.getStackLength() > 0
            ? this._useCurrent()
            : e.disable(e.SCISSOR_TEST);
        }),
        (t.prototype._useCurrent = function () {
          var e = this.maskStack[this.maskStack.length - 1]._scissorRect,
            i;
          this.renderer.renderTexture.current
            ? (i = e.y)
            : (i = this.renderer.height - e.height - e.y),
            this.renderer.gl.scissor(e.x, i, e.width, e.height);
        }),
        t
      );
    })(Cp),
    qT = (function (r) {
      Lt(t, r);
      function t(e) {
        var i = r.call(this, e) || this;
        return (i.glConst = WebGLRenderingContext.STENCIL_TEST), i;
      }
      return (
        (t.prototype.getStackLength = function () {
          var e = this.maskStack[this.maskStack.length - 1];
          return e ? e._stencilCounter : 0;
        }),
        (t.prototype.push = function (e) {
          var i = e.maskObject,
            n = this.renderer.gl,
            s = e._stencilCounter;
          s === 0 &&
            (this.renderer.framebuffer.forceStencil(),
            n.clearStencil(0),
            n.clear(n.STENCIL_BUFFER_BIT),
            n.enable(n.STENCIL_TEST)),
            e._stencilCounter++,
            n.colorMask(!1, !1, !1, !1),
            n.stencilFunc(n.EQUAL, s, 4294967295),
            n.stencilOp(n.KEEP, n.KEEP, n.INCR),
            (i.renderable = !0),
            i.render(this.renderer),
            this.renderer.batch.flush(),
            (i.renderable = !1),
            this._useCurrent();
        }),
        (t.prototype.pop = function (e) {
          var i = this.renderer.gl;
          this.getStackLength() === 0
            ? i.disable(i.STENCIL_TEST)
            : (i.colorMask(!1, !1, !1, !1),
              i.stencilOp(i.KEEP, i.KEEP, i.DECR),
              (e.renderable = !0),
              e.render(this.renderer),
              this.renderer.batch.flush(),
              (e.renderable = !1),
              this._useCurrent());
        }),
        (t.prototype._useCurrent = function () {
          var e = this.renderer.gl;
          e.colorMask(!0, !0, !0, !0),
            e.stencilFunc(e.EQUAL, this.getStackLength(), 4294967295),
            e.stencilOp(e.KEEP, e.KEEP, e.KEEP);
        }),
        t
      );
    })(Cp),
    KT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.destinationFrame = null),
          (this.sourceFrame = null),
          (this.defaultFrame = null),
          (this.projectionMatrix = new Yt()),
          (this.transform = null);
      }
      return (
        (r.prototype.update = function (t, e, i, n) {
          (this.destinationFrame =
            t || this.destinationFrame || this.defaultFrame),
            (this.sourceFrame = e || this.sourceFrame || t),
            this.calculateProjection(
              this.destinationFrame,
              this.sourceFrame,
              i,
              n
            ),
            this.transform && this.projectionMatrix.append(this.transform);
          var s = this.renderer;
          (s.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix),
            s.globalUniforms.update(),
            s.shader.shader &&
              s.shader.syncUniformGroup(s.shader.shader.uniforms.globals);
        }),
        (r.prototype.calculateProjection = function (t, e, i, n) {
          var s = this.projectionMatrix,
            o = n ? -1 : 1;
          s.identity(),
            (s.a = (1 / e.width) * 2),
            (s.d = o * ((1 / e.height) * 2)),
            (s.tx = -1 - e.x * s.a),
            (s.ty = -o - e.y * s.d);
        }),
        (r.prototype.setTransform = function (t) {}),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })(),
    _i = new ft(),
    es = new ft(),
    ZT = (function () {
      function r(t) {
        (this.renderer = t),
          (this.clearColor = t._backgroundColorRgba),
          (this.defaultMaskStack = []),
          (this.current = null),
          (this.sourceFrame = new ft()),
          (this.destinationFrame = new ft()),
          (this.viewportFrame = new ft());
      }
      return (
        (r.prototype.bind = function (t, e, i) {
          t === void 0 && (t = null);
          var n = this.renderer;
          this.current = t;
          var s, o, l;
          t
            ? ((s = t.baseTexture),
              (l = s.resolution),
              e ||
                ((_i.width = t.frame.width),
                (_i.height = t.frame.height),
                (e = _i)),
              i ||
                ((es.x = t.frame.x),
                (es.y = t.frame.y),
                (es.width = e.width),
                (es.height = e.height),
                (i = es)),
              (o = s.framebuffer))
            : ((l = n.resolution),
              e ||
                ((_i.width = n.screen.width),
                (_i.height = n.screen.height),
                (e = _i)),
              i || ((i = _i), (i.width = e.width), (i.height = e.height)));
          var h = this.viewportFrame;
          (h.x = i.x * l),
            (h.y = i.y * l),
            (h.width = i.width * l),
            (h.height = i.height * l),
            t || (h.y = n.view.height - (h.y + h.height)),
            h.ceil(),
            this.renderer.framebuffer.bind(o, h),
            this.renderer.projection.update(i, e, l, !o),
            t
              ? this.renderer.mask.setMaskStack(s.maskStack)
              : this.renderer.mask.setMaskStack(this.defaultMaskStack),
            this.sourceFrame.copyFrom(e),
            this.destinationFrame.copyFrom(i);
        }),
        (r.prototype.clear = function (t, e) {
          this.current
            ? (t = t || this.current.baseTexture.clearColor)
            : (t = t || this.clearColor);
          var i = this.destinationFrame,
            n = this.current ? this.current.baseTexture : this.renderer.screen,
            s = i.width !== n.width || i.height !== n.height;
          if (s) {
            var o = this.viewportFrame,
              l = o.x,
              h = o.y,
              f = o.width,
              p = o.height;
            (l = Math.round(l)),
              (h = Math.round(h)),
              (f = Math.round(f)),
              (p = Math.round(p)),
              this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),
              this.renderer.gl.scissor(l, h, f, p);
          }
          this.renderer.framebuffer.clear(t[0], t[1], t[2], t[3], e),
            s && this.renderer.scissor.pop();
        }),
        (r.prototype.resize = function () {
          this.bind(null);
        }),
        (r.prototype.reset = function () {
          this.bind(null);
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })();
  function JT(r, t, e, i, n) {
    e.buffer.update(n);
  }
  var QT = {
      float: `
        data[offset] = v;
    `,
      vec2: `
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,
      vec3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,
      vec4: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,
      mat2: `
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,
      mat3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,
      mat4: `
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `,
    },
    Ip = {
      float: 4,
      vec2: 8,
      vec3: 12,
      vec4: 16,
      int: 4,
      ivec2: 8,
      ivec3: 12,
      ivec4: 16,
      uint: 4,
      uvec2: 8,
      uvec3: 12,
      uvec4: 16,
      bool: 4,
      bvec2: 8,
      bvec3: 12,
      bvec4: 16,
      mat2: 16 * 2,
      mat3: 16 * 3,
      mat4: 16 * 4,
    };
  function tE(r) {
    for (
      var t = r.map(function (h) {
          return { data: h, offset: 0, dataLen: 0, dirty: 0 };
        }),
        e = 0,
        i = 0,
        n = 0,
        s = 0;
      s < t.length;
      s++
    ) {
      var o = t[s];
      if (
        ((e = Ip[o.data.type]),
        o.data.size > 1 && (e = Math.max(e, 16) * o.data.size),
        (o.dataLen = e),
        i % e !== 0 && i < 16)
      ) {
        var l = (i % e) % 16;
        (i += l), (n += l);
      }
      i + e > 16
        ? ((n = Math.ceil(n / 16) * 16), (o.offset = n), (n += e), (i = e))
        : ((o.offset = n), (i += e), (n += e));
    }
    return (n = Math.ceil(n / 16) * 16), { uboElements: t, size: n };
  }
  function eE(r, t) {
    var e = [];
    for (var i in r) t[i] && e.push(t[i]);
    return (
      e.sort(function (n, s) {
        return n.index - s.index;
      }),
      e
    );
  }
  function rE(r, t) {
    if (!r.autoManage) return { size: 0, syncFunc: JT };
    for (
      var e = eE(r.uniforms, t),
        i = tE(e),
        n = i.uboElements,
        s = i.size,
        o = [
          `
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `,
        ],
        l = 0;
      l < n.length;
      l++
    ) {
      for (
        var h = n[l],
          f = r.uniforms[h.data.name],
          p = h.data.name,
          v = !1,
          _ = 0;
        _ < Wi.length;
        _++
      ) {
        var m = Wi[_];
        if (m.codeUbo && m.test(h.data, f)) {
          o.push(
            "offset = " + h.offset / 4 + ";",
            Wi[_].codeUbo(h.data.name, f)
          ),
            (v = !0);
          break;
        }
      }
      if (!v)
        if (h.data.size > 1) {
          var g = xp(h.data.type),
            y = Math.max(Ip[h.data.type] / 16, 1),
            b = g / y,
            w = (4 - (b % 4)) % 4;
          o.push(
            `
                cv = ud.` +
              p +
              `.value;
                v = uv.` +
              p +
              `;
                offset = ` +
              h.offset / 4 +
              `;

                t = 0;

                for(var i=0; i < ` +
              h.data.size * y +
              `; i++)
                {
                    for(var j = 0; j < ` +
              b +
              `; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ` +
              w +
              `;
                }

                `
          );
        } else {
          var C = QT[h.data.type];
          o.push(
            `
                cv = ud.` +
              p +
              `.value;
                v = uv.` +
              p +
              `;
                offset = ` +
              h.offset / 4 +
              `;
                ` +
              C +
              `;
                `
          );
        }
    }
    return (
      o.push(`
       renderer.buffer.update(buffer);
    `),
      {
        size: s,
        syncFunc: new Function(
          "ud",
          "uv",
          "renderer",
          "syncData",
          "buffer",
          o.join(`
`)
        ),
      }
    );
  }
  var iE = (function () {
    function r(t, e) {
      (this.program = t),
        (this.uniformData = e),
        (this.uniformGroups = {}),
        (this.uniformDirtyGroups = {}),
        (this.uniformBufferBindings = {});
    }
    return (
      (r.prototype.destroy = function () {
        (this.uniformData = null),
          (this.uniformGroups = null),
          (this.uniformDirtyGroups = null),
          (this.uniformBufferBindings = null),
          (this.program = null);
      }),
      r
    );
  })();
  function nE(r, t) {
    for (
      var e = {}, i = t.getProgramParameter(r, t.ACTIVE_ATTRIBUTES), n = 0;
      n < i;
      n++
    ) {
      var s = t.getActiveAttrib(r, n);
      if (s.name.indexOf("gl_") !== 0) {
        var o = Tp(t, s.type),
          l = {
            type: o,
            name: s.name,
            size: xp(o),
            location: t.getAttribLocation(r, s.name),
          };
        e[s.name] = l;
      }
    }
    return e;
  }
  function sE(r, t) {
    for (
      var e = {}, i = t.getProgramParameter(r, t.ACTIVE_UNIFORMS), n = 0;
      n < i;
      n++
    ) {
      var s = t.getActiveUniform(r, n),
        o = s.name.replace(/\[.*?\]$/, ""),
        l = !!s.name.match(/\[.*?\]$/),
        h = Tp(t, s.type);
      e[o] = {
        name: o,
        index: n,
        type: h,
        size: s.size,
        isArray: l,
        value: gp(h, s.size),
      };
    }
    return e;
  }
  function oE(r, t) {
    var e = _p(r, r.VERTEX_SHADER, t.vertexSrc),
      i = _p(r, r.FRAGMENT_SHADER, t.fragmentSrc),
      n = r.createProgram();
    if (
      (r.attachShader(n, e),
      r.attachShader(n, i),
      r.linkProgram(n),
      r.getProgramParameter(n, r.LINK_STATUS) || RT(r, n, e, i),
      (t.attributeData = nE(n, r)),
      (t.uniformData = sE(n, r)),
      !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc))
    ) {
      var s = Object.keys(t.attributeData);
      s.sort(function (p, v) {
        return p > v ? 1 : -1;
      });
      for (var o = 0; o < s.length; o++)
        (t.attributeData[s[o]].location = o), r.bindAttribLocation(n, o, s[o]);
      r.linkProgram(n);
    }
    r.deleteShader(e), r.deleteShader(i);
    var l = {};
    for (var o in t.uniformData) {
      var h = t.uniformData[o];
      l[o] = {
        location: r.getUniformLocation(n, o),
        value: gp(h.type, h.size),
      };
    }
    var f = new iE(n, l);
    return f;
  }
  var aE = 0,
    bo = { textureCount: 0, uboCount: 0 },
    lE = (function () {
      function r(t) {
        (this.destroyed = !1),
          (this.renderer = t),
          this.systemCheck(),
          (this.gl = null),
          (this.shader = null),
          (this.program = null),
          (this.cache = {}),
          (this._uboCache = {}),
          (this.id = aE++);
      }
      return (
        (r.prototype.systemCheck = function () {
          if (!GT())
            throw new Error(
              "Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support."
            );
        }),
        (r.prototype.contextChange = function (t) {
          (this.gl = t), this.reset();
        }),
        (r.prototype.bind = function (t, e) {
          t.uniforms.globals = this.renderer.globalUniforms;
          var i = t.program,
            n =
              i.glPrograms[this.renderer.CONTEXT_UID] ||
              this.generateProgram(t);
          return (
            (this.shader = t),
            this.program !== i &&
              ((this.program = i), this.gl.useProgram(n.program)),
            e ||
              ((bo.textureCount = 0),
              (bo.uboCount = 0),
              this.syncUniformGroup(t.uniformGroup, bo)),
            n
          );
        }),
        (r.prototype.setUniforms = function (t) {
          var e = this.shader.program,
            i = e.glPrograms[this.renderer.CONTEXT_UID];
          e.syncUniforms(i.uniformData, t, this.renderer);
        }),
        (r.prototype.syncUniformGroup = function (t, e) {
          var i = this.getGlProgram();
          (!t.static || t.dirtyId !== i.uniformDirtyGroups[t.id]) &&
            ((i.uniformDirtyGroups[t.id] = t.dirtyId),
            this.syncUniforms(t, i, e));
        }),
        (r.prototype.syncUniforms = function (t, e, i) {
          var n =
            t.syncUniforms[this.shader.program.id] || this.createSyncGroups(t);
          n(e.uniformData, t.uniforms, this.renderer, i);
        }),
        (r.prototype.createSyncGroups = function (t) {
          var e = this.getSignature(t, this.shader.program.uniformData, "u");
          return (
            this.cache[e] ||
              (this.cache[e] = LT(t, this.shader.program.uniformData)),
            (t.syncUniforms[this.shader.program.id] = this.cache[e]),
            t.syncUniforms[this.shader.program.id]
          );
        }),
        (r.prototype.syncUniformBufferGroup = function (t, e) {
          var i = this.getGlProgram();
          if (!t.static || t.dirtyId !== 0 || !i.uniformGroups[t.id]) {
            t.dirtyId = 0;
            var n =
              i.uniformGroups[t.id] || this.createSyncBufferGroup(t, i, e);
            t.buffer.update(),
              n(i.uniformData, t.uniforms, this.renderer, bo, t.buffer);
          }
          this.renderer.buffer.bindBufferBase(
            t.buffer,
            i.uniformBufferBindings[e]
          );
        }),
        (r.prototype.createSyncBufferGroup = function (t, e, i) {
          var n = this.renderer.gl;
          this.renderer.buffer.bind(t.buffer);
          var s = this.gl.getUniformBlockIndex(e.program, i);
          (e.uniformBufferBindings[i] = this.shader.uniformBindCount),
            n.uniformBlockBinding(e.program, s, this.shader.uniformBindCount),
            this.shader.uniformBindCount++;
          var o = this.getSignature(t, this.shader.program.uniformData, "ubo"),
            l = this._uboCache[o];
          if (
            (l ||
              (l = this._uboCache[o] = rE(t, this.shader.program.uniformData)),
            t.autoManage)
          ) {
            var h = new Float32Array(l.size / 4);
            t.buffer.update(h);
          }
          return (e.uniformGroups[t.id] = l.syncFunc), e.uniformGroups[t.id];
        }),
        (r.prototype.getSignature = function (t, e, i) {
          var n = t.uniforms,
            s = [i + "-"];
          for (var o in n) s.push(o), e[o] && s.push(e[o].type);
          return s.join("-");
        }),
        (r.prototype.getGlProgram = function () {
          return this.shader
            ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID]
            : null;
        }),
        (r.prototype.generateProgram = function (t) {
          var e = this.gl,
            i = t.program,
            n = oE(e, i);
          return (i.glPrograms[this.renderer.CONTEXT_UID] = n), n;
        }),
        (r.prototype.reset = function () {
          (this.program = null), (this.shader = null);
        }),
        (r.prototype.destroy = function () {
          (this.renderer = null), (this.destroyed = !0);
        }),
        r
      );
    })();
  function uE(r, t) {
    return (
      t === void 0 && (t = []),
      (t[it.NORMAL] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.ADD] = [r.ONE, r.ONE]),
      (t[it.MULTIPLY] = [
        r.DST_COLOR,
        r.ONE_MINUS_SRC_ALPHA,
        r.ONE,
        r.ONE_MINUS_SRC_ALPHA,
      ]),
      (t[it.SCREEN] = [
        r.ONE,
        r.ONE_MINUS_SRC_COLOR,
        r.ONE,
        r.ONE_MINUS_SRC_ALPHA,
      ]),
      (t[it.OVERLAY] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.DARKEN] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.LIGHTEN] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.COLOR_DODGE] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.COLOR_BURN] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.HARD_LIGHT] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.SOFT_LIGHT] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.DIFFERENCE] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.EXCLUSION] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.HUE] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.SATURATION] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.COLOR] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.LUMINOSITY] = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.NONE] = [0, 0]),
      (t[it.NORMAL_NPM] = [
        r.SRC_ALPHA,
        r.ONE_MINUS_SRC_ALPHA,
        r.ONE,
        r.ONE_MINUS_SRC_ALPHA,
      ]),
      (t[it.ADD_NPM] = [r.SRC_ALPHA, r.ONE, r.ONE, r.ONE]),
      (t[it.SCREEN_NPM] = [
        r.SRC_ALPHA,
        r.ONE_MINUS_SRC_COLOR,
        r.ONE,
        r.ONE_MINUS_SRC_ALPHA,
      ]),
      (t[it.SRC_IN] = [r.DST_ALPHA, r.ZERO]),
      (t[it.SRC_OUT] = [r.ONE_MINUS_DST_ALPHA, r.ZERO]),
      (t[it.SRC_ATOP] = [r.DST_ALPHA, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.DST_OVER] = [r.ONE_MINUS_DST_ALPHA, r.ONE]),
      (t[it.DST_IN] = [r.ZERO, r.SRC_ALPHA]),
      (t[it.DST_OUT] = [r.ZERO, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.DST_ATOP] = [r.ONE_MINUS_DST_ALPHA, r.SRC_ALPHA]),
      (t[it.XOR] = [r.ONE_MINUS_DST_ALPHA, r.ONE_MINUS_SRC_ALPHA]),
      (t[it.SUBTRACT] = [
        r.ONE,
        r.ONE,
        r.ONE,
        r.ONE,
        r.FUNC_REVERSE_SUBTRACT,
        r.FUNC_ADD,
      ]),
      t
    );
  }
  var hE = 0,
    cE = 1,
    fE = 2,
    pE = 3,
    dE = 4,
    vE = 5,
    _E = (function () {
      function r() {
        (this.gl = null),
          (this.stateId = 0),
          (this.polygonOffset = 0),
          (this.blendMode = it.NONE),
          (this._blendEq = !1),
          (this.map = []),
          (this.map[hE] = this.setBlend),
          (this.map[cE] = this.setOffset),
          (this.map[fE] = this.setCullFace),
          (this.map[pE] = this.setDepthTest),
          (this.map[dE] = this.setFrontFace),
          (this.map[vE] = this.setDepthMask),
          (this.checks = []),
          (this.defaultState = new vi()),
          (this.defaultState.blend = !0);
      }
      return (
        (r.prototype.contextChange = function (t) {
          (this.gl = t),
            (this.blendModes = uE(t)),
            this.set(this.defaultState),
            this.reset();
        }),
        (r.prototype.set = function (t) {
          if (((t = t || this.defaultState), this.stateId !== t.data)) {
            for (var e = this.stateId ^ t.data, i = 0; e; )
              e & 1 && this.map[i].call(this, !!(t.data & (1 << i))),
                (e = e >> 1),
                i++;
            this.stateId = t.data;
          }
          for (var i = 0; i < this.checks.length; i++) this.checks[i](this, t);
        }),
        (r.prototype.forceState = function (t) {
          t = t || this.defaultState;
          for (var e = 0; e < this.map.length; e++)
            this.map[e].call(this, !!(t.data & (1 << e)));
          for (var e = 0; e < this.checks.length; e++) this.checks[e](this, t);
          this.stateId = t.data;
        }),
        (r.prototype.setBlend = function (t) {
          this.updateCheck(r.checkBlendMode, t),
            this.gl[t ? "enable" : "disable"](this.gl.BLEND);
        }),
        (r.prototype.setOffset = function (t) {
          this.updateCheck(r.checkPolygonOffset, t),
            this.gl[t ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
        }),
        (r.prototype.setDepthTest = function (t) {
          this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST);
        }),
        (r.prototype.setDepthMask = function (t) {
          this.gl.depthMask(t);
        }),
        (r.prototype.setCullFace = function (t) {
          this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE);
        }),
        (r.prototype.setFrontFace = function (t) {
          this.gl.frontFace(this.gl[t ? "CW" : "CCW"]);
        }),
        (r.prototype.setBlendMode = function (t) {
          if (t !== this.blendMode) {
            this.blendMode = t;
            var e = this.blendModes[t],
              i = this.gl;
            e.length === 2
              ? i.blendFunc(e[0], e[1])
              : i.blendFuncSeparate(e[0], e[1], e[2], e[3]),
              e.length === 6
                ? ((this._blendEq = !0), i.blendEquationSeparate(e[4], e[5]))
                : this._blendEq &&
                  ((this._blendEq = !1),
                  i.blendEquationSeparate(i.FUNC_ADD, i.FUNC_ADD));
          }
        }),
        (r.prototype.setPolygonOffset = function (t, e) {
          this.gl.polygonOffset(t, e);
        }),
        (r.prototype.reset = function () {
          this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
            this.forceState(this.defaultState),
            (this._blendEq = !0),
            (this.blendMode = -1),
            this.setBlendMode(0);
        }),
        (r.prototype.updateCheck = function (t, e) {
          var i = this.checks.indexOf(t);
          e && i === -1
            ? this.checks.push(t)
            : !e && i !== -1 && this.checks.splice(i, 1);
        }),
        (r.checkBlendMode = function (t, e) {
          t.setBlendMode(e.blendMode);
        }),
        (r.checkPolygonOffset = function (t, e) {
          t.setPolygonOffset(1, e.polygonOffset);
        }),
        (r.prototype.destroy = function () {
          this.gl = null;
        }),
        r
      );
    })(),
    mE = (function () {
      function r(t) {
        (this.renderer = t),
          (this.count = 0),
          (this.checkCount = 0),
          (this.maxIdle = Q.GC_MAX_IDLE),
          (this.checkCountMax = Q.GC_MAX_CHECK_COUNT),
          (this.mode = Q.GC_MODE);
      }
      return (
        (r.prototype.postrender = function () {
          !this.renderer.renderingToScreen ||
            (this.count++,
            this.mode !== nl.MANUAL &&
              (this.checkCount++,
              this.checkCount > this.checkCountMax &&
                ((this.checkCount = 0), this.run())));
        }),
        (r.prototype.run = function () {
          for (
            var t = this.renderer.texture, e = t.managedTextures, i = !1, n = 0;
            n < e.length;
            n++
          ) {
            var s = e[n];
            !s.framebuffer &&
              this.count - s.touched > this.maxIdle &&
              (t.destroyTexture(s, !0), (e[n] = null), (i = !0));
          }
          if (i) {
            for (var o = 0, n = 0; n < e.length; n++)
              e[n] !== null && (e[o++] = e[n]);
            e.length = o;
          }
        }),
        (r.prototype.unload = function (t) {
          var e = this.renderer.texture,
            i = t._texture;
          i && !i.framebuffer && e.destroyTexture(i);
          for (var n = t.children.length - 1; n >= 0; n--)
            this.unload(t.children[n]);
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })();
  function gE(r) {
    var t, e, i, n, s, o, l, h, f, p, v, _, m, g, y, b, w, C, T, A, I, P, O;
    return (
      "WebGL2RenderingContext" in globalThis &&
      r instanceof globalThis.WebGL2RenderingContext
        ? (O =
            ((t = {}),
            (t[rt.UNSIGNED_BYTE] =
              ((e = {}),
              (e[$.RGBA] = r.RGBA8),
              (e[$.RGB] = r.RGB8),
              (e[$.RG] = r.RG8),
              (e[$.RED] = r.R8),
              (e[$.RGBA_INTEGER] = r.RGBA8UI),
              (e[$.RGB_INTEGER] = r.RGB8UI),
              (e[$.RG_INTEGER] = r.RG8UI),
              (e[$.RED_INTEGER] = r.R8UI),
              (e[$.ALPHA] = r.ALPHA),
              (e[$.LUMINANCE] = r.LUMINANCE),
              (e[$.LUMINANCE_ALPHA] = r.LUMINANCE_ALPHA),
              e)),
            (t[rt.BYTE] =
              ((i = {}),
              (i[$.RGBA] = r.RGBA8_SNORM),
              (i[$.RGB] = r.RGB8_SNORM),
              (i[$.RG] = r.RG8_SNORM),
              (i[$.RED] = r.R8_SNORM),
              (i[$.RGBA_INTEGER] = r.RGBA8I),
              (i[$.RGB_INTEGER] = r.RGB8I),
              (i[$.RG_INTEGER] = r.RG8I),
              (i[$.RED_INTEGER] = r.R8I),
              i)),
            (t[rt.UNSIGNED_SHORT] =
              ((n = {}),
              (n[$.RGBA_INTEGER] = r.RGBA16UI),
              (n[$.RGB_INTEGER] = r.RGB16UI),
              (n[$.RG_INTEGER] = r.RG16UI),
              (n[$.RED_INTEGER] = r.R16UI),
              (n[$.DEPTH_COMPONENT] = r.DEPTH_COMPONENT16),
              n)),
            (t[rt.SHORT] =
              ((s = {}),
              (s[$.RGBA_INTEGER] = r.RGBA16I),
              (s[$.RGB_INTEGER] = r.RGB16I),
              (s[$.RG_INTEGER] = r.RG16I),
              (s[$.RED_INTEGER] = r.R16I),
              s)),
            (t[rt.UNSIGNED_INT] =
              ((o = {}),
              (o[$.RGBA_INTEGER] = r.RGBA32UI),
              (o[$.RGB_INTEGER] = r.RGB32UI),
              (o[$.RG_INTEGER] = r.RG32UI),
              (o[$.RED_INTEGER] = r.R32UI),
              (o[$.DEPTH_COMPONENT] = r.DEPTH_COMPONENT24),
              o)),
            (t[rt.INT] =
              ((l = {}),
              (l[$.RGBA_INTEGER] = r.RGBA32I),
              (l[$.RGB_INTEGER] = r.RGB32I),
              (l[$.RG_INTEGER] = r.RG32I),
              (l[$.RED_INTEGER] = r.R32I),
              l)),
            (t[rt.FLOAT] =
              ((h = {}),
              (h[$.RGBA] = r.RGBA32F),
              (h[$.RGB] = r.RGB32F),
              (h[$.RG] = r.RG32F),
              (h[$.RED] = r.R32F),
              (h[$.DEPTH_COMPONENT] = r.DEPTH_COMPONENT32F),
              h)),
            (t[rt.HALF_FLOAT] =
              ((f = {}),
              (f[$.RGBA] = r.RGBA16F),
              (f[$.RGB] = r.RGB16F),
              (f[$.RG] = r.RG16F),
              (f[$.RED] = r.R16F),
              f)),
            (t[rt.UNSIGNED_SHORT_5_6_5] = ((p = {}), (p[$.RGB] = r.RGB565), p)),
            (t[rt.UNSIGNED_SHORT_4_4_4_4] =
              ((v = {}), (v[$.RGBA] = r.RGBA4), v)),
            (t[rt.UNSIGNED_SHORT_5_5_5_1] =
              ((_ = {}), (_[$.RGBA] = r.RGB5_A1), _)),
            (t[rt.UNSIGNED_INT_2_10_10_10_REV] =
              ((m = {}),
              (m[$.RGBA] = r.RGB10_A2),
              (m[$.RGBA_INTEGER] = r.RGB10_A2UI),
              m)),
            (t[rt.UNSIGNED_INT_10F_11F_11F_REV] =
              ((g = {}), (g[$.RGB] = r.R11F_G11F_B10F), g)),
            (t[rt.UNSIGNED_INT_5_9_9_9_REV] =
              ((y = {}), (y[$.RGB] = r.RGB9_E5), y)),
            (t[rt.UNSIGNED_INT_24_8] =
              ((b = {}), (b[$.DEPTH_STENCIL] = r.DEPTH24_STENCIL8), b)),
            (t[rt.FLOAT_32_UNSIGNED_INT_24_8_REV] =
              ((w = {}), (w[$.DEPTH_STENCIL] = r.DEPTH32F_STENCIL8), w)),
            t))
        : (O =
            ((C = {}),
            (C[rt.UNSIGNED_BYTE] =
              ((T = {}),
              (T[$.RGBA] = r.RGBA),
              (T[$.RGB] = r.RGB),
              (T[$.ALPHA] = r.ALPHA),
              (T[$.LUMINANCE] = r.LUMINANCE),
              (T[$.LUMINANCE_ALPHA] = r.LUMINANCE_ALPHA),
              T)),
            (C[rt.UNSIGNED_SHORT_5_6_5] = ((A = {}), (A[$.RGB] = r.RGB), A)),
            (C[rt.UNSIGNED_SHORT_4_4_4_4] =
              ((I = {}), (I[$.RGBA] = r.RGBA), I)),
            (C[rt.UNSIGNED_SHORT_5_5_5_1] =
              ((P = {}), (P[$.RGBA] = r.RGBA), P)),
            C)),
      O
    );
  }
  var Al = (function () {
      function r(t) {
        (this.texture = t),
          (this.width = -1),
          (this.height = -1),
          (this.dirtyId = -1),
          (this.dirtyStyleId = -1),
          (this.mipmap = !1),
          (this.wrapMode = 33071),
          (this.type = rt.UNSIGNED_BYTE),
          (this.internalFormat = $.RGBA),
          (this.samplerType = 0);
      }
      return r;
    })(),
    yE = (function () {
      function r(t) {
        (this.renderer = t),
          (this.boundTextures = []),
          (this.currentLocation = -1),
          (this.managedTextures = []),
          (this._unknownBoundTextures = !1),
          (this.unknownTexture = new gt()),
          (this.hasIntegerTextures = !1);
      }
      return (
        (r.prototype.contextChange = function () {
          var t = (this.gl = this.renderer.gl);
          (this.CONTEXT_UID = this.renderer.CONTEXT_UID),
            (this.webGLVersion = this.renderer.context.webGLVersion),
            (this.internalFormats = gE(t));
          var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
          this.boundTextures.length = e;
          for (var i = 0; i < e; i++) this.boundTextures[i] = null;
          this.emptyTextures = {};
          var n = new Al(t.createTexture());
          t.bindTexture(t.TEXTURE_2D, n.texture),
            t.texImage2D(
              t.TEXTURE_2D,
              0,
              t.RGBA,
              1,
              1,
              0,
              t.RGBA,
              t.UNSIGNED_BYTE,
              new Uint8Array(4)
            ),
            (this.emptyTextures[t.TEXTURE_2D] = n),
            (this.emptyTextures[t.TEXTURE_CUBE_MAP] = new Al(
              t.createTexture()
            )),
            t.bindTexture(
              t.TEXTURE_CUBE_MAP,
              this.emptyTextures[t.TEXTURE_CUBE_MAP].texture
            );
          for (var i = 0; i < 6; i++)
            t.texImage2D(
              t.TEXTURE_CUBE_MAP_POSITIVE_X + i,
              0,
              t.RGBA,
              1,
              1,
              0,
              t.RGBA,
              t.UNSIGNED_BYTE,
              null
            );
          t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MAG_FILTER, t.LINEAR),
            t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MIN_FILTER, t.LINEAR);
          for (var i = 0; i < this.boundTextures.length; i++)
            this.bind(null, i);
        }),
        (r.prototype.bind = function (t, e) {
          e === void 0 && (e = 0);
          var i = this.gl;
          if (
            ((t = t == null ? void 0 : t.castToBaseTexture()),
            t && t.valid && !t.parentTextureArray)
          ) {
            t.touched = this.renderer.textureGC.count;
            var n = t._glTextures[this.CONTEXT_UID] || this.initTexture(t);
            this.boundTextures[e] !== t &&
              (this.currentLocation !== e &&
                ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)),
              i.bindTexture(t.target, n.texture)),
              n.dirtyId !== t.dirtyId &&
                (this.currentLocation !== e &&
                  ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)),
                this.updateTexture(t)),
              (this.boundTextures[e] = t);
          } else
            this.currentLocation !== e &&
              ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)),
              i.bindTexture(
                i.TEXTURE_2D,
                this.emptyTextures[i.TEXTURE_2D].texture
              ),
              (this.boundTextures[e] = null);
        }),
        (r.prototype.reset = function () {
          (this._unknownBoundTextures = !0),
            (this.hasIntegerTextures = !1),
            (this.currentLocation = -1);
          for (var t = 0; t < this.boundTextures.length; t++)
            this.boundTextures[t] = this.unknownTexture;
        }),
        (r.prototype.unbind = function (t) {
          var e = this,
            i = e.gl,
            n = e.boundTextures;
          if (this._unknownBoundTextures) {
            this._unknownBoundTextures = !1;
            for (var s = 0; s < n.length; s++)
              n[s] === this.unknownTexture && this.bind(null, s);
          }
          for (var s = 0; s < n.length; s++)
            n[s] === t &&
              (this.currentLocation !== s &&
                (i.activeTexture(i.TEXTURE0 + s), (this.currentLocation = s)),
              i.bindTexture(t.target, this.emptyTextures[t.target].texture),
              (n[s] = null));
        }),
        (r.prototype.ensureSamplerType = function (t) {
          var e = this,
            i = e.boundTextures,
            n = e.hasIntegerTextures,
            s = e.CONTEXT_UID;
          if (!!n)
            for (var o = t - 1; o >= 0; --o) {
              var l = i[o];
              if (l) {
                var h = l._glTextures[s];
                h.samplerType !== ro.FLOAT && this.renderer.texture.unbind(l);
              }
            }
        }),
        (r.prototype.initTexture = function (t) {
          var e = new Al(this.gl.createTexture());
          return (
            (e.dirtyId = -1),
            (t._glTextures[this.CONTEXT_UID] = e),
            this.managedTextures.push(t),
            t.on("dispose", this.destroyTexture, this),
            e
          );
        }),
        (r.prototype.initTextureType = function (t, e) {
          var i, n;
          (e.internalFormat =
            (n =
              (i = this.internalFormats[t.type]) === null || i === void 0
                ? void 0
                : i[t.format]) !== null && n !== void 0
              ? n
              : t.format),
            this.webGLVersion === 2 && t.type === rt.HALF_FLOAT
              ? (e.type = this.gl.HALF_FLOAT)
              : (e.type = t.type);
        }),
        (r.prototype.updateTexture = function (t) {
          var e = t._glTextures[this.CONTEXT_UID];
          if (!!e) {
            var i = this.renderer;
            if (
              (this.initTextureType(t, e),
              t.resource && t.resource.upload(i, t, e))
            )
              e.samplerType !== ro.FLOAT && (this.hasIntegerTextures = !0);
            else {
              var n = t.realWidth,
                s = t.realHeight,
                o = i.gl;
              (e.width !== n || e.height !== s || e.dirtyId < 0) &&
                ((e.width = n),
                (e.height = s),
                o.texImage2D(
                  t.target,
                  0,
                  e.internalFormat,
                  n,
                  s,
                  0,
                  t.format,
                  e.type,
                  null
                ));
            }
            t.dirtyStyleId !== e.dirtyStyleId && this.updateTextureStyle(t),
              (e.dirtyId = t.dirtyId);
          }
        }),
        (r.prototype.destroyTexture = function (t, e) {
          var i = this.gl;
          if (
            ((t = t.castToBaseTexture()),
            t._glTextures[this.CONTEXT_UID] &&
              (this.unbind(t),
              i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),
              t.off("dispose", this.destroyTexture, this),
              delete t._glTextures[this.CONTEXT_UID],
              !e))
          ) {
            var n = this.managedTextures.indexOf(t);
            n !== -1 && fr(this.managedTextures, n, 1);
          }
        }),
        (r.prototype.updateTextureStyle = function (t) {
          var e = t._glTextures[this.CONTEXT_UID];
          !e ||
            ((t.mipmap === cr.POW2 || this.webGLVersion !== 2) &&
            !t.isPowerOfTwo
              ? (e.mipmap = !1)
              : (e.mipmap = t.mipmap >= 1),
            this.webGLVersion !== 2 && !t.isPowerOfTwo
              ? (e.wrapMode = Qe.CLAMP)
              : (e.wrapMode = t.wrapMode),
            (t.resource && t.resource.style(this.renderer, t, e)) ||
              this.setStyle(t, e),
            (e.dirtyStyleId = t.dirtyStyleId));
        }),
        (r.prototype.setStyle = function (t, e) {
          var i = this.gl;
          if (
            (e.mipmap &&
              t.mipmap !== cr.ON_MANUAL &&
              i.generateMipmap(t.target),
            i.texParameteri(t.target, i.TEXTURE_WRAP_S, e.wrapMode),
            i.texParameteri(t.target, i.TEXTURE_WRAP_T, e.wrapMode),
            e.mipmap)
          ) {
            i.texParameteri(
              t.target,
              i.TEXTURE_MIN_FILTER,
              t.scaleMode === Je.LINEAR
                ? i.LINEAR_MIPMAP_LINEAR
                : i.NEAREST_MIPMAP_NEAREST
            );
            var n = this.renderer.context.extensions.anisotropicFiltering;
            if (n && t.anisotropicLevel > 0 && t.scaleMode === Je.LINEAR) {
              var s = Math.min(
                t.anisotropicLevel,
                i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
              );
              i.texParameterf(t.target, n.TEXTURE_MAX_ANISOTROPY_EXT, s);
            }
          } else
            i.texParameteri(
              t.target,
              i.TEXTURE_MIN_FILTER,
              t.scaleMode === Je.LINEAR ? i.LINEAR : i.NEAREST
            );
          i.texParameteri(
            t.target,
            i.TEXTURE_MAG_FILTER,
            t.scaleMode === Je.LINEAR ? i.LINEAR : i.NEAREST
          );
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        r
      );
    })(),
    Nl = new Yt(),
    bE = (function (r) {
      Lt(t, r);
      function t(e, i) {
        e === void 0 && (e = zn.UNKNOWN);
        var n = r.call(this) || this;
        return (
          (i = Object.assign({}, Q.RENDER_OPTIONS, i)),
          (n.options = i),
          (n.type = e),
          (n.screen = new ft(0, 0, i.width, i.height)),
          (n.view = i.view || document.createElement("canvas")),
          (n.resolution = i.resolution || Q.RESOLUTION),
          (n.useContextAlpha = i.useContextAlpha),
          (n.autoDensity = !!i.autoDensity),
          (n.preserveDrawingBuffer = i.preserveDrawingBuffer),
          (n.clearBeforeRender = i.clearBeforeRender),
          (n._backgroundColor = 0),
          (n._backgroundColorRgba = [0, 0, 0, 1]),
          (n._backgroundColorString = "#000000"),
          (n.backgroundColor = i.backgroundColor || n._backgroundColor),
          (n.backgroundAlpha = i.backgroundAlpha),
          i.transparent !== void 0 &&
            (Wn(
              "6.0.0",
              "Option transparent is deprecated, please use backgroundAlpha instead."
            ),
            (n.useContextAlpha = i.transparent),
            (n.backgroundAlpha = i.transparent ? 0 : 1)),
          (n._lastObjectRendered = null),
          (n.plugins = {}),
          n
        );
      }
      return (
        (t.prototype.initPlugins = function (e) {
          for (var i in e) this.plugins[i] = new e[i](this);
        }),
        Object.defineProperty(t.prototype, "width", {
          get: function () {
            return this.view.width;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "height", {
          get: function () {
            return this.view.height;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.resize = function (e, i) {
          (this.view.width = Math.round(e * this.resolution)),
            (this.view.height = Math.round(i * this.resolution));
          var n = this.view.width / this.resolution,
            s = this.view.height / this.resolution;
          (this.screen.width = n),
            (this.screen.height = s),
            this.autoDensity &&
              ((this.view.style.width = n + "px"),
              (this.view.style.height = s + "px")),
            this.emit("resize", n, s);
        }),
        (t.prototype.generateTexture = function (e, i, n, s) {
          i === void 0 && (i = {}),
            typeof i == "number" &&
              (Wn(
                "6.1.0",
                "generateTexture options (scaleMode, resolution, region) are now object options."
              ),
              (i = { scaleMode: i, resolution: n, region: s }));
          var o = i.region,
            l = iT(i, ["region"]);
          (s = o || e.getLocalBounds(null, !0)),
            s.width === 0 && (s.width = 1),
            s.height === 0 && (s.height = 1);
          var h = pi.create(ml({ width: s.width, height: s.height }, l));
          return (
            (Nl.tx = -s.x),
            (Nl.ty = -s.y),
            this.render(e, {
              renderTexture: h,
              clear: !1,
              transform: Nl,
              skipUpdateTransform: !!e.parent,
            }),
            h
          );
        }),
        (t.prototype.destroy = function (e) {
          for (var i in this.plugins)
            this.plugins[i].destroy(), (this.plugins[i] = null);
          e &&
            this.view.parentNode &&
            this.view.parentNode.removeChild(this.view);
          var n = this;
          (n.plugins = null),
            (n.type = zn.UNKNOWN),
            (n.view = null),
            (n.screen = null),
            (n._tempDisplayObjectParent = null),
            (n.options = null),
            (this._backgroundColorRgba = null),
            (this._backgroundColorString = null),
            (this._lastObjectRendered = null);
        }),
        Object.defineProperty(t.prototype, "backgroundColor", {
          get: function () {
            return this._backgroundColor;
          },
          set: function (e) {
            (this._backgroundColor = e),
              (this._backgroundColorString = Tf(e)),
              $i(e, this._backgroundColorRgba);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "backgroundAlpha", {
          get: function () {
            return this._backgroundColorRgba[3];
          },
          set: function (e) {
            this._backgroundColorRgba[3] = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Di),
    xE = (function () {
      function r(t) {
        (this.buffer = t || null),
          (this.updateID = -1),
          (this.byteLength = -1),
          (this.refCount = 0);
      }
      return r;
    })(),
    wE = (function () {
      function r(t) {
        (this.renderer = t),
          (this.managedBuffers = {}),
          (this.boundBufferBases = {});
      }
      return (
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        (r.prototype.contextChange = function () {
          this.disposeAll(!0),
            (this.gl = this.renderer.gl),
            (this.CONTEXT_UID = this.renderer.CONTEXT_UID);
        }),
        (r.prototype.bind = function (t) {
          var e = this,
            i = e.gl,
            n = e.CONTEXT_UID,
            s = t._glBuffers[n] || this.createGLBuffer(t);
          i.bindBuffer(t.type, s.buffer);
        }),
        (r.prototype.bindBufferBase = function (t, e) {
          var i = this,
            n = i.gl,
            s = i.CONTEXT_UID;
          if (this.boundBufferBases[e] !== t) {
            var o = t._glBuffers[s] || this.createGLBuffer(t);
            (this.boundBufferBases[e] = t),
              n.bindBufferBase(n.UNIFORM_BUFFER, e, o.buffer);
          }
        }),
        (r.prototype.bindBufferRange = function (t, e, i) {
          var n = this,
            s = n.gl,
            o = n.CONTEXT_UID;
          i = i || 0;
          var l = t._glBuffers[o] || this.createGLBuffer(t);
          s.bindBufferRange(s.UNIFORM_BUFFER, e || 0, l.buffer, i * 256, 256);
        }),
        (r.prototype.update = function (t) {
          var e = this,
            i = e.gl,
            n = e.CONTEXT_UID,
            s = t._glBuffers[n];
          if (t._updateID !== s.updateID)
            if (
              ((s.updateID = t._updateID),
              i.bindBuffer(t.type, s.buffer),
              s.byteLength >= t.data.byteLength)
            )
              i.bufferSubData(t.type, 0, t.data);
            else {
              var o = t.static ? i.STATIC_DRAW : i.DYNAMIC_DRAW;
              (s.byteLength = t.data.byteLength),
                i.bufferData(t.type, t.data, o);
            }
        }),
        (r.prototype.dispose = function (t, e) {
          if (!!this.managedBuffers[t.id]) {
            delete this.managedBuffers[t.id];
            var i = t._glBuffers[this.CONTEXT_UID],
              n = this.gl;
            t.disposeRunner.remove(this),
              i &&
                (e || n.deleteBuffer(i.buffer),
                delete t._glBuffers[this.CONTEXT_UID]);
          }
        }),
        (r.prototype.disposeAll = function (t) {
          for (
            var e = Object.keys(this.managedBuffers), i = 0;
            i < e.length;
            i++
          )
            this.dispose(this.managedBuffers[e[i]], t);
        }),
        (r.prototype.createGLBuffer = function (t) {
          var e = this,
            i = e.CONTEXT_UID,
            n = e.gl;
          return (
            (t._glBuffers[i] = new xE(n.createBuffer())),
            (this.managedBuffers[t.id] = t),
            t.disposeRunner.add(this),
            t._glBuffers[i]
          );
        }),
        r
      );
    })(),
    Lr = (function (r) {
      Lt(t, r);
      function t(e) {
        var i = r.call(this, zn.WEBGL, e) || this;
        return (
          (e = i.options),
          (i.gl = null),
          (i.CONTEXT_UID = 0),
          (i.runners = {
            destroy: new he("destroy"),
            contextChange: new he("contextChange"),
            reset: new he("reset"),
            update: new he("update"),
            postrender: new he("postrender"),
            prerender: new he("prerender"),
            resize: new he("resize"),
          }),
          i.runners.contextChange.add(i),
          (i.globalUniforms = new di({ projectionMatrix: new Yt() }, !0)),
          i
            .addSystem(WT, "mask")
            .addSystem(wT, "context")
            .addSystem(_E, "state")
            .addSystem(lE, "shader")
            .addSystem(yE, "texture")
            .addSystem(wE, "buffer")
            .addSystem(PT, "geometry")
            .addSystem(CT, "framebuffer")
            .addSystem(YT, "scissor")
            .addSystem(qT, "stencil")
            .addSystem(KT, "projection")
            .addSystem(mE, "textureGC")
            .addSystem(bT, "filter")
            .addSystem(ZT, "renderTexture")
            .addSystem(xT, "batch"),
          i.initPlugins(t.__plugins),
          (i.multisample = void 0),
          e.context
            ? i.context.initFromContext(e.context)
            : i.context.initFromOptions({
                alpha: !!i.useContextAlpha,
                antialias: e.antialias,
                premultipliedAlpha:
                  i.useContextAlpha && i.useContextAlpha !== "notMultiplied",
                stencil: !0,
                preserveDrawingBuffer: e.preserveDrawingBuffer,
                powerPreference: i.options.powerPreference,
              }),
          (i.renderingToScreen = !0),
          Xb(i.context.webGLVersion === 2 ? "WebGL 2" : "WebGL 1"),
          i.resize(i.options.width, i.options.height),
          i
        );
      }
      return (
        (t.create = function (e) {
          if ($b()) return new t(e);
          throw new Error(
            'WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.'
          );
        }),
        (t.prototype.contextChange = function () {
          var e = this.gl,
            i;
          if (this.context.webGLVersion === 1) {
            var n = e.getParameter(e.FRAMEBUFFER_BINDING);
            e.bindFramebuffer(e.FRAMEBUFFER, null),
              (i = e.getParameter(e.SAMPLES)),
              e.bindFramebuffer(e.FRAMEBUFFER, n);
          } else {
            var n = e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);
            e.bindFramebuffer(e.DRAW_FRAMEBUFFER, null),
              (i = e.getParameter(e.SAMPLES)),
              e.bindFramebuffer(e.DRAW_FRAMEBUFFER, n);
          }
          i >= Jt.HIGH
            ? (this.multisample = Jt.HIGH)
            : i >= Jt.MEDIUM
            ? (this.multisample = Jt.MEDIUM)
            : i >= Jt.LOW
            ? (this.multisample = Jt.LOW)
            : (this.multisample = Jt.NONE);
        }),
        (t.prototype.addSystem = function (e, i) {
          var n = new e(this);
          if (this[i])
            throw new Error('Whoops! The name "' + i + '" is already in use');
          this[i] = n;
          for (var s in this.runners) this.runners[s].add(n);
          return this;
        }),
        (t.prototype.render = function (e, i) {
          var n, s, o, l;
          if (
            (i &&
              (i instanceof pi
                ? (Wn(
                    "6.0.0",
                    "Renderer#render arguments changed, use options instead."
                  ),
                  (n = i),
                  (s = arguments[2]),
                  (o = arguments[3]),
                  (l = arguments[4]))
                : ((n = i.renderTexture),
                  (s = i.clear),
                  (o = i.transform),
                  (l = i.skipUpdateTransform))),
            (this.renderingToScreen = !n),
            this.runners.prerender.emit(),
            this.emit("prerender"),
            (this.projection.transform = o),
            !this.context.isLost)
          ) {
            if ((n || (this._lastObjectRendered = e), !l)) {
              var h = e.enableTempParent();
              e.updateTransform(), e.disableTempParent(h);
            }
            this.renderTexture.bind(n),
              this.batch.currentRenderer.start(),
              (s !== void 0 ? s : this.clearBeforeRender) &&
                this.renderTexture.clear(),
              e.render(this),
              this.batch.currentRenderer.flush(),
              n && n.baseTexture.update(),
              this.runners.postrender.emit(),
              (this.projection.transform = null),
              this.emit("postrender");
          }
        }),
        (t.prototype.generateTexture = function (e, i, n, s) {
          i === void 0 && (i = {});
          var o = r.prototype.generateTexture.call(this, e, i, n, s);
          return this.framebuffer.blit(), o;
        }),
        (t.prototype.resize = function (e, i) {
          r.prototype.resize.call(this, e, i),
            this.runners.resize.emit(this.screen.height, this.screen.width);
        }),
        (t.prototype.reset = function () {
          return this.runners.reset.emit(), this;
        }),
        (t.prototype.clear = function () {
          this.renderTexture.bind(), this.renderTexture.clear();
        }),
        (t.prototype.destroy = function (e) {
          this.runners.destroy.emit();
          for (var i in this.runners) this.runners[i].destroy();
          r.prototype.destroy.call(this, e), (this.gl = null);
        }),
        Object.defineProperty(t.prototype, "extract", {
          get: function () {
            return (
              Wn(
                "6.0.0",
                "Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."
              ),
              this.plugins.extract
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.registerPlugin = function (e, i) {
          (t.__plugins = t.__plugins || {}), (t.__plugins[e] = i);
        }),
        t
      );
    })(bE);
  function TE(r) {
    return Lr.create(r);
  }
  var EE = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,
    CE = `attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,
    PE = EE,
    Rp = CE,
    Sl = (function () {
      function r() {
        (this.texArray = null),
          (this.blend = 0),
          (this.type = De.TRIANGLES),
          (this.start = 0),
          (this.size = 0),
          (this.data = null);
      }
      return r;
    })(),
    Ol = (function () {
      function r() {
        (this.elements = []), (this.ids = []), (this.count = 0);
      }
      return (
        (r.prototype.clear = function () {
          for (var t = 0; t < this.count; t++) this.elements[t] = null;
          this.count = 0;
        }),
        r
      );
    })(),
    Ul = (function () {
      function r(t) {
        typeof t == "number"
          ? (this.rawBinaryData = new ArrayBuffer(t))
          : t instanceof Uint8Array
          ? (this.rawBinaryData = t.buffer)
          : (this.rawBinaryData = t),
          (this.uint32View = new Uint32Array(this.rawBinaryData)),
          (this.float32View = new Float32Array(this.rawBinaryData));
      }
      return (
        Object.defineProperty(r.prototype, "int8View", {
          get: function () {
            return (
              this._int8View ||
                (this._int8View = new Int8Array(this.rawBinaryData)),
              this._int8View
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "uint8View", {
          get: function () {
            return (
              this._uint8View ||
                (this._uint8View = new Uint8Array(this.rawBinaryData)),
              this._uint8View
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "int16View", {
          get: function () {
            return (
              this._int16View ||
                (this._int16View = new Int16Array(this.rawBinaryData)),
              this._int16View
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "uint16View", {
          get: function () {
            return (
              this._uint16View ||
                (this._uint16View = new Uint16Array(this.rawBinaryData)),
              this._uint16View
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "int32View", {
          get: function () {
            return (
              this._int32View ||
                (this._int32View = new Int32Array(this.rawBinaryData)),
              this._int32View
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.view = function (t) {
          return this[t + "View"];
        }),
        (r.prototype.destroy = function () {
          (this.rawBinaryData = null),
            (this._int8View = null),
            (this._uint8View = null),
            (this._int16View = null),
            (this._uint16View = null),
            (this._int32View = null),
            (this.uint32View = null),
            (this.float32View = null);
        }),
        (r.sizeOf = function (t) {
          switch (t) {
            case "int8":
            case "uint8":
              return 1;
            case "int16":
            case "uint16":
              return 2;
            case "int32":
            case "uint32":
            case "float32":
              return 4;
            default:
              throw new Error(t + " isn't a valid view type");
          }
        }),
        r
      );
    })(),
    IE = (function (r) {
      Lt(t, r);
      function t(e) {
        var i = r.call(this, e) || this;
        return (
          (i.shaderGenerator = null),
          (i.geometryClass = null),
          (i.vertexSize = null),
          (i.state = vi.for2d()),
          (i.size = Q.SPRITE_BATCH_SIZE * 4),
          (i._vertexCount = 0),
          (i._indexCount = 0),
          (i._bufferedElements = []),
          (i._bufferedTextures = []),
          (i._bufferSize = 0),
          (i._shader = null),
          (i._packedGeometries = []),
          (i._packedGeometryPoolSize = 2),
          (i._flushId = 0),
          (i._aBuffers = {}),
          (i._iBuffers = {}),
          (i.MAX_TEXTURES = 1),
          i.renderer.on("prerender", i.onPrerender, i),
          e.runners.contextChange.add(i),
          (i._dcIndex = 0),
          (i._aIndex = 0),
          (i._iIndex = 0),
          (i._attributeBuffer = null),
          (i._indexBuffer = null),
          (i._tempBoundTextures = []),
          i
        );
      }
      return (
        (t.prototype.contextChange = function () {
          var e = this.renderer.gl;
          Q.PREFER_ENV === hr.WEBGL_LEGACY
            ? (this.MAX_TEXTURES = 1)
            : ((this.MAX_TEXTURES = Math.min(
                e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
                Q.SPRITE_MAX_TEXTURES
              )),
              (this.MAX_TEXTURES = BT(this.MAX_TEXTURES, e))),
            (this._shader = this.shaderGenerator.generateShader(
              this.MAX_TEXTURES
            ));
          for (var i = 0; i < this._packedGeometryPoolSize; i++)
            this._packedGeometries[i] = new this.geometryClass();
          this.initFlushBuffers();
        }),
        (t.prototype.initFlushBuffers = function () {
          for (
            var e = t._drawCallPool,
              i = t._textureArrayPool,
              n = this.size / 4,
              s = Math.floor(n / this.MAX_TEXTURES) + 1;
            e.length < n;

          )
            e.push(new Sl());
          for (; i.length < s; ) i.push(new Ol());
          for (var o = 0; o < this.MAX_TEXTURES; o++)
            this._tempBoundTextures[o] = null;
        }),
        (t.prototype.onPrerender = function () {
          this._flushId = 0;
        }),
        (t.prototype.render = function (e) {
          !e._texture.valid ||
            (this._vertexCount + e.vertexData.length / 2 > this.size &&
              this.flush(),
            (this._vertexCount += e.vertexData.length / 2),
            (this._indexCount += e.indices.length),
            (this._bufferedTextures[this._bufferSize] = e._texture.baseTexture),
            (this._bufferedElements[this._bufferSize++] = e));
        }),
        (t.prototype.buildTexturesAndDrawCalls = function () {
          var e = this,
            i = e._bufferedTextures,
            n = e.MAX_TEXTURES,
            s = t._textureArrayPool,
            o = this.renderer.batch,
            l = this._tempBoundTextures,
            h = this.renderer.textureGC.count,
            f = ++gt._globalBatch,
            p = 0,
            v = s[0],
            _ = 0;
          o.copyBoundTextures(l, n);
          for (var m = 0; m < this._bufferSize; ++m) {
            var g = i[m];
            (i[m] = null),
              g._batchEnabled !== f &&
                (v.count >= n &&
                  (o.boundArray(v, l, f, n),
                  this.buildDrawCalls(v, _, m),
                  (_ = m),
                  (v = s[++p]),
                  ++f),
                (g._batchEnabled = f),
                (g.touched = h),
                (v.elements[v.count++] = g));
          }
          v.count > 0 &&
            (o.boundArray(v, l, f, n),
            this.buildDrawCalls(v, _, this._bufferSize),
            ++p,
            ++f);
          for (var m = 0; m < l.length; m++) l[m] = null;
          gt._globalBatch = f;
        }),
        (t.prototype.buildDrawCalls = function (e, i, n) {
          var s = this,
            o = s._bufferedElements,
            l = s._attributeBuffer,
            h = s._indexBuffer,
            f = s.vertexSize,
            p = t._drawCallPool,
            v = this._dcIndex,
            _ = this._aIndex,
            m = this._iIndex,
            g = p[v];
          (g.start = this._iIndex), (g.texArray = e);
          for (var y = i; y < n; ++y) {
            var b = o[y],
              w = b._texture.baseTexture,
              C = Cf[w.alphaMode ? 1 : 0][b.blendMode];
            (o[y] = null),
              i < y &&
                g.blend !== C &&
                ((g.size = m - g.start),
                (i = y),
                (g = p[++v]),
                (g.texArray = e),
                (g.start = m)),
              this.packInterleavedGeometry(b, l, h, _, m),
              (_ += (b.vertexData.length / 2) * f),
              (m += b.indices.length),
              (g.blend = C);
          }
          i < n && ((g.size = m - g.start), ++v),
            (this._dcIndex = v),
            (this._aIndex = _),
            (this._iIndex = m);
        }),
        (t.prototype.bindAndClearTexArray = function (e) {
          for (var i = this.renderer.texture, n = 0; n < e.count; n++)
            i.bind(e.elements[n], e.ids[n]), (e.elements[n] = null);
          e.count = 0;
        }),
        (t.prototype.updateGeometry = function () {
          var e = this,
            i = e._packedGeometries,
            n = e._attributeBuffer,
            s = e._indexBuffer;
          Q.CAN_UPLOAD_SAME_BUFFER
            ? (i[this._flushId]._buffer.update(n.rawBinaryData),
              i[this._flushId]._indexBuffer.update(s),
              this.renderer.geometry.updateBuffers())
            : (this._packedGeometryPoolSize <= this._flushId &&
                (this._packedGeometryPoolSize++,
                (i[this._flushId] = new this.geometryClass())),
              i[this._flushId]._buffer.update(n.rawBinaryData),
              i[this._flushId]._indexBuffer.update(s),
              this.renderer.geometry.bind(i[this._flushId]),
              this.renderer.geometry.updateBuffers(),
              this._flushId++);
        }),
        (t.prototype.drawBatches = function () {
          for (
            var e = this._dcIndex,
              i = this.renderer,
              n = i.gl,
              s = i.state,
              o = t._drawCallPool,
              l = null,
              h = 0;
            h < e;
            h++
          ) {
            var f = o[h],
              p = f.texArray,
              v = f.type,
              _ = f.size,
              m = f.start,
              g = f.blend;
            l !== p && ((l = p), this.bindAndClearTexArray(p)),
              (this.state.blendMode = g),
              s.set(this.state),
              n.drawElements(v, _, n.UNSIGNED_SHORT, m * 2);
          }
        }),
        (t.prototype.flush = function () {
          this._vertexCount !== 0 &&
            ((this._attributeBuffer = this.getAttributeBuffer(
              this._vertexCount
            )),
            (this._indexBuffer = this.getIndexBuffer(this._indexCount)),
            (this._aIndex = 0),
            (this._iIndex = 0),
            (this._dcIndex = 0),
            this.buildTexturesAndDrawCalls(),
            this.updateGeometry(),
            this.drawBatches(),
            (this._bufferSize = 0),
            (this._vertexCount = 0),
            (this._indexCount = 0));
        }),
        (t.prototype.start = function () {
          this.renderer.state.set(this.state),
            this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),
            this.renderer.shader.bind(this._shader),
            Q.CAN_UPLOAD_SAME_BUFFER &&
              this.renderer.geometry.bind(
                this._packedGeometries[this._flushId]
              );
        }),
        (t.prototype.stop = function () {
          this.flush();
        }),
        (t.prototype.destroy = function () {
          for (var e = 0; e < this._packedGeometryPoolSize; e++)
            this._packedGeometries[e] && this._packedGeometries[e].destroy();
          this.renderer.off("prerender", this.onPrerender, this),
            (this._aBuffers = null),
            (this._iBuffers = null),
            (this._packedGeometries = null),
            (this._attributeBuffer = null),
            (this._indexBuffer = null),
            this._shader && (this._shader.destroy(), (this._shader = null)),
            r.prototype.destroy.call(this);
        }),
        (t.prototype.getAttributeBuffer = function (e) {
          var i = io(Math.ceil(e / 8)),
            n = Nf(i),
            s = i * 8;
          this._aBuffers.length <= n && (this._iBuffers.length = n + 1);
          var o = this._aBuffers[s];
          return (
            o || (this._aBuffers[s] = o = new Ul(s * this.vertexSize * 4)), o
          );
        }),
        (t.prototype.getIndexBuffer = function (e) {
          var i = io(Math.ceil(e / 12)),
            n = Nf(i),
            s = i * 12;
          this._iBuffers.length <= n && (this._iBuffers.length = n + 1);
          var o = this._iBuffers[n];
          return o || (this._iBuffers[n] = o = new Uint16Array(s)), o;
        }),
        (t.prototype.packInterleavedGeometry = function (e, i, n, s, o) {
          for (
            var l = i.uint32View,
              h = i.float32View,
              f = s / this.vertexSize,
              p = e.uvs,
              v = e.indices,
              _ = e.vertexData,
              m = e._texture.baseTexture._batchLocation,
              g = Math.min(e.worldAlpha, 1),
              y =
                g < 1 && e._texture.baseTexture.alphaMode
                  ? ol(e._tintRGB, g)
                  : e._tintRGB + ((g * 255) << 24),
              b = 0;
            b < _.length;
            b += 2
          )
            (h[s++] = _[b]),
              (h[s++] = _[b + 1]),
              (h[s++] = p[b]),
              (h[s++] = p[b + 1]),
              (l[s++] = y),
              (h[s++] = m);
          for (var b = 0; b < v.length; b++) n[o++] = f + v[b];
        }),
        (t._drawCallPool = []),
        (t._textureArrayPool = []),
        t
      );
    })(_o),
    RE = (function () {
      function r(t, e) {
        if (
          ((this.vertexSrc = t),
          (this.fragTemplate = e),
          (this.programCache = {}),
          (this.defaultGroupCache = {}),
          e.indexOf("%count%") < 0)
        )
          throw new Error('Fragment template must contain "%count%".');
        if (e.indexOf("%forloop%") < 0)
          throw new Error('Fragment template must contain "%forloop%".');
      }
      return (
        (r.prototype.generateShader = function (t) {
          if (!this.programCache[t]) {
            for (var e = new Int32Array(t), i = 0; i < t; i++) e[i] = i;
            this.defaultGroupCache[t] = di.from({ uSamplers: e }, !0);
            var n = this.fragTemplate;
            (n = n.replace(/%count%/gi, "" + t)),
              (n = n.replace(/%forloop%/gi, this.generateSampleSrc(t))),
              (this.programCache[t] = new ts(this.vertexSrc, n));
          }
          var s = {
            tint: new Float32Array([1, 1, 1, 1]),
            translationMatrix: new Yt(),
            default: this.defaultGroupCache[t],
          };
          return new dr(this.programCache[t], s);
        }),
        (r.prototype.generateSampleSrc = function (t) {
          var e = "";
          (e += `
`),
            (e += `
`);
          for (var i = 0; i < t; i++)
            i > 0 &&
              (e += `
else `),
              i < t - 1 && (e += "if(vTextureId < " + i + ".5)"),
              (e += `
{`),
              (e +=
                `
	color = texture2D(uSamplers[` +
                i +
                "], vTextureCoord);"),
              (e += `
}`);
          return (
            (e += `
`),
            (e += `
`),
            e
          );
        }),
        r
      );
    })(),
    Ap = (function (r) {
      Lt(t, r);
      function t(e) {
        e === void 0 && (e = !1);
        var i = r.call(this) || this;
        return (
          (i._buffer = new ee(null, e, !1)),
          (i._indexBuffer = new ee(null, e, !0)),
          i
            .addAttribute("aVertexPosition", i._buffer, 2, !1, rt.FLOAT)
            .addAttribute("aTextureCoord", i._buffer, 2, !1, rt.FLOAT)
            .addAttribute("aColor", i._buffer, 4, !0, rt.UNSIGNED_BYTE)
            .addAttribute("aTextureId", i._buffer, 1, !0, rt.FLOAT)
            .addIndex(i._indexBuffer),
          i
        );
      }
      return t;
    })(Zn),
    Np = `precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,
    Sp = `varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,
    AE = (function () {
      function r() {}
      return (
        (r.create = function (t) {
          var e = Object.assign(
              { vertex: Np, fragment: Sp, geometryClass: Ap, vertexSize: 6 },
              t
            ),
            i = e.vertex,
            n = e.fragment,
            s = e.vertexSize,
            o = e.geometryClass;
          return (function (l) {
            Lt(h, l);
            function h(f) {
              var p = l.call(this, f) || this;
              return (
                (p.shaderGenerator = new RE(i, n)),
                (p.geometryClass = o),
                (p.vertexSize = s),
                p
              );
            }
            return h;
          })(IE);
        }),
        Object.defineProperty(r, "defaultVertexSrc", {
          get: function () {
            return Np;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "defaultFragmentTemplate", {
          get: function () {
            return Sp;
          },
          enumerable: !1,
          configurable: !0,
        }),
        r
      );
    })(),
    NE = AE.create();
  /*!
   * @pixi/app - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/app is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var xo = (function () {
      function r(t) {
        var e = this;
        (this.stage = new Te()),
          (t = Object.assign({ forceCanvas: !1 }, t)),
          (this.renderer = TE(t)),
          r._plugins.forEach(function (i) {
            i.init.call(e, t);
          });
      }
      return (
        (r.registerPlugin = function (t) {
          r._plugins.push(t);
        }),
        (r.prototype.render = function () {
          this.renderer.render(this.stage);
        }),
        Object.defineProperty(r.prototype, "view", {
          get: function () {
            return this.renderer.view;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "screen", {
          get: function () {
            return this.renderer.screen;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.destroy = function (t, e) {
          var i = this,
            n = r._plugins.slice(0);
          n.reverse(),
            n.forEach(function (s) {
              s.destroy.call(i);
            }),
            this.stage.destroy(e),
            (this.stage = null),
            this.renderer.destroy(t),
            (this.renderer = null);
        }),
        (r._plugins = []),
        r
      );
    })(),
    SE = (function () {
      function r() {}
      return (
        (r.init = function (t) {
          var e = this;
          Object.defineProperty(this, "resizeTo", {
            set: function (i) {
              globalThis.removeEventListener("resize", this.queueResize),
                (this._resizeTo = i),
                i &&
                  (globalThis.addEventListener("resize", this.queueResize),
                  this.resize());
            },
            get: function () {
              return this._resizeTo;
            },
          }),
            (this.queueResize = function () {
              !e._resizeTo ||
                (e.cancelResize(),
                (e._resizeId = requestAnimationFrame(function () {
                  return e.resize();
                })));
            }),
            (this.cancelResize = function () {
              e._resizeId &&
                (cancelAnimationFrame(e._resizeId), (e._resizeId = null));
            }),
            (this.resize = function () {
              if (!!e._resizeTo) {
                e.cancelResize();
                var i, n;
                if (e._resizeTo === globalThis.window)
                  (i = globalThis.innerWidth), (n = globalThis.innerHeight);
                else {
                  var s = e._resizeTo,
                    o = s.clientWidth,
                    l = s.clientHeight;
                  (i = o), (n = l);
                }
                e.renderer.resize(i, n);
              }
            }),
            (this._resizeId = null),
            (this._resizeTo = null),
            (this.resizeTo = t.resizeTo || null);
        }),
        (r.destroy = function () {
          globalThis.removeEventListener("resize", this.queueResize),
            this.cancelResize(),
            (this.cancelResize = null),
            (this.queueResize = null),
            (this.resizeTo = null),
            (this.resize = null);
        }),
        r
      );
    })();
  xo.registerPlugin(SE);
  /*!
   * @pixi/extract - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/extract is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var Ll = /iPhone/i,
    Op = /iPod/i,
    Up = /iPad/i,
    Lp = /\biOS-universal(?:.+)Mac\b/i,
    Fl = /\bAndroid(?:.+)Mobile\b/i,
    Fp = /Android/i,
    Yi = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
    wo = /Silk/i,
    vr = /Windows Phone/i,
    kp = /\bWindows(?:.+)ARM\b/i,
    Bp = /BlackBerry/i,
    Gp = /BB10/i,
    Mp = /Opera Mini/i,
    Dp = /\b(CriOS|Chrome)(?:.+)Mobile/i,
    Vp = /Mobile(?:.+)Firefox\b/i,
    Hp = function (r) {
      return (
        typeof r != "undefined" &&
        r.platform === "MacIntel" &&
        typeof r.maxTouchPoints == "number" &&
        r.maxTouchPoints > 1 &&
        typeof MSStream == "undefined"
      );
    };
  function OE(r) {
    return function (t) {
      return t.test(r);
    };
  }
  function UE(r) {
    var t = { userAgent: "", platform: "", maxTouchPoints: 0 };
    !r && typeof navigator != "undefined"
      ? (t = {
          userAgent: navigator.userAgent,
          platform: navigator.platform,
          maxTouchPoints: navigator.maxTouchPoints || 0,
        })
      : typeof r == "string"
      ? (t.userAgent = r)
      : r &&
        r.userAgent &&
        (t = {
          userAgent: r.userAgent,
          platform: r.platform,
          maxTouchPoints: r.maxTouchPoints || 0,
        });
    var e = t.userAgent,
      i = e.split("[FBAN");
    typeof i[1] != "undefined" && (e = i[0]),
      (i = e.split("Twitter")),
      typeof i[1] != "undefined" && (e = i[0]);
    var n = OE(e),
      s = {
        apple: {
          phone: n(Ll) && !n(vr),
          ipod: n(Op),
          tablet: !n(Ll) && (n(Up) || Hp(t)) && !n(vr),
          universal: n(Lp),
          device: (n(Ll) || n(Op) || n(Up) || n(Lp) || Hp(t)) && !n(vr),
        },
        amazon: {
          phone: n(Yi),
          tablet: !n(Yi) && n(wo),
          device: n(Yi) || n(wo),
        },
        android: {
          phone: (!n(vr) && n(Yi)) || (!n(vr) && n(Fl)),
          tablet: !n(vr) && !n(Yi) && !n(Fl) && (n(wo) || n(Fp)),
          device:
            (!n(vr) && (n(Yi) || n(wo) || n(Fl) || n(Fp))) || n(/\bokhttp\b/i),
        },
        windows: { phone: n(vr), tablet: n(kp), device: n(vr) || n(kp) },
        other: {
          blackberry: n(Bp),
          blackberry10: n(Gp),
          opera: n(Mp),
          firefox: n(Vp),
          chrome: n(Dp),
          device: n(Bp) || n(Gp) || n(Mp) || n(Vp) || n(Dp),
        },
        any: !1,
        phone: !1,
        tablet: !1,
      };
    return (
      (s.any =
        s.apple.device ||
        s.android.device ||
        s.windows.device ||
        s.other.device),
      (s.phone = s.apple.phone || s.android.phone || s.windows.phone),
      (s.tablet = s.apple.tablet || s.android.tablet || s.windows.tablet),
      s
    );
  }
  /*!
   * @pixi/settings - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/settings is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var qi = UE(globalThis.navigator);
  function LE(r) {
    var t = !0;
    if (qi.tablet || qi.phone) {
      if (qi.apple.device) {
        var e = navigator.userAgent.match(/OS (\d+)_(\d+)?/);
        if (e) {
          var i = parseInt(e[1], 10);
          i < 11 && (t = !1);
        }
      }
      if (qi.android.device) {
        var e = navigator.userAgent.match(/Android\s([0-9.]*)/);
        if (e) {
          var i = parseInt(e[1], 10);
          i < 7 && (t = !1);
        }
      }
    }
    return t ? r : 4;
  }
  function FE() {
    return !qi.apple.device;
  }
  /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var Xp;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(Xp || (Xp = {}));
  var $p;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })($p || ($p = {}));
  var jp;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(jp || (jp = {}));
  var zp;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(zp || (zp = {}));
  var Wp;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(Wp || (Wp = {}));
  var Yp;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })(Yp || (Yp = {}));
  var qp;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })(qp || (qp = {}));
  var Kp;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(Kp || (Kp = {}));
  var Zp;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(Zp || (Zp = {}));
  var kl;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(kl || (kl = {}));
  var Bl;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(Bl || (Bl = {}));
  var Gl;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(Gl || (Gl = {}));
  var Jp;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(Jp || (Jp = {}));
  var Qp;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(Qp || (Qp = {}));
  var Ml;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(Ml || (Ml = {}));
  var rs;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(rs || (rs = {}));
  var td;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(td || (td = {}));
  var Dl;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(Dl || (Dl = {}));
  var ed;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(ed || (ed = {}));
  var rd = {
    MIPMAP_TEXTURES: Gl.POW2,
    ANISOTROPIC_LEVEL: 0,
    RESOLUTION: 1,
    FILTER_RESOLUTION: 1,
    FILTER_MULTISAMPLE: Dl.NONE,
    SPRITE_MAX_TEXTURES: LE(32),
    SPRITE_BATCH_SIZE: 4096,
    RENDER_OPTIONS: {
      view: null,
      antialias: !1,
      autoDensity: !1,
      backgroundColor: 0,
      backgroundAlpha: 1,
      useContextAlpha: !0,
      clearBeforeRender: !0,
      preserveDrawingBuffer: !1,
      width: 800,
      height: 600,
      legacy: !1,
    },
    GC_MODE: Ml.AUTO,
    GC_MAX_IDLE: 60 * 60,
    GC_MAX_CHECK_COUNT: 60 * 10,
    WRAP_MODE: Bl.CLAMP,
    SCALE_MODE: kl.LINEAR,
    PRECISION_VERTEX: rs.HIGH,
    PRECISION_FRAGMENT: qi.apple.device ? rs.HIGH : rs.MEDIUM,
    CAN_UPLOAD_SAME_BUFFER: FE(),
    CREATE_IMAGE_BITMAP: !1,
    ROUND_PIXELS: !1,
  };
  /*!
   * @pixi/display - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/display is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ rd.SORTABLE_CHILDREN = !1;
  var id = (function () {
    function r() {
      (this.minX = 1 / 0),
        (this.minY = 1 / 0),
        (this.maxX = -1 / 0),
        (this.maxY = -1 / 0),
        (this.rect = null),
        (this.updateID = -1);
    }
    return (
      (r.prototype.isEmpty = function () {
        return this.minX > this.maxX || this.minY > this.maxY;
      }),
      (r.prototype.clear = function () {
        (this.minX = 1 / 0),
          (this.minY = 1 / 0),
          (this.maxX = -1 / 0),
          (this.maxY = -1 / 0);
      }),
      (r.prototype.getRectangle = function (t) {
        return this.minX > this.maxX || this.minY > this.maxY
          ? ft.EMPTY
          : ((t = t || new ft(0, 0, 1, 1)),
            (t.x = this.minX),
            (t.y = this.minY),
            (t.width = this.maxX - this.minX),
            (t.height = this.maxY - this.minY),
            t);
      }),
      (r.prototype.addPoint = function (t) {
        (this.minX = Math.min(this.minX, t.x)),
          (this.maxX = Math.max(this.maxX, t.x)),
          (this.minY = Math.min(this.minY, t.y)),
          (this.maxY = Math.max(this.maxY, t.y));
      }),
      (r.prototype.addPointMatrix = function (t, e) {
        var i = t.a,
          n = t.b,
          s = t.c,
          o = t.d,
          l = t.tx,
          h = t.ty,
          f = i * e.x + s * e.y + l,
          p = n * e.x + o * e.y + h;
        (this.minX = Math.min(this.minX, f)),
          (this.maxX = Math.max(this.maxX, f)),
          (this.minY = Math.min(this.minY, p)),
          (this.maxY = Math.max(this.maxY, p));
      }),
      (r.prototype.addQuad = function (t) {
        var e = this.minX,
          i = this.minY,
          n = this.maxX,
          s = this.maxY,
          o = t[0],
          l = t[1];
        (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (o = t[2]),
          (l = t[3]),
          (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (o = t[4]),
          (l = t[5]),
          (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (o = t[6]),
          (l = t[7]),
          (e = o < e ? o : e),
          (i = l < i ? l : i),
          (n = o > n ? o : n),
          (s = l > s ? l : s),
          (this.minX = e),
          (this.minY = i),
          (this.maxX = n),
          (this.maxY = s);
      }),
      (r.prototype.addFrame = function (t, e, i, n, s) {
        this.addFrameMatrix(t.worldTransform, e, i, n, s);
      }),
      (r.prototype.addFrameMatrix = function (t, e, i, n, s) {
        var o = t.a,
          l = t.b,
          h = t.c,
          f = t.d,
          p = t.tx,
          v = t.ty,
          _ = this.minX,
          m = this.minY,
          g = this.maxX,
          y = this.maxY,
          b = o * e + h * i + p,
          w = l * e + f * i + v;
        (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (b = o * n + h * i + p),
          (w = l * n + f * i + v),
          (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (b = o * e + h * s + p),
          (w = l * e + f * s + v),
          (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (b = o * n + h * s + p),
          (w = l * n + f * s + v),
          (_ = b < _ ? b : _),
          (m = w < m ? w : m),
          (g = b > g ? b : g),
          (y = w > y ? w : y),
          (this.minX = _),
          (this.minY = m),
          (this.maxX = g),
          (this.maxY = y);
      }),
      (r.prototype.addVertexData = function (t, e, i) {
        for (
          var n = this.minX, s = this.minY, o = this.maxX, l = this.maxY, h = e;
          h < i;
          h += 2
        ) {
          var f = t[h],
            p = t[h + 1];
          (n = f < n ? f : n),
            (s = p < s ? p : s),
            (o = f > o ? f : o),
            (l = p > l ? p : l);
        }
        (this.minX = n), (this.minY = s), (this.maxX = o), (this.maxY = l);
      }),
      (r.prototype.addVertices = function (t, e, i, n) {
        this.addVerticesMatrix(t.worldTransform, e, i, n);
      }),
      (r.prototype.addVerticesMatrix = function (t, e, i, n, s, o) {
        s === void 0 && (s = 0), o === void 0 && (o = s);
        for (
          var l = t.a,
            h = t.b,
            f = t.c,
            p = t.d,
            v = t.tx,
            _ = t.ty,
            m = this.minX,
            g = this.minY,
            y = this.maxX,
            b = this.maxY,
            w = i;
          w < n;
          w += 2
        ) {
          var C = e[w],
            T = e[w + 1],
            A = l * C + f * T + v,
            I = p * T + h * C + _;
          (m = Math.min(m, A - s)),
            (y = Math.max(y, A + s)),
            (g = Math.min(g, I - o)),
            (b = Math.max(b, I + o));
        }
        (this.minX = m), (this.minY = g), (this.maxX = y), (this.maxY = b);
      }),
      (r.prototype.addBounds = function (t) {
        var e = this.minX,
          i = this.minY,
          n = this.maxX,
          s = this.maxY;
        (this.minX = t.minX < e ? t.minX : e),
          (this.minY = t.minY < i ? t.minY : i),
          (this.maxX = t.maxX > n ? t.maxX : n),
          (this.maxY = t.maxY > s ? t.maxY : s);
      }),
      (r.prototype.addBoundsMask = function (t, e) {
        var i = t.minX > e.minX ? t.minX : e.minX,
          n = t.minY > e.minY ? t.minY : e.minY,
          s = t.maxX < e.maxX ? t.maxX : e.maxX,
          o = t.maxY < e.maxY ? t.maxY : e.maxY;
        if (i <= s && n <= o) {
          var l = this.minX,
            h = this.minY,
            f = this.maxX,
            p = this.maxY;
          (this.minX = i < l ? i : l),
            (this.minY = n < h ? n : h),
            (this.maxX = s > f ? s : f),
            (this.maxY = o > p ? o : p);
        }
      }),
      (r.prototype.addBoundsMatrix = function (t, e) {
        this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY);
      }),
      (r.prototype.addBoundsArea = function (t, e) {
        var i = t.minX > e.x ? t.minX : e.x,
          n = t.minY > e.y ? t.minY : e.y,
          s = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
          o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
        if (i <= s && n <= o) {
          var l = this.minX,
            h = this.minY,
            f = this.maxX,
            p = this.maxY;
          (this.minX = i < l ? i : l),
            (this.minY = n < h ? n : h),
            (this.maxX = s > f ? s : f),
            (this.maxY = o > p ? o : p);
        }
      }),
      (r.prototype.pad = function (t, e) {
        t === void 0 && (t = 0),
          e === void 0 && (e = t),
          this.isEmpty() ||
            ((this.minX -= t),
            (this.maxX += t),
            (this.minY -= e),
            (this.maxY += e));
      }),
      (r.prototype.addFramePad = function (t, e, i, n, s, o) {
        (t -= s),
          (e -= o),
          (i += s),
          (n += o),
          (this.minX = this.minX < t ? this.minX : t),
          (this.maxX = this.maxX > i ? this.maxX : i),
          (this.minY = this.minY < e ? this.minY : e),
          (this.maxY = this.maxY > n ? this.maxY : n);
      }),
      r
    );
  })();
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var Vl =
    function (r, t) {
      return (
        (Vl =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        Vl(r, t)
      );
    };
  function Hl(r, t) {
    Vl(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var is = (function (r) {
      Hl(t, r);
      function t() {
        var e = r.call(this) || this;
        return (
          (e.tempDisplayObjectParent = null),
          (e.transform = new ll()),
          (e.alpha = 1),
          (e.visible = !0),
          (e.renderable = !0),
          (e.cullable = !1),
          (e.cullArea = null),
          (e.parent = null),
          (e.worldAlpha = 1),
          (e._lastSortedIndex = 0),
          (e._zIndex = 0),
          (e.filterArea = null),
          (e.filters = null),
          (e._enabledFilters = null),
          (e._bounds = new id()),
          (e._localBounds = null),
          (e._boundsID = 0),
          (e._boundsRect = null),
          (e._localBoundsRect = null),
          (e._mask = null),
          (e._maskRefCount = 0),
          (e._destroyed = !1),
          (e.isSprite = !1),
          (e.isMask = !1),
          e
        );
      }
      return (
        (t.mixin = function (e) {
          for (var i = Object.keys(e), n = 0; n < i.length; ++n) {
            var s = i[n];
            Object.defineProperty(
              t.prototype,
              s,
              Object.getOwnPropertyDescriptor(e, s)
            );
          }
        }),
        Object.defineProperty(t.prototype, "destroyed", {
          get: function () {
            return this._destroyed;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype._recursivePostUpdateTransform = function () {
          this.parent
            ? (this.parent._recursivePostUpdateTransform(),
              this.transform.updateTransform(this.parent.transform))
            : this.transform.updateTransform(
                this._tempDisplayObjectParent.transform
              );
        }),
        (t.prototype.updateTransform = function () {
          this._boundsID++,
            this.transform.updateTransform(this.parent.transform),
            (this.worldAlpha = this.alpha * this.parent.worldAlpha);
        }),
        (t.prototype.getBounds = function (e, i) {
          return (
            e ||
              (this.parent
                ? (this._recursivePostUpdateTransform(), this.updateTransform())
                : ((this.parent = this._tempDisplayObjectParent),
                  this.updateTransform(),
                  (this.parent = null))),
            this._bounds.updateID !== this._boundsID &&
              (this.calculateBounds(),
              (this._bounds.updateID = this._boundsID)),
            i ||
              (this._boundsRect || (this._boundsRect = new ft()),
              (i = this._boundsRect)),
            this._bounds.getRectangle(i)
          );
        }),
        (t.prototype.getLocalBounds = function (e) {
          e ||
            (this._localBoundsRect || (this._localBoundsRect = new ft()),
            (e = this._localBoundsRect)),
            this._localBounds || (this._localBounds = new id());
          var i = this.transform,
            n = this.parent;
          (this.parent = null),
            (this.transform = this._tempDisplayObjectParent.transform);
          var s = this._bounds,
            o = this._boundsID;
          this._bounds = this._localBounds;
          var l = this.getBounds(!1, e);
          return (
            (this.parent = n),
            (this.transform = i),
            (this._bounds = s),
            (this._bounds.updateID += this._boundsID - o),
            l
          );
        }),
        (t.prototype.toGlobal = function (e, i, n) {
          return (
            n === void 0 && (n = !1),
            n ||
              (this._recursivePostUpdateTransform(),
              this.parent
                ? this.displayObjectUpdateTransform()
                : ((this.parent = this._tempDisplayObjectParent),
                  this.displayObjectUpdateTransform(),
                  (this.parent = null))),
            this.worldTransform.apply(e, i)
          );
        }),
        (t.prototype.toLocal = function (e, i, n, s) {
          return (
            i && (e = i.toGlobal(e, n, s)),
            s ||
              (this._recursivePostUpdateTransform(),
              this.parent
                ? this.displayObjectUpdateTransform()
                : ((this.parent = this._tempDisplayObjectParent),
                  this.displayObjectUpdateTransform(),
                  (this.parent = null))),
            this.worldTransform.applyInverse(e, n)
          );
        }),
        (t.prototype.setParent = function (e) {
          if (!e || !e.addChild)
            throw new Error("setParent: Argument must be a Container");
          return e.addChild(this), e;
        }),
        (t.prototype.setTransform = function (e, i, n, s, o, l, h, f, p) {
          return (
            e === void 0 && (e = 0),
            i === void 0 && (i = 0),
            n === void 0 && (n = 1),
            s === void 0 && (s = 1),
            o === void 0 && (o = 0),
            l === void 0 && (l = 0),
            h === void 0 && (h = 0),
            f === void 0 && (f = 0),
            p === void 0 && (p = 0),
            (this.position.x = e),
            (this.position.y = i),
            (this.scale.x = n || 1),
            (this.scale.y = s || 1),
            (this.rotation = o),
            (this.skew.x = l),
            (this.skew.y = h),
            (this.pivot.x = f),
            (this.pivot.y = p),
            this
          );
        }),
        (t.prototype.destroy = function (e) {
          this.parent && this.parent.removeChild(this),
            (this._destroyed = !0),
            (this.transform = null),
            (this.parent = null),
            (this._bounds = null),
            (this.mask = null),
            (this.cullArea = null),
            (this.filters = null),
            (this.filterArea = null),
            (this.hitArea = null),
            (this.interactive = !1),
            (this.interactiveChildren = !1),
            this.emit("destroyed"),
            this.removeAllListeners();
        }),
        Object.defineProperty(t.prototype, "_tempDisplayObjectParent", {
          get: function () {
            return (
              this.tempDisplayObjectParent === null &&
                (this.tempDisplayObjectParent = new kE()),
              this.tempDisplayObjectParent
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.enableTempParent = function () {
          var e = this.parent;
          return (this.parent = this._tempDisplayObjectParent), e;
        }),
        (t.prototype.disableTempParent = function (e) {
          this.parent = e;
        }),
        Object.defineProperty(t.prototype, "x", {
          get: function () {
            return this.position.x;
          },
          set: function (e) {
            this.transform.position.x = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "y", {
          get: function () {
            return this.position.y;
          },
          set: function (e) {
            this.transform.position.y = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "worldTransform", {
          get: function () {
            return this.transform.worldTransform;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "localTransform", {
          get: function () {
            return this.transform.localTransform;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "position", {
          get: function () {
            return this.transform.position;
          },
          set: function (e) {
            this.transform.position.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "scale", {
          get: function () {
            return this.transform.scale;
          },
          set: function (e) {
            this.transform.scale.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "pivot", {
          get: function () {
            return this.transform.pivot;
          },
          set: function (e) {
            this.transform.pivot.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "skew", {
          get: function () {
            return this.transform.skew;
          },
          set: function (e) {
            this.transform.skew.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "rotation", {
          get: function () {
            return this.transform.rotation;
          },
          set: function (e) {
            this.transform.rotation = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "angle", {
          get: function () {
            return this.transform.rotation * Lf;
          },
          set: function (e) {
            this.transform.rotation = e * Ff;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "zIndex", {
          get: function () {
            return this._zIndex;
          },
          set: function (e) {
            (this._zIndex = e), this.parent && (this.parent.sortDirty = !0);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "worldVisible", {
          get: function () {
            var e = this;
            do {
              if (!e.visible) return !1;
              e = e.parent;
            } while (e);
            return !0;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "mask", {
          get: function () {
            return this._mask;
          },
          set: function (e) {
            if (this._mask !== e) {
              if (this._mask) {
                var i = this._mask.maskObject || this._mask;
                i._maskRefCount--,
                  i._maskRefCount === 0 &&
                    ((i.renderable = !0), (i.isMask = !1));
              }
              if (((this._mask = e), this._mask)) {
                var i = this._mask.maskObject || this._mask;
                i._maskRefCount === 0 && ((i.renderable = !1), (i.isMask = !0)),
                  i._maskRefCount++;
              }
            }
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Di),
    kE = (function (r) {
      Hl(t, r);
      function t() {
        var e = (r !== null && r.apply(this, arguments)) || this;
        return (e.sortDirty = null), e;
      }
      return t;
    })(is);
  is.prototype.displayObjectUpdateTransform = is.prototype.updateTransform;
  /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var nd;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(nd || (nd = {}));
  var sd;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })(sd || (sd = {}));
  var od;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(od || (od = {}));
  var ad;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(ad || (ad = {}));
  var ld;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(ld || (ld = {}));
  var ud;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })(ud || (ud = {}));
  var hd;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })(hd || (hd = {}));
  var cd;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(cd || (cd = {}));
  var fd;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(fd || (fd = {}));
  var pd;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(pd || (pd = {}));
  var dd;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(dd || (dd = {}));
  var vd;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(vd || (vd = {}));
  var _d;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(_d || (_d = {}));
  var md;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(md || (md = {}));
  var gd;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(gd || (gd = {}));
  var yd;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(yd || (yd = {}));
  var Xl;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(Xl || (Xl = {}));
  var bd;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(bd || (bd = {}));
  var xd;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(xd || (xd = {}));
  function BE(r, t) {
    return r.zIndex === t.zIndex
      ? r._lastSortedIndex - t._lastSortedIndex
      : r.zIndex - t.zIndex;
  }
  var wd = (function (r) {
    Hl(t, r);
    function t() {
      var e = r.call(this) || this;
      return (
        (e.children = []),
        (e.sortableChildren = rd.SORTABLE_CHILDREN),
        (e.sortDirty = !1),
        e
      );
    }
    return (
      (t.prototype.onChildrenChange = function (e) {}),
      (t.prototype.addChild = function () {
        for (var e = arguments, i = [], n = 0; n < arguments.length; n++)
          i[n] = e[n];
        if (i.length > 1)
          for (var s = 0; s < i.length; s++) this.addChild(i[s]);
        else {
          var o = i[0];
          o.parent && o.parent.removeChild(o),
            (o.parent = this),
            (this.sortDirty = !0),
            (o.transform._parentID = -1),
            this.children.push(o),
            this._boundsID++,
            this.onChildrenChange(this.children.length - 1),
            this.emit("childAdded", o, this, this.children.length - 1),
            o.emit("added", this);
        }
        return i[0];
      }),
      (t.prototype.addChildAt = function (e, i) {
        if (i < 0 || i > this.children.length)
          throw new Error(
            e +
              "addChildAt: The index " +
              i +
              " supplied is out of bounds " +
              this.children.length
          );
        return (
          e.parent && e.parent.removeChild(e),
          (e.parent = this),
          (this.sortDirty = !0),
          (e.transform._parentID = -1),
          this.children.splice(i, 0, e),
          this._boundsID++,
          this.onChildrenChange(i),
          e.emit("added", this),
          this.emit("childAdded", e, this, i),
          e
        );
      }),
      (t.prototype.swapChildren = function (e, i) {
        if (e !== i) {
          var n = this.getChildIndex(e),
            s = this.getChildIndex(i);
          (this.children[n] = i),
            (this.children[s] = e),
            this.onChildrenChange(n < s ? n : s);
        }
      }),
      (t.prototype.getChildIndex = function (e) {
        var i = this.children.indexOf(e);
        if (i === -1)
          throw new Error(
            "The supplied DisplayObject must be a child of the caller"
          );
        return i;
      }),
      (t.prototype.setChildIndex = function (e, i) {
        if (i < 0 || i >= this.children.length)
          throw new Error(
            "The index " +
              i +
              " supplied is out of bounds " +
              this.children.length
          );
        var n = this.getChildIndex(e);
        fr(this.children, n, 1),
          this.children.splice(i, 0, e),
          this.onChildrenChange(i);
      }),
      (t.prototype.getChildAt = function (e) {
        if (e < 0 || e >= this.children.length)
          throw new Error("getChildAt: Index (" + e + ") does not exist.");
        return this.children[e];
      }),
      (t.prototype.removeChild = function () {
        for (var e = arguments, i = [], n = 0; n < arguments.length; n++)
          i[n] = e[n];
        if (i.length > 1)
          for (var s = 0; s < i.length; s++) this.removeChild(i[s]);
        else {
          var o = i[0],
            l = this.children.indexOf(o);
          if (l === -1) return null;
          (o.parent = null),
            (o.transform._parentID = -1),
            fr(this.children, l, 1),
            this._boundsID++,
            this.onChildrenChange(l),
            o.emit("removed", this),
            this.emit("childRemoved", o, this, l);
        }
        return i[0];
      }),
      (t.prototype.removeChildAt = function (e) {
        var i = this.getChildAt(e);
        return (
          (i.parent = null),
          (i.transform._parentID = -1),
          fr(this.children, e, 1),
          this._boundsID++,
          this.onChildrenChange(e),
          i.emit("removed", this),
          this.emit("childRemoved", i, this, e),
          i
        );
      }),
      (t.prototype.removeChildren = function (e, i) {
        e === void 0 && (e = 0), i === void 0 && (i = this.children.length);
        var n = e,
          s = i,
          o = s - n,
          l;
        if (o > 0 && o <= s) {
          l = this.children.splice(n, o);
          for (var h = 0; h < l.length; ++h)
            (l[h].parent = null),
              l[h].transform && (l[h].transform._parentID = -1);
          this._boundsID++, this.onChildrenChange(e);
          for (var h = 0; h < l.length; ++h)
            l[h].emit("removed", this),
              this.emit("childRemoved", l[h], this, h);
          return l;
        } else if (o === 0 && this.children.length === 0) return [];
        throw new RangeError(
          "removeChildren: numeric values are outside the acceptable range."
        );
      }),
      (t.prototype.sortChildren = function () {
        for (var e = !1, i = 0, n = this.children.length; i < n; ++i) {
          var s = this.children[i];
          (s._lastSortedIndex = i), !e && s.zIndex !== 0 && (e = !0);
        }
        e && this.children.length > 1 && this.children.sort(BE),
          (this.sortDirty = !1);
      }),
      (t.prototype.updateTransform = function () {
        this.sortableChildren && this.sortDirty && this.sortChildren(),
          this._boundsID++,
          this.transform.updateTransform(this.parent.transform),
          (this.worldAlpha = this.alpha * this.parent.worldAlpha);
        for (var e = 0, i = this.children.length; e < i; ++e) {
          var n = this.children[e];
          n.visible && n.updateTransform();
        }
      }),
      (t.prototype.calculateBounds = function () {
        this._bounds.clear(), this._calculateBounds();
        for (var e = 0; e < this.children.length; e++) {
          var i = this.children[e];
          if (!(!i.visible || !i.renderable))
            if ((i.calculateBounds(), i._mask)) {
              var n = i._mask.maskObject || i._mask;
              n.calculateBounds(),
                this._bounds.addBoundsMask(i._bounds, n._bounds);
            } else
              i.filterArea
                ? this._bounds.addBoundsArea(i._bounds, i.filterArea)
                : this._bounds.addBounds(i._bounds);
        }
        this._bounds.updateID = this._boundsID;
      }),
      (t.prototype.getLocalBounds = function (e, i) {
        i === void 0 && (i = !1);
        var n = r.prototype.getLocalBounds.call(this, e);
        if (!i)
          for (var s = 0, o = this.children.length; s < o; ++s) {
            var l = this.children[s];
            l.visible && l.updateTransform();
          }
        return n;
      }),
      (t.prototype._calculateBounds = function () {}),
      (t.prototype._renderWithCulling = function (e) {
        var i = e.renderTexture.sourceFrame;
        if (i.width > 0 && i.height > 0) {
          var n, s;
          if (
            (this.cullArea
              ? ((n = this.cullArea), (s = this.worldTransform))
              : this._render !== t.prototype._render &&
                (n = this.getBounds(!0)),
            n && i.intersects(n, s))
          )
            this._render(e);
          else if (this.cullArea) return;
          for (var o = 0, l = this.children.length; o < l; ++o) {
            var h = this.children[o],
              f = h.cullable;
            (h.cullable = f || !this.cullArea), h.render(e), (h.cullable = f);
          }
        }
      }),
      (t.prototype.render = function (e) {
        if (!(!this.visible || this.worldAlpha <= 0 || !this.renderable))
          if (this._mask || (this.filters && this.filters.length))
            this.renderAdvanced(e);
          else if (this.cullable) this._renderWithCulling(e);
          else {
            this._render(e);
            for (var i = 0, n = this.children.length; i < n; ++i)
              this.children[i].render(e);
          }
      }),
      (t.prototype.renderAdvanced = function (e) {
        var i = this.filters,
          n = this._mask;
        if (i) {
          this._enabledFilters || (this._enabledFilters = []),
            (this._enabledFilters.length = 0);
          for (var s = 0; s < i.length; s++)
            i[s].enabled && this._enabledFilters.push(i[s]);
        }
        var o =
          (i && this._enabledFilters && this._enabledFilters.length) ||
          (n &&
            (!n.isMaskData ||
              (n.enabled && (n.autoDetect || n.type !== Xl.NONE))));
        if (
          (o && e.batch.flush(),
          i &&
            this._enabledFilters &&
            this._enabledFilters.length &&
            e.filter.push(this, this._enabledFilters),
          n && e.mask.push(this, this._mask),
          this.cullable)
        )
          this._renderWithCulling(e);
        else {
          this._render(e);
          for (var s = 0, l = this.children.length; s < l; ++s)
            this.children[s].render(e);
        }
        o && e.batch.flush(),
          n && e.mask.pop(this),
          i &&
            this._enabledFilters &&
            this._enabledFilters.length &&
            e.filter.pop();
      }),
      (t.prototype._render = function (e) {}),
      (t.prototype.destroy = function (e) {
        r.prototype.destroy.call(this), (this.sortDirty = !1);
        var i = typeof e == "boolean" ? e : e && e.children,
          n = this.removeChildren(0, this.children.length);
        if (i) for (var s = 0; s < n.length; ++s) n[s].destroy(e);
      }),
      Object.defineProperty(t.prototype, "width", {
        get: function () {
          return this.scale.x * this.getLocalBounds().width;
        },
        set: function (e) {
          var i = this.getLocalBounds().width;
          i !== 0 ? (this.scale.x = e / i) : (this.scale.x = 1),
            (this._width = e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "height", {
        get: function () {
          return this.scale.y * this.getLocalBounds().height;
        },
        set: function (e) {
          var i = this.getLocalBounds().height;
          i !== 0 ? (this.scale.y = e / i) : (this.scale.y = 1),
            (this._height = e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(is);
  wd.prototype.containerUpdateTransform = wd.prototype.updateTransform;
  var $l = new ft(),
    Td = 4,
    GE = (function () {
      function r(t) {
        this.renderer = t;
      }
      return (
        (r.prototype.image = function (t, e, i) {
          var n = new Image();
          return (n.src = this.base64(t, e, i)), n;
        }),
        (r.prototype.base64 = function (t, e, i) {
          return this.canvas(t).toDataURL(e, i);
        }),
        (r.prototype.canvas = function (t) {
          var e = this.renderer,
            i,
            n,
            s = !1,
            o,
            l = !1;
          t &&
            (t instanceof pi
              ? (o = t)
              : ((o = this.renderer.generateTexture(t)), (l = !0))),
            o
              ? ((i = o.baseTexture.resolution),
                (n = o.frame),
                (s = !1),
                e.renderTexture.bind(o))
              : ((i = this.renderer.resolution),
                (s = !0),
                (n = $l),
                (n.width = this.renderer.width),
                (n.height = this.renderer.height),
                e.renderTexture.bind(null));
          var h = Math.floor(n.width * i + 1e-4),
            f = Math.floor(n.height * i + 1e-4),
            p = new Uf(h, f, 1),
            v = new Uint8Array(Td * h * f),
            _ = e.gl;
          _.readPixels(n.x * i, n.y * i, h, f, _.RGBA, _.UNSIGNED_BYTE, v);
          var m = p.context.getImageData(0, 0, h, f);
          if (
            (r.arrayPostDivide(v, m.data), p.context.putImageData(m, 0, 0), s)
          ) {
            var g = new Uf(p.width, p.height, 1);
            g.context.scale(1, -1),
              g.context.drawImage(p.canvas, 0, -f),
              p.destroy(),
              (p = g);
          }
          return l && o.destroy(!0), p.canvas;
        }),
        (r.prototype.pixels = function (t, e) {
          var i = this.renderer,
            n,
            s,
            o,
            l = !1;
          t &&
            (t instanceof pi
              ? (o = t)
              : t instanceof is &&
                ((o = this.renderer.generateTexture(t)), (l = !0))),
            o
              ? e
                ? ((n = e.resolution), (s = o.frame), i.renderTexture.bind(o))
                : ((n = o.baseTexture.resolution),
                  (s = o.frame),
                  i.renderTexture.bind(o))
              : e
              ? ((n = e.resolution),
                (s = $l),
                (s.width = e.width),
                (s.height = e.height),
                i.renderTexture.bind(null))
              : ((n = i.resolution),
                (s = $l),
                (s.width = i.width),
                (s.height = i.height),
                i.renderTexture.bind(null));
          var h = s.width * n,
            f = s.height * n,
            p = new Uint8Array(Td * h * f),
            v = i.gl;
          return (
            v.readPixels(s.x * n, s.y * n, h, f, v.RGBA, v.UNSIGNED_BYTE, p),
            l && o.destroy(!0),
            r.arrayPostDivide(p, p),
            p
          );
        }),
        (r.prototype.destroy = function () {
          this.renderer = null;
        }),
        (r.arrayPostDivide = function (t, e) {
          for (var i = 0; i < t.length; i += 4) {
            var n = (e[i + 3] = t[i + 3]);
            n !== 0
              ? ((e[i] = Math.round(Math.min((t[i] * 255) / n, 255))),
                (e[i + 1] = Math.round(Math.min((t[i + 1] * 255) / n, 255))),
                (e[i + 2] = Math.round(Math.min((t[i + 2] * 255) / n, 255))))
              : ((e[i] = t[i]), (e[i + 1] = t[i + 1]), (e[i + 2] = t[i + 2]));
          }
        }),
        r
      );
    })();
  /*!
   * @pixi/loaders - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/loaders is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var To = (function () {
    function r(t, e, i) {
      e === void 0 && (e = !1),
        (this._fn = t),
        (this._once = e),
        (this._thisArg = i),
        (this._next = this._prev = this._owner = null);
    }
    return (
      (r.prototype.detach = function () {
        return this._owner === null ? !1 : (this._owner.detach(this), !0);
      }),
      r
    );
  })();
  function Ed(r, t) {
    return (
      r._head
        ? ((r._tail._next = t), (t._prev = r._tail), (r._tail = t))
        : ((r._head = t), (r._tail = t)),
      (t._owner = r),
      t
    );
  }
  var _r = (function () {
    function r() {
      this._head = this._tail = void 0;
    }
    return (
      (r.prototype.handlers = function (t) {
        t === void 0 && (t = !1);
        var e = this._head;
        if (t) return !!e;
        for (var i = []; e; ) i.push(e), (e = e._next);
        return i;
      }),
      (r.prototype.has = function (t) {
        if (!(t instanceof To))
          throw new Error(
            "MiniSignal#has(): First arg must be a SignalBinding object."
          );
        return t._owner === this;
      }),
      (r.prototype.dispatch = function () {
        for (var t = arguments, e = [], i = 0; i < arguments.length; i++)
          e[i] = t[i];
        var n = this._head;
        if (!n) return !1;
        for (; n; )
          n._once && this.detach(n), n._fn.apply(n._thisArg, e), (n = n._next);
        return !0;
      }),
      (r.prototype.add = function (t, e) {
        if ((e === void 0 && (e = null), typeof t != "function"))
          throw new Error("MiniSignal#add(): First arg must be a Function.");
        return Ed(this, new To(t, !1, e));
      }),
      (r.prototype.once = function (t, e) {
        if ((e === void 0 && (e = null), typeof t != "function"))
          throw new Error("MiniSignal#once(): First arg must be a Function.");
        return Ed(this, new To(t, !0, e));
      }),
      (r.prototype.detach = function (t) {
        if (!(t instanceof To))
          throw new Error(
            "MiniSignal#detach(): First arg must be a SignalBinding object."
          );
        return t._owner !== this
          ? this
          : (t._prev && (t._prev._next = t._next),
            t._next && (t._next._prev = t._prev),
            t === this._head
              ? ((this._head = t._next),
                t._next === null && (this._tail = null))
              : t === this._tail &&
                ((this._tail = t._prev), (this._tail._next = null)),
            (t._owner = null),
            this);
      }),
      (r.prototype.detachAll = function () {
        var t = this._head;
        if (!t) return this;
        for (this._head = this._tail = null; t; )
          (t._owner = null), (t = t._next);
        return this;
      }),
      r
    );
  })();
  function Cd(r, t) {
    t = t || {};
    for (
      var e = {
          key: [
            "source",
            "protocol",
            "authority",
            "userInfo",
            "user",
            "password",
            "host",
            "port",
            "relative",
            "path",
            "directory",
            "file",
            "query",
            "anchor",
          ],
          q: { name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g },
          parser: {
            strict:
              /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
            loose:
              /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
          },
        },
        i = e.parser[t.strictMode ? "strict" : "loose"].exec(r),
        n = {},
        s = 14;
      s--;

    )
      n[e.key[s]] = i[s] || "";
    return (
      (n[e.q.name] = {}),
      n[e.key[12]].replace(e.q.parser, function (o, l, h) {
        l && (n[e.q.name][l] = h);
      }),
      n
    );
  }
  var jl,
    Eo = null,
    ME = 0,
    Pd = 200,
    DE = 204,
    VE = 1223,
    HE = 2;
  function Id() {}
  function Rd(r, t, e) {
    t && t.indexOf(".") === 0 && (t = t.substring(1)), t && (r[t] = e);
  }
  function zl(r) {
    return r.toString().replace("object ", "");
  }
  var zt = (function () {
    function r(t, e, i) {
      if (
        ((this._dequeue = Id),
        (this._onLoadBinding = null),
        (this._elementTimer = 0),
        (this._boundComplete = null),
        (this._boundOnError = null),
        (this._boundOnProgress = null),
        (this._boundOnTimeout = null),
        (this._boundXhrOnError = null),
        (this._boundXhrOnTimeout = null),
        (this._boundXhrOnAbort = null),
        (this._boundXhrOnLoad = null),
        typeof t != "string" || typeof e != "string")
      )
        throw new Error(
          "Both name and url are required for constructing a resource."
        );
      (i = i || {}),
        (this._flags = 0),
        this._setFlag(r.STATUS_FLAGS.DATA_URL, e.indexOf("data:") === 0),
        (this.name = t),
        (this.url = e),
        (this.extension = this._getExtension()),
        (this.data = null),
        (this.crossOrigin = i.crossOrigin === !0 ? "anonymous" : i.crossOrigin),
        (this.timeout = i.timeout || 0),
        (this.loadType = i.loadType || this._determineLoadType()),
        (this.xhrType = i.xhrType),
        (this.metadata = i.metadata || {}),
        (this.error = null),
        (this.xhr = null),
        (this.children = []),
        (this.type = r.TYPE.UNKNOWN),
        (this.progressChunk = 0),
        (this._dequeue = Id),
        (this._onLoadBinding = null),
        (this._elementTimer = 0),
        (this._boundComplete = this.complete.bind(this)),
        (this._boundOnError = this._onError.bind(this)),
        (this._boundOnProgress = this._onProgress.bind(this)),
        (this._boundOnTimeout = this._onTimeout.bind(this)),
        (this._boundXhrOnError = this._xhrOnError.bind(this)),
        (this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this)),
        (this._boundXhrOnAbort = this._xhrOnAbort.bind(this)),
        (this._boundXhrOnLoad = this._xhrOnLoad.bind(this)),
        (this.onStart = new _r()),
        (this.onProgress = new _r()),
        (this.onComplete = new _r()),
        (this.onAfterMiddleware = new _r());
    }
    return (
      (r.setExtensionLoadType = function (t, e) {
        Rd(r._loadTypeMap, t, e);
      }),
      (r.setExtensionXhrType = function (t, e) {
        Rd(r._xhrTypeMap, t, e);
      }),
      Object.defineProperty(r.prototype, "isDataUrl", {
        get: function () {
          return this._hasFlag(r.STATUS_FLAGS.DATA_URL);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(r.prototype, "isComplete", {
        get: function () {
          return this._hasFlag(r.STATUS_FLAGS.COMPLETE);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(r.prototype, "isLoading", {
        get: function () {
          return this._hasFlag(r.STATUS_FLAGS.LOADING);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.complete = function () {
        this._clearEvents(), this._finish();
      }),
      (r.prototype.abort = function (t) {
        if (!this.error) {
          if (((this.error = new Error(t)), this._clearEvents(), this.xhr))
            this.xhr.abort();
          else if (this.xdr) this.xdr.abort();
          else if (this.data)
            if (this.data.src) this.data.src = r.EMPTY_GIF;
            else
              for (; this.data.firstChild; )
                this.data.removeChild(this.data.firstChild);
          this._finish();
        }
      }),
      (r.prototype.load = function (t) {
        var e = this;
        if (!this.isLoading) {
          if (this.isComplete) {
            t &&
              setTimeout(function () {
                return t(e);
              }, 1);
            return;
          } else t && this.onComplete.once(t);
          switch (
            (this._setFlag(r.STATUS_FLAGS.LOADING, !0),
            this.onStart.dispatch(this),
            (this.crossOrigin === !1 || typeof this.crossOrigin != "string") &&
              (this.crossOrigin = this._determineCrossOrigin(this.url)),
            this.loadType)
          ) {
            case r.LOAD_TYPE.IMAGE:
              (this.type = r.TYPE.IMAGE), this._loadElement("image");
              break;
            case r.LOAD_TYPE.AUDIO:
              (this.type = r.TYPE.AUDIO), this._loadSourceElement("audio");
              break;
            case r.LOAD_TYPE.VIDEO:
              (this.type = r.TYPE.VIDEO), this._loadSourceElement("video");
              break;
            case r.LOAD_TYPE.XHR:
            default:
              typeof jl == "undefined" &&
                (jl = !!(
                  globalThis.XDomainRequest &&
                  !("withCredentials" in new XMLHttpRequest())
                )),
                jl && this.crossOrigin ? this._loadXdr() : this._loadXhr();
              break;
          }
        }
      }),
      (r.prototype._hasFlag = function (t) {
        return (this._flags & t) !== 0;
      }),
      (r.prototype._setFlag = function (t, e) {
        this._flags = e ? this._flags | t : this._flags & ~t;
      }),
      (r.prototype._clearEvents = function () {
        clearTimeout(this._elementTimer),
          this.data &&
            this.data.removeEventListener &&
            (this.data.removeEventListener("error", this._boundOnError, !1),
            this.data.removeEventListener("load", this._boundComplete, !1),
            this.data.removeEventListener(
              "progress",
              this._boundOnProgress,
              !1
            ),
            this.data.removeEventListener(
              "canplaythrough",
              this._boundComplete,
              !1
            )),
          this.xhr &&
            (this.xhr.removeEventListener
              ? (this.xhr.removeEventListener(
                  "error",
                  this._boundXhrOnError,
                  !1
                ),
                this.xhr.removeEventListener(
                  "timeout",
                  this._boundXhrOnTimeout,
                  !1
                ),
                this.xhr.removeEventListener(
                  "abort",
                  this._boundXhrOnAbort,
                  !1
                ),
                this.xhr.removeEventListener(
                  "progress",
                  this._boundOnProgress,
                  !1
                ),
                this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1))
              : ((this.xhr.onerror = null),
                (this.xhr.ontimeout = null),
                (this.xhr.onprogress = null),
                (this.xhr.onload = null)));
      }),
      (r.prototype._finish = function () {
        if (this.isComplete)
          throw new Error(
            "Complete called again for an already completed resource."
          );
        this._setFlag(r.STATUS_FLAGS.COMPLETE, !0),
          this._setFlag(r.STATUS_FLAGS.LOADING, !1),
          this.onComplete.dispatch(this);
      }),
      (r.prototype._loadElement = function (t) {
        this.metadata.loadElement
          ? (this.data = this.metadata.loadElement)
          : t === "image" && typeof globalThis.Image != "undefined"
          ? (this.data = new Image())
          : (this.data = document.createElement(t)),
          this.crossOrigin && (this.data.crossOrigin = this.crossOrigin),
          this.metadata.skipSource || (this.data.src = this.url),
          this.data.addEventListener("error", this._boundOnError, !1),
          this.data.addEventListener("load", this._boundComplete, !1),
          this.data.addEventListener("progress", this._boundOnProgress, !1),
          this.timeout &&
            (this._elementTimer = setTimeout(
              this._boundOnTimeout,
              this.timeout
            ));
      }),
      (r.prototype._loadSourceElement = function (t) {
        if (
          (this.metadata.loadElement
            ? (this.data = this.metadata.loadElement)
            : t === "audio" && typeof globalThis.Audio != "undefined"
            ? (this.data = new Audio())
            : (this.data = document.createElement(t)),
          this.data === null)
        ) {
          this.abort("Unsupported element: " + t);
          return;
        }
        if (
          (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin),
          !this.metadata.skipSource)
        )
          if (navigator.isCocoonJS)
            this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
          else if (Array.isArray(this.url))
            for (
              var e = this.metadata.mimeType, i = 0;
              i < this.url.length;
              ++i
            )
              this.data.appendChild(
                this._createSource(t, this.url[i], Array.isArray(e) ? e[i] : e)
              );
          else {
            var e = this.metadata.mimeType;
            this.data.appendChild(
              this._createSource(t, this.url, Array.isArray(e) ? e[0] : e)
            );
          }
        this.data.addEventListener("error", this._boundOnError, !1),
          this.data.addEventListener("load", this._boundComplete, !1),
          this.data.addEventListener("progress", this._boundOnProgress, !1),
          this.data.addEventListener("canplaythrough", this._boundComplete, !1),
          this.data.load(),
          this.timeout &&
            (this._elementTimer = setTimeout(
              this._boundOnTimeout,
              this.timeout
            ));
      }),
      (r.prototype._loadXhr = function () {
        typeof this.xhrType != "string" &&
          (this.xhrType = this._determineXhrType());
        var t = (this.xhr = new XMLHttpRequest());
        this.crossOrigin === "use-credentials" && (t.withCredentials = !0),
          t.open("GET", this.url, !0),
          (t.timeout = this.timeout),
          this.xhrType === r.XHR_RESPONSE_TYPE.JSON ||
          this.xhrType === r.XHR_RESPONSE_TYPE.DOCUMENT
            ? (t.responseType = r.XHR_RESPONSE_TYPE.TEXT)
            : (t.responseType = this.xhrType),
          t.addEventListener("error", this._boundXhrOnError, !1),
          t.addEventListener("timeout", this._boundXhrOnTimeout, !1),
          t.addEventListener("abort", this._boundXhrOnAbort, !1),
          t.addEventListener("progress", this._boundOnProgress, !1),
          t.addEventListener("load", this._boundXhrOnLoad, !1),
          t.send();
      }),
      (r.prototype._loadXdr = function () {
        typeof this.xhrType != "string" &&
          (this.xhrType = this._determineXhrType());
        var t = (this.xhr = new globalThis.XDomainRequest());
        (t.timeout = this.timeout || 5e3),
          (t.onerror = this._boundXhrOnError),
          (t.ontimeout = this._boundXhrOnTimeout),
          (t.onprogress = this._boundOnProgress),
          (t.onload = this._boundXhrOnLoad),
          t.open("GET", this.url, !0),
          setTimeout(function () {
            return t.send();
          }, 1);
      }),
      (r.prototype._createSource = function (t, e, i) {
        i || (i = t + "/" + this._getExtension(e));
        var n = document.createElement("source");
        return (n.src = e), (n.type = i), n;
      }),
      (r.prototype._onError = function (t) {
        this.abort("Failed to load element using: " + t.target.nodeName);
      }),
      (r.prototype._onProgress = function (t) {
        t &&
          t.lengthComputable &&
          this.onProgress.dispatch(this, t.loaded / t.total);
      }),
      (r.prototype._onTimeout = function () {
        this.abort("Load timed out.");
      }),
      (r.prototype._xhrOnError = function () {
        var t = this.xhr;
        this.abort(
          zl(t) +
            " Request failed. Status: " +
            t.status +
            ', text: "' +
            t.statusText +
            '"'
        );
      }),
      (r.prototype._xhrOnTimeout = function () {
        var t = this.xhr;
        this.abort(zl(t) + " Request timed out.");
      }),
      (r.prototype._xhrOnAbort = function () {
        var t = this.xhr;
        this.abort(zl(t) + " Request was aborted by the user.");
      }),
      (r.prototype._xhrOnLoad = function () {
        var t = this.xhr,
          e = "",
          i = typeof t.status == "undefined" ? Pd : t.status;
        (t.responseType === "" ||
          t.responseType === "text" ||
          typeof t.responseType == "undefined") &&
          (e = t.responseText),
          i === ME &&
          (e.length > 0 || t.responseType === r.XHR_RESPONSE_TYPE.BUFFER)
            ? (i = Pd)
            : i === VE && (i = DE);
        var n = (i / 100) | 0;
        if (n === HE)
          if (this.xhrType === r.XHR_RESPONSE_TYPE.TEXT)
            (this.data = e), (this.type = r.TYPE.TEXT);
          else if (this.xhrType === r.XHR_RESPONSE_TYPE.JSON)
            try {
              (this.data = JSON.parse(e)), (this.type = r.TYPE.JSON);
            } catch (l) {
              this.abort("Error trying to parse loaded json: " + l);
              return;
            }
          else if (this.xhrType === r.XHR_RESPONSE_TYPE.DOCUMENT)
            try {
              if (globalThis.DOMParser) {
                var s = new DOMParser();
                this.data = s.parseFromString(e, "text/xml");
              } else {
                var o = document.createElement("div");
                (o.innerHTML = e), (this.data = o);
              }
              this.type = r.TYPE.XML;
            } catch (l) {
              this.abort("Error trying to parse loaded xml: " + l);
              return;
            }
          else this.data = t.response || e;
        else {
          this.abort(
            "[" + t.status + "] " + t.statusText + ": " + t.responseURL
          );
          return;
        }
        this.complete();
      }),
      (r.prototype._determineCrossOrigin = function (t, e) {
        if (t.indexOf("data:") === 0) return "";
        if (globalThis.origin !== globalThis.location.origin)
          return "anonymous";
        (e = e || globalThis.location),
          Eo || (Eo = document.createElement("a")),
          (Eo.href = t);
        var i = Cd(Eo.href, { strictMode: !0 }),
          n = (!i.port && e.port === "") || i.port === e.port,
          s = i.protocol ? i.protocol + ":" : "";
        return i.host !== e.hostname || !n || s !== e.protocol
          ? "anonymous"
          : "";
      }),
      (r.prototype._determineXhrType = function () {
        return r._xhrTypeMap[this.extension] || r.XHR_RESPONSE_TYPE.TEXT;
      }),
      (r.prototype._determineLoadType = function () {
        return r._loadTypeMap[this.extension] || r.LOAD_TYPE.XHR;
      }),
      (r.prototype._getExtension = function (t) {
        t === void 0 && (t = this.url);
        var e = "";
        if (this.isDataUrl) {
          var i = t.indexOf("/");
          e = t.substring(i + 1, t.indexOf(";", i));
        } else {
          var n = t.indexOf("?"),
            s = t.indexOf("#"),
            o = Math.min(n > -1 ? n : t.length, s > -1 ? s : t.length);
          (t = t.substring(0, o)), (e = t.substring(t.lastIndexOf(".") + 1));
        }
        return e.toLowerCase();
      }),
      (r.prototype._getMimeFromXhrType = function (t) {
        switch (t) {
          case r.XHR_RESPONSE_TYPE.BUFFER:
            return "application/octet-binary";
          case r.XHR_RESPONSE_TYPE.BLOB:
            return "application/blob";
          case r.XHR_RESPONSE_TYPE.DOCUMENT:
            return "application/xml";
          case r.XHR_RESPONSE_TYPE.JSON:
            return "application/json";
          case r.XHR_RESPONSE_TYPE.DEFAULT:
          case r.XHR_RESPONSE_TYPE.TEXT:
          default:
            return "text/plain";
        }
      }),
      r
    );
  })();
  (function (r) {
    (function (t) {
      (t[(t.NONE = 0)] = "NONE"),
        (t[(t.DATA_URL = 1)] = "DATA_URL"),
        (t[(t.COMPLETE = 2)] = "COMPLETE"),
        (t[(t.LOADING = 4)] = "LOADING");
    })(r.STATUS_FLAGS || (r.STATUS_FLAGS = {})),
      (function (t) {
        (t[(t.UNKNOWN = 0)] = "UNKNOWN"),
          (t[(t.JSON = 1)] = "JSON"),
          (t[(t.XML = 2)] = "XML"),
          (t[(t.IMAGE = 3)] = "IMAGE"),
          (t[(t.AUDIO = 4)] = "AUDIO"),
          (t[(t.VIDEO = 5)] = "VIDEO"),
          (t[(t.TEXT = 6)] = "TEXT");
      })(r.TYPE || (r.TYPE = {})),
      (function (t) {
        (t[(t.XHR = 1)] = "XHR"),
          (t[(t.IMAGE = 2)] = "IMAGE"),
          (t[(t.AUDIO = 3)] = "AUDIO"),
          (t[(t.VIDEO = 4)] = "VIDEO");
      })(r.LOAD_TYPE || (r.LOAD_TYPE = {})),
      (function (t) {
        (t.DEFAULT = "text"),
          (t.BUFFER = "arraybuffer"),
          (t.BLOB = "blob"),
          (t.DOCUMENT = "document"),
          (t.JSON = "json"),
          (t.TEXT = "text");
      })(r.XHR_RESPONSE_TYPE || (r.XHR_RESPONSE_TYPE = {})),
      (r._loadTypeMap = {
        gif: r.LOAD_TYPE.IMAGE,
        png: r.LOAD_TYPE.IMAGE,
        bmp: r.LOAD_TYPE.IMAGE,
        jpg: r.LOAD_TYPE.IMAGE,
        jpeg: r.LOAD_TYPE.IMAGE,
        tif: r.LOAD_TYPE.IMAGE,
        tiff: r.LOAD_TYPE.IMAGE,
        webp: r.LOAD_TYPE.IMAGE,
        tga: r.LOAD_TYPE.IMAGE,
        svg: r.LOAD_TYPE.IMAGE,
        "svg+xml": r.LOAD_TYPE.IMAGE,
        mp3: r.LOAD_TYPE.AUDIO,
        ogg: r.LOAD_TYPE.AUDIO,
        wav: r.LOAD_TYPE.AUDIO,
        mp4: r.LOAD_TYPE.VIDEO,
        webm: r.LOAD_TYPE.VIDEO,
      }),
      (r._xhrTypeMap = {
        xhtml: r.XHR_RESPONSE_TYPE.DOCUMENT,
        html: r.XHR_RESPONSE_TYPE.DOCUMENT,
        htm: r.XHR_RESPONSE_TYPE.DOCUMENT,
        xml: r.XHR_RESPONSE_TYPE.DOCUMENT,
        tmx: r.XHR_RESPONSE_TYPE.DOCUMENT,
        svg: r.XHR_RESPONSE_TYPE.DOCUMENT,
        tsx: r.XHR_RESPONSE_TYPE.DOCUMENT,
        gif: r.XHR_RESPONSE_TYPE.BLOB,
        png: r.XHR_RESPONSE_TYPE.BLOB,
        bmp: r.XHR_RESPONSE_TYPE.BLOB,
        jpg: r.XHR_RESPONSE_TYPE.BLOB,
        jpeg: r.XHR_RESPONSE_TYPE.BLOB,
        tif: r.XHR_RESPONSE_TYPE.BLOB,
        tiff: r.XHR_RESPONSE_TYPE.BLOB,
        webp: r.XHR_RESPONSE_TYPE.BLOB,
        tga: r.XHR_RESPONSE_TYPE.BLOB,
        json: r.XHR_RESPONSE_TYPE.JSON,
        text: r.XHR_RESPONSE_TYPE.TEXT,
        txt: r.XHR_RESPONSE_TYPE.TEXT,
        ttf: r.XHR_RESPONSE_TYPE.BUFFER,
        otf: r.XHR_RESPONSE_TYPE.BUFFER,
      }),
      (r.EMPTY_GIF =
        "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");
  })(zt || (zt = {}));
  function mi() {}
  function XE(r) {
    return function () {
      for (var e = arguments, i = [], n = 0; n < arguments.length; n++)
        i[n] = e[n];
      if (r === null) throw new Error("Callback was already called.");
      var s = r;
      (r = null), s.apply(this, i);
    };
  }
  var $E = (function () {
      function r(t, e) {
        (this.data = t), (this.callback = e);
      }
      return r;
    })(),
    Wl = (function () {
      function r(t, e) {
        var i = this;
        if (
          (e === void 0 && (e = 1),
          (this.workers = 0),
          (this.saturated = mi),
          (this.unsaturated = mi),
          (this.empty = mi),
          (this.drain = mi),
          (this.error = mi),
          (this.started = !1),
          (this.paused = !1),
          (this._tasks = []),
          (this._insert = function (n, s, o) {
            if (o && typeof o != "function")
              throw new Error("task callback must be a function");
            if (((i.started = !0), n == null && i.idle())) {
              setTimeout(function () {
                return i.drain();
              }, 1);
              return;
            }
            var l = new $E(n, typeof o == "function" ? o : mi);
            s ? i._tasks.unshift(l) : i._tasks.push(l),
              setTimeout(i.process, 1);
          }),
          (this.process = function () {
            for (
              ;
              !i.paused && i.workers < i.concurrency && i._tasks.length;

            ) {
              var n = i._tasks.shift();
              i._tasks.length === 0 && i.empty(),
                (i.workers += 1),
                i.workers === i.concurrency && i.saturated(),
                i._worker(n.data, XE(i._next(n)));
            }
          }),
          (this._worker = t),
          e === 0)
        )
          throw new Error("Concurrency must not be zero");
        (this.concurrency = e), (this.buffer = e / 4);
      }
      return (
        (r.prototype._next = function (t) {
          var e = this;
          return function () {
            for (var i = arguments, n = [], s = 0; s < arguments.length; s++)
              n[s] = i[s];
            (e.workers -= 1),
              t.callback.apply(t, n),
              n[0] != null && e.error(n[0], t.data),
              e.workers <= e.concurrency - e.buffer && e.unsaturated(),
              e.idle() && e.drain(),
              e.process();
          };
        }),
        (r.prototype.push = function (t, e) {
          this._insert(t, !1, e);
        }),
        (r.prototype.kill = function () {
          (this.workers = 0),
            (this.drain = mi),
            (this.started = !1),
            (this._tasks = []);
        }),
        (r.prototype.unshift = function (t, e) {
          this._insert(t, !0, e);
        }),
        (r.prototype.length = function () {
          return this._tasks.length;
        }),
        (r.prototype.running = function () {
          return this.workers;
        }),
        (r.prototype.idle = function () {
          return this._tasks.length + this.workers === 0;
        }),
        (r.prototype.pause = function () {
          this.paused !== !0 && (this.paused = !0);
        }),
        (r.prototype.resume = function () {
          if (this.paused !== !1) {
            this.paused = !1;
            for (var t = 1; t <= this.concurrency; t++) this.process();
          }
        }),
        (r.eachSeries = function (t, e, i, n) {
          var s = 0,
            o = t.length;
          function l(h) {
            if (h || s === o) {
              i && i(h);
              return;
            }
            n
              ? setTimeout(function () {
                  e(t[s++], l);
                }, 1)
              : e(t[s++], l);
          }
          l();
        }),
        (r.queue = function (t, e) {
          return new r(t, e);
        }),
        r
      );
    })(),
    Yl = 100,
    jE = /(#[\w-]+)?$/,
    Xe = (function () {
      function r(t, e) {
        var i = this;
        t === void 0 && (t = ""),
          e === void 0 && (e = 10),
          (this.progress = 0),
          (this.loading = !1),
          (this.defaultQueryString = ""),
          (this._beforeMiddleware = []),
          (this._afterMiddleware = []),
          (this._resourcesParsing = []),
          (this._boundLoadResource = function (h, f) {
            return i._loadResource(h, f);
          }),
          (this.resources = {}),
          (this.baseUrl = t),
          (this._beforeMiddleware = []),
          (this._afterMiddleware = []),
          (this._resourcesParsing = []),
          (this._boundLoadResource = function (h, f) {
            return i._loadResource(h, f);
          }),
          (this._queue = Wl.queue(this._boundLoadResource, e)),
          this._queue.pause(),
          (this.resources = {}),
          (this.onProgress = new _r()),
          (this.onError = new _r()),
          (this.onLoad = new _r()),
          (this.onStart = new _r()),
          (this.onComplete = new _r());
        for (var n = 0; n < r._plugins.length; ++n) {
          var s = r._plugins[n],
            o = s.pre,
            l = s.use;
          o && this.pre(o), l && this.use(l);
        }
        this._protected = !1;
      }
      return (
        (r.prototype._add = function (t, e, i, n) {
          if (this.loading && (!i || !i.parentResource))
            throw new Error(
              "Cannot add resources while the loader is running."
            );
          if (this.resources[t])
            throw new Error('Resource named "' + t + '" already exists.');
          if (
            ((e = this._prepareUrl(e)),
            (this.resources[t] = new zt(t, e, i)),
            typeof n == "function" &&
              this.resources[t].onAfterMiddleware.once(n),
            this.loading)
          ) {
            for (
              var s = i.parentResource, o = [], l = 0;
              l < s.children.length;
              ++l
            )
              s.children[l].isComplete || o.push(s.children[l]);
            var h = s.progressChunk * (o.length + 1),
              f = h / (o.length + 2);
            s.children.push(this.resources[t]), (s.progressChunk = f);
            for (var l = 0; l < o.length; ++l) o[l].progressChunk = f;
            this.resources[t].progressChunk = f;
          }
          return this._queue.push(this.resources[t]), this;
        }),
        (r.prototype.pre = function (t) {
          return this._beforeMiddleware.push(t), this;
        }),
        (r.prototype.use = function (t) {
          return this._afterMiddleware.push(t), this;
        }),
        (r.prototype.reset = function () {
          (this.progress = 0),
            (this.loading = !1),
            this._queue.kill(),
            this._queue.pause();
          for (var t in this.resources) {
            var e = this.resources[t];
            e._onLoadBinding && e._onLoadBinding.detach(),
              e.isLoading && e.abort("loader reset");
          }
          return (this.resources = {}), this;
        }),
        (r.prototype.load = function (t) {
          if ((typeof t == "function" && this.onComplete.once(t), this.loading))
            return this;
          if (this._queue.idle()) this._onStart(), this._onComplete();
          else {
            for (
              var e = this._queue._tasks.length, i = Yl / e, n = 0;
              n < this._queue._tasks.length;
              ++n
            )
              this._queue._tasks[n].data.progressChunk = i;
            this._onStart(), this._queue.resume();
          }
          return this;
        }),
        Object.defineProperty(r.prototype, "concurrency", {
          get: function () {
            return this._queue.concurrency;
          },
          set: function (t) {
            this._queue.concurrency = t;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype._prepareUrl = function (t) {
          var e = Cd(t, { strictMode: !0 }),
            i;
          if (
            (e.protocol || !e.path || t.indexOf("//") === 0
              ? (i = t)
              : this.baseUrl.length &&
                this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 &&
                t.charAt(0) !== "/"
              ? (i = this.baseUrl + "/" + t)
              : (i = this.baseUrl + t),
            this.defaultQueryString)
          ) {
            var n = jE.exec(i)[0];
            (i = i.slice(0, i.length - n.length)),
              i.indexOf("?") !== -1
                ? (i += "&" + this.defaultQueryString)
                : (i += "?" + this.defaultQueryString),
              (i += n);
          }
          return i;
        }),
        (r.prototype._loadResource = function (t, e) {
          var i = this;
          (t._dequeue = e),
            Wl.eachSeries(
              this._beforeMiddleware,
              function (n, s) {
                n.call(i, t, function () {
                  s(t.isComplete ? {} : null);
                });
              },
              function () {
                t.isComplete
                  ? i._onLoad(t)
                  : ((t._onLoadBinding = t.onComplete.once(i._onLoad, i)),
                    t.load());
              },
              !0
            );
        }),
        (r.prototype._onStart = function () {
          (this.progress = 0), (this.loading = !0), this.onStart.dispatch(this);
        }),
        (r.prototype._onComplete = function () {
          (this.progress = Yl),
            (this.loading = !1),
            this.onComplete.dispatch(this, this.resources);
        }),
        (r.prototype._onLoad = function (t) {
          var e = this;
          (t._onLoadBinding = null),
            this._resourcesParsing.push(t),
            t._dequeue(),
            Wl.eachSeries(
              this._afterMiddleware,
              function (i, n) {
                i.call(e, t, n);
              },
              function () {
                t.onAfterMiddleware.dispatch(t),
                  (e.progress = Math.min(Yl, e.progress + t.progressChunk)),
                  e.onProgress.dispatch(e, t),
                  t.error
                    ? e.onError.dispatch(t.error, e, t)
                    : e.onLoad.dispatch(e, t),
                  e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1),
                  e._queue.idle() &&
                    e._resourcesParsing.length === 0 &&
                    e._onComplete();
              },
              !0
            );
        }),
        (r.prototype.destroy = function () {
          this._protected || this.reset();
        }),
        Object.defineProperty(r, "shared", {
          get: function () {
            var t = r._shared;
            return (
              t || ((t = new r()), (t._protected = !0), (r._shared = t)), t
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.registerPlugin = function (t) {
          return r._plugins.push(t), t.add && t.add(), r;
        }),
        (r._plugins = []),
        r
      );
    })();
  Xe.prototype.add = function (t, e, i, n) {
    if (Array.isArray(t)) {
      for (var s = 0; s < t.length; ++s) this.add(t[s]);
      return this;
    }
    if (
      (typeof t == "object" &&
        ((i = t),
        (n = e || i.callback || i.onComplete),
        (e = i.url),
        (t = i.name || i.key || i.url)),
      typeof e != "string" && ((n = i), (i = e), (e = t)),
      typeof e != "string")
    )
      throw new Error("No url passed to add resource to loader.");
    return (
      typeof i == "function" && ((n = i), (i = null)), this._add(t, e, i, n)
    );
  };
  var zE = (function () {
      function r() {}
      return (
        (r.init = function (t) {
          (t = Object.assign({ sharedLoader: !1 }, t)),
            (this.loader = t.sharedLoader ? Xe.shared : new Xe());
        }),
        (r.destroy = function () {
          this.loader && (this.loader.destroy(), (this.loader = null));
        }),
        r
      );
    })(),
    WE = (function () {
      function r() {}
      return (
        (r.add = function () {
          zt.setExtensionLoadType("svg", zt.LOAD_TYPE.XHR),
            zt.setExtensionXhrType("svg", zt.XHR_RESPONSE_TYPE.TEXT);
        }),
        (r.use = function (t, e) {
          if (t.data && (t.type === zt.TYPE.IMAGE || t.extension === "svg")) {
            var i = t.data,
              n = t.url,
              s = t.name,
              o = t.metadata;
            ot.fromLoader(i, n, s, o)
              .then(function (l) {
                (t.texture = l), e();
              })
              .catch(e);
          } else e();
        }),
        r
      );
    })(),
    YE = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
  function qE(r) {
    for (var t = "", e = 0; e < r.length; ) {
      for (var i = [0, 0, 0], n = [0, 0, 0, 0], s = 0; s < i.length; ++s)
        e < r.length ? (i[s] = r.charCodeAt(e++) & 255) : (i[s] = 0);
      (n[0] = i[0] >> 2),
        (n[1] = ((i[0] & 3) << 4) | (i[1] >> 4)),
        (n[2] = ((i[1] & 15) << 2) | (i[2] >> 6)),
        (n[3] = i[2] & 63);
      var o = e - (r.length - 1);
      switch (o) {
        case 2:
          (n[3] = 64), (n[2] = 64);
          break;
        case 1:
          n[3] = 64;
          break;
      }
      for (var s = 0; s < n.length; ++s) t += YE.charAt(n[s]);
    }
    return t;
  }
  function KE(r, t) {
    if (!r.data) {
      t();
      return;
    }
    if (r.xhr && r.xhrType === zt.XHR_RESPONSE_TYPE.BLOB) {
      if (!self.Blob || typeof r.data == "string") {
        var e = r.xhr.getResponseHeader("content-type");
        if (e && e.indexOf("image") === 0) {
          (r.data = new Image()),
            (r.data.src = "data:" + e + ";base64," + qE(r.xhr.responseText)),
            (r.type = zt.TYPE.IMAGE),
            (r.data.onload = function () {
              (r.data.onload = null), t();
            });
          return;
        }
      } else if (r.data.type.indexOf("image") === 0) {
        var i = globalThis.URL || globalThis.webkitURL,
          n = i.createObjectURL(r.data);
        (r.blob = r.data),
          (r.data = new Image()),
          (r.data.src = n),
          (r.type = zt.TYPE.IMAGE),
          (r.data.onload = function () {
            i.revokeObjectURL(n), (r.data.onload = null), t();
          });
        return;
      }
    }
    t();
  }
  Xe.registerPlugin({ use: KE }), Xe.registerPlugin(WE);
  /*!
   * @pixi/compressed-textures - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/compressed-textures is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var At, ht;
  (function (r) {
    (r[(r.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776)] =
      "COMPRESSED_RGB_S3TC_DXT1_EXT"),
      (r[(r.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777)] =
        "COMPRESSED_RGBA_S3TC_DXT1_EXT"),
      (r[(r.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778)] =
        "COMPRESSED_RGBA_S3TC_DXT3_EXT"),
      (r[(r.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779)] =
        "COMPRESSED_RGBA_S3TC_DXT5_EXT"),
      (r[(r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917)] =
        "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT"),
      (r[(r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918)] =
        "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT"),
      (r[(r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919)] =
        "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT"),
      (r[(r.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916)] =
        "COMPRESSED_SRGB_S3TC_DXT1_EXT"),
      (r[(r.COMPRESSED_R11_EAC = 37488)] = "COMPRESSED_R11_EAC"),
      (r[(r.COMPRESSED_SIGNED_R11_EAC = 37489)] = "COMPRESSED_SIGNED_R11_EAC"),
      (r[(r.COMPRESSED_RG11_EAC = 37490)] = "COMPRESSED_RG11_EAC"),
      (r[(r.COMPRESSED_SIGNED_RG11_EAC = 37491)] =
        "COMPRESSED_SIGNED_RG11_EAC"),
      (r[(r.COMPRESSED_RGB8_ETC2 = 37492)] = "COMPRESSED_RGB8_ETC2"),
      (r[(r.COMPRESSED_RGBA8_ETC2_EAC = 37496)] = "COMPRESSED_RGBA8_ETC2_EAC"),
      (r[(r.COMPRESSED_SRGB8_ETC2 = 37493)] = "COMPRESSED_SRGB8_ETC2"),
      (r[(r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497)] =
        "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"),
      (r[(r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494)] =
        "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2"),
      (r[(r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495)] =
        "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2"),
      (r[(r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 35840)] =
        "COMPRESSED_RGB_PVRTC_4BPPV1_IMG"),
      (r[(r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 35842)] =
        "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG"),
      (r[(r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 35841)] =
        "COMPRESSED_RGB_PVRTC_2BPPV1_IMG"),
      (r[(r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 35843)] =
        "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG"),
      (r[(r.COMPRESSED_RGB_ETC1_WEBGL = 36196)] = "COMPRESSED_RGB_ETC1_WEBGL"),
      (r[(r.COMPRESSED_RGB_ATC_WEBGL = 35986)] = "COMPRESSED_RGB_ATC_WEBGL"),
      (r[(r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 35986)] =
        "COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL"),
      (r[(r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 34798)] =
        "COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL");
  })(ht || (ht = {}));
  var Co =
    ((At = {}),
    (At[ht.COMPRESSED_RGB_S3TC_DXT1_EXT] = 0.5),
    (At[ht.COMPRESSED_RGBA_S3TC_DXT1_EXT] = 0.5),
    (At[ht.COMPRESSED_RGBA_S3TC_DXT3_EXT] = 1),
    (At[ht.COMPRESSED_RGBA_S3TC_DXT5_EXT] = 1),
    (At[ht.COMPRESSED_SRGB_S3TC_DXT1_EXT] = 0.5),
    (At[ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT] = 0.5),
    (At[ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT] = 1),
    (At[ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT] = 1),
    (At[ht.COMPRESSED_R11_EAC] = 0.5),
    (At[ht.COMPRESSED_SIGNED_R11_EAC] = 0.5),
    (At[ht.COMPRESSED_RG11_EAC] = 1),
    (At[ht.COMPRESSED_SIGNED_RG11_EAC] = 1),
    (At[ht.COMPRESSED_RGB8_ETC2] = 0.5),
    (At[ht.COMPRESSED_RGBA8_ETC2_EAC] = 1),
    (At[ht.COMPRESSED_SRGB8_ETC2] = 0.5),
    (At[ht.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC] = 1),
    (At[ht.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2] = 0.5),
    (At[ht.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2] = 0.5),
    (At[ht.COMPRESSED_RGB_PVRTC_4BPPV1_IMG] = 0.5),
    (At[ht.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG] = 0.5),
    (At[ht.COMPRESSED_RGB_PVRTC_2BPPV1_IMG] = 0.25),
    (At[ht.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG] = 0.25),
    (At[ht.COMPRESSED_RGB_ETC1_WEBGL] = 0.5),
    (At[ht.COMPRESSED_RGB_ATC_WEBGL] = 0.5),
    (At[ht.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL] = 1),
    (At[ht.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL] = 1),
    At);
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var ql =
    function (r, t) {
      return (
        (ql =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        ql(r, t)
      );
    };
  function Ad(r, t) {
    ql(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  function ZE(r, t, e, i) {
    return new (e || (e = Promise))(function (n, s) {
      function o(f) {
        try {
          h(i.next(f));
        } catch (p) {
          s(p);
        }
      }
      function l(f) {
        try {
          h(i.throw(f));
        } catch (p) {
          s(p);
        }
      }
      function h(f) {
        f.done
          ? n(f.value)
          : new e(function (p) {
              p(f.value);
            }).then(o, l);
      }
      h((i = i.apply(r, t || [])).next());
    });
  }
  function JE(r, t) {
    var e = {
        label: 0,
        sent: function () {
          if (s[0] & 1) throw s[1];
          return s[1];
        },
        trys: [],
        ops: [],
      },
      i,
      n,
      s,
      o;
    return (
      (o = { next: l(0), throw: l(1), return: l(2) }),
      typeof Symbol == "function" &&
        (o[Symbol.iterator] = function () {
          return this;
        }),
      o
    );
    function l(f) {
      return function (p) {
        return h([f, p]);
      };
    }
    function h(f) {
      if (i) throw new TypeError("Generator is already executing.");
      for (; e; )
        try {
          if (
            ((i = 1),
            n &&
              (s =
                f[0] & 2
                  ? n.return
                  : f[0]
                  ? n.throw || ((s = n.return) && s.call(n), 0)
                  : n.next) &&
              !(s = s.call(n, f[1])).done)
          )
            return s;
          switch (((n = 0), s && (f = [f[0] & 2, s.value]), f[0])) {
            case 0:
            case 1:
              s = f;
              break;
            case 4:
              return e.label++, { value: f[1], done: !1 };
            case 5:
              e.label++, (n = f[1]), (f = [0]);
              continue;
            case 7:
              (f = e.ops.pop()), e.trys.pop();
              continue;
            default:
              if (
                ((s = e.trys),
                !(s = s.length > 0 && s[s.length - 1]) &&
                  (f[0] === 6 || f[0] === 2))
              ) {
                e = 0;
                continue;
              }
              if (f[0] === 3 && (!s || (f[1] > s[0] && f[1] < s[3]))) {
                e.label = f[1];
                break;
              }
              if (f[0] === 6 && e.label < s[1]) {
                (e.label = s[1]), (s = f);
                break;
              }
              if (s && e.label < s[2]) {
                (e.label = s[2]), e.ops.push(f);
                break;
              }
              s[2] && e.ops.pop(), e.trys.pop();
              continue;
          }
          f = t.call(r, e);
        } catch (p) {
          (f = [6, p]), (n = 0);
        } finally {
          i = s = 0;
        }
      if (f[0] & 5) throw f[1];
      return { value: f[0] ? f[1] : void 0, done: !0 };
    }
  }
  var QE = (function (r) {
      Ad(t, r);
      function t(e, i) {
        i === void 0 && (i = { width: 1, height: 1, autoLoad: !0 });
        var n = this,
          s,
          o;
        return (
          typeof e == "string"
            ? ((s = e), (o = new Uint8Array()))
            : ((s = null), (o = e)),
          (n = r.call(this, o, i) || this),
          (n.origin = s),
          (n.buffer = o ? new Ul(o) : null),
          n.origin && i.autoLoad !== !1 && n.load(),
          o &&
            o.length &&
            ((n.loaded = !0), n.onBlobLoaded(n.buffer.rawBinaryData)),
          n
        );
      }
      return (
        (t.prototype.onBlobLoaded = function (e) {}),
        (t.prototype.load = function () {
          return ZE(this, void 0, Promise, function () {
            var e, i, n;
            return JE(this, function (s) {
              switch (s.label) {
                case 0:
                  return [4, fetch(this.origin)];
                case 1:
                  return (e = s.sent()), [4, e.blob()];
                case 2:
                  return (i = s.sent()), [4, i.arrayBuffer()];
                case 3:
                  return (
                    (n = s.sent()),
                    (this.data = new Uint32Array(n)),
                    (this.buffer = new Ul(n)),
                    (this.loaded = !0),
                    this.onBlobLoaded(n),
                    this.update(),
                    [2, this]
                  );
              }
            });
          });
        }),
        t
      );
    })(Kn),
    Kl = (function (r) {
      Ad(t, r);
      function t(e, i) {
        var n = r.call(this, e, i) || this;
        return (
          (n.format = i.format),
          (n.levels = i.levels || 1),
          (n._width = i.width),
          (n._height = i.height),
          (n._extension = t._formatToExtension(n.format)),
          (i.levelBuffers || n.buffer) &&
            (n._levelBuffers =
              i.levelBuffers ||
              t._createLevelBuffers(
                e instanceof Uint8Array ? e : n.buffer.uint8View,
                n.format,
                n.levels,
                4,
                4,
                n.width,
                n.height
              )),
          n
        );
      }
      return (
        (t.prototype.upload = function (e, i, n) {
          var s = e.gl,
            o = e.context.extensions[this._extension];
          if (!o)
            throw new Error(
              this._extension +
                " textures are not supported on the current machine"
            );
          if (!this._levelBuffers) return !1;
          for (var l = 0, h = this.levels; l < h; l++) {
            var f = this._levelBuffers[l],
              p = f.levelID,
              v = f.levelWidth,
              _ = f.levelHeight,
              m = f.levelBuffer;
            s.compressedTexImage2D(s.TEXTURE_2D, p, this.format, v, _, 0, m);
          }
          return !0;
        }),
        (t.prototype.onBlobLoaded = function () {
          this._levelBuffers = t._createLevelBuffers(
            this.buffer.uint8View,
            this.format,
            this.levels,
            4,
            4,
            this.width,
            this.height
          );
        }),
        (t._formatToExtension = function (e) {
          if (e >= 33776 && e <= 33779) return "s3tc";
          if (e >= 37488 && e <= 37497) return "etc";
          if (e >= 35840 && e <= 35843) return "pvrtc";
          if (e >= 36196) return "etc1";
          if (e >= 35986 && e <= 34798) return "atc";
          throw new Error("Invalid (compressed) texture format given!");
        }),
        (t._createLevelBuffers = function (e, i, n, s, o, l, h) {
          for (
            var f = new Array(n),
              p = e.byteOffset,
              v = l,
              _ = h,
              m = (v + s - 1) & ~(s - 1),
              g = (_ + o - 1) & ~(o - 1),
              y = m * g * Co[i],
              b = 0;
            b < n;
            b++
          )
            (f[b] = {
              levelID: b,
              levelWidth: n > 1 ? v : m,
              levelHeight: n > 1 ? _ : g,
              levelBuffer: new Uint8Array(e.buffer, p, y),
            }),
              (p += y),
              (v = v >> 1 || 1),
              (_ = _ >> 1 || 1),
              (m = (v + s - 1) & ~(s - 1)),
              (g = (_ + o - 1) & ~(o - 1)),
              (y = m * g * Co[i]);
          return f;
        }),
        t
      );
    })(QE),
    tC = (function () {
      function r() {}
      return (
        (r.use = function (t, e) {
          var i = t.data,
            n = this;
          if (t.type === zt.TYPE.JSON && i && i.cacheID && i.textures) {
            for (
              var s = i.textures, o = void 0, l = void 0, h = 0, f = s.length;
              h < f;
              h++
            ) {
              var p = s[h],
                v = p.src,
                _ = p.format;
              if ((_ || (l = v), r.textureFormats[_])) {
                o = v;
                break;
              }
            }
            if (((o = o || l), !o)) {
              e(
                new Error(
                  "Cannot load compressed-textures in " +
                    t.url +
                    ", make sure you provide a fallback"
                )
              );
              return;
            }
            if (o === t.url) {
              e(
                new Error(
                  "URL of compressed texture cannot be the same as the manifest's URL"
                )
              );
              return;
            }
            var m = {
                crossOrigin: t.crossOrigin,
                metadata: t.metadata.imageMetadata,
                parentResource: t,
              },
              g = Xi.resolve(t.url.replace(n.baseUrl, ""), o),
              y = i.cacheID;
            n.add(y, g, m, function (b) {
              if (b.error) {
                e(b.error);
                return;
              }
              var w = b.texture,
                C = w === void 0 ? null : w,
                T = b.textures,
                A = T === void 0 ? {} : T;
              Object.assign(t, { texture: C, textures: A }), e();
            });
          } else e();
        }),
        Object.defineProperty(r, "textureExtensions", {
          get: function () {
            if (!r._textureExtensions) {
              var t = document.createElement("canvas"),
                e = t.getContext("webgl");
              if (!e)
                return (
                  console.warn(
                    "WebGL not available for compressed textures. Silently failing."
                  ),
                  {}
                );
              var i = {
                s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
                s3tc_sRGB: e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
                etc: e.getExtension("WEBGL_compressed_texture_etc"),
                etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
                pvrtc:
                  e.getExtension("WEBGL_compressed_texture_pvrtc") ||
                  e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
                atc: e.getExtension("WEBGL_compressed_texture_atc"),
                astc: e.getExtension("WEBGL_compressed_texture_astc"),
              };
              r._textureExtensions = i;
            }
            return r._textureExtensions;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r, "textureFormats", {
          get: function () {
            if (!r._textureFormats) {
              var t = r.textureExtensions;
              r._textureFormats = {};
              for (var e in t) {
                var i = t[e];
                !i ||
                  Object.assign(r._textureFormats, Object.getPrototypeOf(i));
              }
            }
            return r._textureFormats;
          },
          enumerable: !1,
          configurable: !0,
        }),
        r
      );
    })();
  function Nd(r, t, e) {
    var i = { textures: {}, texture: null };
    if (!t) return i;
    var n = t.map(function (s) {
      return new ot(
        new gt(
          s,
          Object.assign(
            { mipmap: cr.OFF, alphaMode: Ve.NO_PREMULTIPLIED_ALPHA },
            e
          )
        )
      );
    });
    return (
      n.forEach(function (s, o) {
        var l = s.baseTexture,
          h = r + "-" + (o + 1);
        gt.addToCache(l, h),
          ot.addToCache(s, h),
          o === 0 &&
            (gt.addToCache(l, r), ot.addToCache(s, r), (i.texture = s)),
          (i.textures[h] = s);
      }),
      i
    );
  }
  var ns, $e;
  zt.setExtensionXhrType("dds", zt.XHR_RESPONSE_TYPE.BUFFER);
  var Zl = 4,
    Po = 124,
    eC = 32,
    Sd = 20,
    rC = 542327876,
    Io = {
      SIZE: 1,
      FLAGS: 2,
      HEIGHT: 3,
      WIDTH: 4,
      MIPMAP_COUNT: 7,
      PIXEL_FORMAT: 19,
    },
    iC = {
      SIZE: 0,
      FLAGS: 1,
      FOURCC: 2,
      RGB_BITCOUNT: 3,
      R_BIT_MASK: 4,
      G_BIT_MASK: 5,
      B_BIT_MASK: 6,
      A_BIT_MASK: 7,
    },
    Ro = {
      DXGI_FORMAT: 0,
      RESOURCE_DIMENSION: 1,
      MISC_FLAG: 2,
      ARRAY_SIZE: 3,
      MISC_FLAGS2: 4,
    },
    je;
  (function (r) {
    (r[(r.DXGI_FORMAT_UNKNOWN = 0)] = "DXGI_FORMAT_UNKNOWN"),
      (r[(r.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1)] =
        "DXGI_FORMAT_R32G32B32A32_TYPELESS"),
      (r[(r.DXGI_FORMAT_R32G32B32A32_FLOAT = 2)] =
        "DXGI_FORMAT_R32G32B32A32_FLOAT"),
      (r[(r.DXGI_FORMAT_R32G32B32A32_UINT = 3)] =
        "DXGI_FORMAT_R32G32B32A32_UINT"),
      (r[(r.DXGI_FORMAT_R32G32B32A32_SINT = 4)] =
        "DXGI_FORMAT_R32G32B32A32_SINT"),
      (r[(r.DXGI_FORMAT_R32G32B32_TYPELESS = 5)] =
        "DXGI_FORMAT_R32G32B32_TYPELESS"),
      (r[(r.DXGI_FORMAT_R32G32B32_FLOAT = 6)] = "DXGI_FORMAT_R32G32B32_FLOAT"),
      (r[(r.DXGI_FORMAT_R32G32B32_UINT = 7)] = "DXGI_FORMAT_R32G32B32_UINT"),
      (r[(r.DXGI_FORMAT_R32G32B32_SINT = 8)] = "DXGI_FORMAT_R32G32B32_SINT"),
      (r[(r.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9)] =
        "DXGI_FORMAT_R16G16B16A16_TYPELESS"),
      (r[(r.DXGI_FORMAT_R16G16B16A16_FLOAT = 10)] =
        "DXGI_FORMAT_R16G16B16A16_FLOAT"),
      (r[(r.DXGI_FORMAT_R16G16B16A16_UNORM = 11)] =
        "DXGI_FORMAT_R16G16B16A16_UNORM"),
      (r[(r.DXGI_FORMAT_R16G16B16A16_UINT = 12)] =
        "DXGI_FORMAT_R16G16B16A16_UINT"),
      (r[(r.DXGI_FORMAT_R16G16B16A16_SNORM = 13)] =
        "DXGI_FORMAT_R16G16B16A16_SNORM"),
      (r[(r.DXGI_FORMAT_R16G16B16A16_SINT = 14)] =
        "DXGI_FORMAT_R16G16B16A16_SINT"),
      (r[(r.DXGI_FORMAT_R32G32_TYPELESS = 15)] = "DXGI_FORMAT_R32G32_TYPELESS"),
      (r[(r.DXGI_FORMAT_R32G32_FLOAT = 16)] = "DXGI_FORMAT_R32G32_FLOAT"),
      (r[(r.DXGI_FORMAT_R32G32_UINT = 17)] = "DXGI_FORMAT_R32G32_UINT"),
      (r[(r.DXGI_FORMAT_R32G32_SINT = 18)] = "DXGI_FORMAT_R32G32_SINT"),
      (r[(r.DXGI_FORMAT_R32G8X24_TYPELESS = 19)] =
        "DXGI_FORMAT_R32G8X24_TYPELESS"),
      (r[(r.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20)] =
        "DXGI_FORMAT_D32_FLOAT_S8X24_UINT"),
      (r[(r.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21)] =
        "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS"),
      (r[(r.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22)] =
        "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT"),
      (r[(r.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23)] =
        "DXGI_FORMAT_R10G10B10A2_TYPELESS"),
      (r[(r.DXGI_FORMAT_R10G10B10A2_UNORM = 24)] =
        "DXGI_FORMAT_R10G10B10A2_UNORM"),
      (r[(r.DXGI_FORMAT_R10G10B10A2_UINT = 25)] =
        "DXGI_FORMAT_R10G10B10A2_UINT"),
      (r[(r.DXGI_FORMAT_R11G11B10_FLOAT = 26)] = "DXGI_FORMAT_R11G11B10_FLOAT"),
      (r[(r.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27)] =
        "DXGI_FORMAT_R8G8B8A8_TYPELESS"),
      (r[(r.DXGI_FORMAT_R8G8B8A8_UNORM = 28)] = "DXGI_FORMAT_R8G8B8A8_UNORM"),
      (r[(r.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29)] =
        "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_R8G8B8A8_UINT = 30)] = "DXGI_FORMAT_R8G8B8A8_UINT"),
      (r[(r.DXGI_FORMAT_R8G8B8A8_SNORM = 31)] = "DXGI_FORMAT_R8G8B8A8_SNORM"),
      (r[(r.DXGI_FORMAT_R8G8B8A8_SINT = 32)] = "DXGI_FORMAT_R8G8B8A8_SINT"),
      (r[(r.DXGI_FORMAT_R16G16_TYPELESS = 33)] = "DXGI_FORMAT_R16G16_TYPELESS"),
      (r[(r.DXGI_FORMAT_R16G16_FLOAT = 34)] = "DXGI_FORMAT_R16G16_FLOAT"),
      (r[(r.DXGI_FORMAT_R16G16_UNORM = 35)] = "DXGI_FORMAT_R16G16_UNORM"),
      (r[(r.DXGI_FORMAT_R16G16_UINT = 36)] = "DXGI_FORMAT_R16G16_UINT"),
      (r[(r.DXGI_FORMAT_R16G16_SNORM = 37)] = "DXGI_FORMAT_R16G16_SNORM"),
      (r[(r.DXGI_FORMAT_R16G16_SINT = 38)] = "DXGI_FORMAT_R16G16_SINT"),
      (r[(r.DXGI_FORMAT_R32_TYPELESS = 39)] = "DXGI_FORMAT_R32_TYPELESS"),
      (r[(r.DXGI_FORMAT_D32_FLOAT = 40)] = "DXGI_FORMAT_D32_FLOAT"),
      (r[(r.DXGI_FORMAT_R32_FLOAT = 41)] = "DXGI_FORMAT_R32_FLOAT"),
      (r[(r.DXGI_FORMAT_R32_UINT = 42)] = "DXGI_FORMAT_R32_UINT"),
      (r[(r.DXGI_FORMAT_R32_SINT = 43)] = "DXGI_FORMAT_R32_SINT"),
      (r[(r.DXGI_FORMAT_R24G8_TYPELESS = 44)] = "DXGI_FORMAT_R24G8_TYPELESS"),
      (r[(r.DXGI_FORMAT_D24_UNORM_S8_UINT = 45)] =
        "DXGI_FORMAT_D24_UNORM_S8_UINT"),
      (r[(r.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46)] =
        "DXGI_FORMAT_R24_UNORM_X8_TYPELESS"),
      (r[(r.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47)] =
        "DXGI_FORMAT_X24_TYPELESS_G8_UINT"),
      (r[(r.DXGI_FORMAT_R8G8_TYPELESS = 48)] = "DXGI_FORMAT_R8G8_TYPELESS"),
      (r[(r.DXGI_FORMAT_R8G8_UNORM = 49)] = "DXGI_FORMAT_R8G8_UNORM"),
      (r[(r.DXGI_FORMAT_R8G8_UINT = 50)] = "DXGI_FORMAT_R8G8_UINT"),
      (r[(r.DXGI_FORMAT_R8G8_SNORM = 51)] = "DXGI_FORMAT_R8G8_SNORM"),
      (r[(r.DXGI_FORMAT_R8G8_SINT = 52)] = "DXGI_FORMAT_R8G8_SINT"),
      (r[(r.DXGI_FORMAT_R16_TYPELESS = 53)] = "DXGI_FORMAT_R16_TYPELESS"),
      (r[(r.DXGI_FORMAT_R16_FLOAT = 54)] = "DXGI_FORMAT_R16_FLOAT"),
      (r[(r.DXGI_FORMAT_D16_UNORM = 55)] = "DXGI_FORMAT_D16_UNORM"),
      (r[(r.DXGI_FORMAT_R16_UNORM = 56)] = "DXGI_FORMAT_R16_UNORM"),
      (r[(r.DXGI_FORMAT_R16_UINT = 57)] = "DXGI_FORMAT_R16_UINT"),
      (r[(r.DXGI_FORMAT_R16_SNORM = 58)] = "DXGI_FORMAT_R16_SNORM"),
      (r[(r.DXGI_FORMAT_R16_SINT = 59)] = "DXGI_FORMAT_R16_SINT"),
      (r[(r.DXGI_FORMAT_R8_TYPELESS = 60)] = "DXGI_FORMAT_R8_TYPELESS"),
      (r[(r.DXGI_FORMAT_R8_UNORM = 61)] = "DXGI_FORMAT_R8_UNORM"),
      (r[(r.DXGI_FORMAT_R8_UINT = 62)] = "DXGI_FORMAT_R8_UINT"),
      (r[(r.DXGI_FORMAT_R8_SNORM = 63)] = "DXGI_FORMAT_R8_SNORM"),
      (r[(r.DXGI_FORMAT_R8_SINT = 64)] = "DXGI_FORMAT_R8_SINT"),
      (r[(r.DXGI_FORMAT_A8_UNORM = 65)] = "DXGI_FORMAT_A8_UNORM"),
      (r[(r.DXGI_FORMAT_R1_UNORM = 66)] = "DXGI_FORMAT_R1_UNORM"),
      (r[(r.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67)] =
        "DXGI_FORMAT_R9G9B9E5_SHAREDEXP"),
      (r[(r.DXGI_FORMAT_R8G8_B8G8_UNORM = 68)] = "DXGI_FORMAT_R8G8_B8G8_UNORM"),
      (r[(r.DXGI_FORMAT_G8R8_G8B8_UNORM = 69)] = "DXGI_FORMAT_G8R8_G8B8_UNORM"),
      (r[(r.DXGI_FORMAT_BC1_TYPELESS = 70)] = "DXGI_FORMAT_BC1_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC1_UNORM = 71)] = "DXGI_FORMAT_BC1_UNORM"),
      (r[(r.DXGI_FORMAT_BC1_UNORM_SRGB = 72)] = "DXGI_FORMAT_BC1_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_BC2_TYPELESS = 73)] = "DXGI_FORMAT_BC2_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC2_UNORM = 74)] = "DXGI_FORMAT_BC2_UNORM"),
      (r[(r.DXGI_FORMAT_BC2_UNORM_SRGB = 75)] = "DXGI_FORMAT_BC2_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_BC3_TYPELESS = 76)] = "DXGI_FORMAT_BC3_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC3_UNORM = 77)] = "DXGI_FORMAT_BC3_UNORM"),
      (r[(r.DXGI_FORMAT_BC3_UNORM_SRGB = 78)] = "DXGI_FORMAT_BC3_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_BC4_TYPELESS = 79)] = "DXGI_FORMAT_BC4_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC4_UNORM = 80)] = "DXGI_FORMAT_BC4_UNORM"),
      (r[(r.DXGI_FORMAT_BC4_SNORM = 81)] = "DXGI_FORMAT_BC4_SNORM"),
      (r[(r.DXGI_FORMAT_BC5_TYPELESS = 82)] = "DXGI_FORMAT_BC5_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC5_UNORM = 83)] = "DXGI_FORMAT_BC5_UNORM"),
      (r[(r.DXGI_FORMAT_BC5_SNORM = 84)] = "DXGI_FORMAT_BC5_SNORM"),
      (r[(r.DXGI_FORMAT_B5G6R5_UNORM = 85)] = "DXGI_FORMAT_B5G6R5_UNORM"),
      (r[(r.DXGI_FORMAT_B5G5R5A1_UNORM = 86)] = "DXGI_FORMAT_B5G5R5A1_UNORM"),
      (r[(r.DXGI_FORMAT_B8G8R8A8_UNORM = 87)] = "DXGI_FORMAT_B8G8R8A8_UNORM"),
      (r[(r.DXGI_FORMAT_B8G8R8X8_UNORM = 88)] = "DXGI_FORMAT_B8G8R8X8_UNORM"),
      (r[(r.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89)] =
        "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM"),
      (r[(r.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90)] =
        "DXGI_FORMAT_B8G8R8A8_TYPELESS"),
      (r[(r.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91)] =
        "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92)] =
        "DXGI_FORMAT_B8G8R8X8_TYPELESS"),
      (r[(r.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93)] =
        "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_BC6H_TYPELESS = 94)] = "DXGI_FORMAT_BC6H_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC6H_UF16 = 95)] = "DXGI_FORMAT_BC6H_UF16"),
      (r[(r.DXGI_FORMAT_BC6H_SF16 = 96)] = "DXGI_FORMAT_BC6H_SF16"),
      (r[(r.DXGI_FORMAT_BC7_TYPELESS = 97)] = "DXGI_FORMAT_BC7_TYPELESS"),
      (r[(r.DXGI_FORMAT_BC7_UNORM = 98)] = "DXGI_FORMAT_BC7_UNORM"),
      (r[(r.DXGI_FORMAT_BC7_UNORM_SRGB = 99)] = "DXGI_FORMAT_BC7_UNORM_SRGB"),
      (r[(r.DXGI_FORMAT_AYUV = 100)] = "DXGI_FORMAT_AYUV"),
      (r[(r.DXGI_FORMAT_Y410 = 101)] = "DXGI_FORMAT_Y410"),
      (r[(r.DXGI_FORMAT_Y416 = 102)] = "DXGI_FORMAT_Y416"),
      (r[(r.DXGI_FORMAT_NV12 = 103)] = "DXGI_FORMAT_NV12"),
      (r[(r.DXGI_FORMAT_P010 = 104)] = "DXGI_FORMAT_P010"),
      (r[(r.DXGI_FORMAT_P016 = 105)] = "DXGI_FORMAT_P016"),
      (r[(r.DXGI_FORMAT_420_OPAQUE = 106)] = "DXGI_FORMAT_420_OPAQUE"),
      (r[(r.DXGI_FORMAT_YUY2 = 107)] = "DXGI_FORMAT_YUY2"),
      (r[(r.DXGI_FORMAT_Y210 = 108)] = "DXGI_FORMAT_Y210"),
      (r[(r.DXGI_FORMAT_Y216 = 109)] = "DXGI_FORMAT_Y216"),
      (r[(r.DXGI_FORMAT_NV11 = 110)] = "DXGI_FORMAT_NV11"),
      (r[(r.DXGI_FORMAT_AI44 = 111)] = "DXGI_FORMAT_AI44"),
      (r[(r.DXGI_FORMAT_IA44 = 112)] = "DXGI_FORMAT_IA44"),
      (r[(r.DXGI_FORMAT_P8 = 113)] = "DXGI_FORMAT_P8"),
      (r[(r.DXGI_FORMAT_A8P8 = 114)] = "DXGI_FORMAT_A8P8"),
      (r[(r.DXGI_FORMAT_B4G4R4A4_UNORM = 115)] = "DXGI_FORMAT_B4G4R4A4_UNORM"),
      (r[(r.DXGI_FORMAT_P208 = 116)] = "DXGI_FORMAT_P208"),
      (r[(r.DXGI_FORMAT_V208 = 117)] = "DXGI_FORMAT_V208"),
      (r[(r.DXGI_FORMAT_V408 = 118)] = "DXGI_FORMAT_V408"),
      (r[(r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119)] =
        "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE"),
      (r[(r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120)] =
        "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE"),
      (r[(r.DXGI_FORMAT_FORCE_UINT = 121)] = "DXGI_FORMAT_FORCE_UINT");
  })(je || (je = {}));
  var Jl;
  (function (r) {
    (r[(r.DDS_DIMENSION_TEXTURE1D = 2)] = "DDS_DIMENSION_TEXTURE1D"),
      (r[(r.DDS_DIMENSION_TEXTURE2D = 3)] = "DDS_DIMENSION_TEXTURE2D"),
      (r[(r.DDS_DIMENSION_TEXTURE3D = 6)] = "DDS_DIMENSION_TEXTURE3D");
  })(Jl || (Jl = {}));
  var nC = 1,
    sC = 2,
    oC = 4,
    aC = 64,
    lC = 512,
    uC = 131072,
    hC = 827611204,
    cC = 861165636,
    fC = 894720068,
    pC = 808540228,
    dC = 4,
    vC =
      ((ns = {}),
      (ns[hC] = ht.COMPRESSED_RGBA_S3TC_DXT1_EXT),
      (ns[cC] = ht.COMPRESSED_RGBA_S3TC_DXT3_EXT),
      (ns[fC] = ht.COMPRESSED_RGBA_S3TC_DXT5_EXT),
      ns),
    _C =
      (($e = {}),
      ($e[je.DXGI_FORMAT_BC1_TYPELESS] = ht.COMPRESSED_RGBA_S3TC_DXT1_EXT),
      ($e[je.DXGI_FORMAT_BC1_UNORM] = ht.COMPRESSED_RGBA_S3TC_DXT1_EXT),
      ($e[je.DXGI_FORMAT_BC2_TYPELESS] = ht.COMPRESSED_RGBA_S3TC_DXT3_EXT),
      ($e[je.DXGI_FORMAT_BC2_UNORM] = ht.COMPRESSED_RGBA_S3TC_DXT3_EXT),
      ($e[je.DXGI_FORMAT_BC3_TYPELESS] = ht.COMPRESSED_RGBA_S3TC_DXT5_EXT),
      ($e[je.DXGI_FORMAT_BC3_UNORM] = ht.COMPRESSED_RGBA_S3TC_DXT5_EXT),
      ($e[je.DXGI_FORMAT_BC1_UNORM_SRGB] =
        ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT),
      ($e[je.DXGI_FORMAT_BC2_UNORM_SRGB] =
        ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT),
      ($e[je.DXGI_FORMAT_BC3_UNORM_SRGB] =
        ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT),
      $e),
    mC = (function () {
      function r() {}
      return (
        (r.use = function (t, e) {
          if (t.extension === "dds" && t.data)
            try {
              Object.assign(
                t,
                Nd(t.name || t.url, r.parse(t.data), t.metadata)
              );
            } catch (i) {
              e(i);
              return;
            }
          e();
        }),
        (r.parse = function (t) {
          var e = new Uint32Array(t),
            i = e[0];
          if (i !== rC) throw new Error("Invalid DDS file magic word");
          var n = new Uint32Array(t, 0, Po / Uint32Array.BYTES_PER_ELEMENT),
            s = n[Io.HEIGHT],
            o = n[Io.WIDTH],
            l = n[Io.MIPMAP_COUNT],
            h = new Uint32Array(
              t,
              Io.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT,
              eC / Uint32Array.BYTES_PER_ELEMENT
            ),
            f = h[nC];
          if (f & oC) {
            var p = h[iC.FOURCC];
            if (p !== pC) {
              var v = vC[p],
                _ = Zl + Po,
                m = new Uint8Array(t, _),
                g = new Kl(m, { format: v, width: o, height: s, levels: l });
              return [g];
            }
            var y = Zl + Po,
              b = new Uint32Array(
                e.buffer,
                y,
                Sd / Uint32Array.BYTES_PER_ELEMENT
              ),
              w = b[Ro.DXGI_FORMAT],
              C = b[Ro.RESOURCE_DIMENSION],
              T = b[Ro.MISC_FLAG],
              A = b[Ro.ARRAY_SIZE],
              I = _C[w];
            if (I === void 0)
              throw new Error(
                "DDSLoader cannot parse texture data with DXGI format " + w
              );
            if (T === dC)
              throw new Error("DDSLoader does not support cubemap textures");
            if (C === Jl.DDS_DIMENSION_TEXTURE3D)
              throw new Error("DDSLoader does not supported 3D texture data");
            var P = new Array(),
              O = Zl + Po + Sd;
            if (A === 1) P.push(new Uint8Array(t, O));
            else {
              for (var L = Co[I], N = 0, F = o, H = s, j = 0; j < l; j++) {
                var z = Math.max(1, (F + 3) & -4),
                  J = Math.max(1, (H + 3) & -4),
                  X = z * J * L;
                (N += X), (F = F >>> 1), (H = H >>> 1);
              }
              for (var M = O, j = 0; j < A; j++)
                P.push(new Uint8Array(t, M, N)), (M += N);
            }
            return P.map(function (D) {
              return new Kl(D, { format: I, width: o, height: s, levels: l });
            });
          }
          throw f & aC
            ? new Error("DDSLoader does not support uncompressed texture data.")
            : f & lC
            ? new Error(
                "DDSLoader does not supported YUV uncompressed texture data."
              )
            : f & uC
            ? new Error(
                "DDSLoader does not support single-channel (lumninance) texture data!"
              )
            : f & sC
            ? new Error(
                "DDSLoader does not support single-channel (alpha) texture data!"
              )
            : new Error(
                "DDSLoader failed to load a texture file due to an unknown reason!"
              );
        }),
        r
      );
    })(),
    Fr,
    mr,
    ss;
  zt.setExtensionXhrType("ktx", zt.XHR_RESPONSE_TYPE.BUFFER);
  var Od = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10],
    gC = 67305985,
    ze = {
      FILE_IDENTIFIER: 0,
      ENDIANNESS: 12,
      GL_TYPE: 16,
      GL_TYPE_SIZE: 20,
      GL_FORMAT: 24,
      GL_INTERNAL_FORMAT: 28,
      GL_BASE_INTERNAL_FORMAT: 32,
      PIXEL_WIDTH: 36,
      PIXEL_HEIGHT: 40,
      PIXEL_DEPTH: 44,
      NUMBER_OF_ARRAY_ELEMENTS: 48,
      NUMBER_OF_FACES: 52,
      NUMBER_OF_MIPMAP_LEVELS: 56,
      BYTES_OF_KEY_VALUE_DATA: 60,
    },
    Ql = 64,
    Ud =
      ((Fr = {}),
      (Fr[rt.UNSIGNED_BYTE] = 1),
      (Fr[rt.UNSIGNED_SHORT] = 2),
      (Fr[rt.INT] = 4),
      (Fr[rt.UNSIGNED_INT] = 4),
      (Fr[rt.FLOAT] = 4),
      (Fr[rt.HALF_FLOAT] = 8),
      Fr),
    yC =
      ((mr = {}),
      (mr[$.RGBA] = 4),
      (mr[$.RGB] = 3),
      (mr[$.RG] = 2),
      (mr[$.RED] = 1),
      (mr[$.LUMINANCE] = 1),
      (mr[$.LUMINANCE_ALPHA] = 2),
      (mr[$.ALPHA] = 1),
      mr),
    bC =
      ((ss = {}),
      (ss[rt.UNSIGNED_SHORT_4_4_4_4] = 2),
      (ss[rt.UNSIGNED_SHORT_5_5_5_1] = 2),
      (ss[rt.UNSIGNED_SHORT_5_6_5] = 2),
      ss),
    xC = (function () {
      function r() {}
      return (
        (r.use = function (t, e) {
          if (t.extension === "ktx" && t.data)
            try {
              var i = t.name || t.url,
                n = r.parse(i, t.data),
                s = n.compressed,
                o = n.uncompressed,
                l = n.kvData;
              if (s) {
                var h = Nd(i, s, t.metadata);
                if (l && h.textures)
                  for (var f in h.textures)
                    h.textures[f].baseTexture.ktxKeyValueData = l;
                Object.assign(t, h);
              } else if (o) {
                var p = {};
                o.forEach(function (v, _) {
                  var m = new ot(
                      new gt(v.resource, {
                        mipmap: cr.OFF,
                        alphaMode: Ve.NO_PREMULTIPLIED_ALPHA,
                        type: v.type,
                        format: v.format,
                      })
                    ),
                    g = i + "-" + (_ + 1);
                  l && (m.baseTexture.ktxKeyValueData = l),
                    gt.addToCache(m.baseTexture, g),
                    ot.addToCache(m, g),
                    _ === 0 &&
                      ((p[i] = m),
                      gt.addToCache(m.baseTexture, i),
                      ot.addToCache(m, i)),
                    (p[g] = m);
                }),
                  Object.assign(t, { textures: p });
              }
            } catch (v) {
              e(v);
              return;
            }
          e();
        }),
        (r.parse = function (t, e) {
          var i = new DataView(e);
          if (!r.validate(t, i)) return null;
          var n = i.getUint32(ze.ENDIANNESS, !0) === gC,
            s = i.getUint32(ze.GL_TYPE, n),
            o = i.getUint32(ze.GL_FORMAT, n),
            l = i.getUint32(ze.GL_INTERNAL_FORMAT, n),
            h = i.getUint32(ze.PIXEL_WIDTH, n),
            f = i.getUint32(ze.PIXEL_HEIGHT, n) || 1,
            p = i.getUint32(ze.PIXEL_DEPTH, n) || 1,
            v = i.getUint32(ze.NUMBER_OF_ARRAY_ELEMENTS, n) || 1,
            _ = i.getUint32(ze.NUMBER_OF_FACES, n),
            m = i.getUint32(ze.NUMBER_OF_MIPMAP_LEVELS, n),
            g = i.getUint32(ze.BYTES_OF_KEY_VALUE_DATA, n);
          if (f === 0 || p !== 1)
            throw new Error("Only 2D textures are supported");
          if (_ !== 1)
            throw new Error("CubeTextures are not supported by KTXLoader yet!");
          if (v !== 1) throw new Error("WebGL does not support array textures");
          var y = 4,
            b = 4,
            w = (h + 3) & -4,
            C = (f + 3) & -4,
            T = new Array(v),
            A = h * f;
          s === 0 && (A = w * C);
          var I;
          if (
            (s !== 0
              ? Ud[s]
                ? (I = Ud[s] * yC[o])
                : (I = bC[s])
              : (I = Co[l]),
            I === void 0)
          )
            throw new Error(
              "Unable to resolve the pixel format stored in the *.ktx file!"
            );
          for (
            var P = r.loadKeyValueData ? r.parseKvData(i, g, n) : null,
              O = A * I,
              L = O,
              N = h,
              F = f,
              H = w,
              j = C,
              z = Ql + g,
              J = 0;
            J < m;
            J++
          ) {
            for (var X = i.getUint32(z, n), M = z + 4, D = 0; D < v; D++) {
              var lt = T[D];
              lt || (lt = T[D] = new Array(m)),
                (lt[J] = {
                  levelID: J,
                  levelWidth: m > 1 || s !== 0 ? N : H,
                  levelHeight: m > 1 || s !== 0 ? F : j,
                  levelBuffer: new Uint8Array(e, M, L),
                }),
                (M += L);
            }
            (z += X + 4),
              (z = z % 4 !== 0 ? z + 4 - (z % 4) : z),
              (N = N >> 1 || 1),
              (F = F >> 1 || 1),
              (H = (N + y - 1) & ~(y - 1)),
              (j = (F + b - 1) & ~(b - 1)),
              (L = H * j * I);
          }
          return s !== 0
            ? {
                uncompressed: T.map(function (at) {
                  var B = at[0].levelBuffer,
                    Y = !1;
                  return (
                    s === rt.FLOAT
                      ? (B = new Float32Array(
                          at[0].levelBuffer.buffer,
                          at[0].levelBuffer.byteOffset,
                          at[0].levelBuffer.byteLength / 4
                        ))
                      : s === rt.UNSIGNED_INT
                      ? ((Y = !0),
                        (B = new Uint32Array(
                          at[0].levelBuffer.buffer,
                          at[0].levelBuffer.byteOffset,
                          at[0].levelBuffer.byteLength / 4
                        )))
                      : s === rt.INT &&
                        ((Y = !0),
                        (B = new Int32Array(
                          at[0].levelBuffer.buffer,
                          at[0].levelBuffer.byteOffset,
                          at[0].levelBuffer.byteLength / 4
                        ))),
                    {
                      resource: new Kn(B, {
                        width: at[0].levelWidth,
                        height: at[0].levelHeight,
                      }),
                      type: s,
                      format: Y ? r.convertFormatToInteger(o) : o,
                    }
                  );
                }),
                kvData: P,
              }
            : {
                compressed: T.map(function (at) {
                  return new Kl(null, {
                    format: l,
                    width: h,
                    height: f,
                    levels: m,
                    levelBuffers: at,
                  });
                }),
                kvData: P,
              };
        }),
        (r.validate = function (t, e) {
          for (var i = 0; i < Od.length; i++)
            if (e.getUint8(i) !== Od[i])
              return console.error(t + " is not a valid *.ktx file!"), !1;
          return !0;
        }),
        (r.convertFormatToInteger = function (t) {
          switch (t) {
            case $.RGBA:
              return $.RGBA_INTEGER;
            case $.RGB:
              return $.RGB_INTEGER;
            case $.RG:
              return $.RG_INTEGER;
            case $.RED:
              return $.RED_INTEGER;
            default:
              return t;
          }
        }),
        (r.parseKvData = function (t, e, i) {
          for (var n = new Map(), s = 0; s < e; ) {
            var o = t.getUint32(Ql + s, i),
              l = Ql + s + 4,
              h = 3 - ((o + 3) % 4);
            if (o === 0 || o > e - s) {
              console.error("KTXLoader: keyAndValueByteSize out of bounds");
              break;
            }
            for (var f = 0; f < o && t.getUint8(l + f) !== 0; f++);
            if (f === -1) {
              console.error(
                "KTXLoader: Failed to find null byte terminating kvData key"
              );
              break;
            }
            var p = new TextDecoder().decode(new Uint8Array(t.buffer, l, f)),
              v = new DataView(t.buffer, l + f + 1, o - f - 1);
            n.set(p, v), (s += 4 + o + h);
          }
          return n;
        }),
        (r.loadKeyValueData = !1),
        r
      );
    })();
  /*!
   * @pixi/particle-container - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/particle-container is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var tu =
    function (r, t) {
      return (
        (tu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        tu(r, t)
      );
    };
  function Ld(r, t) {
    tu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  (function (r) {
    Ld(t, r);
    function t(e, i, n, s) {
      e === void 0 && (e = 1500),
        n === void 0 && (n = 16384),
        s === void 0 && (s = !1);
      var o = r.call(this) || this,
        l = 16384;
      return (
        n > l && (n = l),
        (o._properties = [!1, !0, !1, !1, !1]),
        (o._maxSize = e),
        (o._batchSize = n),
        (o._buffers = null),
        (o._bufferUpdateIDs = []),
        (o._updateID = 0),
        (o.interactiveChildren = !1),
        (o.blendMode = it.NORMAL),
        (o.autoResize = s),
        (o.roundPixels = !0),
        (o.baseTexture = null),
        o.setProperties(i),
        (o._tint = 0),
        (o.tintRgb = new Float32Array(4)),
        (o.tint = 16777215),
        o
      );
    }
    return (
      (t.prototype.setProperties = function (e) {
        e &&
          ((this._properties[0] =
            "vertices" in e || "scale" in e
              ? !!e.vertices || !!e.scale
              : this._properties[0]),
          (this._properties[1] =
            "position" in e ? !!e.position : this._properties[1]),
          (this._properties[2] =
            "rotation" in e ? !!e.rotation : this._properties[2]),
          (this._properties[3] = "uvs" in e ? !!e.uvs : this._properties[3]),
          (this._properties[4] =
            "tint" in e || "alpha" in e
              ? !!e.tint || !!e.alpha
              : this._properties[4]));
      }),
      (t.prototype.updateTransform = function () {
        this.displayObjectUpdateTransform();
      }),
      Object.defineProperty(t.prototype, "tint", {
        get: function () {
          return this._tint;
        },
        set: function (e) {
          (this._tint = e), $i(e, this.tintRgb);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype.render = function (e) {
        var i = this;
        !this.visible ||
          this.worldAlpha <= 0 ||
          !this.children.length ||
          !this.renderable ||
          (this.baseTexture ||
            ((this.baseTexture = this.children[0]._texture.baseTexture),
            this.baseTexture.valid ||
              this.baseTexture.once("update", function () {
                return i.onChildrenChange(0);
              })),
          e.batch.setObjectRenderer(e.plugins.particle),
          e.plugins.particle.render(this));
      }),
      (t.prototype.onChildrenChange = function (e) {
        for (
          var i = Math.floor(e / this._batchSize);
          this._bufferUpdateIDs.length < i;

        )
          this._bufferUpdateIDs.push(0);
        this._bufferUpdateIDs[i] = ++this._updateID;
      }),
      (t.prototype.dispose = function () {
        if (this._buffers) {
          for (var e = 0; e < this._buffers.length; ++e)
            this._buffers[e].destroy();
          this._buffers = null;
        }
      }),
      (t.prototype.destroy = function (e) {
        r.prototype.destroy.call(this, e),
          this.dispose(),
          (this._properties = null),
          (this._buffers = null),
          (this._bufferUpdateIDs = null);
      }),
      t
    );
  })(Te);
  var Fd = (function () {
      function r(t, e, i) {
        (this.geometry = new Zn()),
          (this.indexBuffer = null),
          (this.size = i),
          (this.dynamicProperties = []),
          (this.staticProperties = []);
        for (var n = 0; n < t.length; ++n) {
          var s = t[n];
          (s = {
            attributeName: s.attributeName,
            size: s.size,
            uploadFunction: s.uploadFunction,
            type: s.type || rt.FLOAT,
            offset: s.offset,
          }),
            e[n]
              ? this.dynamicProperties.push(s)
              : this.staticProperties.push(s);
        }
        (this.staticStride = 0),
          (this.staticBuffer = null),
          (this.staticData = null),
          (this.staticDataUint32 = null),
          (this.dynamicStride = 0),
          (this.dynamicBuffer = null),
          (this.dynamicData = null),
          (this.dynamicDataUint32 = null),
          (this._updateID = 0),
          this.initBuffers();
      }
      return (
        (r.prototype.initBuffers = function () {
          var t = this.geometry,
            e = 0;
          (this.indexBuffer = new ee(L1(this.size), !0, !0)),
            t.addIndex(this.indexBuffer),
            (this.dynamicStride = 0);
          for (var i = 0; i < this.dynamicProperties.length; ++i) {
            var n = this.dynamicProperties[i];
            (n.offset = e), (e += n.size), (this.dynamicStride += n.size);
          }
          var s = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
          (this.dynamicData = new Float32Array(s)),
            (this.dynamicDataUint32 = new Uint32Array(s)),
            (this.dynamicBuffer = new ee(this.dynamicData, !1, !1));
          var o = 0;
          this.staticStride = 0;
          for (var i = 0; i < this.staticProperties.length; ++i) {
            var n = this.staticProperties[i];
            (n.offset = o), (o += n.size), (this.staticStride += n.size);
          }
          var l = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
          (this.staticData = new Float32Array(l)),
            (this.staticDataUint32 = new Uint32Array(l)),
            (this.staticBuffer = new ee(this.staticData, !0, !1));
          for (var i = 0; i < this.dynamicProperties.length; ++i) {
            var n = this.dynamicProperties[i];
            t.addAttribute(
              n.attributeName,
              this.dynamicBuffer,
              0,
              n.type === rt.UNSIGNED_BYTE,
              n.type,
              this.dynamicStride * 4,
              n.offset * 4
            );
          }
          for (var i = 0; i < this.staticProperties.length; ++i) {
            var n = this.staticProperties[i];
            t.addAttribute(
              n.attributeName,
              this.staticBuffer,
              0,
              n.type === rt.UNSIGNED_BYTE,
              n.type,
              this.staticStride * 4,
              n.offset * 4
            );
          }
        }),
        (r.prototype.uploadDynamic = function (t, e, i) {
          for (var n = 0; n < this.dynamicProperties.length; n++) {
            var s = this.dynamicProperties[n];
            s.uploadFunction(
              t,
              e,
              i,
              s.type === rt.UNSIGNED_BYTE
                ? this.dynamicDataUint32
                : this.dynamicData,
              this.dynamicStride,
              s.offset
            );
          }
          this.dynamicBuffer._updateID++;
        }),
        (r.prototype.uploadStatic = function (t, e, i) {
          for (var n = 0; n < this.staticProperties.length; n++) {
            var s = this.staticProperties[n];
            s.uploadFunction(
              t,
              e,
              i,
              s.type === rt.UNSIGNED_BYTE
                ? this.staticDataUint32
                : this.staticData,
              this.staticStride,
              s.offset
            );
          }
          this.staticBuffer._updateID++;
        }),
        (r.prototype.destroy = function () {
          (this.indexBuffer = null),
            (this.dynamicProperties = null),
            (this.dynamicBuffer = null),
            (this.dynamicData = null),
            (this.dynamicDataUint32 = null),
            (this.staticProperties = null),
            (this.staticBuffer = null),
            (this.staticData = null),
            (this.staticDataUint32 = null),
            this.geometry.destroy();
        }),
        r
      );
    })(),
    wC = `varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,
    TC = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,
    EC = (function (r) {
      Ld(t, r);
      function t(e) {
        var i = r.call(this, e) || this;
        return (
          (i.shader = null),
          (i.properties = null),
          (i.tempMatrix = new Yt()),
          (i.properties = [
            {
              attributeName: "aVertexPosition",
              size: 2,
              uploadFunction: i.uploadVertices,
              offset: 0,
            },
            {
              attributeName: "aPositionCoord",
              size: 2,
              uploadFunction: i.uploadPosition,
              offset: 0,
            },
            {
              attributeName: "aRotation",
              size: 1,
              uploadFunction: i.uploadRotation,
              offset: 0,
            },
            {
              attributeName: "aTextureCoord",
              size: 2,
              uploadFunction: i.uploadUvs,
              offset: 0,
            },
            {
              attributeName: "aColor",
              size: 1,
              type: rt.UNSIGNED_BYTE,
              uploadFunction: i.uploadTint,
              offset: 0,
            },
          ]),
          (i.shader = dr.from(TC, wC, {})),
          (i.state = vi.for2d()),
          i
        );
      }
      return (
        (t.prototype.render = function (e) {
          var i = e.children,
            n = e._maxSize,
            s = e._batchSize,
            o = this.renderer,
            l = i.length;
          if (l !== 0) {
            l > n && !e.autoResize && (l = n);
            var h = e._buffers;
            h || (h = e._buffers = this.generateBuffers(e));
            var f = i[0]._texture.baseTexture;
            (this.state.blendMode = Pf(e.blendMode, f.alphaMode)),
              o.state.set(this.state);
            var p = o.gl,
              v = e.worldTransform.copyTo(this.tempMatrix);
            v.prepend(o.globalUniforms.uniforms.projectionMatrix),
              (this.shader.uniforms.translationMatrix = v.toArray(!0)),
              (this.shader.uniforms.uColor = U1(
                e.tintRgb,
                e.worldAlpha,
                this.shader.uniforms.uColor,
                f.alphaMode
              )),
              (this.shader.uniforms.uSampler = f),
              this.renderer.shader.bind(this.shader);
            for (var _ = !1, m = 0, g = 0; m < l; m += s, g += 1) {
              var y = l - m;
              y > s && (y = s),
                g >= h.length && h.push(this._generateOneMoreBuffer(e));
              var b = h[g];
              b.uploadDynamic(i, m, y);
              var w = e._bufferUpdateIDs[g] || 0;
              (_ = _ || b._updateID < w),
                _ && ((b._updateID = e._updateID), b.uploadStatic(i, m, y)),
                o.geometry.bind(b.geometry),
                p.drawElements(p.TRIANGLES, y * 6, p.UNSIGNED_SHORT, 0);
            }
          }
        }),
        (t.prototype.generateBuffers = function (e) {
          for (
            var i = [],
              n = e._maxSize,
              s = e._batchSize,
              o = e._properties,
              l = 0;
            l < n;
            l += s
          )
            i.push(new Fd(this.properties, o, s));
          return i;
        }),
        (t.prototype._generateOneMoreBuffer = function (e) {
          var i = e._batchSize,
            n = e._properties;
          return new Fd(this.properties, n, i);
        }),
        (t.prototype.uploadVertices = function (e, i, n, s, o, l) {
          for (var h = 0, f = 0, p = 0, v = 0, _ = 0; _ < n; ++_) {
            var m = e[i + _],
              g = m._texture,
              y = m.scale.x,
              b = m.scale.y,
              w = g.trim,
              C = g.orig;
            w
              ? ((f = w.x - m.anchor.x * C.width),
                (h = f + w.width),
                (v = w.y - m.anchor.y * C.height),
                (p = v + w.height))
              : ((h = C.width * (1 - m.anchor.x)),
                (f = C.width * -m.anchor.x),
                (p = C.height * (1 - m.anchor.y)),
                (v = C.height * -m.anchor.y)),
              (s[l] = f * y),
              (s[l + 1] = v * b),
              (s[l + o] = h * y),
              (s[l + o + 1] = v * b),
              (s[l + o * 2] = h * y),
              (s[l + o * 2 + 1] = p * b),
              (s[l + o * 3] = f * y),
              (s[l + o * 3 + 1] = p * b),
              (l += o * 4);
          }
        }),
        (t.prototype.uploadPosition = function (e, i, n, s, o, l) {
          for (var h = 0; h < n; h++) {
            var f = e[i + h].position;
            (s[l] = f.x),
              (s[l + 1] = f.y),
              (s[l + o] = f.x),
              (s[l + o + 1] = f.y),
              (s[l + o * 2] = f.x),
              (s[l + o * 2 + 1] = f.y),
              (s[l + o * 3] = f.x),
              (s[l + o * 3 + 1] = f.y),
              (l += o * 4);
          }
        }),
        (t.prototype.uploadRotation = function (e, i, n, s, o, l) {
          for (var h = 0; h < n; h++) {
            var f = e[i + h].rotation;
            (s[l] = f),
              (s[l + o] = f),
              (s[l + o * 2] = f),
              (s[l + o * 3] = f),
              (l += o * 4);
          }
        }),
        (t.prototype.uploadUvs = function (e, i, n, s, o, l) {
          for (var h = 0; h < n; ++h) {
            var f = e[i + h]._texture._uvs;
            f
              ? ((s[l] = f.x0),
                (s[l + 1] = f.y0),
                (s[l + o] = f.x1),
                (s[l + o + 1] = f.y1),
                (s[l + o * 2] = f.x2),
                (s[l + o * 2 + 1] = f.y2),
                (s[l + o * 3] = f.x3),
                (s[l + o * 3 + 1] = f.y3),
                (l += o * 4))
              : ((s[l] = 0),
                (s[l + 1] = 0),
                (s[l + o] = 0),
                (s[l + o + 1] = 0),
                (s[l + o * 2] = 0),
                (s[l + o * 2 + 1] = 0),
                (s[l + o * 3] = 0),
                (s[l + o * 3 + 1] = 0),
                (l += o * 4));
          }
        }),
        (t.prototype.uploadTint = function (e, i, n, s, o, l) {
          for (var h = 0; h < n; ++h) {
            var f = e[i + h],
              p = f._texture.baseTexture.alphaMode > 0,
              v = f.alpha,
              _ =
                v < 1 && p ? ol(f._tintRGB, v) : f._tintRGB + ((v * 255) << 24);
            (s[l] = _),
              (s[l + o] = _),
              (s[l + o * 2] = _),
              (s[l + o * 3] = _),
              (l += o * 4);
          }
        }),
        (t.prototype.destroy = function () {
          r.prototype.destroy.call(this),
            this.shader && (this.shader.destroy(), (this.shader = null)),
            (this.tempMatrix = null);
        }),
        t
      );
    })(_o);
  /*!
   * @pixi/graphics - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/graphics is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var kr;
  (function (r) {
    (r.MITER = "miter"), (r.BEVEL = "bevel"), (r.ROUND = "round");
  })(kr || (kr = {}));
  var Br;
  (function (r) {
    (r.BUTT = "butt"), (r.ROUND = "round"), (r.SQUARE = "square");
  })(Br || (Br = {}));
  var os = {
      adaptive: !0,
      maxLength: 10,
      minSegments: 8,
      maxSegments: 2048,
      epsilon: 1e-4,
      _segmentsCount: function (r, t) {
        if ((t === void 0 && (t = 20), !this.adaptive || !r || isNaN(r)))
          return t;
        var e = Math.ceil(r / this.maxLength);
        return (
          e < this.minSegments
            ? (e = this.minSegments)
            : e > this.maxSegments && (e = this.maxSegments),
          e
        );
      },
    },
    kd = (function () {
      function r() {
        (this.color = 16777215),
          (this.alpha = 1),
          (this.texture = ot.WHITE),
          (this.matrix = null),
          (this.visible = !1),
          this.reset();
      }
      return (
        (r.prototype.clone = function () {
          var t = new r();
          return (
            (t.color = this.color),
            (t.alpha = this.alpha),
            (t.texture = this.texture),
            (t.matrix = this.matrix),
            (t.visible = this.visible),
            t
          );
        }),
        (r.prototype.reset = function () {
          (this.color = 16777215),
            (this.alpha = 1),
            (this.texture = ot.WHITE),
            (this.matrix = null),
            (this.visible = !1);
        }),
        (r.prototype.destroy = function () {
          (this.texture = null), (this.matrix = null);
        }),
        r
      );
    })();
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var eu =
    function (r, t) {
      return (
        (eu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        eu(r, t)
      );
    };
  function ru(r, t) {
    eu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  function Bd(r, t) {
    var e, i;
    t === void 0 && (t = !1);
    var n = r.length;
    if (!(n < 6)) {
      for (var s = 0, o = 0, l = r[n - 2], h = r[n - 1]; o < n; o += 2) {
        var f = r[o],
          p = r[o + 1];
        (s += (f - l) * (p + h)), (l = f), (h = p);
      }
      if ((!t && s > 0) || (t && s <= 0))
        for (var v = n / 2, o = v + (v % 2); o < n; o += 2) {
          var _ = n - o - 2,
            m = n - o - 1,
            g = o,
            y = o + 1;
          (e = [r[g], r[_]]),
            (r[_] = e[0]),
            (r[g] = e[1]),
            (i = [r[y], r[m]]),
            (r[m] = i[0]),
            (r[y] = i[1]);
        }
    }
  }
  var Gd = {
      build: function (r) {
        r.points = r.shape.points.slice();
      },
      triangulate: function (r, t) {
        var e = r.points,
          i = r.holes,
          n = t.points,
          s = t.indices;
        if (e.length >= 6) {
          Bd(e, !1);
          for (var o = [], l = 0; l < i.length; l++) {
            var h = i[l];
            Bd(h.points, !0), o.push(e.length / 2), (e = e.concat(h.points));
          }
          var f = mf(e, o, 2);
          if (!f) return;
          for (var p = n.length / 2, l = 0; l < f.length; l += 3)
            s.push(f[l] + p), s.push(f[l + 1] + p), s.push(f[l + 2] + p);
          for (var l = 0; l < e.length; l++) n.push(e[l]);
        }
      },
    },
    Ao = {
      build: function (r) {
        var t = r.points,
          e,
          i,
          n,
          s,
          o,
          l;
        if (r.type === Dt.CIRC) {
          var h = r.shape;
          (e = h.x), (i = h.y), (o = l = h.radius), (n = s = 0);
        } else if (r.type === Dt.ELIP) {
          var f = r.shape;
          (e = f.x), (i = f.y), (o = f.width), (l = f.height), (n = s = 0);
        } else {
          var p = r.shape,
            v = p.width / 2,
            _ = p.height / 2;
          (e = p.x + v),
            (i = p.y + _),
            (o = l = Math.max(0, Math.min(p.radius, Math.min(v, _)))),
            (n = v - o),
            (s = _ - l);
        }
        if (!(o >= 0 && l >= 0 && n >= 0 && s >= 0)) {
          t.length = 0;
          return;
        }
        var m = Math.ceil(2.3 * Math.sqrt(o + l)),
          g = m * 8 + (n ? 4 : 0) + (s ? 4 : 0);
        if (((t.length = g), g !== 0)) {
          if (m === 0) {
            (t.length = 8),
              (t[0] = t[6] = e + n),
              (t[1] = t[3] = i + s),
              (t[2] = t[4] = e - n),
              (t[5] = t[7] = i - s);
            return;
          }
          var y = 0,
            b = m * 4 + (n ? 2 : 0) + 2,
            w = b,
            C = g;
          {
            var T = n + o,
              A = s,
              I = e + T,
              P = e - T,
              O = i + A;
            if (((t[y++] = I), (t[y++] = O), (t[--b] = O), (t[--b] = P), s)) {
              var L = i - A;
              (t[w++] = P), (t[w++] = L), (t[--C] = L), (t[--C] = I);
            }
          }
          for (var N = 1; N < m; N++) {
            var F = (Math.PI / 2) * (N / m),
              T = n + Math.cos(F) * o,
              A = s + Math.sin(F) * l,
              I = e + T,
              P = e - T,
              O = i + A,
              L = i - A;
            (t[y++] = I),
              (t[y++] = O),
              (t[--b] = O),
              (t[--b] = P),
              (t[w++] = P),
              (t[w++] = L),
              (t[--C] = L),
              (t[--C] = I);
          }
          {
            var T = n,
              A = s + l,
              I = e + T,
              P = e - T,
              O = i + A,
              L = i - A;
            (t[y++] = I),
              (t[y++] = O),
              (t[--C] = L),
              (t[--C] = I),
              n && ((t[y++] = P), (t[y++] = O), (t[--C] = L), (t[--C] = P));
          }
        }
      },
      triangulate: function (r, t) {
        var e = r.points,
          i = t.points,
          n = t.indices,
          s = i.length / 2,
          o = s,
          l,
          h;
        if (r.type !== Dt.RREC) {
          var f = r.shape;
          (l = f.x), (h = f.y);
        } else {
          var p = r.shape;
          (l = p.x + p.width / 2), (h = p.y + p.height / 2);
        }
        var v = r.matrix;
        i.push(
          r.matrix ? v.a * l + v.c * h + v.tx : l,
          r.matrix ? v.b * l + v.d * h + v.ty : h
        ),
          s++,
          i.push(e[0], e[1]);
        for (var _ = 2; _ < e.length; _ += 2)
          i.push(e[_], e[_ + 1]), n.push(s++, o, s);
        n.push(o + 1, o, s);
      },
    },
    CC = {
      build: function (r) {
        var t = r.shape,
          e = t.x,
          i = t.y,
          n = t.width,
          s = t.height,
          o = r.points;
        (o.length = 0), o.push(e, i, e + n, i, e + n, i + s, e, i + s);
      },
      triangulate: function (r, t) {
        var e = r.points,
          i = t.points,
          n = i.length / 2;
        i.push(e[0], e[1], e[2], e[3], e[6], e[7], e[4], e[5]),
          t.indices.push(n, n + 1, n + 2, n + 1, n + 2, n + 3);
      },
    };
  function Ki(r, t, e) {
    var i = t - r;
    return r + i * e;
  }
  function No(r, t, e, i, n, s, o) {
    o === void 0 && (o = []);
    for (
      var l = 20, h = o, f = 0, p = 0, v = 0, _ = 0, m = 0, g = 0, y = 0, b = 0;
      y <= l;
      ++y
    )
      (b = y / l),
        (f = Ki(r, e, b)),
        (p = Ki(t, i, b)),
        (v = Ki(e, n, b)),
        (_ = Ki(i, s, b)),
        (m = Ki(f, v, b)),
        (g = Ki(p, _, b)),
        !(y === 0 && h[h.length - 2] === m && h[h.length - 1] === g) &&
          h.push(m, g);
    return h;
  }
  var PC = {
    build: function (r) {
      if (Qi.nextRoundedRectBehavior) {
        Ao.build(r);
        return;
      }
      var t = r.shape,
        e = r.points,
        i = t.x,
        n = t.y,
        s = t.width,
        o = t.height,
        l = Math.max(0, Math.min(t.radius, Math.min(s, o) / 2));
      (e.length = 0),
        l
          ? (No(i, n + l, i, n, i + l, n, e),
            No(i + s - l, n, i + s, n, i + s, n + l, e),
            No(i + s, n + o - l, i + s, n + o, i + s - l, n + o, e),
            No(i + l, n + o, i, n + o, i, n + o - l, e))
          : e.push(i, n, i + s, n, i + s, n + o, i, n + o);
    },
    triangulate: function (r, t) {
      if (Qi.nextRoundedRectBehavior) {
        Ao.triangulate(r, t);
        return;
      }
      for (
        var e = r.points,
          i = t.points,
          n = t.indices,
          s = i.length / 2,
          o = mf(e, null, 2),
          l = 0,
          h = o.length;
        l < h;
        l += 3
      )
        n.push(o[l] + s), n.push(o[l + 1] + s), n.push(o[l + 2] + s);
      for (var l = 0, h = e.length; l < h; l++) i.push(e[l], e[++l]);
    },
  };
  function Md(r, t, e, i, n, s, o, l) {
    var h = r - e * n,
      f = t - i * n,
      p = r + e * s,
      v = t + i * s,
      _,
      m;
    o ? ((_ = i), (m = -e)) : ((_ = -i), (m = e));
    var g = h + _,
      y = f + m,
      b = p + _,
      w = v + m;
    return l.push(g, y), l.push(b, w), 2;
  }
  function Zi(r, t, e, i, n, s, o, l) {
    var h = e - r,
      f = i - t,
      p = Math.atan2(h, f),
      v = Math.atan2(n - r, s - t);
    l && p < v ? (p += Math.PI * 2) : !l && p > v && (v += Math.PI * 2);
    var _ = p,
      m = v - p,
      g = Math.abs(m),
      y = Math.sqrt(h * h + f * f),
      b = (((15 * g * Math.sqrt(y)) / Math.PI) >> 0) + 1,
      w = m / b;
    if (((_ += w), l)) {
      o.push(r, t), o.push(e, i);
      for (var C = 1, T = _; C < b; C++, T += w)
        o.push(r, t), o.push(r + Math.sin(T) * y, t + Math.cos(T) * y);
      o.push(r, t), o.push(n, s);
    } else {
      o.push(e, i), o.push(r, t);
      for (var C = 1, T = _; C < b; C++, T += w)
        o.push(r + Math.sin(T) * y, t + Math.cos(T) * y), o.push(r, t);
      o.push(n, s), o.push(r, t);
    }
    return b * 2;
  }
  function IC(r, t) {
    var e = r.shape,
      i = r.points || e.points.slice(),
      n = t.closePointEps;
    if (i.length !== 0) {
      var s = r.lineStyle,
        o = new kt(i[0], i[1]),
        l = new kt(i[i.length - 2], i[i.length - 1]),
        h = e.type !== Dt.POLY || e.closeStroke,
        f = Math.abs(o.x - l.x) < n && Math.abs(o.y - l.y) < n;
      if (h) {
        (i = i.slice()),
          f && (i.pop(), i.pop(), l.set(i[i.length - 2], i[i.length - 1]));
        var p = (o.x + l.x) * 0.5,
          v = (l.y + o.y) * 0.5;
        i.unshift(p, v), i.push(p, v);
      }
      var _ = t.points,
        m = i.length / 2,
        g = i.length,
        y = _.length / 2,
        b = s.width / 2,
        w = b * b,
        C = s.miterLimit * s.miterLimit,
        T = i[0],
        A = i[1],
        I = i[2],
        P = i[3],
        O = 0,
        L = 0,
        N = -(A - P),
        F = T - I,
        H = 0,
        j = 0,
        z = Math.sqrt(N * N + F * F);
      (N /= z), (F /= z), (N *= b), (F *= b);
      var J = s.alignment,
        X = (1 - J) * 2,
        M = J * 2;
      h ||
        (s.cap === Br.ROUND
          ? (g +=
              Zi(
                T - N * (X - M) * 0.5,
                A - F * (X - M) * 0.5,
                T - N * X,
                A - F * X,
                T + N * M,
                A + F * M,
                _,
                !0
              ) + 2)
          : s.cap === Br.SQUARE && (g += Md(T, A, N, F, X, M, !0, _))),
        _.push(T - N * X, A - F * X),
        _.push(T + N * M, A + F * M);
      for (var D = 1; D < m - 1; ++D) {
        (T = i[(D - 1) * 2]),
          (A = i[(D - 1) * 2 + 1]),
          (I = i[D * 2]),
          (P = i[D * 2 + 1]),
          (O = i[(D + 1) * 2]),
          (L = i[(D + 1) * 2 + 1]),
          (N = -(A - P)),
          (F = T - I),
          (z = Math.sqrt(N * N + F * F)),
          (N /= z),
          (F /= z),
          (N *= b),
          (F *= b),
          (H = -(P - L)),
          (j = I - O),
          (z = Math.sqrt(H * H + j * j)),
          (H /= z),
          (j /= z),
          (H *= b),
          (j *= b);
        var lt = I - T,
          at = A - P,
          B = I - O,
          Y = L - P,
          tt = at * B - Y * lt,
          q = tt < 0;
        if (Math.abs(tt) < 0.1) {
          _.push(I - N * X, P - F * X), _.push(I + N * M, P + F * M);
          continue;
        }
        var K = (-N + T) * (-F + P) - (-N + I) * (-F + A),
          _t = (-H + O) * (-j + P) - (-H + I) * (-j + L),
          Et = (lt * _t - B * K) / tt,
          Ut = (Y * K - at * _t) / tt,
          Bt = (Et - I) * (Et - I) + (Ut - P) * (Ut - P),
          bt = I + (Et - I) * X,
          mt = P + (Ut - P) * X,
          pt = I - (Et - I) * M,
          Rt = P - (Ut - P) * M,
          ut = Math.min(lt * lt + at * at, B * B + Y * Y),
          Zt = q ? X : M,
          $t = ut + Zt * Zt * w,
          ct = Bt <= $t;
        ct
          ? s.join === kr.BEVEL || Bt / w > C
            ? (q
                ? (_.push(bt, mt),
                  _.push(I + N * M, P + F * M),
                  _.push(bt, mt),
                  _.push(I + H * M, P + j * M))
                : (_.push(I - N * X, P - F * X),
                  _.push(pt, Rt),
                  _.push(I - H * X, P - j * X),
                  _.push(pt, Rt)),
              (g += 2))
            : s.join === kr.ROUND
            ? q
              ? (_.push(bt, mt),
                _.push(I + N * M, P + F * M),
                (g +=
                  Zi(I, P, I + N * M, P + F * M, I + H * M, P + j * M, _, !0) +
                  4),
                _.push(bt, mt),
                _.push(I + H * M, P + j * M))
              : (_.push(I - N * X, P - F * X),
                _.push(pt, Rt),
                (g +=
                  Zi(I, P, I - N * X, P - F * X, I - H * X, P - j * X, _, !1) +
                  4),
                _.push(I - H * X, P - j * X),
                _.push(pt, Rt))
            : (_.push(bt, mt), _.push(pt, Rt))
          : (_.push(I - N * X, P - F * X),
            _.push(I + N * M, P + F * M),
            s.join === kr.ROUND
              ? q
                ? (g +=
                    Zi(
                      I,
                      P,
                      I + N * M,
                      P + F * M,
                      I + H * M,
                      P + j * M,
                      _,
                      !0
                    ) + 2)
                : (g +=
                    Zi(
                      I,
                      P,
                      I - N * X,
                      P - F * X,
                      I - H * X,
                      P - j * X,
                      _,
                      !1
                    ) + 2)
              : s.join === kr.MITER &&
                Bt / w <= C &&
                (q
                  ? (_.push(pt, Rt), _.push(pt, Rt))
                  : (_.push(bt, mt), _.push(bt, mt)),
                (g += 2)),
            _.push(I - H * X, P - j * X),
            _.push(I + H * M, P + j * M),
            (g += 2));
      }
      (T = i[(m - 2) * 2]),
        (A = i[(m - 2) * 2 + 1]),
        (I = i[(m - 1) * 2]),
        (P = i[(m - 1) * 2 + 1]),
        (N = -(A - P)),
        (F = T - I),
        (z = Math.sqrt(N * N + F * F)),
        (N /= z),
        (F /= z),
        (N *= b),
        (F *= b),
        _.push(I - N * X, P - F * X),
        _.push(I + N * M, P + F * M),
        h ||
          (s.cap === Br.ROUND
            ? (g +=
                Zi(
                  I - N * (X - M) * 0.5,
                  P - F * (X - M) * 0.5,
                  I - N * X,
                  P - F * X,
                  I + N * M,
                  P + F * M,
                  _,
                  !1
                ) + 2)
            : s.cap === Br.SQUARE && (g += Md(I, P, N, F, X, M, !1, _)));
      for (
        var ye = t.indices, Ne = os.epsilon * os.epsilon, D = y;
        D < g + y - 2;
        ++D
      )
        (T = _[D * 2]),
          (A = _[D * 2 + 1]),
          (I = _[(D + 1) * 2]),
          (P = _[(D + 1) * 2 + 1]),
          (O = _[(D + 2) * 2]),
          (L = _[(D + 2) * 2 + 1]),
          !(Math.abs(T * (P - L) + I * (L - A) + O * (A - P)) < Ne) &&
            ye.push(D, D + 1, D + 2);
    }
  }
  function RC(r, t) {
    var e = 0,
      i = r.shape,
      n = r.points || i.points,
      s = i.type !== Dt.POLY || i.closeStroke;
    if (n.length !== 0) {
      var o = t.points,
        l = t.indices,
        h = n.length / 2,
        f = o.length / 2,
        p = f;
      for (o.push(n[0], n[1]), e = 1; e < h; e++)
        o.push(n[e * 2], n[e * 2 + 1]), l.push(p, p + 1), p++;
      s && l.push(p, f);
    }
  }
  function Dd(r, t) {
    r.lineStyle.native ? RC(r, t) : IC(r, t);
  }
  var Vd = (function () {
      function r() {}
      return (
        (r.curveTo = function (t, e, i, n, s, o) {
          var l = o[o.length - 2],
            h = o[o.length - 1],
            f = h - e,
            p = l - t,
            v = n - e,
            _ = i - t,
            m = Math.abs(f * _ - p * v);
          if (m < 1e-8 || s === 0)
            return (
              (o[o.length - 2] !== t || o[o.length - 1] !== e) && o.push(t, e),
              null
            );
          var g = f * f + p * p,
            y = v * v + _ * _,
            b = f * v + p * _,
            w = (s * Math.sqrt(g)) / m,
            C = (s * Math.sqrt(y)) / m,
            T = (w * b) / g,
            A = (C * b) / y,
            I = w * _ + C * p,
            P = w * v + C * f,
            O = p * (C + T),
            L = f * (C + T),
            N = _ * (w + A),
            F = v * (w + A),
            H = Math.atan2(L - P, O - I),
            j = Math.atan2(F - P, N - I);
          return {
            cx: I + t,
            cy: P + e,
            radius: s,
            startAngle: H,
            endAngle: j,
            anticlockwise: p * v > _ * f,
          };
        }),
        (r.arc = function (t, e, i, n, s, o, l, h, f) {
          for (
            var p = l - o,
              v = os._segmentsCount(
                Math.abs(p) * s,
                Math.ceil(Math.abs(p) / oo) * 40
              ),
              _ = p / (v * 2),
              m = _ * 2,
              g = Math.cos(_),
              y = Math.sin(_),
              b = v - 1,
              w = (b % 1) / b,
              C = 0;
            C <= b;
            ++C
          ) {
            var T = C + w * C,
              A = _ + o + m * T,
              I = Math.cos(A),
              P = -Math.sin(A);
            f.push((g * I + y * P) * s + i, (g * -P + y * I) * s + n);
          }
        }),
        r
      );
    })(),
    AC = (function () {
      function r() {}
      return (
        (r.curveLength = function (t, e, i, n, s, o, l, h) {
          for (
            var f = 10,
              p = 0,
              v = 0,
              _ = 0,
              m = 0,
              g = 0,
              y = 0,
              b = 0,
              w = 0,
              C = 0,
              T = 0,
              A = 0,
              I = t,
              P = e,
              O = 1;
            O <= f;
            ++O
          )
            (v = O / f),
              (_ = v * v),
              (m = _ * v),
              (g = 1 - v),
              (y = g * g),
              (b = y * g),
              (w = b * t + 3 * y * v * i + 3 * g * _ * s + m * l),
              (C = b * e + 3 * y * v * n + 3 * g * _ * o + m * h),
              (T = I - w),
              (A = P - C),
              (I = w),
              (P = C),
              (p += Math.sqrt(T * T + A * A));
          return p;
        }),
        (r.curveTo = function (t, e, i, n, s, o, l) {
          var h = l[l.length - 2],
            f = l[l.length - 1];
          l.length -= 2;
          var p = os._segmentsCount(r.curveLength(h, f, t, e, i, n, s, o)),
            v = 0,
            _ = 0,
            m = 0,
            g = 0,
            y = 0;
          l.push(h, f);
          for (var b = 1, w = 0; b <= p; ++b)
            (w = b / p),
              (v = 1 - w),
              (_ = v * v),
              (m = _ * v),
              (g = w * w),
              (y = g * w),
              l.push(
                m * h + 3 * _ * w * t + 3 * v * g * i + y * s,
                m * f + 3 * _ * w * e + 3 * v * g * n + y * o
              );
        }),
        r
      );
    })(),
    NC = (function () {
      function r() {}
      return (
        (r.curveLength = function (t, e, i, n, s, o) {
          var l = t - 2 * i + s,
            h = e - 2 * n + o,
            f = 2 * i - 2 * t,
            p = 2 * n - 2 * e,
            v = 4 * (l * l + h * h),
            _ = 4 * (l * f + h * p),
            m = f * f + p * p,
            g = 2 * Math.sqrt(v + _ + m),
            y = Math.sqrt(v),
            b = 2 * v * y,
            w = 2 * Math.sqrt(m),
            C = _ / y;
          return (
            (b * g +
              y * _ * (g - w) +
              (4 * m * v - _ * _) * Math.log((2 * y + C + g) / (C + w))) /
            (4 * b)
          );
        }),
        (r.curveTo = function (t, e, i, n, s) {
          for (
            var o = s[s.length - 2],
              l = s[s.length - 1],
              h = os._segmentsCount(r.curveLength(o, l, t, e, i, n)),
              f = 0,
              p = 0,
              v = 1;
            v <= h;
            ++v
          ) {
            var _ = v / h;
            (f = o + (t - o) * _),
              (p = l + (e - l) * _),
              s.push(
                f + (t + (i - t) * _ - f) * _,
                p + (e + (n - e) * _ - p) * _
              );
          }
        }),
        r
      );
    })(),
    SC = (function () {
      function r() {
        this.reset();
      }
      return (
        (r.prototype.begin = function (t, e, i) {
          this.reset(),
            (this.style = t),
            (this.start = e),
            (this.attribStart = i);
        }),
        (r.prototype.end = function (t, e) {
          (this.attribSize = e - this.attribStart),
            (this.size = t - this.start);
        }),
        (r.prototype.reset = function () {
          (this.style = null),
            (this.size = 0),
            (this.start = 0),
            (this.attribStart = 0),
            (this.attribSize = 0);
        }),
        r
      );
    })(),
    gi,
    iu =
      ((gi = {}),
      (gi[Dt.POLY] = Gd),
      (gi[Dt.CIRC] = Ao),
      (gi[Dt.ELIP] = Ao),
      (gi[Dt.RECT] = CC),
      (gi[Dt.RREC] = PC),
      gi),
    Hd = [],
    So = [],
    Xd = (function () {
      function r(t, e, i, n) {
        e === void 0 && (e = null),
          i === void 0 && (i = null),
          n === void 0 && (n = null),
          (this.points = []),
          (this.holes = []),
          (this.shape = t),
          (this.lineStyle = i),
          (this.fillStyle = e),
          (this.matrix = n),
          (this.type = t.type);
      }
      return (
        (r.prototype.clone = function () {
          return new r(this.shape, this.fillStyle, this.lineStyle, this.matrix);
        }),
        (r.prototype.destroy = function () {
          (this.shape = null),
            (this.holes.length = 0),
            (this.holes = null),
            (this.points.length = 0),
            (this.points = null),
            (this.lineStyle = null),
            (this.fillStyle = null);
        }),
        r
      );
    })(),
    Ji = new kt(),
    OC = new Yn(),
    UC = (function (r) {
      ru(t, r);
      function t() {
        var e = r.call(this) || this;
        return (
          (e.closePointEps = 1e-4),
          (e.boundsPadding = 0),
          (e.uvsFloat32 = null),
          (e.indicesUint16 = null),
          (e.batchable = !1),
          (e.points = []),
          (e.colors = []),
          (e.uvs = []),
          (e.indices = []),
          (e.textureIds = []),
          (e.graphicsData = []),
          (e.drawCalls = []),
          (e.batchDirty = -1),
          (e.batches = []),
          (e.dirty = 0),
          (e.cacheDirty = -1),
          (e.clearDirty = 0),
          (e.shapeIndex = 0),
          (e._bounds = new Yn()),
          (e.boundsDirty = -1),
          e
        );
      }
      return (
        Object.defineProperty(t.prototype, "bounds", {
          get: function () {
            return (
              this.boundsDirty !== this.dirty &&
                ((this.boundsDirty = this.dirty), this.calculateBounds()),
              this._bounds
            );
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.invalidate = function () {
          (this.boundsDirty = -1),
            this.dirty++,
            this.batchDirty++,
            (this.shapeIndex = 0),
            (this.points.length = 0),
            (this.colors.length = 0),
            (this.uvs.length = 0),
            (this.indices.length = 0),
            (this.textureIds.length = 0);
          for (var e = 0; e < this.drawCalls.length; e++)
            this.drawCalls[e].texArray.clear(), So.push(this.drawCalls[e]);
          this.drawCalls.length = 0;
          for (var e = 0; e < this.batches.length; e++) {
            var i = this.batches[e];
            i.reset(), Hd.push(i);
          }
          this.batches.length = 0;
        }),
        (t.prototype.clear = function () {
          return (
            this.graphicsData.length > 0 &&
              (this.invalidate(),
              this.clearDirty++,
              (this.graphicsData.length = 0)),
            this
          );
        }),
        (t.prototype.drawShape = function (e, i, n, s) {
          i === void 0 && (i = null),
            n === void 0 && (n = null),
            s === void 0 && (s = null);
          var o = new Xd(e, i, n, s);
          return this.graphicsData.push(o), this.dirty++, this;
        }),
        (t.prototype.drawHole = function (e, i) {
          if ((i === void 0 && (i = null), !this.graphicsData.length))
            return null;
          var n = new Xd(e, null, null, i),
            s = this.graphicsData[this.graphicsData.length - 1];
          return (
            (n.lineStyle = s.lineStyle), s.holes.push(n), this.dirty++, this
          );
        }),
        (t.prototype.destroy = function () {
          r.prototype.destroy.call(this);
          for (var e = 0; e < this.graphicsData.length; ++e)
            this.graphicsData[e].destroy();
          (this.points.length = 0),
            (this.points = null),
            (this.colors.length = 0),
            (this.colors = null),
            (this.uvs.length = 0),
            (this.uvs = null),
            (this.indices.length = 0),
            (this.indices = null),
            this.indexBuffer.destroy(),
            (this.indexBuffer = null),
            (this.graphicsData.length = 0),
            (this.graphicsData = null),
            (this.drawCalls.length = 0),
            (this.drawCalls = null),
            (this.batches.length = 0),
            (this.batches = null),
            (this._bounds = null);
        }),
        (t.prototype.containsPoint = function (e) {
          for (var i = this.graphicsData, n = 0; n < i.length; ++n) {
            var s = i[n];
            if (
              !!s.fillStyle.visible &&
              s.shape &&
              (s.matrix ? s.matrix.applyInverse(e, Ji) : Ji.copyFrom(e),
              s.shape.contains(Ji.x, Ji.y))
            ) {
              var o = !1;
              if (s.holes)
                for (var l = 0; l < s.holes.length; l++) {
                  var h = s.holes[l];
                  if (h.shape.contains(Ji.x, Ji.y)) {
                    o = !0;
                    break;
                  }
                }
              if (!o) return !0;
            }
          }
          return !1;
        }),
        (t.prototype.updateBatches = function (e) {
          if (!this.graphicsData.length) {
            this.batchable = !0;
            return;
          }
          if (!!this.validateBatching()) {
            this.cacheDirty = this.dirty;
            var i = this.uvs,
              n = this.graphicsData,
              s = null,
              o = null;
            this.batches.length > 0 &&
              ((s = this.batches[this.batches.length - 1]), (o = s.style));
            for (var l = this.shapeIndex; l < n.length; l++) {
              this.shapeIndex++;
              var h = n[l],
                f = h.fillStyle,
                p = h.lineStyle,
                v = iu[h.type];
              v.build(h),
                h.matrix && this.transformPoints(h.points, h.matrix),
                (f.visible || p.visible) && this.processHoles(h.holes);
              for (var _ = 0; _ < 2; _++) {
                var m = _ === 0 ? f : p;
                if (!!m.visible) {
                  var g = m.texture.baseTexture,
                    y = this.indices.length,
                    b = this.points.length / 2;
                  (g.wrapMode = Qe.REPEAT),
                    _ === 0 ? this.processFill(h) : this.processLine(h);
                  var w = this.points.length / 2 - b;
                  w !== 0 &&
                    (s &&
                      !this._compareStyles(o, m) &&
                      (s.end(y, b), (s = null)),
                    s ||
                      ((s = Hd.pop() || new SC()),
                      s.begin(m, y, b),
                      this.batches.push(s),
                      (o = m)),
                    this.addUvs(this.points, i, m.texture, b, w, m.matrix));
                }
              }
            }
            var C = this.indices.length,
              T = this.points.length / 2;
            if ((s && s.end(C, T), this.batches.length === 0)) {
              this.batchable = !0;
              return;
            }
            if (
              this.indicesUint16 &&
              this.indices.length === this.indicesUint16.length
            )
              this.indicesUint16.set(this.indices);
            else {
              var A = T > 65535 && e;
              this.indicesUint16 = A
                ? new Uint32Array(this.indices)
                : new Uint16Array(this.indices);
            }
            (this.batchable = this.isBatchable()),
              this.batchable ? this.packBatches() : this.buildDrawCalls();
          }
        }),
        (t.prototype._compareStyles = function (e, i) {
          return !(
            !e ||
            !i ||
            e.texture.baseTexture !== i.texture.baseTexture ||
            e.color + e.alpha !== i.color + i.alpha ||
            !!e.native != !!i.native
          );
        }),
        (t.prototype.validateBatching = function () {
          if (this.dirty === this.cacheDirty || !this.graphicsData.length)
            return !1;
          for (var e = 0, i = this.graphicsData.length; e < i; e++) {
            var n = this.graphicsData[e],
              s = n.fillStyle,
              o = n.lineStyle;
            if (
              (s && !s.texture.baseTexture.valid) ||
              (o && !o.texture.baseTexture.valid)
            )
              return !1;
          }
          return !0;
        }),
        (t.prototype.packBatches = function () {
          this.batchDirty++, (this.uvsFloat32 = new Float32Array(this.uvs));
          for (var e = this.batches, i = 0, n = e.length; i < n; i++)
            for (var s = e[i], o = 0; o < s.size; o++) {
              var l = s.start + o;
              this.indicesUint16[l] = this.indicesUint16[l] - s.attribStart;
            }
        }),
        (t.prototype.isBatchable = function () {
          if (this.points.length > 65535 * 2) return !1;
          for (var e = this.batches, i = 0; i < e.length; i++)
            if (e[i].style.native) return !1;
          return this.points.length < t.BATCHABLE_SIZE * 2;
        }),
        (t.prototype.buildDrawCalls = function () {
          for (var e = ++gt._globalBatch, i = 0; i < this.drawCalls.length; i++)
            this.drawCalls[i].texArray.clear(), So.push(this.drawCalls[i]);
          this.drawCalls.length = 0;
          var n = this.colors,
            s = this.textureIds,
            o = So.pop();
          o || ((o = new Sl()), (o.texArray = new Ol())),
            (o.texArray.count = 0),
            (o.start = 0),
            (o.size = 0),
            (o.type = De.TRIANGLES);
          var l = 0,
            h = null,
            f = 0,
            p = !1,
            v = De.TRIANGLES,
            _ = 0;
          this.drawCalls.push(o);
          for (var i = 0; i < this.batches.length; i++) {
            var m = this.batches[i],
              g = 8,
              y = m.style,
              b = y.texture.baseTexture;
            p !== !!y.native &&
              ((p = !!y.native),
              (v = p ? De.LINES : De.TRIANGLES),
              (h = null),
              (l = g),
              e++),
              h !== b &&
                ((h = b),
                b._batchEnabled !== e &&
                  (l === g &&
                    (e++,
                    (l = 0),
                    o.size > 0 &&
                      ((o = So.pop()),
                      o || ((o = new Sl()), (o.texArray = new Ol())),
                      this.drawCalls.push(o)),
                    (o.start = _),
                    (o.size = 0),
                    (o.texArray.count = 0),
                    (o.type = v)),
                  (b.touched = 1),
                  (b._batchEnabled = e),
                  (b._batchLocation = l),
                  (b.wrapMode = Qe.REPEAT),
                  (o.texArray.elements[o.texArray.count++] = b),
                  l++)),
              (o.size += m.size),
              (_ += m.size),
              (f = b._batchLocation),
              this.addColors(n, y.color, y.alpha, m.attribSize, m.attribStart),
              this.addTextureIds(s, f, m.attribSize, m.attribStart);
          }
          (gt._globalBatch = e), this.packAttributes();
        }),
        (t.prototype.packAttributes = function () {
          for (
            var e = this.points,
              i = this.uvs,
              n = this.colors,
              s = this.textureIds,
              o = new ArrayBuffer(e.length * 3 * 4),
              l = new Float32Array(o),
              h = new Uint32Array(o),
              f = 0,
              p = 0;
            p < e.length / 2;
            p++
          )
            (l[f++] = e[p * 2]),
              (l[f++] = e[p * 2 + 1]),
              (l[f++] = i[p * 2]),
              (l[f++] = i[p * 2 + 1]),
              (h[f++] = n[p]),
              (l[f++] = s[p]);
          this._buffer.update(o), this._indexBuffer.update(this.indicesUint16);
        }),
        (t.prototype.processFill = function (e) {
          if (e.holes.length) Gd.triangulate(e, this);
          else {
            var i = iu[e.type];
            i.triangulate(e, this);
          }
        }),
        (t.prototype.processLine = function (e) {
          Dd(e, this);
          for (var i = 0; i < e.holes.length; i++) Dd(e.holes[i], this);
        }),
        (t.prototype.processHoles = function (e) {
          for (var i = 0; i < e.length; i++) {
            var n = e[i],
              s = iu[n.type];
            s.build(n), n.matrix && this.transformPoints(n.points, n.matrix);
          }
        }),
        (t.prototype.calculateBounds = function () {
          var e = this._bounds,
            i = OC,
            n = Yt.IDENTITY;
          this._bounds.clear(), i.clear();
          for (var s = 0; s < this.graphicsData.length; s++) {
            var o = this.graphicsData[s],
              l = o.shape,
              h = o.type,
              f = o.lineStyle,
              p = o.matrix || Yt.IDENTITY,
              v = 0;
            if (
              (f &&
                f.visible &&
                ((v = f.width),
                h !== Dt.POLY || o.fillStyle.visible
                  ? (v *= Math.max(0, f.alignment))
                  : (v *= Math.max(f.alignment, 1 - f.alignment))),
              n !== p &&
                (i.isEmpty() || (e.addBoundsMatrix(i, n), i.clear()), (n = p)),
              h === Dt.RECT || h === Dt.RREC)
            ) {
              var _ = l;
              i.addFramePad(_.x, _.y, _.x + _.width, _.y + _.height, v, v);
            } else if (h === Dt.CIRC) {
              var m = l;
              i.addFramePad(m.x, m.y, m.x, m.y, m.radius + v, m.radius + v);
            } else if (h === Dt.ELIP) {
              var g = l;
              i.addFramePad(g.x, g.y, g.x, g.y, g.width + v, g.height + v);
            } else {
              var y = l;
              e.addVerticesMatrix(n, y.points, 0, y.points.length, v, v);
            }
          }
          i.isEmpty() || e.addBoundsMatrix(i, n),
            e.pad(this.boundsPadding, this.boundsPadding);
        }),
        (t.prototype.transformPoints = function (e, i) {
          for (var n = 0; n < e.length / 2; n++) {
            var s = e[n * 2],
              o = e[n * 2 + 1];
            (e[n * 2] = i.a * s + i.c * o + i.tx),
              (e[n * 2 + 1] = i.b * s + i.d * o + i.ty);
          }
        }),
        (t.prototype.addColors = function (e, i, n, s, o) {
          o === void 0 && (o = 0);
          var l = (i >> 16) + (i & 65280) + ((i & 255) << 16),
            h = ol(l, n);
          e.length = Math.max(e.length, o + s);
          for (var f = 0; f < s; f++) e[o + f] = h;
        }),
        (t.prototype.addTextureIds = function (e, i, n, s) {
          s === void 0 && (s = 0), (e.length = Math.max(e.length, s + n));
          for (var o = 0; o < n; o++) e[s + o] = i;
        }),
        (t.prototype.addUvs = function (e, i, n, s, o, l) {
          l === void 0 && (l = null);
          for (var h = 0, f = i.length, p = n.frame; h < o; ) {
            var v = e[(s + h) * 2],
              _ = e[(s + h) * 2 + 1];
            if (l) {
              var m = l.a * v + l.c * _ + l.tx;
              (_ = l.b * v + l.d * _ + l.ty), (v = m);
            }
            h++, i.push(v / p.width, _ / p.height);
          }
          var g = n.baseTexture;
          (p.width < g.width || p.height < g.height) &&
            this.adjustUvs(i, n, f, o);
        }),
        (t.prototype.adjustUvs = function (e, i, n, s) {
          for (
            var o = i.baseTexture,
              l = 1e-6,
              h = n + s * 2,
              f = i.frame,
              p = f.width / o.width,
              v = f.height / o.height,
              _ = f.x / f.width,
              m = f.y / f.height,
              g = Math.floor(e[n] + l),
              y = Math.floor(e[n + 1] + l),
              b = n + 2;
            b < h;
            b += 2
          )
            (g = Math.min(g, Math.floor(e[b] + l))),
              (y = Math.min(y, Math.floor(e[b + 1] + l)));
          (_ -= g), (m -= y);
          for (var b = n; b < h; b += 2)
            (e[b] = (e[b] + _) * p), (e[b + 1] = (e[b + 1] + m) * v);
        }),
        (t.BATCHABLE_SIZE = 100),
        t
      );
    })(Ap),
    LC = (function (r) {
      ru(t, r);
      function t() {
        var e = (r !== null && r.apply(this, arguments)) || this;
        return (
          (e.width = 0),
          (e.alignment = 0.5),
          (e.native = !1),
          (e.cap = Br.BUTT),
          (e.join = kr.MITER),
          (e.miterLimit = 10),
          e
        );
      }
      return (
        (t.prototype.clone = function () {
          var e = new t();
          return (
            (e.color = this.color),
            (e.alpha = this.alpha),
            (e.texture = this.texture),
            (e.matrix = this.matrix),
            (e.visible = this.visible),
            (e.width = this.width),
            (e.alignment = this.alignment),
            (e.native = this.native),
            (e.cap = this.cap),
            (e.join = this.join),
            (e.miterLimit = this.miterLimit),
            e
          );
        }),
        (t.prototype.reset = function () {
          r.prototype.reset.call(this),
            (this.color = 0),
            (this.alignment = 0.5),
            (this.width = 0),
            (this.native = !1);
        }),
        t
      );
    })(kd),
    FC = new Float32Array(3),
    nu = {},
    Qi = (function (r) {
      ru(t, r);
      function t(e) {
        e === void 0 && (e = null);
        var i = r.call(this) || this;
        return (
          (i.shader = null),
          (i.pluginName = "batch"),
          (i.currentPath = null),
          (i.batches = []),
          (i.batchTint = -1),
          (i.batchDirty = -1),
          (i.vertexData = null),
          (i._fillStyle = new kd()),
          (i._lineStyle = new LC()),
          (i._matrix = null),
          (i._holeMode = !1),
          (i.state = vi.for2d()),
          (i._geometry = e || new UC()),
          i._geometry.refCount++,
          (i._transformID = -1),
          (i.tint = 16777215),
          (i.blendMode = it.NORMAL),
          i
        );
      }
      return (
        Object.defineProperty(t.prototype, "geometry", {
          get: function () {
            return this._geometry;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.clone = function () {
          return this.finishPoly(), new t(this._geometry);
        }),
        Object.defineProperty(t.prototype, "blendMode", {
          get: function () {
            return this.state.blendMode;
          },
          set: function (e) {
            this.state.blendMode = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "tint", {
          get: function () {
            return this._tint;
          },
          set: function (e) {
            this._tint = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "fill", {
          get: function () {
            return this._fillStyle;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "line", {
          get: function () {
            return this._lineStyle;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.lineStyle = function (e, i, n, s, o) {
          return (
            e === void 0 && (e = null),
            i === void 0 && (i = 0),
            n === void 0 && (n = 1),
            s === void 0 && (s = 0.5),
            o === void 0 && (o = !1),
            typeof e == "number" &&
              (e = { width: e, color: i, alpha: n, alignment: s, native: o }),
            this.lineTextureStyle(e)
          );
        }),
        (t.prototype.lineTextureStyle = function (e) {
          (e = Object.assign(
            {
              width: 0,
              texture: ot.WHITE,
              color: e && e.texture ? 16777215 : 0,
              alpha: 1,
              matrix: null,
              alignment: 0.5,
              native: !1,
              cap: Br.BUTT,
              join: kr.MITER,
              miterLimit: 10,
            },
            e
          )),
            this.currentPath && this.startPoly();
          var i = e.width > 0 && e.alpha > 0;
          return (
            i
              ? (e.matrix && ((e.matrix = e.matrix.clone()), e.matrix.invert()),
                Object.assign(this._lineStyle, { visible: i }, e))
              : this._lineStyle.reset(),
            this
          );
        }),
        (t.prototype.startPoly = function () {
          if (this.currentPath) {
            var e = this.currentPath.points,
              i = this.currentPath.points.length;
            i > 2 &&
              (this.drawShape(this.currentPath),
              (this.currentPath = new lo()),
              (this.currentPath.closeStroke = !1),
              this.currentPath.points.push(e[i - 2], e[i - 1]));
          } else
            (this.currentPath = new lo()), (this.currentPath.closeStroke = !1);
        }),
        (t.prototype.finishPoly = function () {
          this.currentPath &&
            (this.currentPath.points.length > 2
              ? (this.drawShape(this.currentPath), (this.currentPath = null))
              : (this.currentPath.points.length = 0));
        }),
        (t.prototype.moveTo = function (e, i) {
          return (
            this.startPoly(),
            (this.currentPath.points[0] = e),
            (this.currentPath.points[1] = i),
            this
          );
        }),
        (t.prototype.lineTo = function (e, i) {
          this.currentPath || this.moveTo(0, 0);
          var n = this.currentPath.points,
            s = n[n.length - 2],
            o = n[n.length - 1];
          return (s !== e || o !== i) && n.push(e, i), this;
        }),
        (t.prototype._initCurve = function (e, i) {
          e === void 0 && (e = 0),
            i === void 0 && (i = 0),
            this.currentPath
              ? this.currentPath.points.length === 0 &&
                (this.currentPath.points = [e, i])
              : this.moveTo(e, i);
        }),
        (t.prototype.quadraticCurveTo = function (e, i, n, s) {
          this._initCurve();
          var o = this.currentPath.points;
          return (
            o.length === 0 && this.moveTo(0, 0), NC.curveTo(e, i, n, s, o), this
          );
        }),
        (t.prototype.bezierCurveTo = function (e, i, n, s, o, l) {
          return (
            this._initCurve(),
            AC.curveTo(e, i, n, s, o, l, this.currentPath.points),
            this
          );
        }),
        (t.prototype.arcTo = function (e, i, n, s, o) {
          this._initCurve(e, i);
          var l = this.currentPath.points,
            h = Vd.curveTo(e, i, n, s, o, l);
          if (h) {
            var f = h.cx,
              p = h.cy,
              v = h.radius,
              _ = h.startAngle,
              m = h.endAngle,
              g = h.anticlockwise;
            this.arc(f, p, v, _, m, g);
          }
          return this;
        }),
        (t.prototype.arc = function (e, i, n, s, o, l) {
          if ((l === void 0 && (l = !1), s === o)) return this;
          !l && o <= s ? (o += oo) : l && s <= o && (s += oo);
          var h = o - s;
          if (h === 0) return this;
          var f = e + Math.cos(s) * n,
            p = i + Math.sin(s) * n,
            v = this._geometry.closePointEps,
            _ = this.currentPath ? this.currentPath.points : null;
          if (_) {
            var m = Math.abs(_[_.length - 2] - f),
              g = Math.abs(_[_.length - 1] - p);
            (m < v && g < v) || _.push(f, p);
          } else this.moveTo(f, p), (_ = this.currentPath.points);
          return Vd.arc(f, p, e, i, n, s, o, l, _), this;
        }),
        (t.prototype.beginFill = function (e, i) {
          return (
            e === void 0 && (e = 0),
            i === void 0 && (i = 1),
            this.beginTextureFill({ texture: ot.WHITE, color: e, alpha: i })
          );
        }),
        (t.prototype.beginTextureFill = function (e) {
          (e = Object.assign(
            { texture: ot.WHITE, color: 16777215, alpha: 1, matrix: null },
            e
          )),
            this.currentPath && this.startPoly();
          var i = e.alpha > 0;
          return (
            i
              ? (e.matrix && ((e.matrix = e.matrix.clone()), e.matrix.invert()),
                Object.assign(this._fillStyle, { visible: i }, e))
              : this._fillStyle.reset(),
            this
          );
        }),
        (t.prototype.endFill = function () {
          return this.finishPoly(), this._fillStyle.reset(), this;
        }),
        (t.prototype.drawRect = function (e, i, n, s) {
          return this.drawShape(new ft(e, i, n, s));
        }),
        (t.prototype.drawRoundedRect = function (e, i, n, s, o) {
          return this.drawShape(new D1(e, i, n, s, o));
        }),
        (t.prototype.drawCircle = function (e, i, n) {
          return this.drawShape(new G1(e, i, n));
        }),
        (t.prototype.drawEllipse = function (e, i, n, s) {
          return this.drawShape(new M1(e, i, n, s));
        }),
        (t.prototype.drawPolygon = function () {
          for (var e = arguments, i = [], n = 0; n < arguments.length; n++)
            i[n] = e[n];
          var s,
            o = !0,
            l = i[0];
          l.points
            ? ((o = l.closeStroke), (s = l.points))
            : Array.isArray(i[0])
            ? (s = i[0])
            : (s = i);
          var h = new lo(s);
          return (h.closeStroke = o), this.drawShape(h), this;
        }),
        (t.prototype.drawShape = function (e) {
          return (
            this._holeMode
              ? this._geometry.drawHole(e, this._matrix)
              : this._geometry.drawShape(
                  e,
                  this._fillStyle.clone(),
                  this._lineStyle.clone(),
                  this._matrix
                ),
            this
          );
        }),
        (t.prototype.clear = function () {
          return (
            this._geometry.clear(),
            this._lineStyle.reset(),
            this._fillStyle.reset(),
            this._boundsID++,
            (this._matrix = null),
            (this._holeMode = !1),
            (this.currentPath = null),
            this
          );
        }),
        (t.prototype.isFastRect = function () {
          var e = this._geometry.graphicsData;
          return (
            e.length === 1 &&
            e[0].shape.type === Dt.RECT &&
            !e[0].matrix &&
            !e[0].holes.length &&
            !(e[0].lineStyle.visible && e[0].lineStyle.width)
          );
        }),
        (t.prototype._render = function (e) {
          this.finishPoly();
          var i = this._geometry,
            n = e.context.supports.uint32Indices;
          i.updateBatches(n),
            i.batchable
              ? (this.batchDirty !== i.batchDirty && this._populateBatches(),
                this._renderBatched(e))
              : (e.batch.flush(), this._renderDirect(e));
        }),
        (t.prototype._populateBatches = function () {
          var e = this._geometry,
            i = this.blendMode,
            n = e.batches.length;
          (this.batchTint = -1),
            (this._transformID = -1),
            (this.batchDirty = e.batchDirty),
            (this.batches.length = n),
            (this.vertexData = new Float32Array(e.points));
          for (var s = 0; s < n; s++) {
            var o = e.batches[s],
              l = o.style.color,
              h = new Float32Array(
                this.vertexData.buffer,
                o.attribStart * 4 * 2,
                o.attribSize * 2
              ),
              f = new Float32Array(
                e.uvsFloat32.buffer,
                o.attribStart * 4 * 2,
                o.attribSize * 2
              ),
              p = new Uint16Array(e.indicesUint16.buffer, o.start * 2, o.size),
              v = {
                vertexData: h,
                blendMode: i,
                indices: p,
                uvs: f,
                _batchRGB: $i(l),
                _tintRGB: l,
                _texture: o.style.texture,
                alpha: o.style.alpha,
                worldAlpha: 1,
              };
            this.batches[s] = v;
          }
        }),
        (t.prototype._renderBatched = function (e) {
          if (!!this.batches.length) {
            e.batch.setObjectRenderer(e.plugins[this.pluginName]),
              this.calculateVertices(),
              this.calculateTints();
            for (var i = 0, n = this.batches.length; i < n; i++) {
              var s = this.batches[i];
              (s.worldAlpha = this.worldAlpha * s.alpha),
                e.plugins[this.pluginName].render(s);
            }
          }
        }),
        (t.prototype._renderDirect = function (e) {
          var i = this._resolveDirectShader(e),
            n = this._geometry,
            s = this.tint,
            o = this.worldAlpha,
            l = i.uniforms,
            h = n.drawCalls;
          (l.translationMatrix = this.transform.worldTransform),
            (l.tint[0] = (((s >> 16) & 255) / 255) * o),
            (l.tint[1] = (((s >> 8) & 255) / 255) * o),
            (l.tint[2] = ((s & 255) / 255) * o),
            (l.tint[3] = o),
            e.shader.bind(i),
            e.geometry.bind(n, i),
            e.state.set(this.state);
          for (var f = 0, p = h.length; f < p; f++)
            this._renderDrawCallDirect(e, n.drawCalls[f]);
        }),
        (t.prototype._renderDrawCallDirect = function (e, i) {
          for (
            var n = i.texArray,
              s = i.type,
              o = i.size,
              l = i.start,
              h = n.count,
              f = 0;
            f < h;
            f++
          )
            e.texture.bind(n.elements[f], f);
          e.geometry.draw(s, o, l);
        }),
        (t.prototype._resolveDirectShader = function (e) {
          var i = this.shader,
            n = this.pluginName;
          if (!i) {
            if (!nu[n]) {
              for (
                var s = e.plugins[n].MAX_TEXTURES, o = new Int32Array(s), l = 0;
                l < s;
                l++
              )
                o[l] = l;
              var h = {
                  tint: new Float32Array([1, 1, 1, 1]),
                  translationMatrix: new Yt(),
                  default: di.from({ uSamplers: o }, !0),
                },
                f = e.plugins[n]._shader.program;
              nu[n] = new dr(f, h);
            }
            i = nu[n];
          }
          return i;
        }),
        (t.prototype._calculateBounds = function () {
          this.finishPoly();
          var e = this._geometry;
          if (!!e.graphicsData.length) {
            var i = e.bounds,
              n = i.minX,
              s = i.minY,
              o = i.maxX,
              l = i.maxY;
            this._bounds.addFrame(this.transform, n, s, o, l);
          }
        }),
        (t.prototype.containsPoint = function (e) {
          return (
            this.worldTransform.applyInverse(e, t._TEMP_POINT),
            this._geometry.containsPoint(t._TEMP_POINT)
          );
        }),
        (t.prototype.calculateTints = function () {
          if (this.batchTint !== this.tint) {
            this.batchTint = this.tint;
            for (
              var e = $i(this.tint, FC), i = 0;
              i < this.batches.length;
              i++
            ) {
              var n = this.batches[i],
                s = n._batchRGB,
                o = e[0] * s[0] * 255,
                l = e[1] * s[1] * 255,
                h = e[2] * s[2] * 255,
                f = (o << 16) + (l << 8) + (h | 0);
              n._tintRGB = (f >> 16) + (f & 65280) + ((f & 255) << 16);
            }
          }
        }),
        (t.prototype.calculateVertices = function () {
          var e = this.transform._worldID;
          if (this._transformID !== e) {
            this._transformID = e;
            for (
              var i = this.transform.worldTransform,
                n = i.a,
                s = i.b,
                o = i.c,
                l = i.d,
                h = i.tx,
                f = i.ty,
                p = this._geometry.points,
                v = this.vertexData,
                _ = 0,
                m = 0;
              m < p.length;
              m += 2
            ) {
              var g = p[m],
                y = p[m + 1];
              (v[_++] = n * g + o * y + h), (v[_++] = l * y + s * g + f);
            }
          }
        }),
        (t.prototype.closePath = function () {
          var e = this.currentPath;
          return e && ((e.closeStroke = !0), this.finishPoly()), this;
        }),
        (t.prototype.setMatrix = function (e) {
          return (this._matrix = e), this;
        }),
        (t.prototype.beginHole = function () {
          return this.finishPoly(), (this._holeMode = !0), this;
        }),
        (t.prototype.endHole = function () {
          return this.finishPoly(), (this._holeMode = !1), this;
        }),
        (t.prototype.destroy = function (e) {
          this._geometry.refCount--,
            this._geometry.refCount === 0 && this._geometry.dispose(),
            (this._matrix = null),
            (this.currentPath = null),
            this._lineStyle.destroy(),
            (this._lineStyle = null),
            this._fillStyle.destroy(),
            (this._fillStyle = null),
            (this._geometry = null),
            (this.shader = null),
            (this.vertexData = null),
            (this.batches.length = 0),
            (this.batches = null),
            r.prototype.destroy.call(this, e);
        }),
        (t.nextRoundedRectBehavior = !1),
        (t._TEMP_POINT = new kt()),
        t
      );
    })(Te);
  /*!
   * @pixi/sprite - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/sprite is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var su =
    function (r, t) {
      return (
        (su =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        su(r, t)
      );
    };
  function kC(r, t) {
    su(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var as = new kt(),
    BC = new Uint16Array([0, 1, 2, 0, 2, 3]),
    ls = (function (r) {
      kC(t, r);
      function t(e) {
        var i = r.call(this) || this;
        return (
          (i._anchor = new zi(
            i._onAnchorUpdate,
            i,
            e ? e.defaultAnchor.x : 0,
            e ? e.defaultAnchor.y : 0
          )),
          (i._texture = null),
          (i._width = 0),
          (i._height = 0),
          (i._tint = null),
          (i._tintRGB = null),
          (i.tint = 16777215),
          (i.blendMode = it.NORMAL),
          (i._cachedTint = 16777215),
          (i.uvs = null),
          (i.texture = e || ot.EMPTY),
          (i.vertexData = new Float32Array(8)),
          (i.vertexTrimmedData = null),
          (i._transformID = -1),
          (i._textureID = -1),
          (i._transformTrimmedID = -1),
          (i._textureTrimmedID = -1),
          (i.indices = BC),
          (i.pluginName = "batch"),
          (i.isSprite = !0),
          (i._roundPixels = Q.ROUND_PIXELS),
          i
        );
      }
      return (
        (t.prototype._onTextureUpdate = function () {
          (this._textureID = -1),
            (this._textureTrimmedID = -1),
            (this._cachedTint = 16777215),
            this._width &&
              (this.scale.x =
                (ji(this.scale.x) * this._width) / this._texture.orig.width),
            this._height &&
              (this.scale.y =
                (ji(this.scale.y) * this._height) / this._texture.orig.height);
        }),
        (t.prototype._onAnchorUpdate = function () {
          (this._transformID = -1), (this._transformTrimmedID = -1);
        }),
        (t.prototype.calculateVertices = function () {
          var e = this._texture;
          if (
            !(
              this._transformID === this.transform._worldID &&
              this._textureID === e._updateID
            )
          ) {
            this._textureID !== e._updateID &&
              (this.uvs = this._texture._uvs.uvsFloat32),
              (this._transformID = this.transform._worldID),
              (this._textureID = e._updateID);
            var i = this.transform.worldTransform,
              n = i.a,
              s = i.b,
              o = i.c,
              l = i.d,
              h = i.tx,
              f = i.ty,
              p = this.vertexData,
              v = e.trim,
              _ = e.orig,
              m = this._anchor,
              g = 0,
              y = 0,
              b = 0,
              w = 0;
            if (
              (v
                ? ((y = v.x - m._x * _.width),
                  (g = y + v.width),
                  (w = v.y - m._y * _.height),
                  (b = w + v.height))
                : ((y = -m._x * _.width),
                  (g = y + _.width),
                  (w = -m._y * _.height),
                  (b = w + _.height)),
              (p[0] = n * y + o * w + h),
              (p[1] = l * w + s * y + f),
              (p[2] = n * g + o * w + h),
              (p[3] = l * w + s * g + f),
              (p[4] = n * g + o * b + h),
              (p[5] = l * b + s * g + f),
              (p[6] = n * y + o * b + h),
              (p[7] = l * b + s * y + f),
              this._roundPixels)
            )
              for (var C = Q.RESOLUTION, T = 0; T < p.length; ++T)
                p[T] = Math.round(((p[T] * C) | 0) / C);
          }
        }),
        (t.prototype.calculateTrimmedVertices = function () {
          if (!this.vertexTrimmedData)
            this.vertexTrimmedData = new Float32Array(8);
          else if (
            this._transformTrimmedID === this.transform._worldID &&
            this._textureTrimmedID === this._texture._updateID
          )
            return;
          (this._transformTrimmedID = this.transform._worldID),
            (this._textureTrimmedID = this._texture._updateID);
          var e = this._texture,
            i = this.vertexTrimmedData,
            n = e.orig,
            s = this._anchor,
            o = this.transform.worldTransform,
            l = o.a,
            h = o.b,
            f = o.c,
            p = o.d,
            v = o.tx,
            _ = o.ty,
            m = -s._x * n.width,
            g = m + n.width,
            y = -s._y * n.height,
            b = y + n.height;
          (i[0] = l * m + f * y + v),
            (i[1] = p * y + h * m + _),
            (i[2] = l * g + f * y + v),
            (i[3] = p * y + h * g + _),
            (i[4] = l * g + f * b + v),
            (i[5] = p * b + h * g + _),
            (i[6] = l * m + f * b + v),
            (i[7] = p * b + h * m + _);
        }),
        (t.prototype._render = function (e) {
          this.calculateVertices(),
            e.batch.setObjectRenderer(e.plugins[this.pluginName]),
            e.plugins[this.pluginName].render(this);
        }),
        (t.prototype._calculateBounds = function () {
          var e = this._texture.trim,
            i = this._texture.orig;
          !e || (e.width === i.width && e.height === i.height)
            ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData))
            : (this.calculateTrimmedVertices(),
              this._bounds.addQuad(this.vertexTrimmedData));
        }),
        (t.prototype.getLocalBounds = function (e) {
          return this.children.length === 0
            ? (this._localBounds || (this._localBounds = new Yn()),
              (this._localBounds.minX =
                this._texture.orig.width * -this._anchor._x),
              (this._localBounds.minY =
                this._texture.orig.height * -this._anchor._y),
              (this._localBounds.maxX =
                this._texture.orig.width * (1 - this._anchor._x)),
              (this._localBounds.maxY =
                this._texture.orig.height * (1 - this._anchor._y)),
              e ||
                (this._localBoundsRect || (this._localBoundsRect = new ft()),
                (e = this._localBoundsRect)),
              this._localBounds.getRectangle(e))
            : r.prototype.getLocalBounds.call(this, e);
        }),
        (t.prototype.containsPoint = function (e) {
          this.worldTransform.applyInverse(e, as);
          var i = this._texture.orig.width,
            n = this._texture.orig.height,
            s = -i * this.anchor.x,
            o = 0;
          return (
            as.x >= s &&
            as.x < s + i &&
            ((o = -n * this.anchor.y), as.y >= o && as.y < o + n)
          );
        }),
        (t.prototype.destroy = function (e) {
          r.prototype.destroy.call(this, e),
            this._texture.off("update", this._onTextureUpdate, this),
            (this._anchor = null);
          var i = typeof e == "boolean" ? e : e && e.texture;
          if (i) {
            var n = typeof e == "boolean" ? e : e && e.baseTexture;
            this._texture.destroy(!!n);
          }
          this._texture = null;
        }),
        (t.from = function (e, i) {
          var n = e instanceof ot ? e : ot.from(e, i);
          return new t(n);
        }),
        Object.defineProperty(t.prototype, "roundPixels", {
          get: function () {
            return this._roundPixels;
          },
          set: function (e) {
            this._roundPixels !== e && (this._transformID = -1),
              (this._roundPixels = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "width", {
          get: function () {
            return Math.abs(this.scale.x) * this._texture.orig.width;
          },
          set: function (e) {
            var i = ji(this.scale.x) || 1;
            (this.scale.x = (i * e) / this._texture.orig.width),
              (this._width = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "height", {
          get: function () {
            return Math.abs(this.scale.y) * this._texture.orig.height;
          },
          set: function (e) {
            var i = ji(this.scale.y) || 1;
            (this.scale.y = (i * e) / this._texture.orig.height),
              (this._height = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "anchor", {
          get: function () {
            return this._anchor;
          },
          set: function (e) {
            this._anchor.copyFrom(e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "tint", {
          get: function () {
            return this._tint;
          },
          set: function (e) {
            (this._tint = e),
              (this._tintRGB = (e >> 16) + (e & 65280) + ((e & 255) << 16));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "texture", {
          get: function () {
            return this._texture;
          },
          set: function (e) {
            this._texture !== e &&
              (this._texture &&
                this._texture.off("update", this._onTextureUpdate, this),
              (this._texture = e || ot.EMPTY),
              (this._cachedTint = 16777215),
              (this._textureID = -1),
              (this._textureTrimmedID = -1),
              e &&
                (e.baseTexture.valid
                  ? this._onTextureUpdate()
                  : e.once("update", this._onTextureUpdate, this)));
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Te);
  /*!
   * @pixi/text - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/text is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var ou =
    function (r, t) {
      return (
        (ou =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        ou(r, t)
      );
    };
  function GC(r, t) {
    ou(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var us;
  (function (r) {
    (r[(r.LINEAR_VERTICAL = 0)] = "LINEAR_VERTICAL"),
      (r[(r.LINEAR_HORIZONTAL = 1)] = "LINEAR_HORIZONTAL");
  })(us || (us = {}));
  var au = {
      align: "left",
      breakWords: !1,
      dropShadow: !1,
      dropShadowAlpha: 1,
      dropShadowAngle: Math.PI / 6,
      dropShadowBlur: 0,
      dropShadowColor: "black",
      dropShadowDistance: 5,
      fill: "black",
      fillGradientType: us.LINEAR_VERTICAL,
      fillGradientStops: [],
      fontFamily: "Arial",
      fontSize: 26,
      fontStyle: "normal",
      fontVariant: "normal",
      fontWeight: "normal",
      letterSpacing: 0,
      lineHeight: 0,
      lineJoin: "miter",
      miterLimit: 10,
      padding: 0,
      stroke: "black",
      strokeThickness: 0,
      textBaseline: "alphabetic",
      trim: !1,
      whiteSpace: "pre",
      wordWrap: !1,
      wordWrapWidth: 100,
      leading: 0,
    },
    MC = [
      "serif",
      "sans-serif",
      "monospace",
      "cursive",
      "fantasy",
      "system-ui",
    ],
    tn = (function () {
      function r(t) {
        (this.styleID = 0), this.reset(), uu(this, t, t);
      }
      return (
        (r.prototype.clone = function () {
          var t = {};
          return uu(t, this, au), new r(t);
        }),
        (r.prototype.reset = function () {
          uu(this, au, au);
        }),
        Object.defineProperty(r.prototype, "align", {
          get: function () {
            return this._align;
          },
          set: function (t) {
            this._align !== t && ((this._align = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "breakWords", {
          get: function () {
            return this._breakWords;
          },
          set: function (t) {
            this._breakWords !== t && ((this._breakWords = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "dropShadow", {
          get: function () {
            return this._dropShadow;
          },
          set: function (t) {
            this._dropShadow !== t && ((this._dropShadow = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "dropShadowAlpha", {
          get: function () {
            return this._dropShadowAlpha;
          },
          set: function (t) {
            this._dropShadowAlpha !== t &&
              ((this._dropShadowAlpha = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "dropShadowAngle", {
          get: function () {
            return this._dropShadowAngle;
          },
          set: function (t) {
            this._dropShadowAngle !== t &&
              ((this._dropShadowAngle = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "dropShadowBlur", {
          get: function () {
            return this._dropShadowBlur;
          },
          set: function (t) {
            this._dropShadowBlur !== t &&
              ((this._dropShadowBlur = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "dropShadowColor", {
          get: function () {
            return this._dropShadowColor;
          },
          set: function (t) {
            var e = lu(t);
            this._dropShadowColor !== e &&
              ((this._dropShadowColor = e), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "dropShadowDistance", {
          get: function () {
            return this._dropShadowDistance;
          },
          set: function (t) {
            this._dropShadowDistance !== t &&
              ((this._dropShadowDistance = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fill", {
          get: function () {
            return this._fill;
          },
          set: function (t) {
            var e = lu(t);
            this._fill !== e && ((this._fill = e), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fillGradientType", {
          get: function () {
            return this._fillGradientType;
          },
          set: function (t) {
            this._fillGradientType !== t &&
              ((this._fillGradientType = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fillGradientStops", {
          get: function () {
            return this._fillGradientStops;
          },
          set: function (t) {
            DC(this._fillGradientStops, t) ||
              ((this._fillGradientStops = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fontFamily", {
          get: function () {
            return this._fontFamily;
          },
          set: function (t) {
            this.fontFamily !== t && ((this._fontFamily = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fontSize", {
          get: function () {
            return this._fontSize;
          },
          set: function (t) {
            this._fontSize !== t && ((this._fontSize = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fontStyle", {
          get: function () {
            return this._fontStyle;
          },
          set: function (t) {
            this._fontStyle !== t && ((this._fontStyle = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fontVariant", {
          get: function () {
            return this._fontVariant;
          },
          set: function (t) {
            this._fontVariant !== t &&
              ((this._fontVariant = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "fontWeight", {
          get: function () {
            return this._fontWeight;
          },
          set: function (t) {
            this._fontWeight !== t && ((this._fontWeight = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "letterSpacing", {
          get: function () {
            return this._letterSpacing;
          },
          set: function (t) {
            this._letterSpacing !== t &&
              ((this._letterSpacing = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "lineHeight", {
          get: function () {
            return this._lineHeight;
          },
          set: function (t) {
            this._lineHeight !== t && ((this._lineHeight = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "leading", {
          get: function () {
            return this._leading;
          },
          set: function (t) {
            this._leading !== t && ((this._leading = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "lineJoin", {
          get: function () {
            return this._lineJoin;
          },
          set: function (t) {
            this._lineJoin !== t && ((this._lineJoin = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "miterLimit", {
          get: function () {
            return this._miterLimit;
          },
          set: function (t) {
            this._miterLimit !== t && ((this._miterLimit = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "padding", {
          get: function () {
            return this._padding;
          },
          set: function (t) {
            this._padding !== t && ((this._padding = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "stroke", {
          get: function () {
            return this._stroke;
          },
          set: function (t) {
            var e = lu(t);
            this._stroke !== e && ((this._stroke = e), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "strokeThickness", {
          get: function () {
            return this._strokeThickness;
          },
          set: function (t) {
            this._strokeThickness !== t &&
              ((this._strokeThickness = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "textBaseline", {
          get: function () {
            return this._textBaseline;
          },
          set: function (t) {
            this._textBaseline !== t &&
              ((this._textBaseline = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "trim", {
          get: function () {
            return this._trim;
          },
          set: function (t) {
            this._trim !== t && ((this._trim = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "whiteSpace", {
          get: function () {
            return this._whiteSpace;
          },
          set: function (t) {
            this._whiteSpace !== t && ((this._whiteSpace = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "wordWrap", {
          get: function () {
            return this._wordWrap;
          },
          set: function (t) {
            this._wordWrap !== t && ((this._wordWrap = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "wordWrapWidth", {
          get: function () {
            return this._wordWrapWidth;
          },
          set: function (t) {
            this._wordWrapWidth !== t &&
              ((this._wordWrapWidth = t), this.styleID++);
          },
          enumerable: !1,
          configurable: !0,
        }),
        (r.prototype.toFontString = function () {
          var t =
              typeof this.fontSize == "number"
                ? this.fontSize + "px"
                : this.fontSize,
            e = this.fontFamily;
          Array.isArray(this.fontFamily) || (e = this.fontFamily.split(","));
          for (var i = e.length - 1; i >= 0; i--) {
            var n = e[i].trim();
            !/([\"\'])[^\'\"]+\1/.test(n) &&
              MC.indexOf(n) < 0 &&
              (n = '"' + n + '"'),
              (e[i] = n);
          }
          return (
            this.fontStyle +
            " " +
            this.fontVariant +
            " " +
            this.fontWeight +
            " " +
            t +
            " " +
            e.join(",")
          );
        }),
        r
      );
    })();
  function $d(r) {
    return typeof r == "number"
      ? Tf(r)
      : (typeof r == "string" &&
          r.indexOf("0x") === 0 &&
          (r = r.replace("0x", "#")),
        r);
  }
  function lu(r) {
    if (Array.isArray(r)) {
      for (var t = 0; t < r.length; ++t) r[t] = $d(r[t]);
      return r;
    } else return $d(r);
  }
  function DC(r, t) {
    if (!Array.isArray(r) || !Array.isArray(t) || r.length !== t.length)
      return !1;
    for (var e = 0; e < r.length; ++e) if (r[e] !== t[e]) return !1;
    return !0;
  }
  function uu(r, t, e) {
    for (var i in e)
      Array.isArray(t[i]) ? (r[i] = t[i].slice()) : (r[i] = t[i]);
  }
  var rr = (function () {
    function r(t, e, i, n, s, o, l, h, f) {
      (this.text = t),
        (this.style = e),
        (this.width = i),
        (this.height = n),
        (this.lines = s),
        (this.lineWidths = o),
        (this.lineHeight = l),
        (this.maxLineWidth = h),
        (this.fontProperties = f);
    }
    return (
      (r.measureText = function (t, e, i, n) {
        n === void 0 && (n = r._canvas), (i = i == null ? e.wordWrap : i);
        var s = e.toFontString(),
          o = r.measureFont(s);
        o.fontSize === 0 &&
          ((o.fontSize = e.fontSize), (o.ascent = e.fontSize));
        var l = n.getContext("2d");
        l.font = s;
        for (
          var h = i ? r.wordWrap(t, e, n) : t,
            f = h.split(/(?:\r\n|\r|\n)/),
            p = new Array(f.length),
            v = 0,
            _ = 0;
          _ < f.length;
          _++
        ) {
          var m =
            l.measureText(f[_]).width + (f[_].length - 1) * e.letterSpacing;
          (p[_] = m), (v = Math.max(v, m));
        }
        var g = v + e.strokeThickness;
        e.dropShadow && (g += e.dropShadowDistance);
        var y = e.lineHeight || o.fontSize + e.strokeThickness,
          b =
            Math.max(y, o.fontSize + e.strokeThickness) +
            (f.length - 1) * (y + e.leading);
        return (
          e.dropShadow && (b += e.dropShadowDistance),
          new r(t, e, g, b, f, p, y + e.leading, v, o)
        );
      }),
      (r.wordWrap = function (t, e, i) {
        i === void 0 && (i = r._canvas);
        for (
          var n = i.getContext("2d"),
            s = 0,
            o = "",
            l = "",
            h = Object.create(null),
            f = e.letterSpacing,
            p = e.whiteSpace,
            v = r.collapseSpaces(p),
            _ = r.collapseNewlines(p),
            m = !v,
            g = e.wordWrapWidth + f,
            y = r.tokenize(t),
            b = 0;
          b < y.length;
          b++
        ) {
          var w = y[b];
          if (r.isNewline(w)) {
            if (!_) {
              (l += r.addLine(o)), (m = !v), (o = ""), (s = 0);
              continue;
            }
            w = " ";
          }
          if (v) {
            var C = r.isBreakingSpace(w),
              T = r.isBreakingSpace(o[o.length - 1]);
            if (C && T) continue;
          }
          var A = r.getFromCache(w, f, h, n);
          if (A > g)
            if (
              (o !== "" && ((l += r.addLine(o)), (o = ""), (s = 0)),
              r.canBreakWords(w, e.breakWords))
            )
              for (var I = r.wordWrapSplit(w), P = 0; P < I.length; P++) {
                for (var O = I[P], L = 1; I[P + L]; ) {
                  var N = I[P + L],
                    F = O[O.length - 1];
                  if (!r.canBreakChars(F, N, w, P, e.breakWords)) O += N;
                  else break;
                  L++;
                }
                P += O.length - 1;
                var H = r.getFromCache(O, f, h, n);
                H + s > g && ((l += r.addLine(o)), (m = !1), (o = ""), (s = 0)),
                  (o += O),
                  (s += H);
              }
            else {
              o.length > 0 && ((l += r.addLine(o)), (o = ""), (s = 0));
              var j = b === y.length - 1;
              (l += r.addLine(w, !j)), (m = !1), (o = ""), (s = 0);
            }
          else
            A + s > g && ((m = !1), (l += r.addLine(o)), (o = ""), (s = 0)),
              (o.length > 0 || !r.isBreakingSpace(w) || m) &&
                ((o += w), (s += A));
        }
        return (l += r.addLine(o, !1)), l;
      }),
      (r.addLine = function (t, e) {
        return (
          e === void 0 && (e = !0),
          (t = r.trimRight(t)),
          (t = e
            ? t +
              `
`
            : t),
          t
        );
      }),
      (r.getFromCache = function (t, e, i, n) {
        var s = i[t];
        if (typeof s != "number") {
          var o = t.length * e;
          (s = n.measureText(t).width + o), (i[t] = s);
        }
        return s;
      }),
      (r.collapseSpaces = function (t) {
        return t === "normal" || t === "pre-line";
      }),
      (r.collapseNewlines = function (t) {
        return t === "normal";
      }),
      (r.trimRight = function (t) {
        if (typeof t != "string") return "";
        for (var e = t.length - 1; e >= 0; e--) {
          var i = t[e];
          if (!r.isBreakingSpace(i)) break;
          t = t.slice(0, -1);
        }
        return t;
      }),
      (r.isNewline = function (t) {
        return typeof t != "string"
          ? !1
          : r._newlines.indexOf(t.charCodeAt(0)) >= 0;
      }),
      (r.isBreakingSpace = function (t, e) {
        return typeof t != "string"
          ? !1
          : r._breakingSpaces.indexOf(t.charCodeAt(0)) >= 0;
      }),
      (r.tokenize = function (t) {
        var e = [],
          i = "";
        if (typeof t != "string") return e;
        for (var n = 0; n < t.length; n++) {
          var s = t[n],
            o = t[n + 1];
          if (r.isBreakingSpace(s, o) || r.isNewline(s)) {
            i !== "" && (e.push(i), (i = "")), e.push(s);
            continue;
          }
          i += s;
        }
        return i !== "" && e.push(i), e;
      }),
      (r.canBreakWords = function (t, e) {
        return e;
      }),
      (r.canBreakChars = function (t, e, i, n, s) {
        return !0;
      }),
      (r.wordWrapSplit = function (t) {
        return t.split("");
      }),
      (r.measureFont = function (t) {
        if (r._fonts[t]) return r._fonts[t];
        var e = { ascent: 0, descent: 0, fontSize: 0 },
          i = r._canvas,
          n = r._context;
        n.font = t;
        var s = r.METRICS_STRING + r.BASELINE_SYMBOL,
          o = Math.ceil(n.measureText(s).width),
          l = Math.ceil(n.measureText(r.BASELINE_SYMBOL).width),
          h = Math.ceil(r.HEIGHT_MULTIPLIER * l);
        (l = (l * r.BASELINE_MULTIPLIER) | 0),
          (i.width = o),
          (i.height = h),
          (n.fillStyle = "#f00"),
          n.fillRect(0, 0, o, h),
          (n.font = t),
          (n.textBaseline = "alphabetic"),
          (n.fillStyle = "#000"),
          n.fillText(s, 0, l);
        var f = n.getImageData(0, 0, o, h).data,
          p = f.length,
          v = o * 4,
          _ = 0,
          m = 0,
          g = !1;
        for (_ = 0; _ < l; ++_) {
          for (var y = 0; y < v; y += 4)
            if (f[m + y] !== 255) {
              g = !0;
              break;
            }
          if (!g) m += v;
          else break;
        }
        for (e.ascent = l - _, m = p - v, g = !1, _ = h; _ > l; --_) {
          for (var y = 0; y < v; y += 4)
            if (f[m + y] !== 255) {
              g = !0;
              break;
            }
          if (!g) m -= v;
          else break;
        }
        return (
          (e.descent = _ - l),
          (e.fontSize = e.ascent + e.descent),
          (r._fonts[t] = e),
          e
        );
      }),
      (r.clearMetrics = function (t) {
        t === void 0 && (t = ""), t ? delete r._fonts[t] : (r._fonts = {});
      }),
      Object.defineProperty(r, "_canvas", {
        get: function () {
          if (!r.__canvas) {
            var t = void 0;
            try {
              var e = new OffscreenCanvas(0, 0),
                i = e.getContext("2d");
              if (i && i.measureText) return (r.__canvas = e), e;
              t = document.createElement("canvas");
            } catch {
              t = document.createElement("canvas");
            }
            (t.width = t.height = 10), (r.__canvas = t);
          }
          return r.__canvas;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(r, "_context", {
        get: function () {
          return (
            r.__context || (r.__context = r._canvas.getContext("2d")),
            r.__context
          );
        },
        enumerable: !1,
        configurable: !0,
      }),
      r
    );
  })();
  (rr._fonts = {}),
    (rr.METRICS_STRING = "|\xC9q\xC5"),
    (rr.BASELINE_SYMBOL = "M"),
    (rr.BASELINE_MULTIPLIER = 1.4),
    (rr.HEIGHT_MULTIPLIER = 2),
    (rr._newlines = [10, 13]),
    (rr._breakingSpaces = [
      9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287,
      12288,
    ]);
  var VC = { texture: !0, children: !1, baseTexture: !0 },
    Oo = (function (r) {
      GC(t, r);
      function t(e, i, n) {
        var s = this,
          o = !1;
        n || ((n = document.createElement("canvas")), (o = !0)),
          (n.width = 3),
          (n.height = 3);
        var l = ot.from(n);
        return (
          (l.orig = new ft()),
          (l.trim = new ft()),
          (s = r.call(this, l) || this),
          (s._ownCanvas = o),
          (s.canvas = n),
          (s.context = s.canvas.getContext("2d")),
          (s._resolution = Q.RESOLUTION),
          (s._autoResolution = !0),
          (s._text = null),
          (s._style = null),
          (s._styleListener = null),
          (s._font = ""),
          (s.text = e),
          (s.style = i),
          (s.localStyleID = -1),
          s
        );
      }
      return (
        (t.prototype.updateText = function (e) {
          var i = this._style;
          if (
            (this.localStyleID !== i.styleID &&
              ((this.dirty = !0), (this.localStyleID = i.styleID)),
            !(!this.dirty && e))
          ) {
            this._font = this._style.toFontString();
            var n = this.context,
              s = rr.measureText(
                this._text || " ",
                this._style,
                this._style.wordWrap,
                this.canvas
              ),
              o = s.width,
              l = s.height,
              h = s.lines,
              f = s.lineHeight,
              p = s.lineWidths,
              v = s.maxLineWidth,
              _ = s.fontProperties;
            (this.canvas.width = Math.ceil(
              Math.ceil(Math.max(1, o) + i.padding * 2) * this._resolution
            )),
              (this.canvas.height = Math.ceil(
                Math.ceil(Math.max(1, l) + i.padding * 2) * this._resolution
              )),
              n.scale(this._resolution, this._resolution),
              n.clearRect(0, 0, this.canvas.width, this.canvas.height),
              (n.font = this._font),
              (n.lineWidth = i.strokeThickness),
              (n.textBaseline = i.textBaseline),
              (n.lineJoin = i.lineJoin),
              (n.miterLimit = i.miterLimit);
            for (var m, g, y = i.dropShadow ? 2 : 1, b = 0; b < y; ++b) {
              var w = i.dropShadow && b === 0,
                C = w ? Math.ceil(Math.max(1, l) + i.padding * 2) : 0,
                T = C * this._resolution;
              if (w) {
                (n.fillStyle = "black"), (n.strokeStyle = "black");
                var A = i.dropShadowColor,
                  I = $i(typeof A == "number" ? A : Ef(A)),
                  P = i.dropShadowBlur * this._resolution,
                  O = i.dropShadowDistance * this._resolution;
                (n.shadowColor =
                  "rgba(" +
                  I[0] * 255 +
                  "," +
                  I[1] * 255 +
                  "," +
                  I[2] * 255 +
                  "," +
                  i.dropShadowAlpha +
                  ")"),
                  (n.shadowBlur = P),
                  (n.shadowOffsetX = Math.cos(i.dropShadowAngle) * O),
                  (n.shadowOffsetY = Math.sin(i.dropShadowAngle) * O + T);
              } else
                (n.fillStyle = this._generateFillStyle(i, h, s)),
                  (n.strokeStyle = i.stroke),
                  (n.shadowColor = "black"),
                  (n.shadowBlur = 0),
                  (n.shadowOffsetX = 0),
                  (n.shadowOffsetY = 0);
              var L = (f - _.fontSize) / 2;
              (!t.nextLineHeightBehavior || f - _.fontSize < 0) && (L = 0);
              for (var N = 0; N < h.length; N++)
                (m = i.strokeThickness / 2),
                  (g = i.strokeThickness / 2 + N * f + _.ascent + L),
                  i.align === "right"
                    ? (m += v - p[N])
                    : i.align === "center" && (m += (v - p[N]) / 2),
                  i.stroke &&
                    i.strokeThickness &&
                    this.drawLetterSpacing(
                      h[N],
                      m + i.padding,
                      g + i.padding - C,
                      !0
                    ),
                  i.fill &&
                    this.drawLetterSpacing(
                      h[N],
                      m + i.padding,
                      g + i.padding - C
                    );
            }
            this.updateTexture();
          }
        }),
        (t.prototype.drawLetterSpacing = function (e, i, n, s) {
          s === void 0 && (s = !1);
          var o = this._style,
            l = o.letterSpacing,
            h =
              t.experimentalLetterSpacing &&
              ("letterSpacing" in CanvasRenderingContext2D.prototype ||
                "textLetterSpacing" in CanvasRenderingContext2D.prototype);
          if (l === 0 || h) {
            h &&
              ((this.context.letterSpacing = l),
              (this.context.textLetterSpacing = l)),
              s
                ? this.context.strokeText(e, i, n)
                : this.context.fillText(e, i, n);
            return;
          }
          for (
            var f = i,
              p = Array.from ? Array.from(e) : e.split(""),
              v = this.context.measureText(e).width,
              _ = 0,
              m = 0;
            m < p.length;
            ++m
          ) {
            var g = p[m];
            s
              ? this.context.strokeText(g, f, n)
              : this.context.fillText(g, f, n);
            for (var y = "", b = m + 1; b < p.length; ++b) y += p[b];
            (_ = this.context.measureText(y).width), (f += v - _ + l), (v = _);
          }
        }),
        (t.prototype.updateTexture = function () {
          var e = this.canvas;
          if (this._style.trim) {
            var i = k1(e);
            i.data &&
              ((e.width = i.width),
              (e.height = i.height),
              this.context.putImageData(i.data, 0, 0));
          }
          var n = this._texture,
            s = this._style,
            o = s.trim ? 0 : s.padding,
            l = n.baseTexture;
          (n.trim.width = n._frame.width = e.width / this._resolution),
            (n.trim.height = n._frame.height = e.height / this._resolution),
            (n.trim.x = -o),
            (n.trim.y = -o),
            (n.orig.width = n._frame.width - o * 2),
            (n.orig.height = n._frame.height - o * 2),
            this._onTextureUpdate(),
            l.setRealSize(e.width, e.height, this._resolution),
            n.updateUvs(),
            (this.dirty = !1);
        }),
        (t.prototype._render = function (e) {
          this._autoResolution &&
            this._resolution !== e.resolution &&
            ((this._resolution = e.resolution), (this.dirty = !0)),
            this.updateText(!0),
            r.prototype._render.call(this, e);
        }),
        (t.prototype.updateTransform = function () {
          this.updateText(!0), r.prototype.updateTransform.call(this);
        }),
        (t.prototype.getBounds = function (e, i) {
          return (
            this.updateText(!0),
            this._textureID === -1 && (e = !1),
            r.prototype.getBounds.call(this, e, i)
          );
        }),
        (t.prototype.getLocalBounds = function (e) {
          return this.updateText(!0), r.prototype.getLocalBounds.call(this, e);
        }),
        (t.prototype._calculateBounds = function () {
          this.calculateVertices(), this._bounds.addQuad(this.vertexData);
        }),
        (t.prototype._generateFillStyle = function (e, i, n) {
          var s = e.fill;
          if (Array.isArray(s)) {
            if (s.length === 1) return s[0];
          } else return s;
          var o,
            l = e.dropShadow ? e.dropShadowDistance : 0,
            h = e.padding || 0,
            f = this.canvas.width / this._resolution - l - h * 2,
            p = this.canvas.height / this._resolution - l - h * 2,
            v = s.slice(),
            _ = e.fillGradientStops.slice();
          if (!_.length)
            for (var m = v.length + 1, g = 1; g < m; ++g) _.push(g / m);
          if (
            (v.unshift(s[0]),
            _.unshift(0),
            v.push(s[s.length - 1]),
            _.push(1),
            e.fillGradientType === us.LINEAR_VERTICAL)
          ) {
            o = this.context.createLinearGradient(f / 2, h, f / 2, p + h);
            for (
              var y = n.fontProperties.fontSize + e.strokeThickness, g = 0;
              g < i.length;
              g++
            ) {
              var b = n.lineHeight * (g - 1) + y,
                w = n.lineHeight * g,
                C = w;
              g > 0 && b > w && (C = (w + b) / 2);
              var T = w + y,
                A = n.lineHeight * (g + 1),
                I = T;
              g + 1 < i.length && A < T && (I = (T + A) / 2);
              for (var P = (I - C) / p, O = 0; O < v.length; O++) {
                var L = 0;
                typeof _[O] == "number" ? (L = _[O]) : (L = O / v.length);
                var N = Math.min(1, Math.max(0, C / p + L * P));
                (N = Number(N.toFixed(5))), o.addColorStop(N, v[O]);
              }
            }
          } else {
            o = this.context.createLinearGradient(h, p / 2, f + h, p / 2);
            for (var F = v.length + 1, H = 1, g = 0; g < v.length; g++) {
              var j = void 0;
              typeof _[g] == "number" ? (j = _[g]) : (j = H / F),
                o.addColorStop(j, v[g]),
                H++;
            }
          }
          return o;
        }),
        (t.prototype.destroy = function (e) {
          typeof e == "boolean" && (e = { children: e }),
            (e = Object.assign({}, VC, e)),
            r.prototype.destroy.call(this, e),
            this._ownCanvas && (this.canvas.height = this.canvas.width = 0),
            (this.context = null),
            (this.canvas = null),
            (this._style = null);
        }),
        Object.defineProperty(t.prototype, "width", {
          get: function () {
            return (
              this.updateText(!0),
              Math.abs(this.scale.x) * this._texture.orig.width
            );
          },
          set: function (e) {
            this.updateText(!0);
            var i = ji(this.scale.x) || 1;
            (this.scale.x = (i * e) / this._texture.orig.width),
              (this._width = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "height", {
          get: function () {
            return (
              this.updateText(!0),
              Math.abs(this.scale.y) * this._texture.orig.height
            );
          },
          set: function (e) {
            this.updateText(!0);
            var i = ji(this.scale.y) || 1;
            (this.scale.y = (i * e) / this._texture.orig.height),
              (this._height = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "style", {
          get: function () {
            return this._style;
          },
          set: function (e) {
            (e = e || {}),
              e instanceof tn ? (this._style = e) : (this._style = new tn(e)),
              (this.localStyleID = -1),
              (this.dirty = !0);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "text", {
          get: function () {
            return this._text;
          },
          set: function (e) {
            (e = String(e == null ? "" : e)),
              this._text !== e && ((this._text = e), (this.dirty = !0));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "resolution", {
          get: function () {
            return this._resolution;
          },
          set: function (e) {
            (this._autoResolution = !1),
              this._resolution !== e &&
                ((this._resolution = e), (this.dirty = !0));
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.nextLineHeightBehavior = !1),
        (t.experimentalLetterSpacing = !1),
        t
      );
    })(ls);
  /*!
   * @pixi/prepare - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/prepare is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ Q.UPLOADS_PER_FRAME = 4;
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var hu =
    function (r, t) {
      return (
        (hu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        hu(r, t)
      );
    };
  function HC(r, t) {
    hu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var XC = (function () {
    function r(t) {
      (this.maxItemsPerFrame = t), (this.itemsLeft = 0);
    }
    return (
      (r.prototype.beginFrame = function () {
        this.itemsLeft = this.maxItemsPerFrame;
      }),
      (r.prototype.allowedToUpload = function () {
        return this.itemsLeft-- > 0;
      }),
      r
    );
  })();
  function $C(r, t) {
    var e = !1;
    if (r && r._textures && r._textures.length) {
      for (var i = 0; i < r._textures.length; i++)
        if (r._textures[i] instanceof ot) {
          var n = r._textures[i].baseTexture;
          t.indexOf(n) === -1 && (t.push(n), (e = !0));
        }
    }
    return e;
  }
  function jC(r, t) {
    if (r.baseTexture instanceof gt) {
      var e = r.baseTexture;
      return t.indexOf(e) === -1 && t.push(e), !0;
    }
    return !1;
  }
  function zC(r, t) {
    if (r._texture && r._texture instanceof ot) {
      var e = r._texture.baseTexture;
      return t.indexOf(e) === -1 && t.push(e), !0;
    }
    return !1;
  }
  function WC(r, t) {
    return t instanceof Oo ? (t.updateText(!0), !0) : !1;
  }
  function YC(r, t) {
    if (t instanceof tn) {
      var e = t.toFontString();
      return rr.measureFont(e), !0;
    }
    return !1;
  }
  function qC(r, t) {
    if (r instanceof Oo) {
      t.indexOf(r.style) === -1 && t.push(r.style),
        t.indexOf(r) === -1 && t.push(r);
      var e = r._texture.baseTexture;
      return t.indexOf(e) === -1 && t.push(e), !0;
    }
    return !1;
  }
  function KC(r, t) {
    return r instanceof tn ? (t.indexOf(r) === -1 && t.push(r), !0) : !1;
  }
  var ZC = (function () {
    function r(t) {
      var e = this;
      (this.limiter = new XC(Q.UPLOADS_PER_FRAME)),
        (this.renderer = t),
        (this.uploadHookHelper = null),
        (this.queue = []),
        (this.addHooks = []),
        (this.uploadHooks = []),
        (this.completes = []),
        (this.ticking = !1),
        (this.delayedTick = function () {
          !e.queue || e.prepareItems();
        }),
        this.registerFindHook(qC),
        this.registerFindHook(KC),
        this.registerFindHook($C),
        this.registerFindHook(jC),
        this.registerFindHook(zC),
        this.registerUploadHook(WC),
        this.registerUploadHook(YC);
    }
    return (
      (r.prototype.upload = function (t, e) {
        typeof t == "function" && ((e = t), (t = null)),
          t && this.add(t),
          this.queue.length
            ? (e && this.completes.push(e),
              this.ticking ||
                ((this.ticking = !0),
                oe.system.addOnce(this.tick, this, pr.UTILITY)))
            : e && e();
      }),
      (r.prototype.tick = function () {
        setTimeout(this.delayedTick, 0);
      }),
      (r.prototype.prepareItems = function () {
        for (
          this.limiter.beginFrame();
          this.queue.length && this.limiter.allowedToUpload();

        ) {
          var t = this.queue[0],
            e = !1;
          if (t && !t._destroyed) {
            for (var i = 0, n = this.uploadHooks.length; i < n; i++)
              if (this.uploadHooks[i](this.uploadHookHelper, t)) {
                this.queue.shift(), (e = !0);
                break;
              }
          }
          e || this.queue.shift();
        }
        if (this.queue.length) oe.system.addOnce(this.tick, this, pr.UTILITY);
        else {
          this.ticking = !1;
          var s = this.completes.slice(0);
          this.completes.length = 0;
          for (var i = 0, n = s.length; i < n; i++) s[i]();
        }
      }),
      (r.prototype.registerFindHook = function (t) {
        return t && this.addHooks.push(t), this;
      }),
      (r.prototype.registerUploadHook = function (t) {
        return t && this.uploadHooks.push(t), this;
      }),
      (r.prototype.add = function (t) {
        for (
          var e = 0, i = this.addHooks.length;
          e < i && !this.addHooks[e](t, this.queue);
          e++
        );
        if (t instanceof Te)
          for (var e = t.children.length - 1; e >= 0; e--)
            this.add(t.children[e]);
        return this;
      }),
      (r.prototype.destroy = function () {
        this.ticking && oe.system.remove(this.tick, this),
          (this.ticking = !1),
          (this.addHooks = null),
          (this.uploadHooks = null),
          (this.renderer = null),
          (this.completes = null),
          (this.queue = null),
          (this.limiter = null),
          (this.uploadHookHelper = null);
      }),
      r
    );
  })();
  function jd(r, t) {
    return t instanceof gt
      ? (t._glTextures[r.CONTEXT_UID] || r.texture.bind(t), !0)
      : !1;
  }
  function JC(r, t) {
    if (!(t instanceof Qi)) return !1;
    var e = t.geometry;
    t.finishPoly(), e.updateBatches();
    for (var i = e.batches, n = 0; n < i.length; n++) {
      var s = i[n].style.texture;
      s && jd(r, s.baseTexture);
    }
    return e.batchable || r.geometry.bind(e, t._resolveDirectShader(r)), !0;
  }
  function QC(r, t) {
    return r instanceof Qi ? (t.push(r), !0) : !1;
  }
  var tP = (function (r) {
    HC(t, r);
    function t(e) {
      var i = r.call(this, e) || this;
      return (
        (i.uploadHookHelper = i.renderer),
        i.registerFindHook(QC),
        i.registerUploadHook(jd),
        i.registerUploadHook(JC),
        i
      );
    }
    return t;
  })(ZC);
  /*!
   * @pixi/spritesheet - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/spritesheet is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var zd = (function () {
      function r(t, e, i) {
        i === void 0 && (i = null),
          (this._texture = t instanceof ot ? t : null),
          (this.baseTexture = t instanceof gt ? t : this._texture.baseTexture),
          (this.textures = {}),
          (this.animations = {}),
          (this.data = e);
        var n = this.baseTexture.resource;
        (this.resolution = this._updateResolution(i || (n ? n.url : null))),
          (this._frames = this.data.frames),
          (this._frameKeys = Object.keys(this._frames)),
          (this._batchIndex = 0),
          (this._callback = null);
      }
      return (
        (r.prototype._updateResolution = function (t) {
          t === void 0 && (t = null);
          var e = this.data.meta.scale,
            i = so(t, null);
          return (
            i === null && (i = e !== void 0 ? parseFloat(e) : 1),
            i !== 1 && this.baseTexture.setResolution(i),
            i
          );
        }),
        (r.prototype.parse = function (t) {
          (this._batchIndex = 0),
            (this._callback = t),
            this._frameKeys.length <= r.BATCH_SIZE
              ? (this._processFrames(0),
                this._processAnimations(),
                this._parseComplete())
              : this._nextBatch();
        }),
        (r.prototype._processFrames = function (t) {
          for (
            var e = t, i = r.BATCH_SIZE;
            e - t < i && e < this._frameKeys.length;

          ) {
            var n = this._frameKeys[e],
              s = this._frames[n],
              o = s.frame;
            if (o) {
              var l = null,
                h = null,
                f = s.trimmed !== !1 && s.sourceSize ? s.sourceSize : s.frame,
                p = new ft(
                  0,
                  0,
                  Math.floor(f.w) / this.resolution,
                  Math.floor(f.h) / this.resolution
                );
              s.rotated
                ? (l = new ft(
                    Math.floor(o.x) / this.resolution,
                    Math.floor(o.y) / this.resolution,
                    Math.floor(o.h) / this.resolution,
                    Math.floor(o.w) / this.resolution
                  ))
                : (l = new ft(
                    Math.floor(o.x) / this.resolution,
                    Math.floor(o.y) / this.resolution,
                    Math.floor(o.w) / this.resolution,
                    Math.floor(o.h) / this.resolution
                  )),
                s.trimmed !== !1 &&
                  s.spriteSourceSize &&
                  (h = new ft(
                    Math.floor(s.spriteSourceSize.x) / this.resolution,
                    Math.floor(s.spriteSourceSize.y) / this.resolution,
                    Math.floor(o.w) / this.resolution,
                    Math.floor(o.h) / this.resolution
                  )),
                (this.textures[n] = new ot(
                  this.baseTexture,
                  l,
                  p,
                  h,
                  s.rotated ? 2 : 0,
                  s.anchor
                )),
                ot.addToCache(this.textures[n], n);
            }
            e++;
          }
        }),
        (r.prototype._processAnimations = function () {
          var t = this.data.animations || {};
          for (var e in t) {
            this.animations[e] = [];
            for (var i = 0; i < t[e].length; i++) {
              var n = t[e][i];
              this.animations[e].push(this.textures[n]);
            }
          }
        }),
        (r.prototype._parseComplete = function () {
          var t = this._callback;
          (this._callback = null),
            (this._batchIndex = 0),
            t.call(this, this.textures);
        }),
        (r.prototype._nextBatch = function () {
          var t = this;
          this._processFrames(this._batchIndex * r.BATCH_SIZE),
            this._batchIndex++,
            setTimeout(function () {
              t._batchIndex * r.BATCH_SIZE < t._frameKeys.length
                ? t._nextBatch()
                : (t._processAnimations(), t._parseComplete());
            }, 0);
        }),
        (r.prototype.destroy = function (t) {
          var e;
          t === void 0 && (t = !1);
          for (var i in this.textures) this.textures[i].destroy();
          (this._frames = null),
            (this._frameKeys = null),
            (this.data = null),
            (this.textures = null),
            t &&
              ((e = this._texture) === null || e === void 0 || e.destroy(),
              this.baseTexture.destroy()),
            (this._texture = null),
            (this.baseTexture = null);
        }),
        (r.BATCH_SIZE = 1e3),
        r
      );
    })(),
    eP = (function () {
      function r() {}
      return (
        (r.use = function (t, e) {
          var i,
            n,
            s = this,
            o = t.name + "_image";
          if (
            !t.data ||
            t.type !== zt.TYPE.JSON ||
            !t.data.frames ||
            s.resources[o]
          ) {
            e();
            return;
          }
          var l =
            (n = (i = t.data) === null || i === void 0 ? void 0 : i.meta) ===
              null || n === void 0
              ? void 0
              : n.related_multi_packs;
          if (Array.isArray(l))
            for (
              var h = function (g) {
                  if (typeof g != "string") return "continue";
                  var y = g.replace(".json", ""),
                    b = Xi.resolve(t.url.replace(s.baseUrl, ""), g);
                  if (
                    s.resources[y] ||
                    Object.values(s.resources).some(function (C) {
                      return Xi.format(Xi.parse(C.url)) === b;
                    })
                  )
                    return "continue";
                  var w = {
                    crossOrigin: t.crossOrigin,
                    loadType: zt.LOAD_TYPE.XHR,
                    xhrType: zt.XHR_RESPONSE_TYPE.JSON,
                    parentResource: t,
                    metadata: t.metadata,
                  };
                  s.add(y, b, w);
                },
                f = 0,
                p = l;
              f < p.length;
              f++
            ) {
              var v = p[f];
              h(v);
            }
          var _ = {
              crossOrigin: t.crossOrigin,
              metadata: t.metadata.imageMetadata,
              parentResource: t,
            },
            m = r.getResourcePath(t, s.baseUrl);
          s.add(o, m, _, function (y) {
            if (y.error) {
              e(y.error);
              return;
            }
            var b = new zd(y.texture, t.data, t.url);
            b.parse(function () {
              (t.spritesheet = b), (t.textures = b.textures), e();
            });
          });
        }),
        (r.getResourcePath = function (t, e) {
          return t.isDataUrl
            ? t.data.meta.image
            : Xi.resolve(t.url.replace(e, ""), t.data.meta.image);
        }),
        r
      );
    })();
  /*!
   * @pixi/sprite-tiling - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/sprite-tiling is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var cu =
    function (r, t) {
      return (
        (cu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        cu(r, t)
      );
    };
  function Wd(r, t) {
    cu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var hs = new kt();
  (function (r) {
    Wd(t, r);
    function t(e, i, n) {
      i === void 0 && (i = 100), n === void 0 && (n = 100);
      var s = r.call(this, e) || this;
      return (
        (s.tileTransform = new ll()),
        (s._width = i),
        (s._height = n),
        (s.uvMatrix = s.texture.uvMatrix || new Rl(e)),
        (s.pluginName = "tilingSprite"),
        (s.uvRespectAnchor = !1),
        s
      );
    }
    return (
      Object.defineProperty(t.prototype, "clampMargin", {
        get: function () {
          return this.uvMatrix.clampMargin;
        },
        set: function (e) {
          (this.uvMatrix.clampMargin = e), this.uvMatrix.update(!0);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "tileScale", {
        get: function () {
          return this.tileTransform.scale;
        },
        set: function (e) {
          this.tileTransform.scale.copyFrom(e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "tilePosition", {
        get: function () {
          return this.tileTransform.position;
        },
        set: function (e) {
          this.tileTransform.position.copyFrom(e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype._onTextureUpdate = function () {
        this.uvMatrix && (this.uvMatrix.texture = this._texture),
          (this._cachedTint = 16777215);
      }),
      (t.prototype._render = function (e) {
        var i = this._texture;
        !i ||
          !i.valid ||
          (this.tileTransform.updateLocalTransform(),
          this.uvMatrix.update(),
          e.batch.setObjectRenderer(e.plugins[this.pluginName]),
          e.plugins[this.pluginName].render(this));
      }),
      (t.prototype._calculateBounds = function () {
        var e = this._width * -this._anchor._x,
          i = this._height * -this._anchor._y,
          n = this._width * (1 - this._anchor._x),
          s = this._height * (1 - this._anchor._y);
        this._bounds.addFrame(this.transform, e, i, n, s);
      }),
      (t.prototype.getLocalBounds = function (e) {
        return this.children.length === 0
          ? ((this._bounds.minX = this._width * -this._anchor._x),
            (this._bounds.minY = this._height * -this._anchor._y),
            (this._bounds.maxX = this._width * (1 - this._anchor._x)),
            (this._bounds.maxY = this._height * (1 - this._anchor._y)),
            e ||
              (this._localBoundsRect || (this._localBoundsRect = new ft()),
              (e = this._localBoundsRect)),
            this._bounds.getRectangle(e))
          : r.prototype.getLocalBounds.call(this, e);
      }),
      (t.prototype.containsPoint = function (e) {
        this.worldTransform.applyInverse(e, hs);
        var i = this._width,
          n = this._height,
          s = -i * this.anchor._x;
        if (hs.x >= s && hs.x < s + i) {
          var o = -n * this.anchor._y;
          if (hs.y >= o && hs.y < o + n) return !0;
        }
        return !1;
      }),
      (t.prototype.destroy = function (e) {
        r.prototype.destroy.call(this, e),
          (this.tileTransform = null),
          (this.uvMatrix = null);
      }),
      (t.from = function (e, i) {
        var n = e instanceof ot ? e : ot.from(e, i);
        return new t(n, i.width, i.height);
      }),
      Object.defineProperty(t.prototype, "width", {
        get: function () {
          return this._width;
        },
        set: function (e) {
          this._width = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "height", {
        get: function () {
          return this._height;
        },
        set: function (e) {
          this._height = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(ls);
  var rP = `#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,
    Yd = `#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,
    iP = `#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,
    nP = `#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,
    sP = `#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,
    Uo = new Yt(),
    oP = (function (r) {
      Wd(t, r);
      function t(e) {
        var i = r.call(this, e) || this;
        return (
          e.runners.contextChange.add(i),
          (i.quad = new dp()),
          (i.state = vi.for2d()),
          i
        );
      }
      return (
        (t.prototype.contextChange = function () {
          var e = this.renderer,
            i = { globals: e.globalUniforms };
          (this.simpleShader = dr.from(Yd, rP, i)),
            (this.shader =
              e.context.webGLVersion > 1
                ? dr.from(nP, sP, i)
                : dr.from(Yd, iP, i));
        }),
        (t.prototype.render = function (e) {
          var i = this.renderer,
            n = this.quad,
            s = n.vertices;
          (s[0] = s[6] = e._width * -e.anchor.x),
            (s[1] = s[3] = e._height * -e.anchor.y),
            (s[2] = s[4] = e._width * (1 - e.anchor.x)),
            (s[5] = s[7] = e._height * (1 - e.anchor.y));
          var o = e.uvRespectAnchor ? e.anchor.x : 0,
            l = e.uvRespectAnchor ? e.anchor.y : 0;
          (s = n.uvs),
            (s[0] = s[6] = -o),
            (s[1] = s[3] = -l),
            (s[2] = s[4] = 1 - o),
            (s[5] = s[7] = 1 - l),
            n.invalidate();
          var h = e._texture,
            f = h.baseTexture,
            p = e.tileTransform.localTransform,
            v = e.uvMatrix,
            _ =
              f.isPowerOfTwo &&
              h.frame.width === f.width &&
              h.frame.height === f.height;
          _ &&
            (f._glTextures[i.CONTEXT_UID]
              ? (_ = f.wrapMode !== Qe.CLAMP)
              : f.wrapMode === Qe.CLAMP && (f.wrapMode = Qe.REPEAT));
          var m = _ ? this.simpleShader : this.shader,
            g = h.width,
            y = h.height,
            b = e._width,
            w = e._height;
          Uo.set(
            (p.a * g) / b,
            (p.b * g) / w,
            (p.c * y) / b,
            (p.d * y) / w,
            p.tx / b,
            p.ty / w
          ),
            Uo.invert(),
            _
              ? Uo.prepend(v.mapCoord)
              : ((m.uniforms.uMapCoord = v.mapCoord.toArray(!0)),
                (m.uniforms.uClampFrame = v.uClampFrame),
                (m.uniforms.uClampOffset = v.uClampOffset)),
            (m.uniforms.uTransform = Uo.toArray(!0)),
            (m.uniforms.uColor = If(
              e.tint,
              e.worldAlpha,
              m.uniforms.uColor,
              f.alphaMode
            )),
            (m.uniforms.translationMatrix = e.transform.worldTransform.toArray(
              !0
            )),
            (m.uniforms.uSampler = h),
            i.shader.bind(m),
            i.geometry.bind(n),
            (this.state.blendMode = Pf(e.blendMode, f.alphaMode)),
            i.state.set(this.state),
            i.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);
        }),
        t
      );
    })(_o);
  /*!
   * @pixi/mesh - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/mesh is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var fu =
    function (r, t) {
      return (
        (fu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        fu(r, t)
      );
    };
  function pu(r, t) {
    fu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var aP = (function () {
      function r(t, e) {
        (this.uvBuffer = t),
          (this.uvMatrix = e),
          (this.data = null),
          (this._bufferUpdateId = -1),
          (this._textureUpdateId = -1),
          (this._updateID = 0);
      }
      return (
        (r.prototype.update = function (t) {
          if (
            !(
              !t &&
              this._bufferUpdateId === this.uvBuffer._updateID &&
              this._textureUpdateId === this.uvMatrix._updateID
            )
          ) {
            (this._bufferUpdateId = this.uvBuffer._updateID),
              (this._textureUpdateId = this.uvMatrix._updateID);
            var e = this.uvBuffer.data;
            (!this.data || this.data.length !== e.length) &&
              (this.data = new Float32Array(e.length)),
              this.uvMatrix.multiplyUvs(e, this.data),
              this._updateID++;
          }
        }),
        r
      );
    })(),
    du = new kt(),
    qd = new lo(),
    en = (function (r) {
      pu(t, r);
      function t(e, i, n, s) {
        s === void 0 && (s = De.TRIANGLES);
        var o = r.call(this) || this;
        return (
          (o.geometry = e),
          (o.shader = i),
          (o.state = n || vi.for2d()),
          (o.drawMode = s),
          (o.start = 0),
          (o.size = 0),
          (o.uvs = null),
          (o.indices = null),
          (o.vertexData = new Float32Array(1)),
          (o.vertexDirty = -1),
          (o._transformID = -1),
          (o._roundPixels = Q.ROUND_PIXELS),
          (o.batchUvs = null),
          o
        );
      }
      return (
        Object.defineProperty(t.prototype, "geometry", {
          get: function () {
            return this._geometry;
          },
          set: function (e) {
            this._geometry !== e &&
              (this._geometry &&
                (this._geometry.refCount--,
                this._geometry.refCount === 0 && this._geometry.dispose()),
              (this._geometry = e),
              this._geometry && this._geometry.refCount++,
              (this.vertexDirty = -1));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "uvBuffer", {
          get: function () {
            return this.geometry.buffers[1];
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "verticesBuffer", {
          get: function () {
            return this.geometry.buffers[0];
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "material", {
          get: function () {
            return this.shader;
          },
          set: function (e) {
            this.shader = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "blendMode", {
          get: function () {
            return this.state.blendMode;
          },
          set: function (e) {
            this.state.blendMode = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "roundPixels", {
          get: function () {
            return this._roundPixels;
          },
          set: function (e) {
            this._roundPixels !== e && (this._transformID = -1),
              (this._roundPixels = e);
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "tint", {
          get: function () {
            return "tint" in this.shader ? this.shader.tint : null;
          },
          set: function (e) {
            this.shader.tint = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "texture", {
          get: function () {
            return "texture" in this.shader ? this.shader.texture : null;
          },
          set: function (e) {
            this.shader.texture = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype._render = function (e) {
          var i = this.geometry.buffers[0].data,
            n = this.shader;
          n.batchable &&
          this.drawMode === De.TRIANGLES &&
          i.length < t.BATCHABLE_SIZE * 2
            ? this._renderToBatch(e)
            : this._renderDefault(e);
        }),
        (t.prototype._renderDefault = function (e) {
          var i = this.shader;
          (i.alpha = this.worldAlpha),
            i.update && i.update(),
            e.batch.flush(),
            (i.uniforms.translationMatrix =
              this.transform.worldTransform.toArray(!0)),
            e.shader.bind(i),
            e.state.set(this.state),
            e.geometry.bind(this.geometry, i),
            e.geometry.draw(
              this.drawMode,
              this.size,
              this.start,
              this.geometry.instanceCount
            );
        }),
        (t.prototype._renderToBatch = function (e) {
          var i = this.geometry,
            n = this.shader;
          n.uvMatrix && (n.uvMatrix.update(), this.calculateUvs()),
            this.calculateVertices(),
            (this.indices = i.indexBuffer.data),
            (this._tintRGB = n._tintRGB),
            (this._texture = n.texture);
          var s = this.material.pluginName;
          e.batch.setObjectRenderer(e.plugins[s]), e.plugins[s].render(this);
        }),
        (t.prototype.calculateVertices = function () {
          var e = this.geometry,
            i = e.buffers[0],
            n = i.data,
            s = i._updateID;
          if (
            !(
              s === this.vertexDirty &&
              this._transformID === this.transform._worldID
            )
          ) {
            (this._transformID = this.transform._worldID),
              this.vertexData.length !== n.length &&
                (this.vertexData = new Float32Array(n.length));
            for (
              var o = this.transform.worldTransform,
                l = o.a,
                h = o.b,
                f = o.c,
                p = o.d,
                v = o.tx,
                _ = o.ty,
                m = this.vertexData,
                g = 0;
              g < m.length / 2;
              g++
            ) {
              var y = n[g * 2],
                b = n[g * 2 + 1];
              (m[g * 2] = l * y + f * b + v),
                (m[g * 2 + 1] = h * y + p * b + _);
            }
            if (this._roundPixels)
              for (var w = Q.RESOLUTION, g = 0; g < m.length; ++g)
                m[g] = Math.round(((m[g] * w) | 0) / w);
            this.vertexDirty = s;
          }
        }),
        (t.prototype.calculateUvs = function () {
          var e = this.geometry.buffers[1],
            i = this.shader;
          i.uvMatrix.isSimple
            ? (this.uvs = e.data)
            : (this.batchUvs || (this.batchUvs = new aP(e, i.uvMatrix)),
              this.batchUvs.update(),
              (this.uvs = this.batchUvs.data));
        }),
        (t.prototype._calculateBounds = function () {
          this.calculateVertices(),
            this._bounds.addVertexData(
              this.vertexData,
              0,
              this.vertexData.length
            );
        }),
        (t.prototype.containsPoint = function (e) {
          if (!this.getBounds().contains(e.x, e.y)) return !1;
          this.worldTransform.applyInverse(e, du);
          for (
            var i = this.geometry.getBuffer("aVertexPosition").data,
              n = qd.points,
              s = this.geometry.getIndex().data,
              o = s.length,
              l = this.drawMode === 4 ? 3 : 1,
              h = 0;
            h + 2 < o;
            h += l
          ) {
            var f = s[h] * 2,
              p = s[h + 1] * 2,
              v = s[h + 2] * 2;
            if (
              ((n[0] = i[f]),
              (n[1] = i[f + 1]),
              (n[2] = i[p]),
              (n[3] = i[p + 1]),
              (n[4] = i[v]),
              (n[5] = i[v + 1]),
              qd.contains(du.x, du.y))
            )
              return !0;
          }
          return !1;
        }),
        (t.prototype.destroy = function (e) {
          r.prototype.destroy.call(this, e),
            this._cachedTexture &&
              (this._cachedTexture.destroy(), (this._cachedTexture = null)),
            (this.geometry = null),
            (this.shader = null),
            (this.state = null),
            (this.uvs = null),
            (this.indices = null),
            (this.vertexData = null);
        }),
        (t.BATCHABLE_SIZE = 100),
        t
      );
    })(Te),
    lP = `varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,
    uP = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,
    cs = (function (r) {
      pu(t, r);
      function t(e, i) {
        var n = this,
          s = {
            uSampler: e,
            alpha: 1,
            uTextureMatrix: Yt.IDENTITY,
            uColor: new Float32Array([1, 1, 1, 1]),
          };
        return (
          (i = Object.assign(
            { tint: 16777215, alpha: 1, pluginName: "batch" },
            i
          )),
          i.uniforms && Object.assign(s, i.uniforms),
          (n = r.call(this, i.program || ts.from(uP, lP), s) || this),
          (n._colorDirty = !1),
          (n.uvMatrix = new Rl(e)),
          (n.batchable = i.program === void 0),
          (n.pluginName = i.pluginName),
          (n.tint = i.tint),
          (n.alpha = i.alpha),
          n
        );
      }
      return (
        Object.defineProperty(t.prototype, "texture", {
          get: function () {
            return this.uniforms.uSampler;
          },
          set: function (e) {
            this.uniforms.uSampler !== e &&
              (!this.uniforms.uSampler.baseTexture.alphaMode !=
                !e.baseTexture.alphaMode && (this._colorDirty = !0),
              (this.uniforms.uSampler = e),
              (this.uvMatrix.texture = e));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "alpha", {
          get: function () {
            return this._alpha;
          },
          set: function (e) {
            e !== this._alpha && ((this._alpha = e), (this._colorDirty = !0));
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "tint", {
          get: function () {
            return this._tint;
          },
          set: function (e) {
            e !== this._tint &&
              ((this._tint = e),
              (this._tintRGB = (e >> 16) + (e & 65280) + ((e & 255) << 16)),
              (this._colorDirty = !0));
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.update = function () {
          if (this._colorDirty) {
            this._colorDirty = !1;
            var e = this.texture.baseTexture;
            If(this._tint, this._alpha, this.uniforms.uColor, e.alphaMode);
          }
          this.uvMatrix.update() &&
            (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord);
        }),
        t
      );
    })(dr),
    Lo = (function (r) {
      pu(t, r);
      function t(e, i, n) {
        var s = r.call(this) || this,
          o = new ee(e),
          l = new ee(i, !0),
          h = new ee(n, !0, !0);
        return (
          s
            .addAttribute("aVertexPosition", o, 2, !1, rt.FLOAT)
            .addAttribute("aTextureCoord", l, 2, !1, rt.FLOAT)
            .addIndex(h),
          (s._updateId = -1),
          s
        );
      }
      return (
        Object.defineProperty(t.prototype, "vertexDirtyId", {
          get: function () {
            return this.buffers[0]._updateID;
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Zn);
  /*!
   * @pixi/text-bitmap - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/text-bitmap is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var vu =
    function (r, t) {
      return (
        (vu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        vu(r, t)
      );
    };
  function hP(r, t) {
    vu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var Fo = (function () {
      function r() {
        (this.info = []),
          (this.common = []),
          (this.page = []),
          (this.char = []),
          (this.kerning = []),
          (this.distanceField = []);
      }
      return r;
    })(),
    cP = (function () {
      function r() {}
      return (
        (r.test = function (t) {
          return typeof t == "string" && t.indexOf("info face=") === 0;
        }),
        (r.parse = function (t) {
          var e = t.match(/^[a-z]+\s+.+$/gm),
            i = {
              info: [],
              common: [],
              page: [],
              char: [],
              chars: [],
              kerning: [],
              kernings: [],
              distanceField: [],
            };
          for (var n in e) {
            var s = e[n].match(/^[a-z]+/gm)[0],
              o = e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),
              l = {};
            for (var h in o) {
              var f = o[h].split("="),
                p = f[0],
                v = f[1].replace(/"/gm, ""),
                _ = parseFloat(v),
                m = isNaN(_) ? v : _;
              l[p] = m;
            }
            i[s].push(l);
          }
          var g = new Fo();
          return (
            i.info.forEach(function (y) {
              return g.info.push({ face: y.face, size: parseInt(y.size, 10) });
            }),
            i.common.forEach(function (y) {
              return g.common.push({ lineHeight: parseInt(y.lineHeight, 10) });
            }),
            i.page.forEach(function (y) {
              return g.page.push({ id: parseInt(y.id, 10), file: y.file });
            }),
            i.char.forEach(function (y) {
              return g.char.push({
                id: parseInt(y.id, 10),
                page: parseInt(y.page, 10),
                x: parseInt(y.x, 10),
                y: parseInt(y.y, 10),
                width: parseInt(y.width, 10),
                height: parseInt(y.height, 10),
                xoffset: parseInt(y.xoffset, 10),
                yoffset: parseInt(y.yoffset, 10),
                xadvance: parseInt(y.xadvance, 10),
              });
            }),
            i.kerning.forEach(function (y) {
              return g.kerning.push({
                first: parseInt(y.first, 10),
                second: parseInt(y.second, 10),
                amount: parseInt(y.amount, 10),
              });
            }),
            i.distanceField.forEach(function (y) {
              return g.distanceField.push({
                distanceRange: parseInt(y.distanceRange, 10),
                fieldType: y.fieldType,
              });
            }),
            g
          );
        }),
        r
      );
    })(),
    _u = (function () {
      function r() {}
      return (
        (r.test = function (t) {
          return (
            t instanceof XMLDocument &&
            t.getElementsByTagName("page").length &&
            t.getElementsByTagName("info")[0].getAttribute("face") !== null
          );
        }),
        (r.parse = function (t) {
          for (
            var e = new Fo(),
              i = t.getElementsByTagName("info"),
              n = t.getElementsByTagName("common"),
              s = t.getElementsByTagName("page"),
              o = t.getElementsByTagName("char"),
              l = t.getElementsByTagName("kerning"),
              h = t.getElementsByTagName("distanceField"),
              f = 0;
            f < i.length;
            f++
          )
            e.info.push({
              face: i[f].getAttribute("face"),
              size: parseInt(i[f].getAttribute("size"), 10),
            });
          for (var f = 0; f < n.length; f++)
            e.common.push({
              lineHeight: parseInt(n[f].getAttribute("lineHeight"), 10),
            });
          for (var f = 0; f < s.length; f++)
            e.page.push({
              id: parseInt(s[f].getAttribute("id"), 10) || 0,
              file: s[f].getAttribute("file"),
            });
          for (var f = 0; f < o.length; f++) {
            var p = o[f];
            e.char.push({
              id: parseInt(p.getAttribute("id"), 10),
              page: parseInt(p.getAttribute("page"), 10) || 0,
              x: parseInt(p.getAttribute("x"), 10),
              y: parseInt(p.getAttribute("y"), 10),
              width: parseInt(p.getAttribute("width"), 10),
              height: parseInt(p.getAttribute("height"), 10),
              xoffset: parseInt(p.getAttribute("xoffset"), 10),
              yoffset: parseInt(p.getAttribute("yoffset"), 10),
              xadvance: parseInt(p.getAttribute("xadvance"), 10),
            });
          }
          for (var f = 0; f < l.length; f++)
            e.kerning.push({
              first: parseInt(l[f].getAttribute("first"), 10),
              second: parseInt(l[f].getAttribute("second"), 10),
              amount: parseInt(l[f].getAttribute("amount"), 10),
            });
          for (var f = 0; f < h.length; f++)
            e.distanceField.push({
              fieldType: h[f].getAttribute("fieldType"),
              distanceRange: parseInt(h[f].getAttribute("distanceRange"), 10),
            });
          return e;
        }),
        r
      );
    })(),
    fP = (function () {
      function r() {}
      return (
        (r.test = function (t) {
          if (typeof t == "string" && t.indexOf("<font>") > -1) {
            var e = new globalThis.DOMParser().parseFromString(t, "text/xml");
            return _u.test(e);
          }
          return !1;
        }),
        (r.parse = function (t) {
          var e = new globalThis.DOMParser().parseFromString(t, "text/xml");
          return _u.parse(e);
        }),
        r
      );
    })(),
    mu = [cP, _u, fP];
  function Kd(r) {
    for (var t = 0; t < mu.length; t++) if (mu[t].test(r)) return mu[t];
    return null;
  }
  function pP(r, t, e, i, n, s) {
    var o = e.fill;
    if (Array.isArray(o)) {
      if (o.length === 1) return o[0];
    } else return o;
    var l,
      h = e.dropShadow ? e.dropShadowDistance : 0,
      f = e.padding || 0,
      p = r.width / i - h - f * 2,
      v = r.height / i - h - f * 2,
      _ = o.slice(),
      m = e.fillGradientStops.slice();
    if (!m.length) for (var g = _.length + 1, y = 1; y < g; ++y) m.push(y / g);
    if (
      (_.unshift(o[0]),
      m.unshift(0),
      _.push(o[o.length - 1]),
      m.push(1),
      e.fillGradientType === us.LINEAR_VERTICAL)
    ) {
      l = t.createLinearGradient(p / 2, f, p / 2, v + f);
      for (
        var b = 0,
          w = s.fontProperties.fontSize + e.strokeThickness,
          C = w / v,
          y = 0;
        y < n.length;
        y++
      )
        for (var T = s.lineHeight * y, A = 0; A < _.length; A++) {
          var I = 0;
          typeof m[A] == "number" ? (I = m[A]) : (I = A / _.length);
          var P = T / v + I * C,
            O = Math.max(b, P);
          (O = Math.min(O, 1)), l.addColorStop(O, _[A]), (b = O);
        }
    } else {
      l = t.createLinearGradient(f, v / 2, p + f, v / 2);
      for (var L = _.length + 1, N = 1, y = 0; y < _.length; y++) {
        var F = void 0;
        typeof m[y] == "number" ? (F = m[y]) : (F = N / L),
          l.addColorStop(F, _[y]),
          N++;
      }
    }
    return l;
  }
  function dP(r, t, e, i, n, s, o) {
    var l = e.text,
      h = e.fontProperties;
    t.translate(i, n), t.scale(s, s);
    var f = o.strokeThickness / 2,
      p = -(o.strokeThickness / 2);
    if (
      ((t.font = o.toFontString()),
      (t.lineWidth = o.strokeThickness),
      (t.textBaseline = o.textBaseline),
      (t.lineJoin = o.lineJoin),
      (t.miterLimit = o.miterLimit),
      (t.fillStyle = pP(r, t, o, s, [l], e)),
      (t.strokeStyle = o.stroke),
      o.dropShadow)
    ) {
      var v = o.dropShadowColor,
        _ = $i(typeof v == "number" ? v : Ef(v)),
        m = o.dropShadowBlur * s,
        g = o.dropShadowDistance * s;
      (t.shadowColor =
        "rgba(" +
        _[0] * 255 +
        "," +
        _[1] * 255 +
        "," +
        _[2] * 255 +
        "," +
        o.dropShadowAlpha +
        ")"),
        (t.shadowBlur = m),
        (t.shadowOffsetX = Math.cos(o.dropShadowAngle) * g),
        (t.shadowOffsetY = Math.sin(o.dropShadowAngle) * g);
    } else (t.shadowColor = "black"), (t.shadowBlur = 0), (t.shadowOffsetX = 0), (t.shadowOffsetY = 0);
    o.stroke &&
      o.strokeThickness &&
      t.strokeText(l, f, p + e.lineHeight - h.descent),
      o.fill && t.fillText(l, f, p + e.lineHeight - h.descent),
      t.setTransform(1, 0, 0, 1, 0, 0),
      (t.fillStyle = "rgba(0, 0, 0, 0)");
  }
  function Zd(r) {
    return Array.from ? Array.from(r) : r.split("");
  }
  function vP(r) {
    typeof r == "string" && (r = [r]);
    for (var t = [], e = 0, i = r.length; e < i; e++) {
      var n = r[e];
      if (Array.isArray(n)) {
        if (n.length !== 2)
          throw new Error(
            "[BitmapFont]: Invalid character range length, expecting 2 got " +
              n.length +
              "."
          );
        var s = n[0].charCodeAt(0),
          o = n[1].charCodeAt(0);
        if (o < s) throw new Error("[BitmapFont]: Invalid character range.");
        for (var l = s, h = o; l <= h; l++) t.push(String.fromCharCode(l));
      } else t.push.apply(t, Zd(n));
    }
    if (t.length === 0)
      throw new Error("[BitmapFont]: Empty set when resolving characters.");
    return t;
  }
  function ko(r) {
    return r.codePointAt ? r.codePointAt(0) : r.charCodeAt(0);
  }
  var rn = (function () {
      function r(t, e, i) {
        var n,
          s,
          o = t.info[0],
          l = t.common[0],
          h = t.page[0],
          f = t.distanceField[0],
          p = so(h.file),
          v = {};
        (this._ownsTextures = i),
          (this.font = o.face),
          (this.size = o.size),
          (this.lineHeight = l.lineHeight / p),
          (this.chars = {}),
          (this.pageTextures = v);
        for (var _ = 0; _ < t.page.length; _++) {
          var m = t.page[_],
            g = m.id,
            y = m.file;
          (v[g] = e instanceof Array ? e[_] : e[y]),
            (f == null ? void 0 : f.fieldType) &&
              f.fieldType !== "none" &&
              (v[g].baseTexture.alphaMode = Ve.NO_PREMULTIPLIED_ALPHA);
        }
        for (var _ = 0; _ < t.char.length; _++) {
          var b = t.char[_],
            g = b.id,
            w = b.page,
            C = t.char[_],
            T = C.x,
            A = C.y,
            I = C.width,
            P = C.height,
            O = C.xoffset,
            L = C.yoffset,
            N = C.xadvance;
          (T /= p), (A /= p), (I /= p), (P /= p), (O /= p), (L /= p), (N /= p);
          var F = new ft(T + v[w].frame.x / p, A + v[w].frame.y / p, I, P);
          this.chars[g] = {
            xOffset: O,
            yOffset: L,
            xAdvance: N,
            kerning: {},
            texture: new ot(v[w].baseTexture, F),
            page: w,
          };
        }
        for (var _ = 0; _ < t.kerning.length; _++) {
          var H = t.kerning[_],
            j = H.first,
            z = H.second,
            J = H.amount;
          (j /= p),
            (z /= p),
            (J /= p),
            this.chars[z] && (this.chars[z].kerning[j] = J);
        }
        (this.distanceFieldRange = f == null ? void 0 : f.distanceRange),
          (this.distanceFieldType =
            (s =
              (n = f == null ? void 0 : f.fieldType) === null || n === void 0
                ? void 0
                : n.toLowerCase()) !== null && s !== void 0
              ? s
              : "none");
      }
      return (
        (r.prototype.destroy = function () {
          for (var t in this.chars)
            this.chars[t].texture.destroy(), (this.chars[t].texture = null);
          for (var t in this.pageTextures)
            this._ownsTextures && this.pageTextures[t].destroy(!0),
              (this.pageTextures[t] = null);
          (this.chars = null), (this.pageTextures = null);
        }),
        (r.install = function (t, e, i) {
          var n;
          if (t instanceof Fo) n = t;
          else {
            var s = Kd(t);
            if (!s) throw new Error("Unrecognized data format for font.");
            n = s.parse(t);
          }
          e instanceof ot && (e = [e]);
          var o = new r(n, e, i);
          return (r.available[o.font] = o), o;
        }),
        (r.uninstall = function (t) {
          var e = r.available[t];
          if (!e) throw new Error("No font found named '" + t + "'");
          e.destroy(), delete r.available[t];
        }),
        (r.from = function (t, e, i) {
          if (!t) throw new Error("[BitmapFont] Property `name` is required.");
          var n = Object.assign({}, r.defaultOptions, i),
            s = n.chars,
            o = n.padding,
            l = n.resolution,
            h = n.textureWidth,
            f = n.textureHeight,
            p = vP(s),
            v = e instanceof tn ? e : new tn(e),
            _ = h,
            m = new Fo();
          (m.info[0] = { face: v.fontFamily, size: v.fontSize }),
            (m.common[0] = { lineHeight: v.fontSize });
          for (
            var g = 0, y = 0, b, w, C, T = 0, A = [], I = 0;
            I < p.length;
            I++
          ) {
            b ||
              ((b = document.createElement("canvas")),
              (b.width = h),
              (b.height = f),
              (w = b.getContext("2d")),
              (C = new gt(b, { resolution: l })),
              A.push(new ot(C)),
              m.page.push({ id: A.length - 1, file: "" }));
            var P = rr.measureText(p[I], v, !1, b),
              O = P.width,
              L = Math.ceil(P.height),
              N = Math.ceil((v.fontStyle === "italic" ? 2 : 1) * O);
            if (y >= f - L * l) {
              if (y === 0)
                throw new Error(
                  "[BitmapFont] textureHeight " +
                    f +
                    "px is " +
                    ("too small for " + v.fontSize + "px fonts")
                );
              --I,
                (b = null),
                (w = null),
                (C = null),
                (y = 0),
                (g = 0),
                (T = 0);
              continue;
            }
            if (
              ((T = Math.max(L + P.fontProperties.descent, T)), N * l + g >= _)
            ) {
              --I, (y += T * l), (y = Math.ceil(y)), (g = 0), (T = 0);
              continue;
            }
            dP(b, w, P, g, y, l, v);
            var F = ko(P.text);
            m.char.push({
              id: F,
              page: A.length - 1,
              x: g / l,
              y: y / l,
              width: N,
              height: L,
              xoffset: 0,
              yoffset: 0,
              xadvance: Math.ceil(
                O -
                  (v.dropShadow ? v.dropShadowDistance : 0) -
                  (v.stroke ? v.strokeThickness : 0)
              ),
            }),
              (g += (N + 2 * o) * l),
              (g = Math.ceil(g));
          }
          for (var I = 0, H = p.length; I < H; I++)
            for (var j = p[I], z = 0; z < H; z++) {
              var J = p[z],
                X = w.measureText(j).width,
                M = w.measureText(J).width,
                D = w.measureText(j + J).width,
                lt = D - (X + M);
              lt && m.kerning.push({ first: ko(j), second: ko(J), amount: lt });
            }
          var at = new r(m, A, !0);
          return (
            r.available[t] !== void 0 && r.uninstall(t),
            (r.available[t] = at),
            at
          );
        }),
        (r.ALPHA = [["a", "z"], ["A", "Z"], " "]),
        (r.NUMERIC = [["0", "9"]]),
        (r.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "]),
        (r.ASCII = [[" ", "~"]]),
        (r.defaultOptions = {
          resolution: 1,
          textureWidth: 512,
          textureHeight: 512,
          padding: 4,
          chars: r.ALPHANUMERIC,
        }),
        (r.available = {}),
        r
      );
    })(),
    _P = `// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,
    mP = `// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,
    gP = [],
    yP = [],
    Jd = [];
  (function (r) {
    hP(t, r);
    function t(e, i) {
      i === void 0 && (i = {});
      var n = r.call(this) || this;
      n._tint = 16777215;
      var s = Object.assign({}, t.styleDefaults, i),
        o = s.align,
        l = s.tint,
        h = s.maxWidth,
        f = s.letterSpacing,
        p = s.fontName,
        v = s.fontSize;
      if (!rn.available[p]) throw new Error('Missing BitmapFont "' + p + '"');
      return (
        (n._activePagesMeshData = []),
        (n._textWidth = 0),
        (n._textHeight = 0),
        (n._align = o),
        (n._tint = l),
        (n._fontName = p),
        (n._fontSize = v || rn.available[p].size),
        (n.text = e),
        (n._maxWidth = h),
        (n._maxLineHeight = 0),
        (n._letterSpacing = f),
        (n._anchor = new zi(
          function () {
            n.dirty = !0;
          },
          n,
          0,
          0
        )),
        (n._roundPixels = Q.ROUND_PIXELS),
        (n.dirty = !0),
        (n._resolution = Q.RESOLUTION),
        (n._autoResolution = !0),
        (n._textureCache = {}),
        n
      );
    }
    return (
      (t.prototype.updateText = function () {
        for (
          var e,
            i = rn.available[this._fontName],
            n = this._fontSize / i.size,
            s = new kt(),
            o = [],
            l = [],
            h = [],
            f =
              this._text.replace(
                /(?:\r\n|\r)/g,
                `
`
              ) || " ",
            p = Zd(f),
            v = (this._maxWidth * i.size) / this._fontSize,
            _ = i.distanceFieldType === "none" ? gP : yP,
            m = null,
            g = 0,
            y = 0,
            b = 0,
            w = -1,
            C = 0,
            T = 0,
            A = 0,
            I = 0,
            P = 0;
          P < p.length;
          P++
        ) {
          var O = p[P],
            L = ko(O);
          if (
            (/(?:\s)/.test(O) && ((w = P), (C = g), I++),
            O === "\r" ||
              O ===
                `
`)
          ) {
            l.push(g),
              h.push(-1),
              (y = Math.max(y, g)),
              ++b,
              ++T,
              (s.x = 0),
              (s.y += i.lineHeight),
              (m = null),
              (I = 0);
            continue;
          }
          var N = i.chars[L];
          if (!!N) {
            m && N.kerning[m] && (s.x += N.kerning[m]);
            var F = Jd.pop() || {
              texture: ot.EMPTY,
              line: 0,
              charCode: 0,
              prevSpaces: 0,
              position: new kt(),
            };
            (F.texture = N.texture),
              (F.line = b),
              (F.charCode = L),
              (F.position.x = s.x + N.xOffset + this._letterSpacing / 2),
              (F.position.y = s.y + N.yOffset),
              (F.prevSpaces = I),
              o.push(F),
              (g = F.position.x + Math.max(N.xAdvance, N.texture.orig.width)),
              (s.x += N.xAdvance + this._letterSpacing),
              (A = Math.max(A, N.yOffset + N.texture.height)),
              (m = L),
              w !== -1 &&
                v > 0 &&
                s.x > v &&
                (++T,
                fr(o, 1 + w - T, 1 + P - w),
                (P = w),
                (w = -1),
                l.push(C),
                h.push(o.length > 0 ? o[o.length - 1].prevSpaces : 0),
                (y = Math.max(y, C)),
                b++,
                (s.x = 0),
                (s.y += i.lineHeight),
                (m = null),
                (I = 0));
          }
        }
        var H = p[p.length - 1];
        H !== "\r" &&
          H !==
            `
` &&
          (/(?:\s)/.test(H) && (g = C),
          l.push(g),
          (y = Math.max(y, g)),
          h.push(-1));
        for (var j = [], P = 0; P <= b; P++) {
          var z = 0;
          this._align === "right"
            ? (z = y - l[P])
            : this._align === "center"
            ? (z = (y - l[P]) / 2)
            : this._align === "justify" &&
              (z = h[P] < 0 ? 0 : (y - l[P]) / h[P]),
            j.push(z);
        }
        for (
          var J = o.length,
            X = {},
            M = [],
            D = this._activePagesMeshData,
            P = 0;
          P < D.length;
          P++
        )
          _.push(D[P]);
        for (var P = 0; P < J; P++) {
          var lt = o[P].texture,
            at = lt.baseTexture.uid;
          if (!X[at]) {
            var B = _.pop();
            if (!B) {
              var Y = new Lo(),
                tt = void 0,
                q = void 0;
              i.distanceFieldType === "none"
                ? ((tt = new cs(ot.EMPTY)), (q = it.NORMAL))
                : ((tt = new cs(ot.EMPTY, {
                    program: ts.from(mP, _P),
                    uniforms: { uFWidth: 0 },
                  })),
                  (q = it.NORMAL_NPM));
              var K = new en(Y, tt);
              (K.blendMode = q),
                (B = {
                  index: 0,
                  indexCount: 0,
                  vertexCount: 0,
                  uvsCount: 0,
                  total: 0,
                  mesh: K,
                  vertices: null,
                  uvs: null,
                  indices: null,
                });
            }
            (B.index = 0),
              (B.indexCount = 0),
              (B.vertexCount = 0),
              (B.uvsCount = 0),
              (B.total = 0);
            var _t = this._textureCache;
            (_t[at] = _t[at] || new ot(lt.baseTexture)),
              (B.mesh.texture = _t[at]),
              (B.mesh.tint = this._tint),
              M.push(B),
              (X[at] = B);
          }
          X[at].total++;
        }
        for (var P = 0; P < D.length; P++)
          M.indexOf(D[P]) === -1 && this.removeChild(D[P].mesh);
        for (var P = 0; P < M.length; P++)
          M[P].mesh.parent !== this && this.addChild(M[P].mesh);
        this._activePagesMeshData = M;
        for (var P in X) {
          var B = X[P],
            Et = B.total;
          if (
            !(
              ((e = B.indices) === null || e === void 0 ? void 0 : e.length) >
              6 * Et
            ) ||
            B.vertices.length < en.BATCHABLE_SIZE * 2
          )
            (B.vertices = new Float32Array(4 * 2 * Et)),
              (B.uvs = new Float32Array(4 * 2 * Et)),
              (B.indices = new Uint16Array(6 * Et));
          else
            for (
              var Ut = B.total, Bt = B.vertices, bt = Ut * 4 * 2;
              bt < Bt.length;
              bt++
            )
              Bt[bt] = 0;
          B.mesh.size = 6 * Et;
        }
        for (var P = 0; P < J; P++) {
          var O = o[P],
            mt =
              O.position.x +
              j[O.line] * (this._align === "justify" ? O.prevSpaces : 1);
          this._roundPixels && (mt = Math.round(mt));
          var pt = mt * n,
            Rt = O.position.y * n,
            lt = O.texture,
            ut = X[lt.baseTexture.uid],
            Zt = lt.frame,
            $t = lt._uvs,
            ct = ut.index++;
          (ut.indices[ct * 6 + 0] = 0 + ct * 4),
            (ut.indices[ct * 6 + 1] = 1 + ct * 4),
            (ut.indices[ct * 6 + 2] = 2 + ct * 4),
            (ut.indices[ct * 6 + 3] = 0 + ct * 4),
            (ut.indices[ct * 6 + 4] = 2 + ct * 4),
            (ut.indices[ct * 6 + 5] = 3 + ct * 4),
            (ut.vertices[ct * 8 + 0] = pt),
            (ut.vertices[ct * 8 + 1] = Rt),
            (ut.vertices[ct * 8 + 2] = pt + Zt.width * n),
            (ut.vertices[ct * 8 + 3] = Rt),
            (ut.vertices[ct * 8 + 4] = pt + Zt.width * n),
            (ut.vertices[ct * 8 + 5] = Rt + Zt.height * n),
            (ut.vertices[ct * 8 + 6] = pt),
            (ut.vertices[ct * 8 + 7] = Rt + Zt.height * n),
            (ut.uvs[ct * 8 + 0] = $t.x0),
            (ut.uvs[ct * 8 + 1] = $t.y0),
            (ut.uvs[ct * 8 + 2] = $t.x1),
            (ut.uvs[ct * 8 + 3] = $t.y1),
            (ut.uvs[ct * 8 + 4] = $t.x2),
            (ut.uvs[ct * 8 + 5] = $t.y2),
            (ut.uvs[ct * 8 + 6] = $t.x3),
            (ut.uvs[ct * 8 + 7] = $t.y3);
        }
        (this._textWidth = y * n),
          (this._textHeight = (s.y + i.lineHeight) * n);
        for (var P in X) {
          var B = X[P];
          if (this.anchor.x !== 0 || this.anchor.y !== 0)
            for (
              var ye = 0,
                Ne = this._textWidth * this.anchor.x,
                Tr = this._textHeight * this.anchor.y,
                Ni = 0;
              Ni < B.total;
              Ni++
            )
              (B.vertices[ye++] -= Ne),
                (B.vertices[ye++] -= Tr),
                (B.vertices[ye++] -= Ne),
                (B.vertices[ye++] -= Tr),
                (B.vertices[ye++] -= Ne),
                (B.vertices[ye++] -= Tr),
                (B.vertices[ye++] -= Ne),
                (B.vertices[ye++] -= Tr);
          this._maxLineHeight = A * n;
          var Zr = B.mesh.geometry.getBuffer("aVertexPosition"),
            In = B.mesh.geometry.getBuffer("aTextureCoord"),
            Si = B.mesh.geometry.getIndex();
          (Zr.data = B.vertices),
            (In.data = B.uvs),
            (Si.data = B.indices),
            Zr.update(),
            In.update(),
            Si.update();
        }
        for (var P = 0; P < o.length; P++) Jd.push(o[P]);
      }),
      (t.prototype.updateTransform = function () {
        this.validate(), this.containerUpdateTransform();
      }),
      (t.prototype._render = function (e) {
        this._autoResolution &&
          this._resolution !== e.resolution &&
          ((this._resolution = e.resolution), (this.dirty = !0));
        var i = rn.available[this._fontName],
          n = i.distanceFieldRange,
          s = i.distanceFieldType,
          o = i.size;
        if (s !== "none")
          for (
            var l = this.worldTransform,
              h = l.a,
              f = l.b,
              p = l.c,
              v = l.d,
              _ = Math.sqrt(h * h + f * f),
              m = Math.sqrt(p * p + v * v),
              g = (Math.abs(_) + Math.abs(m)) / 2,
              y = this._fontSize / o,
              b = 0,
              w = this._activePagesMeshData;
            b < w.length;
            b++
          ) {
            var C = w[b];
            C.mesh.shader.uniforms.uFWidth = g * n * y * this._resolution;
          }
        r.prototype._render.call(this, e);
      }),
      (t.prototype.getLocalBounds = function () {
        return this.validate(), r.prototype.getLocalBounds.call(this);
      }),
      (t.prototype.validate = function () {
        this.dirty && (this.updateText(), (this.dirty = !1));
      }),
      Object.defineProperty(t.prototype, "tint", {
        get: function () {
          return this._tint;
        },
        set: function (e) {
          if (this._tint !== e) {
            this._tint = e;
            for (var i = 0; i < this._activePagesMeshData.length; i++)
              this._activePagesMeshData[i].mesh.tint = e;
          }
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "align", {
        get: function () {
          return this._align;
        },
        set: function (e) {
          this._align !== e && ((this._align = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "fontName", {
        get: function () {
          return this._fontName;
        },
        set: function (e) {
          if (!rn.available[e])
            throw new Error('Missing BitmapFont "' + e + '"');
          this._fontName !== e && ((this._fontName = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "fontSize", {
        get: function () {
          return this._fontSize;
        },
        set: function (e) {
          this._fontSize !== e && ((this._fontSize = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "anchor", {
        get: function () {
          return this._anchor;
        },
        set: function (e) {
          typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "text", {
        get: function () {
          return this._text;
        },
        set: function (e) {
          (e = String(e == null ? "" : e)),
            this._text !== e && ((this._text = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "maxWidth", {
        get: function () {
          return this._maxWidth;
        },
        set: function (e) {
          this._maxWidth !== e && ((this._maxWidth = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "maxLineHeight", {
        get: function () {
          return this.validate(), this._maxLineHeight;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "textWidth", {
        get: function () {
          return this.validate(), this._textWidth;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "letterSpacing", {
        get: function () {
          return this._letterSpacing;
        },
        set: function (e) {
          this._letterSpacing !== e &&
            ((this._letterSpacing = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "roundPixels", {
        get: function () {
          return this._roundPixels;
        },
        set: function (e) {
          e !== this._roundPixels &&
            ((this._roundPixels = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "textHeight", {
        get: function () {
          return this.validate(), this._textHeight;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "resolution", {
        get: function () {
          return this._resolution;
        },
        set: function (e) {
          (this._autoResolution = !1),
            this._resolution !== e &&
              ((this._resolution = e), (this.dirty = !0));
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype.destroy = function (e) {
        var i = this._textureCache;
        for (var n in i) {
          var s = i[n];
          s.destroy(), delete i[n];
        }
        (this._textureCache = null), r.prototype.destroy.call(this, e);
      }),
      (t.styleDefaults = {
        align: "left",
        tint: 16777215,
        maxWidth: 0,
        letterSpacing: 0,
      }),
      t
    );
  })(Te);
  var bP = (function () {
    function r() {}
    return (
      (r.add = function () {
        zt.setExtensionXhrType("fnt", zt.XHR_RESPONSE_TYPE.TEXT);
      }),
      (r.use = function (t, e) {
        var i = Kd(t.data);
        if (!i) {
          e();
          return;
        }
        for (
          var n = r.getBaseUrl(this, t),
            s = i.parse(t.data),
            o = {},
            l = function (y) {
              (o[y.metadata.pageFile] = y.texture),
                Object.keys(o).length === s.page.length &&
                  ((t.bitmapFont = rn.install(s, o, !0)), e());
            },
            h = 0;
          h < s.page.length;
          ++h
        ) {
          var f = s.page[h].file,
            p = n + f,
            v = !1;
          for (var _ in this.resources) {
            var m = this.resources[_];
            if (m.url === p) {
              (m.metadata.pageFile = f),
                m.texture ? l(m) : m.onAfterMiddleware.add(l),
                (v = !0);
              break;
            }
          }
          if (!v) {
            var g = {
              crossOrigin: t.crossOrigin,
              loadType: zt.LOAD_TYPE.IMAGE,
              metadata: Object.assign(
                { pageFile: f },
                t.metadata.imageMetadata
              ),
              parentResource: t,
            };
            this.add(p, g, l);
          }
        }
      }),
      (r.getBaseUrl = function (t, e) {
        var i = e.isDataUrl ? "" : r.dirname(e.url);
        return (
          e.isDataUrl &&
            (i === "." && (i = ""),
            t.baseUrl &&
              i &&
              t.baseUrl.charAt(t.baseUrl.length - 1) === "/" &&
              (i += "/")),
          (i = i.replace(t.baseUrl, "")),
          i && i.charAt(i.length - 1) !== "/" && (i += "/"),
          i
        );
      }),
      (r.dirname = function (t) {
        var e = t
          .replace(/\\/g, "/")
          .replace(/\/$/, "")
          .replace(/\/[^\/]*$/, "");
        return e === t ? "." : e === "" ? "/" : e;
      }),
      r
    );
  })();
  /*!
   * @pixi/filter-alpha - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/filter-alpha is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var gu =
    function (r, t) {
      return (
        (gu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        gu(r, t)
      );
    };
  function xP(r, t) {
    gu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var wP = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;
  (function (r) {
    xP(t, r);
    function t(e) {
      e === void 0 && (e = 1);
      var i = r.call(this, PE, wP, { uAlpha: 1 }) || this;
      return (i.alpha = e), i;
    }
    return (
      Object.defineProperty(t.prototype, "alpha", {
        get: function () {
          return this.uniforms.uAlpha;
        },
        set: function (e) {
          this.uniforms.uAlpha = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(Ur);
  /*!
   * @pixi/filter-blur - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/filter-blur is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var yu =
    function (r, t) {
      return (
        (yu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        yu(r, t)
      );
    };
  function Qd(r, t) {
    yu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var TP = `
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
  function EP(r, t) {
    var e = Math.ceil(r / 2),
      i = TP,
      n = "",
      s;
    t
      ? (s =
          "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);")
      : (s =
          "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);");
    for (var o = 0; o < r; o++) {
      var l = s.replace("%index%", o.toString());
      (l = l.replace("%sampleIndex%", o - (e - 1) + ".0")),
        (n += l),
        (n += `
`);
    }
    return (
      (i = i.replace("%blur%", n)), (i = i.replace("%size%", r.toString())), i
    );
  }
  var CP = {
      5: [0.153388, 0.221461, 0.250301],
      7: [0.071303, 0.131514, 0.189879, 0.214607],
      9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
      11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
      13: [
        0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641,
      ],
      15: [
        489e-6, 0.002403, 0.009246, 0.02784, 0.065602, 0.120999, 0.174697,
        0.197448,
      ],
    },
    PP = [
      "varying vec2 vBlurTexCoords[%size%];",
      "uniform sampler2D uSampler;",
      "void main(void)",
      "{",
      "    gl_FragColor = vec4(0.0);",
      "    %blur%",
      "}",
    ].join(`
`);
  function IP(r) {
    for (
      var t = CP[r],
        e = t.length,
        i = PP,
        n = "",
        s =
          "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",
        o,
        l = 0;
      l < r;
      l++
    ) {
      var h = s.replace("%index%", l.toString());
      (o = l),
        l >= e && (o = r - l - 1),
        (h = h.replace("%value%", t[o].toString())),
        (n += h),
        (n += `
`);
    }
    return (
      (i = i.replace("%blur%", n)), (i = i.replace("%size%", r.toString())), i
    );
  }
  /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var tv;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(tv || (tv = {}));
  var ev;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })(ev || (ev = {}));
  var rv;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(rv || (rv = {}));
  var iv;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(iv || (iv = {}));
  var nv;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(nv || (nv = {}));
  var sv;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })(sv || (sv = {}));
  var ov;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })(ov || (ov = {}));
  var av;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(av || (av = {}));
  var lv;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(lv || (lv = {}));
  var uv;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(uv || (uv = {}));
  var hv;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(hv || (hv = {}));
  var cv;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(cv || (cv = {}));
  var fv;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(fv || (fv = {}));
  var fs;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(fs || (fs = {}));
  var pv;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(pv || (pv = {}));
  var dv;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(dv || (dv = {}));
  var vv;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(vv || (vv = {}));
  var _v;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(_v || (_v = {}));
  var mv;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(mv || (mv = {}));
  var gv = (function (r) {
    Qd(t, r);
    function t(e, i, n, s, o) {
      i === void 0 && (i = 8),
        n === void 0 && (n = 4),
        s === void 0 && (s = Q.FILTER_RESOLUTION),
        o === void 0 && (o = 5);
      var l = this,
        h = EP(o, e),
        f = IP(o);
      return (
        (l = r.call(this, h, f) || this),
        (l.horizontal = e),
        (l.resolution = s),
        (l._quality = 0),
        (l.quality = n),
        (l.blur = i),
        l
      );
    }
    return (
      (t.prototype.apply = function (e, i, n, s) {
        if (
          (n
            ? this.horizontal
              ? (this.uniforms.strength = (1 / n.width) * (n.width / i.width))
              : (this.uniforms.strength =
                  (1 / n.height) * (n.height / i.height))
            : this.horizontal
            ? (this.uniforms.strength =
                (1 / e.renderer.width) * (e.renderer.width / i.width))
            : (this.uniforms.strength =
                (1 / e.renderer.height) * (e.renderer.height / i.height)),
          (this.uniforms.strength *= this.strength),
          (this.uniforms.strength /= this.passes),
          this.passes === 1)
        )
          e.applyFilter(this, i, n, s);
        else {
          var o = e.getFilterTexture(),
            l = e.renderer,
            h = i,
            f = o;
          (this.state.blend = !1), e.applyFilter(this, h, f, fs.CLEAR);
          for (var p = 1; p < this.passes - 1; p++) {
            e.bindAndClear(h, fs.BLIT), (this.uniforms.uSampler = f);
            var v = f;
            (f = h), (h = v), l.shader.bind(this), l.geometry.draw(5);
          }
          (this.state.blend = !0),
            e.applyFilter(this, f, n, s),
            e.returnFilterTexture(o);
        }
      }),
      Object.defineProperty(t.prototype, "blur", {
        get: function () {
          return this.strength;
        },
        set: function (e) {
          (this.padding = 1 + Math.abs(e) * 2), (this.strength = e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "quality", {
        get: function () {
          return this._quality;
        },
        set: function (e) {
          (this._quality = e), (this.passes = e);
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(Ur);
  (function (r) {
    Qd(t, r);
    function t(e, i, n, s) {
      e === void 0 && (e = 8),
        i === void 0 && (i = 4),
        n === void 0 && (n = Q.FILTER_RESOLUTION),
        s === void 0 && (s = 5);
      var o = r.call(this) || this;
      return (
        (o.blurXFilter = new gv(!0, e, i, n, s)),
        (o.blurYFilter = new gv(!1, e, i, n, s)),
        (o.resolution = n),
        (o.quality = i),
        (o.blur = e),
        (o.repeatEdgePixels = !1),
        o
      );
    }
    return (
      (t.prototype.apply = function (e, i, n, s) {
        var o = Math.abs(this.blurXFilter.strength),
          l = Math.abs(this.blurYFilter.strength);
        if (o && l) {
          var h = e.getFilterTexture();
          this.blurXFilter.apply(e, i, h, fs.CLEAR),
            this.blurYFilter.apply(e, h, n, s),
            e.returnFilterTexture(h);
        } else
          l
            ? this.blurYFilter.apply(e, i, n, s)
            : this.blurXFilter.apply(e, i, n, s);
      }),
      (t.prototype.updatePadding = function () {
        this._repeatEdgePixels
          ? (this.padding = 0)
          : (this.padding =
              Math.max(
                Math.abs(this.blurXFilter.strength),
                Math.abs(this.blurYFilter.strength)
              ) * 2);
      }),
      Object.defineProperty(t.prototype, "blur", {
        get: function () {
          return this.blurXFilter.blur;
        },
        set: function (e) {
          (this.blurXFilter.blur = this.blurYFilter.blur = e),
            this.updatePadding();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "quality", {
        get: function () {
          return this.blurXFilter.quality;
        },
        set: function (e) {
          this.blurXFilter.quality = this.blurYFilter.quality = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "blurX", {
        get: function () {
          return this.blurXFilter.blur;
        },
        set: function (e) {
          (this.blurXFilter.blur = e), this.updatePadding();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "blurY", {
        get: function () {
          return this.blurYFilter.blur;
        },
        set: function (e) {
          (this.blurYFilter.blur = e), this.updatePadding();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "blendMode", {
        get: function () {
          return this.blurYFilter.blendMode;
        },
        set: function (e) {
          this.blurYFilter.blendMode = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "repeatEdgePixels", {
        get: function () {
          return this._repeatEdgePixels;
        },
        set: function (e) {
          (this._repeatEdgePixels = e), this.updatePadding();
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(Ur);
  /*!
   * @pixi/filter-color-matrix - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/filter-color-matrix is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var bu =
    function (r, t) {
      return (
        (bu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        bu(r, t)
      );
    };
  function RP(r, t) {
    bu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var AP = `varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,
    yv = (function (r) {
      RP(t, r);
      function t() {
        var e = this,
          i = {
            m: new Float32Array([
              1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0,
            ]),
            uAlpha: 1,
          };
        return (e = r.call(this, Rp, AP, i) || this), (e.alpha = 1), e;
      }
      return (
        (t.prototype._loadMatrix = function (e, i) {
          i === void 0 && (i = !1);
          var n = e;
          i &&
            (this._multiply(n, this.uniforms.m, e), (n = this._colorMatrix(n))),
            (this.uniforms.m = n);
        }),
        (t.prototype._multiply = function (e, i, n) {
          return (
            (e[0] = i[0] * n[0] + i[1] * n[5] + i[2] * n[10] + i[3] * n[15]),
            (e[1] = i[0] * n[1] + i[1] * n[6] + i[2] * n[11] + i[3] * n[16]),
            (e[2] = i[0] * n[2] + i[1] * n[7] + i[2] * n[12] + i[3] * n[17]),
            (e[3] = i[0] * n[3] + i[1] * n[8] + i[2] * n[13] + i[3] * n[18]),
            (e[4] =
              i[0] * n[4] + i[1] * n[9] + i[2] * n[14] + i[3] * n[19] + i[4]),
            (e[5] = i[5] * n[0] + i[6] * n[5] + i[7] * n[10] + i[8] * n[15]),
            (e[6] = i[5] * n[1] + i[6] * n[6] + i[7] * n[11] + i[8] * n[16]),
            (e[7] = i[5] * n[2] + i[6] * n[7] + i[7] * n[12] + i[8] * n[17]),
            (e[8] = i[5] * n[3] + i[6] * n[8] + i[7] * n[13] + i[8] * n[18]),
            (e[9] =
              i[5] * n[4] + i[6] * n[9] + i[7] * n[14] + i[8] * n[19] + i[9]),
            (e[10] =
              i[10] * n[0] + i[11] * n[5] + i[12] * n[10] + i[13] * n[15]),
            (e[11] =
              i[10] * n[1] + i[11] * n[6] + i[12] * n[11] + i[13] * n[16]),
            (e[12] =
              i[10] * n[2] + i[11] * n[7] + i[12] * n[12] + i[13] * n[17]),
            (e[13] =
              i[10] * n[3] + i[11] * n[8] + i[12] * n[13] + i[13] * n[18]),
            (e[14] =
              i[10] * n[4] +
              i[11] * n[9] +
              i[12] * n[14] +
              i[13] * n[19] +
              i[14]),
            (e[15] =
              i[15] * n[0] + i[16] * n[5] + i[17] * n[10] + i[18] * n[15]),
            (e[16] =
              i[15] * n[1] + i[16] * n[6] + i[17] * n[11] + i[18] * n[16]),
            (e[17] =
              i[15] * n[2] + i[16] * n[7] + i[17] * n[12] + i[18] * n[17]),
            (e[18] =
              i[15] * n[3] + i[16] * n[8] + i[17] * n[13] + i[18] * n[18]),
            (e[19] =
              i[15] * n[4] +
              i[16] * n[9] +
              i[17] * n[14] +
              i[18] * n[19] +
              i[19]),
            e
          );
        }),
        (t.prototype._colorMatrix = function (e) {
          var i = new Float32Array(e);
          return (
            (i[4] /= 255), (i[9] /= 255), (i[14] /= 255), (i[19] /= 255), i
          );
        }),
        (t.prototype.brightness = function (e, i) {
          var n = [e, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(n, i);
        }),
        (t.prototype.tint = function (e, i) {
          var n = (e >> 16) & 255,
            s = (e >> 8) & 255,
            o = e & 255,
            l = [
              n / 255,
              0,
              0,
              0,
              0,
              0,
              s / 255,
              0,
              0,
              0,
              0,
              0,
              o / 255,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
            ];
          this._loadMatrix(l, i);
        }),
        (t.prototype.greyscale = function (e, i) {
          var n = [e, e, e, 0, 0, e, e, e, 0, 0, e, e, e, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(n, i);
        }),
        (t.prototype.blackAndWhite = function (e) {
          var i = [
            0.3, 0.6, 0.1, 0, 0, 0.3, 0.6, 0.1, 0, 0, 0.3, 0.6, 0.1, 0, 0, 0, 0,
            0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.hue = function (e, i) {
          e = ((e || 0) / 180) * Math.PI;
          var n = Math.cos(e),
            s = Math.sin(e),
            o = Math.sqrt,
            l = 1 / 3,
            h = o(l),
            f = n + (1 - n) * l,
            p = l * (1 - n) - h * s,
            v = l * (1 - n) + h * s,
            _ = l * (1 - n) + h * s,
            m = n + l * (1 - n),
            g = l * (1 - n) - h * s,
            y = l * (1 - n) - h * s,
            b = l * (1 - n) + h * s,
            w = n + l * (1 - n),
            C = [f, p, v, 0, 0, _, m, g, 0, 0, y, b, w, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(C, i);
        }),
        (t.prototype.contrast = function (e, i) {
          var n = (e || 0) + 1,
            s = -0.5 * (n - 1),
            o = [n, 0, 0, 0, s, 0, n, 0, 0, s, 0, 0, n, 0, s, 0, 0, 0, 1, 0];
          this._loadMatrix(o, i);
        }),
        (t.prototype.saturate = function (e, i) {
          e === void 0 && (e = 0);
          var n = (e * 2) / 3 + 1,
            s = (n - 1) * -0.5,
            o = [n, s, s, 0, 0, s, n, s, 0, 0, s, s, n, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(o, i);
        }),
        (t.prototype.desaturate = function () {
          this.saturate(-1);
        }),
        (t.prototype.negative = function (e) {
          var i = [
            -1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.sepia = function (e) {
          var i = [
            0.393, 0.7689999, 0.18899999, 0, 0, 0.349, 0.6859999, 0.16799999, 0,
            0, 0.272, 0.5339999, 0.13099999, 0, 0, 0, 0, 0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.technicolor = function (e) {
          var i = [
            1.9125277891456083, -0.8545344976951645, -0.09155508482755585, 0,
            11.793603434377337, -0.3087833385928097, 1.7658908555458428,
            -0.10601743074722245, 0, -70.35205161461398, -0.231103377548616,
            -0.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0,
            0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.polaroid = function (e) {
          var i = [
            1.438, -0.062, -0.062, 0, 0, -0.122, 1.378, -0.122, 0, 0, -0.016,
            -0.016, 1.483, 0, 0, 0, 0, 0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.toBGR = function (e) {
          var i = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(i, e);
        }),
        (t.prototype.kodachrome = function (e) {
          var i = [
            1.1285582396593525, -0.3967382283601348, -0.03992559172921793, 0,
            63.72958762196502, -0.16404339962244616, 1.0835251566291304,
            -0.05498805115633132, 0, 24.732407896706203, -0.16786010706155763,
            -0.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0,
            0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.browni = function (e) {
          var i = [
            0.5997023498159715, 0.34553243048391263, -0.2708298674538042, 0,
            47.43192855600873, -0.037703249837783157, 0.8609577587992641,
            0.15059552388459913, 0, -36.96841498319127, 0.24113635128153335,
            -0.07441037908422492, 0.44972182064877153, 0, -7.562075277591283, 0,
            0, 0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.vintage = function (e) {
          var i = [
            0.6279345635605994, 0.3202183420819367, -0.03965408211312453, 0,
            9.651285835294123, 0.02578397704808868, 0.6441188644374771,
            0.03259127616149294, 0, 7.462829176470591, 0.0466055556782719,
            -0.0851232987247891, 0.5241648018700465, 0, 5.159190588235296, 0, 0,
            0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.colorTone = function (e, i, n, s, o) {
          (e = e || 0.2),
            (i = i || 0.15),
            (n = n || 16770432),
            (s = s || 3375104);
          var l = ((n >> 16) & 255) / 255,
            h = ((n >> 8) & 255) / 255,
            f = (n & 255) / 255,
            p = ((s >> 16) & 255) / 255,
            v = ((s >> 8) & 255) / 255,
            _ = (s & 255) / 255,
            m = [
              0.3,
              0.59,
              0.11,
              0,
              0,
              l,
              h,
              f,
              e,
              0,
              p,
              v,
              _,
              i,
              0,
              l - p,
              h - v,
              f - _,
              0,
              0,
            ];
          this._loadMatrix(m, o);
        }),
        (t.prototype.night = function (e, i) {
          e = e || 0.1;
          var n = [
            e * -2,
            -e,
            0,
            0,
            0,
            -e,
            0,
            e,
            0,
            0,
            0,
            e,
            e * 2,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
          ];
          this._loadMatrix(n, i);
        }),
        (t.prototype.predator = function (e, i) {
          var n = [
            11.224130630493164 * e,
            -4.794486999511719 * e,
            -2.8746118545532227 * e,
            0 * e,
            0.40342438220977783 * e,
            -3.6330697536468506 * e,
            9.193157196044922 * e,
            -2.951810836791992 * e,
            0 * e,
            -1.316135048866272 * e,
            -3.2184197902679443 * e,
            -4.2375030517578125 * e,
            7.476448059082031 * e,
            0 * e,
            0.8044459223747253 * e,
            0,
            0,
            0,
            1,
            0,
          ];
          this._loadMatrix(n, i);
        }),
        (t.prototype.lsd = function (e) {
          var i = [
            2, -0.4, 0.5, 0, 0, -0.5, 2, -0.4, 0, 0, -0.4, -0.5, 3, 0, 0, 0, 0,
            0, 1, 0,
          ];
          this._loadMatrix(i, e);
        }),
        (t.prototype.reset = function () {
          var e = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
          this._loadMatrix(e, !1);
        }),
        Object.defineProperty(t.prototype, "matrix", {
          get: function () {
            return this.uniforms.m;
          },
          set: function (e) {
            this.uniforms.m = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "alpha", {
          get: function () {
            return this.uniforms.uAlpha;
          },
          set: function (e) {
            this.uniforms.uAlpha = e;
          },
          enumerable: !1,
          configurable: !0,
        }),
        t
      );
    })(Ur);
  yv.prototype.grayscale = yv.prototype.greyscale;
  /*!
   * @pixi/filter-displacement - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/filter-displacement is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var xu =
    function (r, t) {
      return (
        (xu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        xu(r, t)
      );
    };
  function NP(r, t) {
    xu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var SP = `varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,
    OP = `attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;
  (function (r) {
    NP(t, r);
    function t(e, i) {
      var n = this,
        s = new Yt();
      return (
        (e.renderable = !1),
        (n =
          r.call(this, OP, SP, {
            mapSampler: e._texture,
            filterMatrix: s,
            scale: { x: 1, y: 1 },
            rotation: new Float32Array([1, 0, 0, 1]),
          }) || this),
        (n.maskSprite = e),
        (n.maskMatrix = s),
        i == null && (i = 20),
        (n.scale = new kt(i, i)),
        n
      );
    }
    return (
      (t.prototype.apply = function (e, i, n, s) {
        (this.uniforms.filterMatrix = e.calculateSpriteMatrix(
          this.maskMatrix,
          this.maskSprite
        )),
          (this.uniforms.scale.x = this.scale.x),
          (this.uniforms.scale.y = this.scale.y);
        var o = this.maskSprite.worldTransform,
          l = Math.sqrt(o.a * o.a + o.b * o.b),
          h = Math.sqrt(o.c * o.c + o.d * o.d);
        l !== 0 &&
          h !== 0 &&
          ((this.uniforms.rotation[0] = o.a / l),
          (this.uniforms.rotation[1] = o.b / l),
          (this.uniforms.rotation[2] = o.c / h),
          (this.uniforms.rotation[3] = o.d / h)),
          e.applyFilter(this, i, n, s);
      }),
      Object.defineProperty(t.prototype, "map", {
        get: function () {
          return this.uniforms.mapSampler;
        },
        set: function (e) {
          this.uniforms.mapSampler = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(Ur);
  /*!
   * @pixi/filter-fxaa - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/filter-fxaa is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var wu =
    function (r, t) {
      return (
        (wu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        wu(r, t)
      );
    };
  function UP(r, t) {
    wu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var LP = `
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,
    FP = `varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;
  (function (r) {
    UP(t, r);
    function t() {
      return r.call(this, LP, FP) || this;
    }
    return t;
  })(Ur);
  /*!
   * @pixi/filter-noise - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/filter-noise is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var Tu =
    function (r, t) {
      return (
        (Tu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        Tu(r, t)
      );
    };
  function kP(r, t) {
    Tu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var BP = `precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;
  (function (r) {
    kP(t, r);
    function t(e, i) {
      e === void 0 && (e = 0.5), i === void 0 && (i = Math.random());
      var n = r.call(this, Rp, BP, { uNoise: 0, uSeed: 0 }) || this;
      return (n.noise = e), (n.seed = i), n;
    }
    return (
      Object.defineProperty(t.prototype, "noise", {
        get: function () {
          return this.uniforms.uNoise;
        },
        set: function (e) {
          this.uniforms.uNoise = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "seed", {
        get: function () {
          return this.uniforms.uSeed;
        },
        set: function (e) {
          this.uniforms.uSeed = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(Ur);
  /*!
   * @pixi/mixin-cache-as-bitmap - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*!
   * @pixi/constants - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ var bv;
  (function (r) {
    (r[(r.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.WEBGL2 = 2)] = "WEBGL2");
  })(bv || (bv = {}));
  var xv;
  (function (r) {
    (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
      (r[(r.WEBGL = 1)] = "WEBGL"),
      (r[(r.CANVAS = 2)] = "CANVAS");
  })(xv || (xv = {}));
  var wv;
  (function (r) {
    (r[(r.COLOR = 16384)] = "COLOR"),
      (r[(r.DEPTH = 256)] = "DEPTH"),
      (r[(r.STENCIL = 1024)] = "STENCIL");
  })(wv || (wv = {}));
  var Tv;
  (function (r) {
    (r[(r.NORMAL = 0)] = "NORMAL"),
      (r[(r.ADD = 1)] = "ADD"),
      (r[(r.MULTIPLY = 2)] = "MULTIPLY"),
      (r[(r.SCREEN = 3)] = "SCREEN"),
      (r[(r.OVERLAY = 4)] = "OVERLAY"),
      (r[(r.DARKEN = 5)] = "DARKEN"),
      (r[(r.LIGHTEN = 6)] = "LIGHTEN"),
      (r[(r.COLOR_DODGE = 7)] = "COLOR_DODGE"),
      (r[(r.COLOR_BURN = 8)] = "COLOR_BURN"),
      (r[(r.HARD_LIGHT = 9)] = "HARD_LIGHT"),
      (r[(r.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
      (r[(r.DIFFERENCE = 11)] = "DIFFERENCE"),
      (r[(r.EXCLUSION = 12)] = "EXCLUSION"),
      (r[(r.HUE = 13)] = "HUE"),
      (r[(r.SATURATION = 14)] = "SATURATION"),
      (r[(r.COLOR = 15)] = "COLOR"),
      (r[(r.LUMINOSITY = 16)] = "LUMINOSITY"),
      (r[(r.NORMAL_NPM = 17)] = "NORMAL_NPM"),
      (r[(r.ADD_NPM = 18)] = "ADD_NPM"),
      (r[(r.SCREEN_NPM = 19)] = "SCREEN_NPM"),
      (r[(r.NONE = 20)] = "NONE"),
      (r[(r.SRC_OVER = 0)] = "SRC_OVER"),
      (r[(r.SRC_IN = 21)] = "SRC_IN"),
      (r[(r.SRC_OUT = 22)] = "SRC_OUT"),
      (r[(r.SRC_ATOP = 23)] = "SRC_ATOP"),
      (r[(r.DST_OVER = 24)] = "DST_OVER"),
      (r[(r.DST_IN = 25)] = "DST_IN"),
      (r[(r.DST_OUT = 26)] = "DST_OUT"),
      (r[(r.DST_ATOP = 27)] = "DST_ATOP"),
      (r[(r.ERASE = 26)] = "ERASE"),
      (r[(r.SUBTRACT = 28)] = "SUBTRACT"),
      (r[(r.XOR = 29)] = "XOR");
  })(Tv || (Tv = {}));
  var Ev;
  (function (r) {
    (r[(r.POINTS = 0)] = "POINTS"),
      (r[(r.LINES = 1)] = "LINES"),
      (r[(r.LINE_LOOP = 2)] = "LINE_LOOP"),
      (r[(r.LINE_STRIP = 3)] = "LINE_STRIP"),
      (r[(r.TRIANGLES = 4)] = "TRIANGLES"),
      (r[(r.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
      (r[(r.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN");
  })(Ev || (Ev = {}));
  var Cv;
  (function (r) {
    (r[(r.RGBA = 6408)] = "RGBA"),
      (r[(r.RGB = 6407)] = "RGB"),
      (r[(r.RG = 33319)] = "RG"),
      (r[(r.RED = 6403)] = "RED"),
      (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
      (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
      (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
      (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
      (r[(r.ALPHA = 6406)] = "ALPHA"),
      (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
      (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
      (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
      (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL");
  })(Cv || (Cv = {}));
  var Pv;
  (function (r) {
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
      (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
      (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
        "TEXTURE_CUBE_MAP_POSITIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_X"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
      (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
        "TEXTURE_CUBE_MAP_POSITIVE_Z"),
      (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
        "TEXTURE_CUBE_MAP_NEGATIVE_Z");
  })(Pv || (Pv = {}));
  var Iv;
  (function (r) {
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
      (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
      (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
      (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
      (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
      (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
      (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
        "UNSIGNED_INT_10F_11F_11F_REV"),
      (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
        "UNSIGNED_INT_2_10_10_10_REV"),
      (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
      (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
      (r[(r.BYTE = 5120)] = "BYTE"),
      (r[(r.SHORT = 5122)] = "SHORT"),
      (r[(r.INT = 5124)] = "INT"),
      (r[(r.FLOAT = 5126)] = "FLOAT"),
      (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
        "FLOAT_32_UNSIGNED_INT_24_8_REV"),
      (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT");
  })(Iv || (Iv = {}));
  var Rv;
  (function (r) {
    (r[(r.FLOAT = 0)] = "FLOAT"),
      (r[(r.INT = 1)] = "INT"),
      (r[(r.UINT = 2)] = "UINT");
  })(Rv || (Rv = {}));
  var Av;
  (function (r) {
    (r[(r.NEAREST = 0)] = "NEAREST"), (r[(r.LINEAR = 1)] = "LINEAR");
  })(Av || (Av = {}));
  var Nv;
  (function (r) {
    (r[(r.CLAMP = 33071)] = "CLAMP"),
      (r[(r.REPEAT = 10497)] = "REPEAT"),
      (r[(r.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT");
  })(Nv || (Nv = {}));
  var Sv;
  (function (r) {
    (r[(r.OFF = 0)] = "OFF"),
      (r[(r.POW2 = 1)] = "POW2"),
      (r[(r.ON = 2)] = "ON"),
      (r[(r.ON_MANUAL = 3)] = "ON_MANUAL");
  })(Sv || (Sv = {}));
  var Ov;
  (function (r) {
    (r[(r.NPM = 0)] = "NPM"),
      (r[(r.UNPACK = 1)] = "UNPACK"),
      (r[(r.PMA = 2)] = "PMA"),
      (r[(r.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
      (r[(r.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
      (r[(r.PREMULTIPLY_ALPHA = 2)] = "PREMULTIPLY_ALPHA"),
      (r[(r.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA");
  })(Ov || (Ov = {}));
  var Uv;
  (function (r) {
    (r[(r.NO = 0)] = "NO"),
      (r[(r.YES = 1)] = "YES"),
      (r[(r.AUTO = 2)] = "AUTO"),
      (r[(r.BLEND = 0)] = "BLEND"),
      (r[(r.CLEAR = 1)] = "CLEAR"),
      (r[(r.BLIT = 2)] = "BLIT");
  })(Uv || (Uv = {}));
  var Lv;
  (function (r) {
    (r[(r.AUTO = 0)] = "AUTO"), (r[(r.MANUAL = 1)] = "MANUAL");
  })(Lv || (Lv = {}));
  var Fv;
  (function (r) {
    (r.LOW = "lowp"), (r.MEDIUM = "mediump"), (r.HIGH = "highp");
  })(Fv || (Fv = {}));
  var kv;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.SCISSOR = 1)] = "SCISSOR"),
      (r[(r.STENCIL = 2)] = "STENCIL"),
      (r[(r.SPRITE = 3)] = "SPRITE");
  })(kv || (kv = {}));
  var Eu;
  (function (r) {
    (r[(r.NONE = 0)] = "NONE"),
      (r[(r.LOW = 2)] = "LOW"),
      (r[(r.MEDIUM = 4)] = "MEDIUM"),
      (r[(r.HIGH = 8)] = "HIGH");
  })(Eu || (Eu = {}));
  var Bv;
  (function (r) {
    (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
      (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
      (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER");
  })(Bv || (Bv = {}));
  var Gv = new Yt();
  (qt.prototype._cacheAsBitmap = !1),
    (qt.prototype._cacheData = null),
    (qt.prototype._cacheAsBitmapResolution = null),
    (qt.prototype._cacheAsBitmapMultisample = Eu.NONE);
  var GP = (function () {
    function r() {
      (this.textureCacheId = null),
        (this.originalRender = null),
        (this.originalRenderCanvas = null),
        (this.originalCalculateBounds = null),
        (this.originalGetLocalBounds = null),
        (this.originalUpdateTransform = null),
        (this.originalDestroy = null),
        (this.originalMask = null),
        (this.originalFilterArea = null),
        (this.originalContainsPoint = null),
        (this.sprite = null);
    }
    return r;
  })();
  Object.defineProperties(qt.prototype, {
    cacheAsBitmapResolution: {
      get: function () {
        return this._cacheAsBitmapResolution;
      },
      set: function (r) {
        r !== this._cacheAsBitmapResolution &&
          ((this._cacheAsBitmapResolution = r),
          this.cacheAsBitmap &&
            ((this.cacheAsBitmap = !1), (this.cacheAsBitmap = !0)));
      },
    },
    cacheAsBitmapMultisample: {
      get: function () {
        return this._cacheAsBitmapMultisample;
      },
      set: function (r) {
        r !== this._cacheAsBitmapMultisample &&
          ((this._cacheAsBitmapMultisample = r),
          this.cacheAsBitmap &&
            ((this.cacheAsBitmap = !1), (this.cacheAsBitmap = !0)));
      },
    },
    cacheAsBitmap: {
      get: function () {
        return this._cacheAsBitmap;
      },
      set: function (r) {
        if (this._cacheAsBitmap !== r) {
          this._cacheAsBitmap = r;
          var t;
          r
            ? (this._cacheData || (this._cacheData = new GP()),
              (t = this._cacheData),
              (t.originalRender = this.render),
              (t.originalRenderCanvas = this.renderCanvas),
              (t.originalUpdateTransform = this.updateTransform),
              (t.originalCalculateBounds = this.calculateBounds),
              (t.originalGetLocalBounds = this.getLocalBounds),
              (t.originalDestroy = this.destroy),
              (t.originalContainsPoint = this.containsPoint),
              (t.originalMask = this._mask),
              (t.originalFilterArea = this.filterArea),
              (this.render = this._renderCached),
              (this.renderCanvas = this._renderCachedCanvas),
              (this.destroy = this._cacheAsBitmapDestroy))
            : ((t = this._cacheData),
              t.sprite && this._destroyCachedDisplayObject(),
              (this.render = t.originalRender),
              (this.renderCanvas = t.originalRenderCanvas),
              (this.calculateBounds = t.originalCalculateBounds),
              (this.getLocalBounds = t.originalGetLocalBounds),
              (this.destroy = t.originalDestroy),
              (this.updateTransform = t.originalUpdateTransform),
              (this.containsPoint = t.originalContainsPoint),
              (this._mask = t.originalMask),
              (this.filterArea = t.originalFilterArea));
        }
      },
    },
  }),
    (qt.prototype._renderCached = function (t) {
      !this.visible ||
        this.worldAlpha <= 0 ||
        !this.renderable ||
        (this._initCachedDisplayObject(t),
        (this._cacheData.sprite.transform._worldID = this.transform._worldID),
        (this._cacheData.sprite.worldAlpha = this.worldAlpha),
        this._cacheData.sprite._render(t));
    }),
    (qt.prototype._initCachedDisplayObject = function (t) {
      var e;
      if (!(this._cacheData && this._cacheData.sprite)) {
        var i = this.alpha;
        (this.alpha = 1), t.batch.flush();
        var n = this.getLocalBounds(null, !0).clone();
        if (this.filters && this.filters.length) {
          var s = this.filters[0].padding;
          n.pad(s);
        }
        n.ceil(Q.RESOLUTION);
        var o = t.renderTexture.current,
          l = t.renderTexture.sourceFrame.clone(),
          h = t.renderTexture.destinationFrame.clone(),
          f = t.projection.transform,
          p = pi.create({
            width: n.width,
            height: n.height,
            resolution: this.cacheAsBitmapResolution || t.resolution,
            multisample:
              (e = this.cacheAsBitmapMultisample) !== null && e !== void 0
                ? e
                : t.multisample,
          }),
          v = "cacheAsBitmap_" + li();
        (this._cacheData.textureCacheId = v),
          gt.addToCache(p.baseTexture, v),
          ot.addToCache(p, v);
        var _ = this.transform.localTransform
          .copyTo(Gv)
          .invert()
          .translate(-n.x, -n.y);
        (this.render = this._cacheData.originalRender),
          t.render(this, {
            renderTexture: p,
            clear: !0,
            transform: _,
            skipUpdateTransform: !1,
          }),
          t.framebuffer.blit(),
          (t.projection.transform = f),
          t.renderTexture.bind(o, l, h),
          (this.render = this._renderCached),
          (this.updateTransform = this.displayObjectUpdateTransform),
          (this.calculateBounds = this._calculateCachedBounds),
          (this.getLocalBounds = this._getCachedLocalBounds),
          (this._mask = null),
          (this.filterArea = null),
          (this.alpha = i);
        var m = new ls(p);
        (m.transform.worldTransform = this.transform.worldTransform),
          (m.anchor.x = -(n.x / n.width)),
          (m.anchor.y = -(n.y / n.height)),
          (m.alpha = i),
          (m._bounds = this._bounds),
          (this._cacheData.sprite = m),
          (this.transform._parentID = -1),
          this.parent
            ? this.updateTransform()
            : (this.enableTempParent(),
              this.updateTransform(),
              this.disableTempParent(null)),
          (this.containsPoint = m.containsPoint.bind(m));
      }
    }),
    (qt.prototype._renderCachedCanvas = function (t) {
      !this.visible ||
        this.worldAlpha <= 0 ||
        !this.renderable ||
        (this._initCachedDisplayObjectCanvas(t),
        (this._cacheData.sprite.worldAlpha = this.worldAlpha),
        this._cacheData.sprite._renderCanvas(t));
    }),
    (qt.prototype._initCachedDisplayObjectCanvas = function (t) {
      if (!(this._cacheData && this._cacheData.sprite)) {
        var e = this.getLocalBounds(null, !0),
          i = this.alpha;
        this.alpha = 1;
        var n = t.context,
          s = t._projTransform;
        e.ceil(Q.RESOLUTION);
        var o = pi.create({ width: e.width, height: e.height }),
          l = "cacheAsBitmap_" + li();
        (this._cacheData.textureCacheId = l),
          gt.addToCache(o.baseTexture, l),
          ot.addToCache(o, l);
        var h = Gv;
        this.transform.localTransform.copyTo(h),
          h.invert(),
          (h.tx -= e.x),
          (h.ty -= e.y),
          (this.renderCanvas = this._cacheData.originalRenderCanvas),
          t.render(this, {
            renderTexture: o,
            clear: !0,
            transform: h,
            skipUpdateTransform: !1,
          }),
          (t.context = n),
          (t._projTransform = s),
          (this.renderCanvas = this._renderCachedCanvas),
          (this.updateTransform = this.displayObjectUpdateTransform),
          (this.calculateBounds = this._calculateCachedBounds),
          (this.getLocalBounds = this._getCachedLocalBounds),
          (this._mask = null),
          (this.filterArea = null),
          (this.alpha = i);
        var f = new ls(o);
        (f.transform.worldTransform = this.transform.worldTransform),
          (f.anchor.x = -(e.x / e.width)),
          (f.anchor.y = -(e.y / e.height)),
          (f.alpha = i),
          (f._bounds = this._bounds),
          (this._cacheData.sprite = f),
          (this.transform._parentID = -1),
          this.parent
            ? this.updateTransform()
            : ((this.parent = t._tempDisplayObjectParent),
              this.updateTransform(),
              (this.parent = null)),
          (this.containsPoint = f.containsPoint.bind(f));
      }
    }),
    (qt.prototype._calculateCachedBounds = function () {
      this._bounds.clear(),
        (this._cacheData.sprite.transform._worldID = this.transform._worldID),
        this._cacheData.sprite._calculateBounds(),
        (this._bounds.updateID = this._boundsID);
    }),
    (qt.prototype._getCachedLocalBounds = function () {
      return this._cacheData.sprite.getLocalBounds(null);
    }),
    (qt.prototype._destroyCachedDisplayObject = function () {
      this._cacheData.sprite._texture.destroy(!0),
        (this._cacheData.sprite = null),
        gt.removeFromCache(this._cacheData.textureCacheId),
        ot.removeFromCache(this._cacheData.textureCacheId),
        (this._cacheData.textureCacheId = null);
    }),
    (qt.prototype._cacheAsBitmapDestroy = function (t) {
      (this.cacheAsBitmap = !1), this.destroy(t);
    });
  /*!
   * @pixi/mixin-get-child-by-name - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/mixin-get-child-by-name is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ (qt.prototype.name = null),
    (Te.prototype.getChildByName = function (t, e) {
      for (var i = 0, n = this.children.length; i < n; i++)
        if (this.children[i].name === t) return this.children[i];
      if (e)
        for (var i = 0, n = this.children.length; i < n; i++) {
          var s = this.children[i];
          if (!!s.getChildByName) {
            var o = this.children[i].getChildByName(t, !0);
            if (o) return o;
          }
        }
      return null;
    });
  /*!
   * @pixi/mixin-get-global-position - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/mixin-get-global-position is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ qt.prototype.getGlobalPosition = function (t, e) {
    return (
      t === void 0 && (t = new kt()),
      e === void 0 && (e = !1),
      this.parent
        ? this.parent.toGlobal(this.position, t, e)
        : ((t.x = this.position.x), (t.y = this.position.y)),
      t
    );
  };
  /*!
   * @pixi/mesh-extras - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/mesh-extras is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var Cu =
    function (r, t) {
      return (
        (Cu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        Cu(r, t)
      );
    };
  function nn(r, t) {
    Cu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  var Mv = (function (r) {
      nn(t, r);
      function t(e, i, n, s) {
        e === void 0 && (e = 100),
          i === void 0 && (i = 100),
          n === void 0 && (n = 10),
          s === void 0 && (s = 10);
        var o = r.call(this) || this;
        return (
          (o.segWidth = n),
          (o.segHeight = s),
          (o.width = e),
          (o.height = i),
          o.build(),
          o
        );
      }
      return (
        (t.prototype.build = function () {
          for (
            var e = this.segWidth * this.segHeight,
              i = [],
              n = [],
              s = [],
              o = this.segWidth - 1,
              l = this.segHeight - 1,
              h = this.width / o,
              f = this.height / l,
              p = 0;
            p < e;
            p++
          ) {
            var v = p % this.segWidth,
              _ = (p / this.segWidth) | 0;
            i.push(v * h, _ * f), n.push(v / o, _ / l);
          }
          for (var m = o * l, p = 0; p < m; p++) {
            var g = p % o,
              y = (p / o) | 0,
              b = y * this.segWidth + g,
              w = y * this.segWidth + g + 1,
              C = (y + 1) * this.segWidth + g,
              T = (y + 1) * this.segWidth + g + 1;
            s.push(b, w, C, w, T, C);
          }
          (this.buffers[0].data = new Float32Array(i)),
            (this.buffers[1].data = new Float32Array(n)),
            (this.indexBuffer.data = new Uint16Array(s)),
            this.buffers[0].update(),
            this.buffers[1].update(),
            this.indexBuffer.update();
        }),
        t
      );
    })(Lo),
    MP = (function (r) {
      nn(t, r);
      function t(e, i, n) {
        e === void 0 && (e = 200), n === void 0 && (n = 0);
        var s =
          r.call(
            this,
            new Float32Array(i.length * 4),
            new Float32Array(i.length * 4),
            new Uint16Array((i.length - 1) * 6)
          ) || this;
        return (
          (s.points = i), (s._width = e), (s.textureScale = n), s.build(), s
        );
      }
      return (
        Object.defineProperty(t.prototype, "width", {
          get: function () {
            return this._width;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (t.prototype.build = function () {
          var e = this.points;
          if (!!e) {
            var i = this.getBuffer("aVertexPosition"),
              n = this.getBuffer("aTextureCoord"),
              s = this.getIndex();
            if (!(e.length < 1)) {
              i.data.length / 4 !== e.length &&
                ((i.data = new Float32Array(e.length * 4)),
                (n.data = new Float32Array(e.length * 4)),
                (s.data = new Uint16Array((e.length - 1) * 6)));
              var o = n.data,
                l = s.data;
              (o[0] = 0), (o[1] = 0), (o[2] = 0), (o[3] = 1);
              for (
                var h = 0,
                  f = e[0],
                  p = this._width * this.textureScale,
                  v = e.length,
                  _ = 0;
                _ < v;
                _++
              ) {
                var m = _ * 4;
                if (this.textureScale > 0) {
                  var g = f.x - e[_].x,
                    y = f.y - e[_].y,
                    b = Math.sqrt(g * g + y * y);
                  (f = e[_]), (h += b / p);
                } else h = _ / (v - 1);
                (o[m] = h), (o[m + 1] = 0), (o[m + 2] = h), (o[m + 3] = 1);
              }
              for (var w = 0, _ = 0; _ < v - 1; _++) {
                var m = _ * 2;
                (l[w++] = m),
                  (l[w++] = m + 1),
                  (l[w++] = m + 2),
                  (l[w++] = m + 2),
                  (l[w++] = m + 1),
                  (l[w++] = m + 3);
              }
              n.update(), s.update(), this.updateVertices();
            }
          }
        }),
        (t.prototype.updateVertices = function () {
          var e = this.points;
          if (!(e.length < 1)) {
            for (
              var i = e[0],
                n,
                s = 0,
                o = 0,
                l = this.buffers[0].data,
                h = e.length,
                f = 0;
              f < h;
              f++
            ) {
              var p = e[f],
                v = f * 4;
              f < e.length - 1 ? (n = e[f + 1]) : (n = p),
                (o = -(n.x - i.x)),
                (s = n.y - i.y);
              var _ = Math.sqrt(s * s + o * o),
                m =
                  this.textureScale > 0
                    ? (this.textureScale * this._width) / 2
                    : this._width / 2;
              (s /= _),
                (o /= _),
                (s *= m),
                (o *= m),
                (l[v] = p.x + s),
                (l[v + 1] = p.y + o),
                (l[v + 2] = p.x - s),
                (l[v + 3] = p.y - o),
                (i = p);
            }
            this.buffers[0].update();
          }
        }),
        (t.prototype.update = function () {
          this.textureScale > 0 ? this.build() : this.updateVertices();
        }),
        t
      );
    })(Lo);
  (function (r) {
    nn(t, r);
    function t(e, i, n) {
      n === void 0 && (n = 0);
      var s = this,
        o = new MP(e.height, i, n),
        l = new cs(e);
      return (
        n > 0 && (e.baseTexture.wrapMode = Qe.REPEAT),
        (s = r.call(this, o, l) || this),
        (s.autoUpdate = !0),
        s
      );
    }
    return (
      (t.prototype._render = function (e) {
        var i = this.geometry;
        (this.autoUpdate || i._width !== this.shader.texture.height) &&
          ((i._width = this.shader.texture.height), i.update()),
          r.prototype._render.call(this, e);
      }),
      t
    );
  })(en);
  var DP = (function (r) {
    nn(t, r);
    function t(e, i, n) {
      var s = this,
        o = new Mv(e.width, e.height, i, n),
        l = new cs(ot.WHITE);
      return (
        (s = r.call(this, o, l) || this),
        (s.texture = e),
        (s.autoResize = !0),
        s
      );
    }
    return (
      (t.prototype.textureUpdated = function () {
        this._textureID = this.shader.texture._updateID;
        var e = this.geometry,
          i = this.shader.texture,
          n = i.width,
          s = i.height;
        this.autoResize &&
          (e.width !== n || e.height !== s) &&
          ((e.width = this.shader.texture.width),
          (e.height = this.shader.texture.height),
          e.build());
      }),
      Object.defineProperty(t.prototype, "texture", {
        get: function () {
          return this.shader.texture;
        },
        set: function (e) {
          this.shader.texture !== e &&
            ((this.shader.texture = e),
            (this._textureID = -1),
            e.baseTexture.valid
              ? this.textureUpdated()
              : e.once("update", this.textureUpdated, this));
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype._render = function (e) {
        this._textureID !== this.shader.texture._updateID &&
          this.textureUpdated(),
          r.prototype._render.call(this, e);
      }),
      (t.prototype.destroy = function (e) {
        this.shader.texture.off("update", this.textureUpdated, this),
          r.prototype.destroy.call(this, e);
      }),
      t
    );
  })(en);
  (function (r) {
    nn(t, r);
    function t(e, i, n, s, o) {
      e === void 0 && (e = ot.EMPTY);
      var l = this,
        h = new Lo(i, n, s);
      h.getBuffer("aVertexPosition").static = !1;
      var f = new cs(e);
      return (l = r.call(this, h, f, null, o) || this), (l.autoUpdate = !0), l;
    }
    return (
      Object.defineProperty(t.prototype, "vertices", {
        get: function () {
          return this.geometry.getBuffer("aVertexPosition").data;
        },
        set: function (e) {
          this.geometry.getBuffer("aVertexPosition").data = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype._render = function (e) {
        this.autoUpdate && this.geometry.getBuffer("aVertexPosition").update(),
          r.prototype._render.call(this, e);
      }),
      t
    );
  })(en);
  var Bo = 10;
  (function (r) {
    nn(t, r);
    function t(e, i, n, s, o) {
      i === void 0 && (i = Bo),
        n === void 0 && (n = Bo),
        s === void 0 && (s = Bo),
        o === void 0 && (o = Bo);
      var l = r.call(this, ot.WHITE, 4, 4) || this;
      return (
        (l._origWidth = e.orig.width),
        (l._origHeight = e.orig.height),
        (l._width = l._origWidth),
        (l._height = l._origHeight),
        (l._leftWidth = i),
        (l._rightWidth = s),
        (l._topHeight = n),
        (l._bottomHeight = o),
        (l.texture = e),
        l
      );
    }
    return (
      (t.prototype.textureUpdated = function () {
        (this._textureID = this.shader.texture._updateID), this._refresh();
      }),
      Object.defineProperty(t.prototype, "vertices", {
        get: function () {
          return this.geometry.getBuffer("aVertexPosition").data;
        },
        set: function (e) {
          this.geometry.getBuffer("aVertexPosition").data = e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype.updateHorizontalVertices = function () {
        var e = this.vertices,
          i = this._getMinScale();
        (e[9] = e[11] = e[13] = e[15] = this._topHeight * i),
          (e[17] =
            e[19] =
            e[21] =
            e[23] =
              this._height - this._bottomHeight * i),
          (e[25] = e[27] = e[29] = e[31] = this._height);
      }),
      (t.prototype.updateVerticalVertices = function () {
        var e = this.vertices,
          i = this._getMinScale();
        (e[2] = e[10] = e[18] = e[26] = this._leftWidth * i),
          (e[4] = e[12] = e[20] = e[28] = this._width - this._rightWidth * i),
          (e[6] = e[14] = e[22] = e[30] = this._width);
      }),
      (t.prototype._getMinScale = function () {
        var e = this._leftWidth + this._rightWidth,
          i = this._width > e ? 1 : this._width / e,
          n = this._topHeight + this._bottomHeight,
          s = this._height > n ? 1 : this._height / n,
          o = Math.min(i, s);
        return o;
      }),
      Object.defineProperty(t.prototype, "width", {
        get: function () {
          return this._width;
        },
        set: function (e) {
          (this._width = e), this._refresh();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "height", {
        get: function () {
          return this._height;
        },
        set: function (e) {
          (this._height = e), this._refresh();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "leftWidth", {
        get: function () {
          return this._leftWidth;
        },
        set: function (e) {
          (this._leftWidth = e), this._refresh();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "rightWidth", {
        get: function () {
          return this._rightWidth;
        },
        set: function (e) {
          (this._rightWidth = e), this._refresh();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "topHeight", {
        get: function () {
          return this._topHeight;
        },
        set: function (e) {
          (this._topHeight = e), this._refresh();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "bottomHeight", {
        get: function () {
          return this._bottomHeight;
        },
        set: function (e) {
          (this._bottomHeight = e), this._refresh();
        },
        enumerable: !1,
        configurable: !0,
      }),
      (t.prototype._refresh = function () {
        var e = this.texture,
          i = this.geometry.buffers[1].data;
        (this._origWidth = e.orig.width), (this._origHeight = e.orig.height);
        var n = 1 / this._origWidth,
          s = 1 / this._origHeight;
        (i[0] = i[8] = i[16] = i[24] = 0),
          (i[1] = i[3] = i[5] = i[7] = 0),
          (i[6] = i[14] = i[22] = i[30] = 1),
          (i[25] = i[27] = i[29] = i[31] = 1),
          (i[2] = i[10] = i[18] = i[26] = n * this._leftWidth),
          (i[4] = i[12] = i[20] = i[28] = 1 - n * this._rightWidth),
          (i[9] = i[11] = i[13] = i[15] = s * this._topHeight),
          (i[17] = i[19] = i[21] = i[23] = 1 - s * this._bottomHeight),
          this.updateHorizontalVertices(),
          this.updateVerticalVertices(),
          this.geometry.buffers[0].update(),
          this.geometry.buffers[1].update();
      }),
      t
    );
  })(DP);
  /*!
   * @pixi/sprite-animated - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * @pixi/sprite-animated is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */ var Pu =
    function (r, t) {
      return (
        (Pu =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, i) {
              e.__proto__ = i;
            }) ||
          function (e, i) {
            for (var n in i) i.hasOwnProperty(n) && (e[n] = i[n]);
          }),
        Pu(r, t)
      );
    };
  function VP(r, t) {
    Pu(r, t);
    function e() {
      this.constructor = r;
    }
    r.prototype =
      t === null ? Object.create(t) : ((e.prototype = t.prototype), new e());
  }
  (function (r) {
    VP(t, r);
    function t(e, i) {
      i === void 0 && (i = !0);
      var n = r.call(this, e[0] instanceof ot ? e[0] : e[0].texture) || this;
      return (
        (n._textures = null),
        (n._durations = null),
        (n._autoUpdate = i),
        (n._isConnectedToTicker = !1),
        (n.animationSpeed = 1),
        (n.loop = !0),
        (n.updateAnchor = !1),
        (n.onComplete = null),
        (n.onFrameChange = null),
        (n.onLoop = null),
        (n._currentTime = 0),
        (n._playing = !1),
        (n._previousFrame = null),
        (n.textures = e),
        n
      );
    }
    return (
      (t.prototype.stop = function () {
        !this._playing ||
          ((this._playing = !1),
          this._autoUpdate &&
            this._isConnectedToTicker &&
            (oe.shared.remove(this.update, this),
            (this._isConnectedToTicker = !1)));
      }),
      (t.prototype.play = function () {
        this._playing ||
          ((this._playing = !0),
          this._autoUpdate &&
            !this._isConnectedToTicker &&
            (oe.shared.add(this.update, this, pr.HIGH),
            (this._isConnectedToTicker = !0)));
      }),
      (t.prototype.gotoAndStop = function (e) {
        this.stop();
        var i = this.currentFrame;
        (this._currentTime = e),
          i !== this.currentFrame && this.updateTexture();
      }),
      (t.prototype.gotoAndPlay = function (e) {
        var i = this.currentFrame;
        (this._currentTime = e),
          i !== this.currentFrame && this.updateTexture(),
          this.play();
      }),
      (t.prototype.update = function (e) {
        if (!!this._playing) {
          var i = this.animationSpeed * e,
            n = this.currentFrame;
          if (this._durations !== null) {
            var s =
              (this._currentTime % 1) * this._durations[this.currentFrame];
            for (s += (i / 60) * 1e3; s < 0; )
              this._currentTime--, (s += this._durations[this.currentFrame]);
            var o = Math.sign(this.animationSpeed * e);
            for (
              this._currentTime = Math.floor(this._currentTime);
              s >= this._durations[this.currentFrame];

            )
              (s -= this._durations[this.currentFrame] * o),
                (this._currentTime += o);
            this._currentTime += s / this._durations[this.currentFrame];
          } else this._currentTime += i;
          this._currentTime < 0 && !this.loop
            ? (this.gotoAndStop(0), this.onComplete && this.onComplete())
            : this._currentTime >= this._textures.length && !this.loop
            ? (this.gotoAndStop(this._textures.length - 1),
              this.onComplete && this.onComplete())
            : n !== this.currentFrame &&
              (this.loop &&
                this.onLoop &&
                (this.animationSpeed > 0 && this.currentFrame < n
                  ? this.onLoop()
                  : this.animationSpeed < 0 &&
                    this.currentFrame > n &&
                    this.onLoop()),
              this.updateTexture());
        }
      }),
      (t.prototype.updateTexture = function () {
        var e = this.currentFrame;
        this._previousFrame !== e &&
          ((this._previousFrame = e),
          (this._texture = this._textures[e]),
          (this._textureID = -1),
          (this._textureTrimmedID = -1),
          (this._cachedTint = 16777215),
          (this.uvs = this._texture._uvs.uvsFloat32),
          this.updateAnchor &&
            this._anchor.copyFrom(this._texture.defaultAnchor),
          this.onFrameChange && this.onFrameChange(this.currentFrame));
      }),
      (t.prototype.destroy = function (e) {
        this.stop(),
          r.prototype.destroy.call(this, e),
          (this.onComplete = null),
          (this.onFrameChange = null),
          (this.onLoop = null);
      }),
      (t.fromFrames = function (e) {
        for (var i = [], n = 0; n < e.length; ++n) i.push(ot.from(e[n]));
        return new t(i);
      }),
      (t.fromImages = function (e) {
        for (var i = [], n = 0; n < e.length; ++n) i.push(ot.from(e[n]));
        return new t(i);
      }),
      Object.defineProperty(t.prototype, "totalFrames", {
        get: function () {
          return this._textures.length;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "textures", {
        get: function () {
          return this._textures;
        },
        set: function (e) {
          if (e[0] instanceof ot)
            (this._textures = e), (this._durations = null);
          else {
            (this._textures = []), (this._durations = []);
            for (var i = 0; i < e.length; i++)
              this._textures.push(e[i].texture),
                this._durations.push(e[i].time);
          }
          (this._previousFrame = null),
            this.gotoAndStop(0),
            this.updateTexture();
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "currentFrame", {
        get: function () {
          var e = Math.floor(this._currentTime) % this._textures.length;
          return e < 0 && (e += this._textures.length), e;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "playing", {
        get: function () {
          return this._playing;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(t.prototype, "autoUpdate", {
        get: function () {
          return this._autoUpdate;
        },
        set: function (e) {
          e !== this._autoUpdate &&
            ((this._autoUpdate = e),
            !this._autoUpdate && this._isConnectedToTicker
              ? (oe.shared.remove(this.update, this),
                (this._isConnectedToTicker = !1))
              : this._autoUpdate &&
                !this._isConnectedToTicker &&
                this._playing &&
                (oe.shared.add(this.update, this),
                (this._isConnectedToTicker = !0)));
        },
        enumerable: !1,
        configurable: !0,
      }),
      t
    );
  })(ls);
  /*!
   * pixi.js - v6.4.2
   * Compiled Thu, 02 Jun 2022 15:39:26 UTC
   *
   * pixi.js is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   */ Lr.registerPlugin("accessibility", K1),
    Lr.registerPlugin("extract", GE),
    Lr.registerPlugin("interaction", rT),
    Lr.registerPlugin("particle", EC),
    Lr.registerPlugin("prepare", tP),
    Lr.registerPlugin("batch", NE),
    Lr.registerPlugin("tilingSprite", oP),
    Xe.registerPlugin(bP),
    Xe.registerPlugin(tC),
    Xe.registerPlugin(mC),
    Xe.registerPlugin(xC),
    Xe.registerPlugin(eP),
    xo.registerPlugin(Z1),
    xo.registerPlugin(zE);
  var HP = { test: 1 },
    Dv = { exports: {} };
  (function (r) {
    (function () {
      function t(E, S, G) {
        return E.call.apply(E.bind, arguments);
      }
      function e(E, S, G) {
        if (!E) throw Error();
        if (2 < arguments.length) {
          var k = Array.prototype.slice.call(arguments, 2);
          return function () {
            var W = Array.prototype.slice.call(arguments);
            return Array.prototype.unshift.apply(W, k), E.apply(S, W);
          };
        }
        return function () {
          return E.apply(S, arguments);
        };
      }
      function i(E, S, G) {
        return (
          (i =
            Function.prototype.bind &&
            Function.prototype.bind.toString().indexOf("native code") != -1
              ? t
              : e),
          i.apply(null, arguments)
        );
      }
      var n =
        Date.now ||
        function () {
          return +new Date();
        };
      function s(E, S) {
        (this.a = E), (this.o = S || E), (this.c = this.o.document);
      }
      var o = !!window.FontFace;
      function l(E, S, G, k) {
        if (((S = E.c.createElement(S)), G))
          for (var W in G)
            G.hasOwnProperty(W) &&
              (W == "style"
                ? (S.style.cssText = G[W])
                : S.setAttribute(W, G[W]));
        return k && S.appendChild(E.c.createTextNode(k)), S;
      }
      function h(E, S, G) {
        (E = E.c.getElementsByTagName(S)[0]),
          E || (E = document.documentElement),
          E.insertBefore(G, E.lastChild);
      }
      function f(E) {
        E.parentNode && E.parentNode.removeChild(E);
      }
      function p(E, S, G) {
        (S = S || []), (G = G || []);
        for (var k = E.className.split(/\s+/), W = 0; W < S.length; W += 1) {
          for (var Z = !1, nt = 0; nt < k.length; nt += 1)
            if (S[W] === k[nt]) {
              Z = !0;
              break;
            }
          Z || k.push(S[W]);
        }
        for (S = [], W = 0; W < k.length; W += 1) {
          for (Z = !1, nt = 0; nt < G.length; nt += 1)
            if (k[W] === G[nt]) {
              Z = !0;
              break;
            }
          Z || S.push(k[W]);
        }
        E.className = S.join(" ")
          .replace(/\s+/g, " ")
          .replace(/^\s+|\s+$/, "");
      }
      function v(E, S) {
        for (var G = E.className.split(/\s+/), k = 0, W = G.length; k < W; k++)
          if (G[k] == S) return !0;
        return !1;
      }
      function _(E) {
        return E.o.location.hostname || E.a.location.hostname;
      }
      function m(E, S, G) {
        function k() {
          xt && W && Z && (xt(nt), (xt = null));
        }
        S = l(E, "link", { rel: "stylesheet", href: S, media: "all" });
        var W = !1,
          Z = !0,
          nt = null,
          xt = G || null;
        o
          ? ((S.onload = function () {
              (W = !0), k();
            }),
            (S.onerror = function () {
              (W = !0), (nt = Error("Stylesheet failed to load")), k();
            }))
          : setTimeout(function () {
              (W = !0), k();
            }, 0),
          h(E, "head", S);
      }
      function g(E, S, G, k) {
        var W = E.c.getElementsByTagName("head")[0];
        if (W) {
          var Z = l(E, "script", { src: S }),
            nt = !1;
          return (
            (Z.onload = Z.onreadystatechange =
              function () {
                nt ||
                  (this.readyState &&
                    this.readyState != "loaded" &&
                    this.readyState != "complete") ||
                  ((nt = !0),
                  G && G(null),
                  (Z.onload = Z.onreadystatechange = null),
                  Z.parentNode.tagName == "HEAD" && W.removeChild(Z));
              }),
            W.appendChild(Z),
            setTimeout(function () {
              nt || ((nt = !0), G && G(Error("Script load timeout")));
            }, k || 5e3),
            Z
          );
        }
        return null;
      }
      function y() {
        (this.a = 0), (this.c = null);
      }
      function b(E) {
        return (
          E.a++,
          function () {
            E.a--, C(E);
          }
        );
      }
      function w(E, S) {
        (E.c = S), C(E);
      }
      function C(E) {
        E.a == 0 && E.c && (E.c(), (E.c = null));
      }
      function T(E) {
        this.a = E || "-";
      }
      T.prototype.c = function (E) {
        for (var S = [], G = 0; G < arguments.length; G++)
          S.push(arguments[G].replace(/[\W_]+/g, "").toLowerCase());
        return S.join(this.a);
      };
      function A(E, S) {
        (this.c = E), (this.f = 4), (this.a = "n");
        var G = (S || "n4").match(/^([nio])([1-9])$/i);
        G && ((this.a = G[1]), (this.f = parseInt(G[2], 10)));
      }
      function I(E) {
        return L(E) + " " + (E.f + "00") + " 300px " + P(E.c);
      }
      function P(E) {
        var S = [];
        E = E.split(/,\s*/);
        for (var G = 0; G < E.length; G++) {
          var k = E[G].replace(/['"]/g, "");
          k.indexOf(" ") != -1 || /^\d/.test(k)
            ? S.push("'" + k + "'")
            : S.push(k);
        }
        return S.join(",");
      }
      function O(E) {
        return E.a + E.f;
      }
      function L(E) {
        var S = "normal";
        return E.a === "o" ? (S = "oblique") : E.a === "i" && (S = "italic"), S;
      }
      function N(E) {
        var S = 4,
          G = "n",
          k = null;
        return (
          E &&
            ((k = E.match(/(normal|oblique|italic)/i)) &&
              k[1] &&
              (G = k[1].substr(0, 1).toLowerCase()),
            (k = E.match(/([1-9]00|normal|bold)/i)) &&
              k[1] &&
              (/bold/i.test(k[1])
                ? (S = 7)
                : /[1-9]00/.test(k[1]) &&
                  (S = parseInt(k[1].substr(0, 1), 10)))),
          G + S
        );
      }
      function F(E, S) {
        (this.c = E),
          (this.f = E.o.document.documentElement),
          (this.h = S),
          (this.a = new T("-")),
          (this.j = S.events !== !1),
          (this.g = S.classes !== !1);
      }
      function H(E) {
        E.g && p(E.f, [E.a.c("wf", "loading")]), z(E, "loading");
      }
      function j(E) {
        if (E.g) {
          var S = v(E.f, E.a.c("wf", "active")),
            G = [],
            k = [E.a.c("wf", "loading")];
          S || G.push(E.a.c("wf", "inactive")), p(E.f, G, k);
        }
        z(E, "inactive");
      }
      function z(E, S, G) {
        E.j && E.h[S] && (G ? E.h[S](G.c, O(G)) : E.h[S]());
      }
      function J() {
        this.c = {};
      }
      function X(E, S, G) {
        var k = [],
          W;
        for (W in S)
          if (S.hasOwnProperty(W)) {
            var Z = E.c[W];
            Z && k.push(Z(S[W], G));
          }
        return k;
      }
      function M(E, S) {
        (this.c = E),
          (this.f = S),
          (this.a = l(this.c, "span", { "aria-hidden": "true" }, this.f));
      }
      function D(E) {
        h(E.c, "body", E.a);
      }
      function lt(E) {
        return (
          "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" +
          P(E.c) +
          ";" +
          ("font-style:" + L(E) + ";font-weight:" + (E.f + "00") + ";")
        );
      }
      function at(E, S, G, k, W, Z) {
        (this.g = E),
          (this.j = S),
          (this.a = k),
          (this.c = G),
          (this.f = W || 3e3),
          (this.h = Z || void 0);
      }
      at.prototype.start = function () {
        var E = this.c.o.document,
          S = this,
          G = n(),
          k = new Promise(function (nt, xt) {
            function wt() {
              n() - G >= S.f
                ? xt()
                : E.fonts.load(I(S.a), S.h).then(
                    function (Ft) {
                      1 <= Ft.length ? nt() : setTimeout(wt, 25);
                    },
                    function () {
                      xt();
                    }
                  );
            }
            wt();
          }),
          W = null,
          Z = new Promise(function (nt, xt) {
            W = setTimeout(xt, S.f);
          });
        Promise.race([Z, k]).then(
          function () {
            W && (clearTimeout(W), (W = null)), S.g(S.a);
          },
          function () {
            S.j(S.a);
          }
        );
      };
      function B(E, S, G, k, W, Z, nt) {
        (this.v = E),
          (this.B = S),
          (this.c = G),
          (this.a = k),
          (this.s = nt || "BESbswy"),
          (this.f = {}),
          (this.w = W || 3e3),
          (this.u = Z || null),
          (this.m = this.j = this.h = this.g = null),
          (this.g = new M(this.c, this.s)),
          (this.h = new M(this.c, this.s)),
          (this.j = new M(this.c, this.s)),
          (this.m = new M(this.c, this.s)),
          (E = new A(this.a.c + ",serif", O(this.a))),
          (E = lt(E)),
          (this.g.a.style.cssText = E),
          (E = new A(this.a.c + ",sans-serif", O(this.a))),
          (E = lt(E)),
          (this.h.a.style.cssText = E),
          (E = new A("serif", O(this.a))),
          (E = lt(E)),
          (this.j.a.style.cssText = E),
          (E = new A("sans-serif", O(this.a))),
          (E = lt(E)),
          (this.m.a.style.cssText = E),
          D(this.g),
          D(this.h),
          D(this.j),
          D(this.m);
      }
      var Y = { D: "serif", C: "sans-serif" },
        tt = null;
      function q() {
        if (tt === null) {
          var E = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(
            window.navigator.userAgent
          );
          tt =
            !!E &&
            (536 > parseInt(E[1], 10) ||
              (parseInt(E[1], 10) === 536 && 11 >= parseInt(E[2], 10)));
        }
        return tt;
      }
      B.prototype.start = function () {
        (this.f.serif = this.j.a.offsetWidth),
          (this.f["sans-serif"] = this.m.a.offsetWidth),
          (this.A = n()),
          _t(this);
      };
      function K(E, S, G) {
        for (var k in Y)
          if (Y.hasOwnProperty(k) && S === E.f[Y[k]] && G === E.f[Y[k]])
            return !0;
        return !1;
      }
      function _t(E) {
        var S = E.g.a.offsetWidth,
          G = E.h.a.offsetWidth,
          k;
        (k = S === E.f.serif && G === E.f["sans-serif"]) ||
          (k = q() && K(E, S, G)),
          k
            ? n() - E.A >= E.w
              ? q() && K(E, S, G) && (E.u === null || E.u.hasOwnProperty(E.a.c))
                ? Ut(E, E.v)
                : Ut(E, E.B)
              : Et(E)
            : Ut(E, E.v);
      }
      function Et(E) {
        setTimeout(
          i(function () {
            _t(this);
          }, E),
          50
        );
      }
      function Ut(E, S) {
        setTimeout(
          i(function () {
            f(this.g.a), f(this.h.a), f(this.j.a), f(this.m.a), S(this.a);
          }, E),
          0
        );
      }
      function Bt(E, S, G) {
        (this.c = E),
          (this.a = S),
          (this.f = 0),
          (this.m = this.j = !1),
          (this.s = G);
      }
      var bt = null;
      (Bt.prototype.g = function (E) {
        var S = this.a;
        S.g &&
          p(
            S.f,
            [S.a.c("wf", E.c, O(E).toString(), "active")],
            [
              S.a.c("wf", E.c, O(E).toString(), "loading"),
              S.a.c("wf", E.c, O(E).toString(), "inactive"),
            ]
          ),
          z(S, "fontactive", E),
          (this.m = !0),
          mt(this);
      }),
        (Bt.prototype.h = function (E) {
          var S = this.a;
          if (S.g) {
            var G = v(S.f, S.a.c("wf", E.c, O(E).toString(), "active")),
              k = [],
              W = [S.a.c("wf", E.c, O(E).toString(), "loading")];
            G || k.push(S.a.c("wf", E.c, O(E).toString(), "inactive")),
              p(S.f, k, W);
          }
          z(S, "fontinactive", E), mt(this);
        });
      function mt(E) {
        --E.f == 0 &&
          E.j &&
          (E.m
            ? ((E = E.a),
              E.g &&
                p(
                  E.f,
                  [E.a.c("wf", "active")],
                  [E.a.c("wf", "loading"), E.a.c("wf", "inactive")]
                ),
              z(E, "active"))
            : j(E.a));
      }
      function pt(E) {
        (this.j = E), (this.a = new J()), (this.h = 0), (this.f = this.g = !0);
      }
      pt.prototype.load = function (E) {
        (this.c = new s(this.j, E.context || this.j)),
          (this.g = E.events !== !1),
          (this.f = E.classes !== !1),
          ut(this, new F(this.c, E), E);
      };
      function Rt(E, S, G, k, W) {
        var Z = --E.h == 0;
        (E.f || E.g) &&
          setTimeout(function () {
            var nt = W || null,
              xt = k || null || {};
            if (G.length === 0 && Z) j(S.a);
            else {
              (S.f += G.length), Z && (S.j = Z);
              var wt,
                Ft = [];
              for (wt = 0; wt < G.length; wt++) {
                var Tt = G[wt],
                  ie = xt[Tt.c],
                  te = S.a,
                  Qr = Tt;
                if (
                  (te.g &&
                    p(te.f, [te.a.c("wf", Qr.c, O(Qr).toString(), "loading")]),
                  z(te, "fontloading", Qr),
                  (te = null),
                  bt === null)
                )
                  if (window.FontFace) {
                    var Qr = /Gecko.*Firefox\/(\d+)/.exec(
                        window.navigator.userAgent
                      ),
                      Ui =
                        /OS X.*Version\/10\..*Safari/.exec(
                          window.navigator.userAgent
                        ) && /Apple/.exec(window.navigator.vendor);
                    bt = Qr ? 42 < parseInt(Qr[1], 10) : !Ui;
                  } else bt = !1;
                bt
                  ? (te = new at(i(S.g, S), i(S.h, S), S.c, Tt, S.s, ie))
                  : (te = new B(i(S.g, S), i(S.h, S), S.c, Tt, S.s, nt, ie)),
                  Ft.push(te);
              }
              for (wt = 0; wt < Ft.length; wt++) Ft[wt].start();
            }
          }, 0);
      }
      function ut(E, S, G) {
        var W = [],
          k = G.timeout;
        H(S);
        var W = X(E.a, G, E.c),
          Z = new Bt(E.c, S, k);
        for (E.h = W.length, S = 0, G = W.length; S < G; S++)
          W[S].load(function (nt, xt, wt) {
            Rt(E, Z, nt, xt, wt);
          });
      }
      function Zt(E, S) {
        (this.c = E), (this.a = S);
      }
      Zt.prototype.load = function (E) {
        function S() {
          if (Z["__mti_fntLst" + k]) {
            var nt = Z["__mti_fntLst" + k](),
              xt = [],
              wt;
            if (nt)
              for (var Ft = 0; Ft < nt.length; Ft++) {
                var Tt = nt[Ft].fontfamily;
                nt[Ft].fontStyle != null && nt[Ft].fontWeight != null
                  ? ((wt = nt[Ft].fontStyle + nt[Ft].fontWeight),
                    xt.push(new A(Tt, wt)))
                  : xt.push(new A(Tt));
              }
            E(xt);
          } else
            setTimeout(function () {
              S();
            }, 50);
        }
        var G = this,
          k = G.a.projectId,
          W = G.a.version;
        if (k) {
          var Z = G.c.o;
          g(
            this.c,
            (G.a.api || "https://fast.fonts.net/jsapi") +
              "/" +
              k +
              ".js" +
              (W ? "?v=" + W : ""),
            function (nt) {
              nt
                ? E([])
                : ((Z["__MonotypeConfiguration__" + k] = function () {
                    return G.a;
                  }),
                  S());
            }
          ).id = "__MonotypeAPIScript__" + k;
        } else E([]);
      };
      function $t(E, S) {
        (this.c = E), (this.a = S);
      }
      $t.prototype.load = function (E) {
        var S,
          G,
          k = this.a.urls || [],
          W = this.a.families || [],
          Z = this.a.testStrings || {},
          nt = new y();
        for (S = 0, G = k.length; S < G; S++) m(this.c, k[S], b(nt));
        var xt = [];
        for (S = 0, G = W.length; S < G; S++)
          if (((k = W[S].split(":")), k[1]))
            for (var wt = k[1].split(","), Ft = 0; Ft < wt.length; Ft += 1)
              xt.push(new A(k[0], wt[Ft]));
          else xt.push(new A(k[0]));
        w(nt, function () {
          E(xt, Z);
        });
      };
      function ct(E, S) {
        E ? (this.c = E) : (this.c = ye),
          (this.a = []),
          (this.f = []),
          (this.g = S || "");
      }
      var ye = "https://fonts.googleapis.com/css";
      function Ne(E, S) {
        for (var G = S.length, k = 0; k < G; k++) {
          var W = S[k].split(":");
          W.length == 3 && E.f.push(W.pop());
          var Z = "";
          W.length == 2 && W[1] != "" && (Z = ":"), E.a.push(W.join(Z));
        }
      }
      function Tr(E) {
        if (E.a.length == 0) throw Error("No fonts to load!");
        if (E.c.indexOf("kit=") != -1) return E.c;
        for (var S = E.a.length, G = [], k = 0; k < S; k++)
          G.push(E.a[k].replace(/ /g, "+"));
        return (
          (S = E.c + "?family=" + G.join("%7C")),
          0 < E.f.length && (S += "&subset=" + E.f.join(",")),
          0 < E.g.length && (S += "&text=" + encodeURIComponent(E.g)),
          S
        );
      }
      function Ni(E) {
        (this.f = E), (this.a = []), (this.c = {});
      }
      var Zr = {
          latin: "BESbswy",
          "latin-ext": "\xE7\xF6\xFC\u011F\u015F",
          cyrillic: "\u0439\u044F\u0416",
          greek: "\u03B1\u03B2\u03A3",
          khmer: "\u1780\u1781\u1782",
          Hanuman: "\u1780\u1781\u1782",
        },
        In = {
          thin: "1",
          extralight: "2",
          "extra-light": "2",
          ultralight: "2",
          "ultra-light": "2",
          light: "3",
          regular: "4",
          book: "4",
          medium: "5",
          "semi-bold": "6",
          semibold: "6",
          "demi-bold": "6",
          demibold: "6",
          bold: "7",
          "extra-bold": "8",
          extrabold: "8",
          "ultra-bold": "8",
          ultrabold: "8",
          black: "9",
          heavy: "9",
          l: "3",
          r: "4",
          b: "7",
        },
        Si = { i: "i", italic: "i", n: "n", normal: "n" },
        Oi =
          /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
      function nc(E) {
        for (var S = E.f.length, G = 0; G < S; G++) {
          var k = E.f[G].split(":"),
            W = k[0].replace(/\+/g, " "),
            Z = ["n4"];
          if (2 <= k.length) {
            var nt,
              xt = k[1];
            if (((nt = []), xt))
              for (
                var xt = xt.split(","), wt = xt.length, Ft = 0;
                Ft < wt;
                Ft++
              ) {
                var Tt;
                if (((Tt = xt[Ft]), Tt.match(/^[\w-]+$/))) {
                  var ie = Oi.exec(Tt.toLowerCase());
                  if (ie == null) Tt = "";
                  else {
                    if (
                      ((Tt = ie[2]),
                      (Tt = Tt == null || Tt == "" ? "n" : Si[Tt]),
                      (ie = ie[1]),
                      ie == null || ie == "")
                    )
                      ie = "4";
                    else
                      var te = In[ie],
                        ie = te || (isNaN(ie) ? "4" : ie.substr(0, 1));
                    Tt = [Tt, ie].join("");
                  }
                } else Tt = "";
                Tt && nt.push(Tt);
              }
            0 < nt.length && (Z = nt),
              k.length == 3 &&
                ((k = k[2]),
                (nt = []),
                (k = k ? k.split(",") : nt),
                0 < k.length && (k = Zr[k[0]]) && (E.c[W] = k));
          }
          for (
            E.c[W] || ((k = Zr[W]) && (E.c[W] = k)), k = 0;
            k < Z.length;
            k += 1
          )
            E.a.push(new A(W, Z[k]));
        }
      }
      function Os(E, S) {
        (this.c = E), (this.a = S);
      }
      var Rn = { Arimo: !0, Cousine: !0, Tinos: !0 };
      Os.prototype.load = function (E) {
        var S = new y(),
          G = this.c,
          k = new ct(this.a.api, this.a.text),
          W = this.a.families;
        Ne(k, W);
        var Z = new Ni(W);
        nc(Z),
          m(G, Tr(k), b(S)),
          w(S, function () {
            E(Z.a, Z.c, Rn);
          });
      };
      function Pa(E, S) {
        (this.c = E), (this.a = S);
      }
      Pa.prototype.load = function (E) {
        var S = this.a.id,
          G = this.c.o;
        S
          ? g(
              this.c,
              (this.a.api || "https://use.typekit.net") + "/" + S + ".js",
              function (k) {
                if (k) E([]);
                else if (G.Typekit && G.Typekit.config && G.Typekit.config.fn) {
                  k = G.Typekit.config.fn;
                  for (var W = [], Z = 0; Z < k.length; Z += 2)
                    for (
                      var nt = k[Z], xt = k[Z + 1], wt = 0;
                      wt < xt.length;
                      wt++
                    )
                      W.push(new A(nt, xt[wt]));
                  try {
                    G.Typekit.load({ events: !1, classes: !1, async: !0 });
                  } catch {}
                  E(W);
                }
              },
              2e3
            )
          : E([]);
      };
      function Er(E, S) {
        (this.c = E), (this.f = S), (this.a = []);
      }
      Er.prototype.load = function (E) {
        var S = this.f.id,
          G = this.c.o,
          k = this;
        S
          ? (G.__webfontfontdeckmodule__ || (G.__webfontfontdeckmodule__ = {}),
            (G.__webfontfontdeckmodule__[S] = function (W, Z) {
              for (var nt = 0, xt = Z.fonts.length; nt < xt; ++nt) {
                var wt = Z.fonts[nt];
                k.a.push(
                  new A(
                    wt.name,
                    N("font-weight:" + wt.weight + ";font-style:" + wt.style)
                  )
                );
              }
              E(k.a);
            }),
            g(
              this.c,
              (this.f.api || "https://f.fontdeck.com/s/css/js/") +
                _(this.c) +
                "/" +
                S +
                ".js",
              function (W) {
                W && E([]);
              }
            ))
          : E([]);
      };
      var be = new pt(window);
      (be.a.c.custom = function (E, S) {
        return new $t(S, E);
      }),
        (be.a.c.fontdeck = function (E, S) {
          return new Er(S, E);
        }),
        (be.a.c.monotype = function (E, S) {
          return new Zt(S, E);
        }),
        (be.a.c.typekit = function (E, S) {
          return new Pa(S, E);
        }),
        (be.a.c.google = function (E, S) {
          return new Os(S, E);
        });
      var Jr = { load: i(be.load, be) };
      r.exports
        ? (r.exports = Jr)
        : ((window.WebFont = Jr),
          window.WebFontConfig && be.load(window.WebFontConfig));
    })();
  })(Dv);
  var XP = Dv.exports,
    ps = { exports: {} },
    $P = "Function.prototype.bind called on incompatible ",
    Iu = Array.prototype.slice,
    jP = Object.prototype.toString,
    zP = "[object Function]",
    WP = function (t) {
      var e = this;
      if (typeof e != "function" || jP.call(e) !== zP)
        throw new TypeError($P + e);
      for (
        var i = Iu.call(arguments, 1),
          n,
          s = function () {
            if (this instanceof n) {
              var p = e.apply(this, i.concat(Iu.call(arguments)));
              return Object(p) === p ? p : this;
            } else return e.apply(t, i.concat(Iu.call(arguments)));
          },
          o = Math.max(0, e.length - i.length),
          l = [],
          h = 0;
        h < o;
        h++
      )
        l.push("$" + h);
      if (
        ((n = Function(
          "binder",
          "return function (" +
            l.join(",") +
            "){ return binder.apply(this,arguments); }"
        )(s)),
        e.prototype)
      ) {
        var f = function () {};
        (f.prototype = e.prototype),
          (n.prototype = new f()),
          (f.prototype = null);
      }
      return n;
    },
    YP = WP,
    Ru = Function.prototype.bind || YP,
    Au = function () {
      if (
        typeof Symbol != "function" ||
        typeof Object.getOwnPropertySymbols != "function"
      )
        return !1;
      if (typeof Symbol.iterator == "symbol") return !0;
      var t = {},
        e = Symbol("test"),
        i = Object(e);
      if (
        typeof e == "string" ||
        Object.prototype.toString.call(e) !== "[object Symbol]" ||
        Object.prototype.toString.call(i) !== "[object Symbol]"
      )
        return !1;
      var n = 42;
      t[e] = n;
      for (e in t) return !1;
      if (
        (typeof Object.keys == "function" && Object.keys(t).length !== 0) ||
        (typeof Object.getOwnPropertyNames == "function" &&
          Object.getOwnPropertyNames(t).length !== 0)
      )
        return !1;
      var s = Object.getOwnPropertySymbols(t);
      if (
        s.length !== 1 ||
        s[0] !== e ||
        !Object.prototype.propertyIsEnumerable.call(t, e)
      )
        return !1;
      if (typeof Object.getOwnPropertyDescriptor == "function") {
        var o = Object.getOwnPropertyDescriptor(t, e);
        if (o.value !== n || o.enumerable !== !0) return !1;
      }
      return !0;
    },
    Vv = typeof Symbol != "undefined" && Symbol,
    qP = Au,
    Nu = function () {
      return typeof Vv != "function" ||
        typeof Symbol != "function" ||
        typeof Vv("foo") != "symbol" ||
        typeof Symbol("bar") != "symbol"
        ? !1
        : qP();
    },
    KP = Ru,
    Gr = KP.call(Function.call, Object.prototype.hasOwnProperty),
    yt,
    sn = SyntaxError,
    Hv = Function,
    on = TypeError,
    Su = function (r) {
      try {
        return Hv('"use strict"; return (' + r + ").constructor;")();
      } catch {}
    },
    yi = Object.getOwnPropertyDescriptor;
  if (yi)
    try {
      yi({}, "");
    } catch {
      yi = null;
    }
  var Ou = function () {
      throw new on();
    },
    ZP = yi
      ? (function () {
          try {
            return arguments.callee, Ou;
          } catch {
            try {
              return yi(arguments, "callee").get;
            } catch {
              return Ou;
            }
          }
        })()
      : Ou,
    an = Nu(),
    Mr =
      Object.getPrototypeOf ||
      function (r) {
        return r.__proto__;
      },
    ln = {},
    JP = typeof Uint8Array == "undefined" ? yt : Mr(Uint8Array),
    un = {
      "%AggregateError%":
        typeof AggregateError == "undefined" ? yt : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer == "undefined" ? yt : ArrayBuffer,
      "%ArrayIteratorPrototype%": an ? Mr([][Symbol.iterator]()) : yt,
      "%AsyncFromSyncIteratorPrototype%": yt,
      "%AsyncFunction%": ln,
      "%AsyncGenerator%": ln,
      "%AsyncGeneratorFunction%": ln,
      "%AsyncIteratorPrototype%": ln,
      "%Atomics%": typeof Atomics == "undefined" ? yt : Atomics,
      "%BigInt%": typeof BigInt == "undefined" ? yt : BigInt,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView == "undefined" ? yt : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": Error,
      "%eval%": eval,
      "%EvalError%": EvalError,
      "%Float32Array%": typeof Float32Array == "undefined" ? yt : Float32Array,
      "%Float64Array%": typeof Float64Array == "undefined" ? yt : Float64Array,
      "%FinalizationRegistry%":
        typeof FinalizationRegistry == "undefined" ? yt : FinalizationRegistry,
      "%Function%": Hv,
      "%GeneratorFunction%": ln,
      "%Int8Array%": typeof Int8Array == "undefined" ? yt : Int8Array,
      "%Int16Array%": typeof Int16Array == "undefined" ? yt : Int16Array,
      "%Int32Array%": typeof Int32Array == "undefined" ? yt : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": an ? Mr(Mr([][Symbol.iterator]())) : yt,
      "%JSON%": typeof JSON == "object" ? JSON : yt,
      "%Map%": typeof Map == "undefined" ? yt : Map,
      "%MapIteratorPrototype%":
        typeof Map == "undefined" || !an
          ? yt
          : Mr(new Map()[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise == "undefined" ? yt : Promise,
      "%Proxy%": typeof Proxy == "undefined" ? yt : Proxy,
      "%RangeError%": RangeError,
      "%ReferenceError%": ReferenceError,
      "%Reflect%": typeof Reflect == "undefined" ? yt : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set == "undefined" ? yt : Set,
      "%SetIteratorPrototype%":
        typeof Set == "undefined" || !an
          ? yt
          : Mr(new Set()[Symbol.iterator]()),
      "%SharedArrayBuffer%":
        typeof SharedArrayBuffer == "undefined" ? yt : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": an ? Mr(""[Symbol.iterator]()) : yt,
      "%Symbol%": an ? Symbol : yt,
      "%SyntaxError%": sn,
      "%ThrowTypeError%": ZP,
      "%TypedArray%": JP,
      "%TypeError%": on,
      "%Uint8Array%": typeof Uint8Array == "undefined" ? yt : Uint8Array,
      "%Uint8ClampedArray%":
        typeof Uint8ClampedArray == "undefined" ? yt : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array == "undefined" ? yt : Uint16Array,
      "%Uint32Array%": typeof Uint32Array == "undefined" ? yt : Uint32Array,
      "%URIError%": URIError,
      "%WeakMap%": typeof WeakMap == "undefined" ? yt : WeakMap,
      "%WeakRef%": typeof WeakRef == "undefined" ? yt : WeakRef,
      "%WeakSet%": typeof WeakSet == "undefined" ? yt : WeakSet,
    },
    QP = function r(t) {
      var e;
      if (t === "%AsyncFunction%") e = Su("async function () {}");
      else if (t === "%GeneratorFunction%") e = Su("function* () {}");
      else if (t === "%AsyncGeneratorFunction%")
        e = Su("async function* () {}");
      else if (t === "%AsyncGenerator%") {
        var i = r("%AsyncGeneratorFunction%");
        i && (e = i.prototype);
      } else if (t === "%AsyncIteratorPrototype%") {
        var n = r("%AsyncGenerator%");
        n && (e = Mr(n.prototype));
      }
      return (un[t] = e), e;
    },
    Xv = {
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": [
        "AsyncGeneratorFunction",
        "prototype",
        "prototype",
      ],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"],
    },
    ds = Ru,
    Go = Gr,
    tI = ds.call(Function.call, Array.prototype.concat),
    eI = ds.call(Function.apply, Array.prototype.splice),
    $v = ds.call(Function.call, String.prototype.replace),
    Mo = ds.call(Function.call, String.prototype.slice),
    rI = ds.call(Function.call, RegExp.prototype.exec),
    iI =
      /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,
    nI = /\\(\\)?/g,
    sI = function (t) {
      var e = Mo(t, 0, 1),
        i = Mo(t, -1);
      if (e === "%" && i !== "%")
        throw new sn("invalid intrinsic syntax, expected closing `%`");
      if (i === "%" && e !== "%")
        throw new sn("invalid intrinsic syntax, expected opening `%`");
      var n = [];
      return (
        $v(t, iI, function (s, o, l, h) {
          n[n.length] = l ? $v(h, nI, "$1") : o || s;
        }),
        n
      );
    },
    oI = function (t, e) {
      var i = t,
        n;
      if ((Go(Xv, i) && ((n = Xv[i]), (i = "%" + n[0] + "%")), Go(un, i))) {
        var s = un[i];
        if ((s === ln && (s = QP(i)), typeof s == "undefined" && !e))
          throw new on(
            "intrinsic " +
              t +
              " exists, but is not available. Please file an issue!"
          );
        return { alias: n, name: i, value: s };
      }
      throw new sn("intrinsic " + t + " does not exist!");
    },
    It = function (t, e) {
      if (typeof t != "string" || t.length === 0)
        throw new on("intrinsic name must be a non-empty string");
      if (arguments.length > 1 && typeof e != "boolean")
        throw new on('"allowMissing" argument must be a boolean');
      if (rI(/^%?[^%]*%?$/g, t) === null)
        throw new sn(
          "`%` may not be present anywhere but at the beginning and end of the intrinsic name"
        );
      var i = sI(t),
        n = i.length > 0 ? i[0] : "",
        s = oI("%" + n + "%", e),
        o = s.name,
        l = s.value,
        h = !1,
        f = s.alias;
      f && ((n = f[0]), eI(i, tI([0, 1], f)));
      for (var p = 1, v = !0; p < i.length; p += 1) {
        var _ = i[p],
          m = Mo(_, 0, 1),
          g = Mo(_, -1);
        if (
          (m === '"' ||
            m === "'" ||
            m === "`" ||
            g === '"' ||
            g === "'" ||
            g === "`") &&
          m !== g
        )
          throw new sn("property names with quotes must have matching quotes");
        if (
          ((_ === "constructor" || !v) && (h = !0),
          (n += "." + _),
          (o = "%" + n + "%"),
          Go(un, o))
        )
          l = un[o];
        else if (l != null) {
          if (!(_ in l)) {
            if (!e)
              throw new on(
                "base intrinsic for " +
                  t +
                  " exists, but the property is not available."
              );
            return;
          }
          if (yi && p + 1 >= i.length) {
            var y = yi(l, _);
            (v = !!y),
              v && "get" in y && !("originalValue" in y.get)
                ? (l = y.get)
                : (l = l[_]);
          } else (v = Go(l, _)), (l = l[_]);
          v && !h && (un[o] = l);
        }
      }
      return l;
    };
  (function (r) {
    var t = Ru,
      e = It,
      i = e("%Function.prototype.apply%"),
      n = e("%Function.prototype.call%"),
      s = e("%Reflect.apply%", !0) || t.call(n, i),
      o = e("%Object.getOwnPropertyDescriptor%", !0),
      l = e("%Object.defineProperty%", !0),
      h = e("%Math.max%");
    if (l)
      try {
        l({}, "a", { value: 1 });
      } catch {
        l = null;
      }
    r.exports = function (v) {
      var _ = s(t, n, arguments);
      if (o && l) {
        var m = o(_, "length");
        m.configurable &&
          l(_, "length", {
            value: 1 + h(0, v.length - (arguments.length - 1)),
          });
      }
      return _;
    };
    var f = function () {
      return s(t, i, arguments);
    };
    l ? l(r.exports, "apply", { value: f }) : (r.exports.apply = f);
  })(ps);
  var jv = Object.prototype.toString,
    zv = function (t) {
      var e = jv.call(t),
        i = e === "[object Arguments]";
      return (
        i ||
          (i =
            e !== "[object Array]" &&
            t !== null &&
            typeof t == "object" &&
            typeof t.length == "number" &&
            t.length >= 0 &&
            jv.call(t.callee) === "[object Function]"),
        i
      );
    },
    Wv;
  if (!Object.keys) {
    var Do = Object.prototype.hasOwnProperty,
      Yv = Object.prototype.toString,
      aI = zv,
      qv = Object.prototype.propertyIsEnumerable,
      lI = !qv.call({ toString: null }, "toString"),
      uI = qv.call(function () {}, "prototype"),
      Vo = [
        "toString",
        "toLocaleString",
        "valueOf",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "constructor",
      ],
      Uu = function (r) {
        var t = r.constructor;
        return t && t.prototype === r;
      },
      hI = {
        $applicationCache: !0,
        $console: !0,
        $external: !0,
        $frame: !0,
        $frameElement: !0,
        $frames: !0,
        $innerHeight: !0,
        $innerWidth: !0,
        $onmozfullscreenchange: !0,
        $onmozfullscreenerror: !0,
        $outerHeight: !0,
        $outerWidth: !0,
        $pageXOffset: !0,
        $pageYOffset: !0,
        $parent: !0,
        $scrollLeft: !0,
        $scrollTop: !0,
        $scrollX: !0,
        $scrollY: !0,
        $self: !0,
        $webkitIndexedDB: !0,
        $webkitStorageInfo: !0,
        $window: !0,
      },
      cI = (function () {
        if (typeof window == "undefined") return !1;
        for (var r in window)
          try {
            if (
              !hI["$" + r] &&
              Do.call(window, r) &&
              window[r] !== null &&
              typeof window[r] == "object"
            )
              try {
                Uu(window[r]);
              } catch {
                return !0;
              }
          } catch {
            return !0;
          }
        return !1;
      })(),
      fI = function (r) {
        if (typeof window == "undefined" || !cI) return Uu(r);
        try {
          return Uu(r);
        } catch {
          return !1;
        }
      };
    Wv = function (t) {
      var e = t !== null && typeof t == "object",
        i = Yv.call(t) === "[object Function]",
        n = aI(t),
        s = e && Yv.call(t) === "[object String]",
        o = [];
      if (!e && !i && !n)
        throw new TypeError("Object.keys called on a non-object");
      var l = uI && i;
      if (s && t.length > 0 && !Do.call(t, 0))
        for (var h = 0; h < t.length; ++h) o.push(String(h));
      if (n && t.length > 0)
        for (var f = 0; f < t.length; ++f) o.push(String(f));
      else
        for (var p in t)
          !(l && p === "prototype") && Do.call(t, p) && o.push(String(p));
      if (lI)
        for (var v = fI(t), _ = 0; _ < Vo.length; ++_)
          !(v && Vo[_] === "constructor") && Do.call(t, Vo[_]) && o.push(Vo[_]);
      return o;
    };
  }
  var pI = Wv,
    dI = Array.prototype.slice,
    vI = zv,
    Kv = Object.keys,
    Ho = Kv
      ? function (t) {
          return Kv(t);
        }
      : pI,
    Zv = Object.keys;
  Ho.shim = function () {
    if (Object.keys) {
      var t = (function () {
        var e = Object.keys(arguments);
        return e && e.length === arguments.length;
      })(1, 2);
      t ||
        (Object.keys = function (i) {
          return vI(i) ? Zv(dI.call(i)) : Zv(i);
        });
    } else Object.keys = Ho;
    return Object.keys || Ho;
  };
  var _I = Ho,
    mI = It,
    Lu = mI("%Object.defineProperty%", !0),
    Fu = function () {
      if (Lu)
        try {
          return Lu({}, "a", { value: 1 }), !0;
        } catch {
          return !1;
        }
      return !1;
    };
  Fu.hasArrayLengthDefineBug = function () {
    if (!Fu()) return null;
    try {
      return Lu([], "length", { value: 1 }).length !== 1;
    } catch {
      return !0;
    }
  };
  var Jv = Fu,
    gI = _I,
    yI = typeof Symbol == "function" && typeof Symbol("foo") == "symbol",
    bI = Object.prototype.toString,
    xI = Array.prototype.concat,
    Qv = Object.defineProperty,
    wI = function (r) {
      return typeof r == "function" && bI.call(r) === "[object Function]";
    },
    TI = Jv(),
    t_ = Qv && TI,
    EI = function (r, t, e, i) {
      (t in r && (!wI(i) || !i())) ||
        (t_
          ? Qv(r, t, {
              configurable: !0,
              enumerable: !1,
              value: e,
              writable: !0,
            })
          : (r[t] = e));
    },
    e_ = function (r, t) {
      var e = arguments.length > 2 ? arguments[2] : {},
        i = gI(t);
      yI && (i = xI.call(i, Object.getOwnPropertySymbols(t)));
      for (var n = 0; n < i.length; n += 1) EI(r, i[n], t[i[n]], e[i[n]]);
    };
  e_.supportsDescriptors = !!t_;
  var Xo = e_,
    $o = function () {
      if (typeof Promise != "function")
        throw new TypeError(
          "`Promise.allSettled` requires a global `Promise` be available."
        );
    },
    CI = It,
    PI = ps.exports,
    r_ = CI("%Promise.resolve%", !0),
    i_ = r_ && PI(r_),
    II = function (t, e) {
      if (!i_)
        throw new SyntaxError("This environment does not support Promises.");
      return i_(t, e);
    },
    RI = function (t) {
      if (t === null) return "Null";
      if (typeof t == "undefined") return "Undefined";
      if (typeof t == "function" || typeof t == "object") return "Object";
      if (typeof t == "number") return "Number";
      if (typeof t == "boolean") return "Boolean";
      if (typeof t == "string") return "String";
    },
    AI = RI,
    Ee = function (t) {
      return typeof t == "symbol"
        ? "Symbol"
        : typeof t == "bigint"
        ? "BigInt"
        : AI(t);
    },
    jo = { exports: {} },
    NI = Au,
    zo = function () {
      return NI() && !!Symbol.toStringTag;
    },
    n_ = It,
    s_ = ps.exports,
    SI = s_(n_("String.prototype.indexOf")),
    We = function (t, e) {
      var i = n_(t, !!e);
      return typeof i == "function" && SI(t, ".prototype.") > -1 ? s_(i) : i;
    },
    OI = zo(),
    UI = We,
    ku = UI("Object.prototype.toString"),
    Wo = function (t) {
      return OI && t && typeof t == "object" && Symbol.toStringTag in t
        ? !1
        : ku(t) === "[object Arguments]";
    },
    o_ = function (t) {
      return Wo(t)
        ? !0
        : t !== null &&
            typeof t == "object" &&
            typeof t.length == "number" &&
            t.length >= 0 &&
            ku(t) !== "[object Array]" &&
            ku(t.callee) === "[object Function]";
    },
    LI = (function () {
      return Wo(arguments);
    })();
  Wo.isLegacyArguments = o_;
  var FI = LI ? Wo : o_,
    kI = {}.toString,
    BI =
      Array.isArray ||
      function (r) {
        return kI.call(r) == "[object Array]";
      },
    GI = String.prototype.valueOf,
    MI = function (t) {
      try {
        return GI.call(t), !0;
      } catch {
        return !1;
      }
    },
    DI = Object.prototype.toString,
    VI = "[object String]",
    HI = zo(),
    a_ = function (t) {
      return typeof t == "string"
        ? !0
        : typeof t != "object"
        ? !1
        : HI
        ? MI(t)
        : DI.call(t) === VI;
    },
    Bu = typeof Map == "function" && Map.prototype ? Map : null,
    XI = typeof Set == "function" && Set.prototype ? Set : null,
    Yo;
  Bu ||
    (Yo = function (t) {
      return !1;
    });
  var l_ = Bu ? Map.prototype.has : null,
    u_ = XI ? Set.prototype.has : null;
  !Yo &&
    !l_ &&
    (Yo = function (t) {
      return !1;
    });
  var $I =
      Yo ||
      function (t) {
        if (!t || typeof t != "object") return !1;
        try {
          if ((l_.call(t), u_))
            try {
              u_.call(t);
            } catch {
              return !0;
            }
          return t instanceof Bu;
        } catch {}
        return !1;
      },
    jI = typeof Map == "function" && Map.prototype ? Map : null,
    Gu = typeof Set == "function" && Set.prototype ? Set : null,
    qo;
  Gu ||
    (qo = function (t) {
      return !1;
    });
  var h_ = jI ? Map.prototype.has : null,
    c_ = Gu ? Set.prototype.has : null;
  !qo &&
    !c_ &&
    (qo = function (t) {
      return !1;
    });
  var zI =
      qo ||
      function (t) {
        if (!t || typeof t != "object") return !1;
        try {
          if ((c_.call(t), h_))
            try {
              h_.call(t);
            } catch {
              return !0;
            }
          return t instanceof Gu;
        } catch {}
        return !1;
      },
    f_ = FI;
  if (Nu() || Au()) {
    var Mu = Symbol.iterator;
    jo.exports = function (t) {
      if (t != null && typeof t[Mu] != "undefined") return t[Mu]();
      if (f_(t)) return Array.prototype[Mu].call(t);
    };
  } else {
    var WI = BI,
      YI = a_,
      p_ = It,
      qI = p_("%Map%", !0),
      KI = p_("%Set%", !0),
      Ye = We,
      d_ = Ye("Array.prototype.push"),
      v_ = Ye("String.prototype.charCodeAt"),
      ZI = Ye("String.prototype.slice"),
      JI = function (t, e) {
        var i = t.length;
        if (e + 1 >= i) return e + 1;
        var n = v_(t, e);
        if (n < 55296 || n > 56319) return e + 1;
        var s = v_(t, e + 1);
        return s < 56320 || s > 57343 ? e + 1 : e + 2;
      },
      Du = function (t) {
        var e = 0;
        return {
          next: function () {
            var n = e >= t.length,
              s;
            return n || ((s = t[e]), (e += 1)), { done: n, value: s };
          },
        };
      },
      __ = function (t, e) {
        if (WI(t) || f_(t)) return Du(t);
        if (YI(t)) {
          var i = 0;
          return {
            next: function () {
              var s = JI(t, i),
                o = ZI(t, i, s);
              return (i = s), { done: s > t.length, value: o };
            },
          };
        }
        if (e && typeof t["_es6-shim iterator_"] != "undefined")
          return t["_es6-shim iterator_"]();
      };
    if (!qI && !KI)
      jo.exports = function (t) {
        if (t != null) return __(t, !0);
      };
    else {
      var QI = $I,
        t2 = zI,
        m_ = Ye("Map.prototype.forEach", !0),
        g_ = Ye("Set.prototype.forEach", !0);
      if (
        typeof process == "undefined" ||
        !process.versions ||
        !process.versions.node
      )
        var y_ = Ye("Map.prototype.iterator", !0),
          b_ = Ye("Set.prototype.iterator", !0),
          x_ = function (r) {
            var t = !1;
            return {
              next: function () {
                try {
                  return { done: t, value: t ? void 0 : r.next() };
                } catch {
                  return (t = !0), { done: !0, value: void 0 };
                }
              },
            };
          };
      var w_ =
          Ye("Map.prototype.@@iterator", !0) ||
          Ye("Map.prototype._es6-shim iterator_", !0),
        T_ =
          Ye("Set.prototype.@@iterator", !0) ||
          Ye("Set.prototype._es6-shim iterator_", !0),
        e2 = function (t) {
          if (QI(t)) {
            if (y_) return x_(y_(t));
            if (w_) return w_(t);
            if (m_) {
              var e = [];
              return (
                m_(t, function (n, s) {
                  d_(e, [s, n]);
                }),
                Du(e)
              );
            }
          }
          if (t2(t)) {
            if (b_) return x_(b_(t));
            if (T_) return T_(t);
            if (g_) {
              var i = [];
              return (
                g_(t, function (n) {
                  d_(i, n);
                }),
                Du(i)
              );
            }
          }
        };
      jo.exports = function (t) {
        return e2(t) || __(t);
      };
    }
  }
  var E_ = TypeError,
    r2 = function (t) {
      if (!t || typeof t.next != "function")
        throw new E_("iterator must be an object with a `next` method");
      if (arguments.length > 1) {
        var e = arguments[1];
        if (typeof e != "function")
          throw new E_("`callback`, if provided, must be a function");
      }
      for (var i = e || [], n; (n = t.next()) && !n.done; )
        e ? e(n.value) : i.push(n.value);
      if (!e) return i;
    },
    i2 = jo.exports,
    n2 = TypeError,
    C_ = r2,
    s2 = function (t) {
      var e = i2(t);
      if (!e) throw new n2("non-iterable value provided");
      return arguments.length > 1 ? C_(e, arguments[1]) : C_(e);
    },
    o2 = It,
    a2 = o2("%TypeError%"),
    l2 = function (t, e) {
      if (t == null) throw new a2(e || "Cannot call method on " + t);
      return t;
    },
    P_ = l2,
    u2 = It,
    h2 = u2("%Math.abs%"),
    c2 = function (t) {
      return h2(t);
    },
    f2 = Math.floor,
    p2 = function (t) {
      return f2(t);
    },
    I_ =
      Number.isNaN ||
      function (t) {
        return t !== t;
      },
    d2 =
      Number.isNaN ||
      function (r) {
        return r !== r;
      },
    v2 =
      Number.isFinite ||
      function (r) {
        return typeof r == "number" && !d2(r) && r !== 1 / 0 && r !== -1 / 0;
      },
    _2 = c2,
    m2 = p2,
    g2 = Ee,
    y2 = I_,
    b2 = v2,
    R_ = function (t) {
      if (g2(t) !== "Number" || y2(t) || !b2(t)) return !1;
      var e = _2(t);
      return m2(e) === e;
    },
    vs = It,
    Vu = vs("%Array.prototype%"),
    x2 = vs("%RangeError%"),
    w2 = vs("%SyntaxError%"),
    T2 = vs("%TypeError%"),
    E2 = R_,
    C2 = Math.pow(2, 32) - 1,
    A_ =
      vs("%Object.setPrototypeOf%", !0) ||
      ([].__proto__ !== Vu
        ? null
        : function (r, t) {
            return (r.__proto__ = t), r;
          }),
    P2 = function (t) {
      if (!E2(t) || t < 0)
        throw new T2(
          "Assertion failed: `length` must be an integer Number >= 0"
        );
      if (t > C2) throw new x2("length is greater than (2**32 - 1)");
      var e = arguments.length > 1 ? arguments[1] : Vu,
        i = [];
      if (e !== Vu) {
        if (!A_)
          throw new w2(
            "ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]"
          );
        A_(i, e);
      }
      return t !== 0 && (i.length = t), i;
    },
    I2 = {},
    R2 = Object.freeze(
      Object.defineProperty(
        { __proto__: null, default: I2 },
        Symbol.toStringTag,
        { value: "Module" }
      )
    ),
    A2 = Qy(R2),
    Hu = typeof Map == "function" && Map.prototype,
    Xu =
      Object.getOwnPropertyDescriptor && Hu
        ? Object.getOwnPropertyDescriptor(Map.prototype, "size")
        : null,
    Ko = Hu && Xu && typeof Xu.get == "function" ? Xu.get : null,
    N2 = Hu && Map.prototype.forEach,
    $u = typeof Set == "function" && Set.prototype,
    ju =
      Object.getOwnPropertyDescriptor && $u
        ? Object.getOwnPropertyDescriptor(Set.prototype, "size")
        : null,
    Zo = $u && ju && typeof ju.get == "function" ? ju.get : null,
    S2 = $u && Set.prototype.forEach,
    O2 = typeof WeakMap == "function" && WeakMap.prototype,
    _s = O2 ? WeakMap.prototype.has : null,
    U2 = typeof WeakSet == "function" && WeakSet.prototype,
    ms = U2 ? WeakSet.prototype.has : null,
    L2 = typeof WeakRef == "function" && WeakRef.prototype,
    N_ = L2 ? WeakRef.prototype.deref : null,
    F2 = Boolean.prototype.valueOf,
    k2 = Object.prototype.toString,
    B2 = Function.prototype.toString,
    G2 = String.prototype.match,
    zu = String.prototype.slice,
    Dr = String.prototype.replace,
    M2 = String.prototype.toUpperCase,
    S_ = String.prototype.toLowerCase,
    O_ = RegExp.prototype.test,
    U_ = Array.prototype.concat,
    ir = Array.prototype.join,
    D2 = Array.prototype.slice,
    L_ = Math.floor,
    Wu = typeof BigInt == "function" ? BigInt.prototype.valueOf : null,
    Yu = Object.getOwnPropertySymbols,
    qu =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? Symbol.prototype.toString
        : null,
    hn = typeof Symbol == "function" && typeof Symbol.iterator == "object",
    ce =
      typeof Symbol == "function" &&
      Symbol.toStringTag &&
      (typeof Symbol.toStringTag === hn ? "object" : "symbol")
        ? Symbol.toStringTag
        : null,
    F_ = Object.prototype.propertyIsEnumerable,
    k_ =
      (typeof Reflect == "function"
        ? Reflect.getPrototypeOf
        : Object.getPrototypeOf) ||
      ([].__proto__ === Array.prototype
        ? function (r) {
            return r.__proto__;
          }
        : null);
  function B_(r, t) {
    if (
      r === 1 / 0 ||
      r === -1 / 0 ||
      r !== r ||
      (r && r > -1e3 && r < 1e3) ||
      O_.call(/e/, t)
    )
      return t;
    var e = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
    if (typeof r == "number") {
      var i = r < 0 ? -L_(-r) : L_(r);
      if (i !== r) {
        var n = String(i),
          s = zu.call(t, n.length + 1);
        return (
          Dr.call(n, e, "$&_") +
          "." +
          Dr.call(Dr.call(s, /([0-9]{3})/g, "$&_"), /_$/, "")
        );
      }
    }
    return Dr.call(t, e, "$&_");
  }
  var Ku = A2,
    G_ = Ku.custom,
    M_ = H_(G_) ? G_ : null,
    V2 = function r(t, e, i, n) {
      var s = e || {};
      if (
        Vr(s, "quoteStyle") &&
        s.quoteStyle !== "single" &&
        s.quoteStyle !== "double"
      )
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
      if (
        Vr(s, "maxStringLength") &&
        (typeof s.maxStringLength == "number"
          ? s.maxStringLength < 0 && s.maxStringLength !== 1 / 0
          : s.maxStringLength !== null)
      )
        throw new TypeError(
          'option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`'
        );
      var o = Vr(s, "customInspect") ? s.customInspect : !0;
      if (typeof o != "boolean" && o !== "symbol")
        throw new TypeError(
          "option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`"
        );
      if (
        Vr(s, "indent") &&
        s.indent !== null &&
        s.indent !== "	" &&
        !(parseInt(s.indent, 10) === s.indent && s.indent > 0)
      )
        throw new TypeError(
          'option "indent" must be "\\t", an integer > 0, or `null`'
        );
      if (Vr(s, "numericSeparator") && typeof s.numericSeparator != "boolean")
        throw new TypeError(
          'option "numericSeparator", if provided, must be `true` or `false`'
        );
      var l = s.numericSeparator;
      if (typeof t == "undefined") return "undefined";
      if (t === null) return "null";
      if (typeof t == "boolean") return t ? "true" : "false";
      if (typeof t == "string") return $_(t, s);
      if (typeof t == "number") {
        if (t === 0) return 1 / 0 / t > 0 ? "0" : "-0";
        var h = String(t);
        return l ? B_(t, h) : h;
      }
      if (typeof t == "bigint") {
        var f = String(t) + "n";
        return l ? B_(t, f) : f;
      }
      var p = typeof s.depth == "undefined" ? 5 : s.depth;
      if (
        (typeof i == "undefined" && (i = 0),
        i >= p && p > 0 && typeof t == "object")
      )
        return Zu(t) ? "[Array]" : "[Object]";
      var v = sR(s, i);
      if (typeof n == "undefined") n = [];
      else if (X_(n, t) >= 0) return "[Circular]";
      function _(z, J, X) {
        if ((J && ((n = D2.call(n)), n.push(J)), X)) {
          var M = { depth: s.depth };
          return (
            Vr(s, "quoteStyle") && (M.quoteStyle = s.quoteStyle),
            r(z, M, i + 1, n)
          );
        }
        return r(z, s, i + 1, n);
      }
      if (typeof t == "function" && !V_(t)) {
        var m = K2(t),
          g = Jo(t, _);
        return (
          "[Function" +
          (m ? ": " + m : " (anonymous)") +
          "]" +
          (g.length > 0 ? " { " + ir.call(g, ", ") + " }" : "")
        );
      }
      if (H_(t)) {
        var y = hn
          ? Dr.call(String(t), /^(Symbol\(.*\))_[^)]*$/, "$1")
          : qu.call(t);
        return typeof t == "object" && !hn ? gs(y) : y;
      }
      if (rR(t)) {
        for (
          var b = "<" + S_.call(String(t.nodeName)),
            w = t.attributes || [],
            C = 0;
          C < w.length;
          C++
        )
          b += " " + w[C].name + "=" + D_(H2(w[C].value), "double", s);
        return (
          (b += ">"),
          t.childNodes && t.childNodes.length && (b += "..."),
          (b += "</" + S_.call(String(t.nodeName)) + ">"),
          b
        );
      }
      if (Zu(t)) {
        if (t.length === 0) return "[]";
        var T = Jo(t, _);
        return v && !nR(T)
          ? "[" + Qu(T, v) + "]"
          : "[ " + ir.call(T, ", ") + " ]";
      }
      if ($2(t)) {
        var A = Jo(t, _);
        return !("cause" in Error.prototype) &&
          "cause" in t &&
          !F_.call(t, "cause")
          ? "{ [" +
              String(t) +
              "] " +
              ir.call(U_.call("[cause]: " + _(t.cause), A), ", ") +
              " }"
          : A.length === 0
          ? "[" + String(t) + "]"
          : "{ [" + String(t) + "] " + ir.call(A, ", ") + " }";
      }
      if (typeof t == "object" && o) {
        if (M_ && typeof t[M_] == "function" && Ku)
          return Ku(t, { depth: p - i });
        if (o !== "symbol" && typeof t.inspect == "function")
          return t.inspect();
      }
      if (Z2(t)) {
        var I = [];
        return (
          N2.call(t, function (z, J) {
            I.push(_(J, t, !0) + " => " + _(z, t));
          }),
          j_("Map", Ko.call(t), I, v)
        );
      }
      if (tR(t)) {
        var P = [];
        return (
          S2.call(t, function (z) {
            P.push(_(z, t));
          }),
          j_("Set", Zo.call(t), P, v)
        );
      }
      if (J2(t)) return Ju("WeakMap");
      if (eR(t)) return Ju("WeakSet");
      if (Q2(t)) return Ju("WeakRef");
      if (z2(t)) return gs(_(Number(t)));
      if (Y2(t)) return gs(_(Wu.call(t)));
      if (W2(t)) return gs(F2.call(t));
      if (j2(t)) return gs(_(String(t)));
      if (!X2(t) && !V_(t)) {
        var O = Jo(t, _),
          L = k_
            ? k_(t) === Object.prototype
            : t instanceof Object || t.constructor === Object,
          N = t instanceof Object ? "" : "null prototype",
          F =
            !L && ce && Object(t) === t && ce in t
              ? zu.call(Hr(t), 8, -1)
              : N
              ? "Object"
              : "",
          H =
            L || typeof t.constructor != "function"
              ? ""
              : t.constructor.name
              ? t.constructor.name + " "
              : "",
          j =
            H +
            (F || N
              ? "[" + ir.call(U_.call([], F || [], N || []), ": ") + "] "
              : "");
        return O.length === 0
          ? j + "{}"
          : v
          ? j + "{" + Qu(O, v) + "}"
          : j + "{ " + ir.call(O, ", ") + " }";
      }
      return String(t);
    };
  function D_(r, t, e) {
    var i = (e.quoteStyle || t) === "double" ? '"' : "'";
    return i + r + i;
  }
  function H2(r) {
    return Dr.call(String(r), /"/g, "&quot;");
  }
  function Zu(r) {
    return (
      Hr(r) === "[object Array]" && (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function X2(r) {
    return (
      Hr(r) === "[object Date]" && (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function V_(r) {
    return (
      Hr(r) === "[object RegExp]" && (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function $2(r) {
    return (
      Hr(r) === "[object Error]" && (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function j2(r) {
    return (
      Hr(r) === "[object String]" && (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function z2(r) {
    return (
      Hr(r) === "[object Number]" && (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function W2(r) {
    return (
      Hr(r) === "[object Boolean]" &&
      (!ce || !(typeof r == "object" && ce in r))
    );
  }
  function H_(r) {
    if (hn) return r && typeof r == "object" && r instanceof Symbol;
    if (typeof r == "symbol") return !0;
    if (!r || typeof r != "object" || !qu) return !1;
    try {
      return qu.call(r), !0;
    } catch {}
    return !1;
  }
  function Y2(r) {
    if (!r || typeof r != "object" || !Wu) return !1;
    try {
      return Wu.call(r), !0;
    } catch {}
    return !1;
  }
  var q2 =
    Object.prototype.hasOwnProperty ||
    function (r) {
      return r in this;
    };
  function Vr(r, t) {
    return q2.call(r, t);
  }
  function Hr(r) {
    return k2.call(r);
  }
  function K2(r) {
    if (r.name) return r.name;
    var t = G2.call(B2.call(r), /^function\s*([\w$]+)/);
    return t ? t[1] : null;
  }
  function X_(r, t) {
    if (r.indexOf) return r.indexOf(t);
    for (var e = 0, i = r.length; e < i; e++) if (r[e] === t) return e;
    return -1;
  }
  function Z2(r) {
    if (!Ko || !r || typeof r != "object") return !1;
    try {
      Ko.call(r);
      try {
        Zo.call(r);
      } catch {
        return !0;
      }
      return r instanceof Map;
    } catch {}
    return !1;
  }
  function J2(r) {
    if (!_s || !r || typeof r != "object") return !1;
    try {
      _s.call(r, _s);
      try {
        ms.call(r, ms);
      } catch {
        return !0;
      }
      return r instanceof WeakMap;
    } catch {}
    return !1;
  }
  function Q2(r) {
    if (!N_ || !r || typeof r != "object") return !1;
    try {
      return N_.call(r), !0;
    } catch {}
    return !1;
  }
  function tR(r) {
    if (!Zo || !r || typeof r != "object") return !1;
    try {
      Zo.call(r);
      try {
        Ko.call(r);
      } catch {
        return !0;
      }
      return r instanceof Set;
    } catch {}
    return !1;
  }
  function eR(r) {
    if (!ms || !r || typeof r != "object") return !1;
    try {
      ms.call(r, ms);
      try {
        _s.call(r, _s);
      } catch {
        return !0;
      }
      return r instanceof WeakSet;
    } catch {}
    return !1;
  }
  function rR(r) {
    return !r || typeof r != "object"
      ? !1
      : typeof HTMLElement != "undefined" && r instanceof HTMLElement
      ? !0
      : typeof r.nodeName == "string" && typeof r.getAttribute == "function";
  }
  function $_(r, t) {
    if (r.length > t.maxStringLength) {
      var e = r.length - t.maxStringLength,
        i = "... " + e + " more character" + (e > 1 ? "s" : "");
      return $_(zu.call(r, 0, t.maxStringLength), t) + i;
    }
    var n = Dr.call(Dr.call(r, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, iR);
    return D_(n, "single", t);
  }
  function iR(r) {
    var t = r.charCodeAt(0),
      e = { 8: "b", 9: "t", 10: "n", 12: "f", 13: "r" }[t];
    return e ? "\\" + e : "\\x" + (t < 16 ? "0" : "") + M2.call(t.toString(16));
  }
  function gs(r) {
    return "Object(" + r + ")";
  }
  function Ju(r) {
    return r + " { ? }";
  }
  function j_(r, t, e, i) {
    var n = i ? Qu(e, i) : ir.call(e, ", ");
    return r + " (" + t + ") {" + n + "}";
  }
  function nR(r) {
    for (var t = 0; t < r.length; t++)
      if (
        X_(
          r[t],
          `
`
        ) >= 0
      )
        return !1;
    return !0;
  }
  function sR(r, t) {
    var e;
    if (r.indent === "	") e = "	";
    else if (typeof r.indent == "number" && r.indent > 0)
      e = ir.call(Array(r.indent + 1), " ");
    else return null;
    return { base: e, prev: ir.call(Array(t + 1), e) };
  }
  function Qu(r, t) {
    if (r.length === 0) return "";
    var e =
      `
` +
      t.prev +
      t.base;
    return (
      e +
      ir.call(r, "," + e) +
      `
` +
      t.prev
    );
  }
  function Jo(r, t) {
    var e = Zu(r),
      i = [];
    if (e) {
      i.length = r.length;
      for (var n = 0; n < r.length; n++) i[n] = Vr(r, n) ? t(r[n], r) : "";
    }
    var s = typeof Yu == "function" ? Yu(r) : [],
      o;
    if (hn) {
      o = {};
      for (var l = 0; l < s.length; l++) o["$" + s[l]] = s[l];
    }
    for (var h in r)
      !Vr(r, h) ||
        (e && String(Number(h)) === h && h < r.length) ||
        (hn && o["$" + h] instanceof Symbol) ||
        (O_.call(/[^\w$]/, h)
          ? i.push(t(h, r) + ": " + t(r[h], r))
          : i.push(h + ": " + t(r[h], r)));
    if (typeof Yu == "function")
      for (var f = 0; f < s.length; f++)
        F_.call(r, s[f]) && i.push("[" + t(s[f]) + "]: " + t(r[s[f]], r));
    return i;
  }
  var cn = function (t) {
      return typeof t == "string" || typeof t == "symbol";
    },
    oR = It,
    z_ = oR("%TypeError%"),
    aR = V2,
    lR = cn,
    uR = Ee,
    W_ = function (t, e) {
      if (uR(t) !== "Object")
        throw new z_("Assertion failed: Type(O) is not Object");
      if (!lR(e))
        throw new z_(
          "Assertion failed: IsPropertyKey(P) is not true, got " + aR(e)
        );
      return t[e];
    },
    hR = It,
    Y_ = hR("%Array%"),
    cR = !Y_.isArray && We("Object.prototype.toString"),
    q_ =
      Y_.isArray ||
      function (t) {
        return cR(t) === "[object Array]";
      },
    th = q_,
    eh = { exports: {} },
    fR = It,
    pR = It,
    dR = Gr,
    vR = pR("%TypeError%"),
    _R = function (t, e) {
      if (t.Type(e) !== "Object") return !1;
      var i = {
        "[[Configurable]]": !0,
        "[[Enumerable]]": !0,
        "[[Get]]": !0,
        "[[Set]]": !0,
        "[[Value]]": !0,
        "[[Writable]]": !0,
      };
      for (var n in e) if (dR(e, n) && !i[n]) return !1;
      if (t.IsDataDescriptor(e) && t.IsAccessorDescriptor(e))
        throw new vR(
          "Property Descriptors may not be both accessor and data descriptors"
        );
      return !0;
    },
    K_ = Jv,
    mR = It,
    Z_ = K_() && mR("%Object.defineProperty%", !0),
    J_ = K_.hasArrayLengthDefineBug(),
    gR = J_ && q_,
    yR = We,
    bR = yR("Object.prototype.propertyIsEnumerable"),
    Q_ = function (t, e, i, n, s, o) {
      if (!Z_) {
        if (
          !t(o) ||
          !o["[[Configurable]]"] ||
          !o["[[Writable]]"] ||
          (s in n && bR(n, s) !== !!o["[[Enumerable]]"])
        )
          return !1;
        var l = o["[[Value]]"];
        return (n[s] = l), e(n[s], l);
      }
      return J_ &&
        s === "length" &&
        "[[Value]]" in o &&
        gR(n) &&
        n.length !== o["[[Value]]"]
        ? ((n.length = o["[[Value]]"]), n.length === o["[[Value]]"])
        : (Z_(n, s, i(o)), !0);
    },
    tm = Gr,
    xR = function (t) {
      return (
        tm(t, "[[StartIndex]]") &&
        tm(t, "[[EndIndex]]") &&
        t["[[StartIndex]]"] >= 0 &&
        t["[[EndIndex]]"] >= t["[[StartIndex]]"] &&
        String(parseInt(t["[[StartIndex]]"], 10)) ===
          String(t["[[StartIndex]]"]) &&
        String(parseInt(t["[[EndIndex]]"], 10)) === String(t["[[EndIndex]]"])
      );
    },
    em = It,
    rm = em("%TypeError%"),
    wR = em("%SyntaxError%"),
    Qo = Gr,
    TR = xR,
    ER = {
      "Property Descriptor": function (t) {
        var e = {
          "[[Configurable]]": !0,
          "[[Enumerable]]": !0,
          "[[Get]]": !0,
          "[[Set]]": !0,
          "[[Value]]": !0,
          "[[Writable]]": !0,
        };
        for (var i in t) if (Qo(t, i) && !e[i]) return !1;
        var n = Qo(t, "[[Value]]"),
          s = Qo(t, "[[Get]]") || Qo(t, "[[Set]]");
        if (n && s)
          throw new rm(
            "Property Descriptors may not be both accessor and data descriptors"
          );
        return !0;
      },
      "Match Record": TR,
    },
    rh = function (t, e, i, n) {
      var s = ER[e];
      if (typeof s != "function") throw new wR("unknown record type: " + e);
      if (t(n) !== "Object" || !s(n)) throw new rm(i + " must be a " + e);
    },
    CR = function (t) {
      if (typeof t == "undefined") return t;
      var e = {};
      return (
        "[[Value]]" in t && (e.value = t["[[Value]]"]),
        "[[Writable]]" in t && (e.writable = !!t["[[Writable]]"]),
        "[[Get]]" in t && (e.get = t["[[Get]]"]),
        "[[Set]]" in t && (e.set = t["[[Set]]"]),
        "[[Enumerable]]" in t && (e.enumerable = !!t["[[Enumerable]]"]),
        "[[Configurable]]" in t && (e.configurable = !!t["[[Configurable]]"]),
        e
      );
    },
    PR = rh,
    IR = CR,
    RR = Ee,
    im = function (t) {
      return (
        typeof t != "undefined" && PR(RR, "Property Descriptor", "Desc", t),
        IR(t)
      );
    },
    nm = Gr,
    AR = rh,
    NR = Ee,
    SR = function (t) {
      return !(
        typeof t == "undefined" ||
        (AR(NR, "Property Descriptor", "Desc", t),
        !nm(t, "[[Get]]") && !nm(t, "[[Set]]"))
      );
    },
    sm = Gr,
    OR = rh,
    UR = Ee,
    om = function (t) {
      return !(
        typeof t == "undefined" ||
        (OR(UR, "Property Descriptor", "Desc", t),
        !sm(t, "[[Value]]") && !sm(t, "[[Writable]]"))
      );
    },
    am = I_,
    lm = function (t, e) {
      return t === e ? (t === 0 ? 1 / t === 1 / e : !0) : am(t) && am(e);
    },
    um = function (t) {
      return !!t;
    },
    hm = Function.prototype.toString,
    fn = typeof Reflect == "object" && Reflect !== null && Reflect.apply,
    ih,
    ta;
  if (typeof fn == "function" && typeof Object.defineProperty == "function")
    try {
      (ih = Object.defineProperty({}, "length", {
        get: function () {
          throw ta;
        },
      })),
        (ta = {}),
        fn(
          function () {
            throw 42;
          },
          null,
          ih
        );
    } catch (r) {
      r !== ta && (fn = null);
    }
  else fn = null;
  var LR = /^\s*class\b/,
    nh = function (t) {
      try {
        var e = hm.call(t);
        return LR.test(e);
      } catch {
        return !1;
      }
    },
    FR = function (t) {
      try {
        return nh(t) ? !1 : (hm.call(t), !0);
      } catch {
        return !1;
      }
    },
    kR = Object.prototype.toString,
    BR = "[object Function]",
    GR = "[object GeneratorFunction]",
    MR = typeof Symbol == "function" && !!Symbol.toStringTag,
    cm =
      typeof document == "object" &&
      typeof document.all == "undefined" &&
      document.all !== void 0
        ? document.all
        : {},
    fm = fn
      ? function (t) {
          if (t === cm) return !0;
          if (!t || (typeof t != "function" && typeof t != "object")) return !1;
          if (typeof t == "function" && !t.prototype) return !0;
          try {
            fn(t, null, ih);
          } catch (e) {
            if (e !== ta) return !1;
          }
          return !nh(t);
        }
      : function (t) {
          if (t === cm) return !0;
          if (!t || (typeof t != "function" && typeof t != "object")) return !1;
          if (typeof t == "function" && !t.prototype) return !0;
          if (MR) return FR(t);
          if (nh(t)) return !1;
          var e = kR.call(t);
          return e === BR || e === GR;
        },
    pm = fm,
    nr = Gr,
    DR = It,
    ea = DR("%TypeError%"),
    VR = Ee,
    sh = um,
    dm = pm,
    vm = function (t) {
      if (VR(t) !== "Object")
        throw new ea("ToPropertyDescriptor requires an object");
      var e = {};
      if (
        (nr(t, "enumerable") && (e["[[Enumerable]]"] = sh(t.enumerable)),
        nr(t, "configurable") && (e["[[Configurable]]"] = sh(t.configurable)),
        nr(t, "value") && (e["[[Value]]"] = t.value),
        nr(t, "writable") && (e["[[Writable]]"] = sh(t.writable)),
        nr(t, "get"))
      ) {
        var i = t.get;
        if (typeof i != "undefined" && !dm(i))
          throw new ea("getter must be a function");
        e["[[Get]]"] = i;
      }
      if (nr(t, "set")) {
        var n = t.set;
        if (typeof n != "undefined" && !dm(n))
          throw new ea("setter must be a function");
        e["[[Set]]"] = n;
      }
      if (
        (nr(e, "[[Get]]") || nr(e, "[[Set]]")) &&
        (nr(e, "[[Value]]") || nr(e, "[[Writable]]"))
      )
        throw new ea(
          "Invalid property descriptor. Cannot both specify accessors and a value or writable attribute"
        );
      return e;
    },
    HR = It,
    oh = HR("%TypeError%"),
    _m = _R,
    XR = Q_,
    $R = im,
    mm = SR,
    ah = om,
    jR = cn,
    zR = lm,
    WR = vm,
    lh = Ee,
    YR = function (t, e, i) {
      if (lh(t) !== "Object")
        throw new oh("Assertion failed: Type(O) is not Object");
      if (!jR(e))
        throw new oh("Assertion failed: IsPropertyKey(P) is not true");
      var n = _m(
        { Type: lh, IsDataDescriptor: ah, IsAccessorDescriptor: mm },
        i
      )
        ? i
        : WR(i);
      if (!_m({ Type: lh, IsDataDescriptor: ah, IsAccessorDescriptor: mm }, n))
        throw new oh(
          "Assertion failed: Desc is not a valid Property Descriptor"
        );
      return XR(ah, zR, $R, t, e, n);
    },
    qR = fR,
    gm = qR("%Reflect.construct%", !0),
    ra = YR;
  try {
    ra({}, "", { "[[Get]]": function () {} });
  } catch {
    ra = null;
  }
  if (ra && gm) {
    var ym = {},
      bm = {};
    ra(bm, "length", {
      "[[Get]]": function () {
        throw ym;
      },
      "[[Enumerable]]": !0,
    }),
      (eh.exports = function (t) {
        try {
          gm(t, bm);
        } catch (e) {
          return e === ym;
        }
      });
  } else
    eh.exports = function (t) {
      return typeof t == "function" && !!t.prototype;
    };
  var xm = It,
    wm = xm("%Symbol.species%", !0),
    Tm = xm("%TypeError%"),
    Em = P2,
    Cm = W_,
    KR = th,
    ZR = eh.exports,
    JR = R_,
    QR = Ee,
    tA = function (t, e) {
      if (!JR(e) || e < 0)
        throw new Tm("Assertion failed: length must be an integer >= 0");
      var i = KR(t);
      if (!i) return Em(e);
      var n = Cm(t, "constructor");
      if (
        (wm &&
          QR(n) === "Object" &&
          ((n = Cm(n, wm)), n === null && (n = void 0)),
        typeof n == "undefined")
      )
        return Em(e);
      if (!ZR(n)) throw new Tm("C must be a constructor");
      return new n(e);
    },
    Pm = It,
    eA = We,
    rA = Pm("%TypeError%"),
    iA = th,
    nA = Pm("%Reflect.apply%", !0) || eA("%Function.prototype.apply%"),
    sA = function (t, e) {
      var i = arguments.length > 2 ? arguments[2] : [];
      if (!iA(i))
        throw new rA(
          "Assertion failed: optional `argumentsList`, if provided, must be a List"
        );
      return nA(t, e, i);
    },
    oA = It,
    ia = oA("%Object.getOwnPropertyDescriptor%", !0);
  if (ia)
    try {
      ia([], "length");
    } catch {
      ia = null;
    }
  var aA = ia,
    uh = We,
    Im = zo(),
    Rm,
    Am,
    hh,
    ch;
  if (Im) {
    (Rm = uh("Object.prototype.hasOwnProperty")),
      (Am = uh("RegExp.prototype.exec")),
      (hh = {});
    var fh = function () {
      throw hh;
    };
    (ch = { toString: fh, valueOf: fh }),
      typeof Symbol.toPrimitive == "symbol" && (ch[Symbol.toPrimitive] = fh);
  }
  var lA = uh("Object.prototype.toString"),
    uA = Object.getOwnPropertyDescriptor,
    hA = "[object RegExp]",
    cA = Im
      ? function (t) {
          if (!t || typeof t != "object") return !1;
          var e = uA(t, "lastIndex"),
            i = e && Rm(e, "value");
          if (!i) return !1;
          try {
            Am(t, ch);
          } catch (n) {
            return n === hh;
          }
        }
      : function (t) {
          return !t || (typeof t != "object" && typeof t != "function")
            ? !1
            : lA(t) === hA;
        },
    fA = It,
    Nm = fA("%Symbol.match%", !0),
    pA = cA,
    dA = um,
    vA = function (t) {
      if (!t || typeof t != "object") return !1;
      if (Nm) {
        var e = t[Nm];
        if (typeof e != "undefined") return dA(e);
      }
      return pA(t);
    },
    _A = It,
    Sm = aA,
    Om = _A("%TypeError%"),
    mA = We,
    gA = mA("Object.prototype.propertyIsEnumerable"),
    yA = Gr,
    bA = th,
    xA = cn,
    wA = vA,
    TA = vm,
    EA = Ee,
    CA = function (t, e) {
      if (EA(t) !== "Object")
        throw new Om("Assertion failed: O must be an Object");
      if (!xA(e)) throw new Om("Assertion failed: P must be a Property Key");
      if (!!yA(t, e)) {
        if (!Sm) {
          var i = bA(t) && e === "length",
            n = wA(t) && e === "lastIndex";
          return {
            "[[Configurable]]": !(i || n),
            "[[Enumerable]]": gA(t, e),
            "[[Value]]": t[e],
            "[[Writable]]": !0,
          };
        }
        return TA(Sm(t, e));
      }
    },
    Um = function (t) {
      return t === null || (typeof t != "function" && typeof t != "object");
    },
    Lm = It,
    PA = Lm("%Object.preventExtensions%", !0),
    IA = Lm("%Object.isExtensible%", !0),
    Fm = Um,
    RA = PA
      ? function (t) {
          return !Fm(t) && IA(t);
        }
      : function (t) {
          return !Fm(t);
        },
    AA = It,
    km = AA("%TypeError%"),
    NA = Q_,
    SA = im,
    OA = CA,
    UA = om,
    LA = RA,
    FA = cn,
    kA = lm,
    BA = Ee,
    GA = function (t, e, i) {
      if (BA(t) !== "Object")
        throw new km("Assertion failed: Type(O) is not Object");
      if (!FA(e))
        throw new km("Assertion failed: IsPropertyKey(P) is not true");
      var n = OA(t, e),
        s = !n || LA(t),
        o = n && !n["[[Configurable]]"];
      return o || !s
        ? !1
        : NA(UA, kA, SA, t, e, {
            "[[Configurable]]": !0,
            "[[Enumerable]]": !0,
            "[[Value]]": i,
            "[[Writable]]": !0,
          });
    },
    MA = It,
    ph = MA("%TypeError%"),
    DA = GA,
    VA = cn,
    HA = Ee,
    XA = function (t, e, i) {
      if (HA(t) !== "Object")
        throw new ph("Assertion failed: Type(O) is not Object");
      if (!VA(e))
        throw new ph("Assertion failed: IsPropertyKey(P) is not true");
      var n = DA(t, e, i);
      if (!n) throw new ph("unable to create data property");
      return n;
    },
    $A = It,
    Bm = $A("%TypeError%"),
    jA = cn,
    zA = Ee,
    WA = function (t, e) {
      if (zA(t) !== "Object")
        throw new Bm("Assertion failed: `O` must be an Object");
      if (!jA(e)) throw new Bm("Assertion failed: `P` must be a Property Key");
      return e in t;
    },
    YA = We,
    qA = YA("RegExp.prototype.exec"),
    KA = function (t) {
      return function (i) {
        return qA(t, i) !== null;
      };
    },
    ZA = function (t) {
      return t === null || (typeof t != "function" && typeof t != "object");
    },
    JA = Date.prototype.getDay,
    QA = function (t) {
      try {
        return JA.call(t), !0;
      } catch {
        return !1;
      }
    },
    tN = Object.prototype.toString,
    eN = "[object Date]",
    rN = zo(),
    iN = function (t) {
      return typeof t != "object" || t === null
        ? !1
        : rN
        ? QA(t)
        : tN.call(t) === eN;
    },
    dh = { exports: {} },
    nN = Object.prototype.toString,
    sN = Nu();
  if (sN) {
    var oN = Symbol.prototype.toString,
      aN = /^Symbol\(.*\)$/,
      lN = function (t) {
        return typeof t.valueOf() != "symbol" ? !1 : aN.test(oN.call(t));
      };
    dh.exports = function (t) {
      if (typeof t == "symbol") return !0;
      if (nN.call(t) !== "[object Symbol]") return !1;
      try {
        return lN(t);
      } catch {
        return !1;
      }
    };
  } else
    dh.exports = function (t) {
      return !1;
    };
  var uN = typeof Symbol == "function" && typeof Symbol.iterator == "symbol",
    vh = ZA,
    Gm = fm,
    hN = iN,
    Mm = dh.exports,
    cN = function (t, e) {
      if (typeof t == "undefined" || t === null)
        throw new TypeError("Cannot call method on " + t);
      if (typeof e != "string" || (e !== "number" && e !== "string"))
        throw new TypeError('hint must be "string" or "number"');
      var i =
          e === "string" ? ["toString", "valueOf"] : ["valueOf", "toString"],
        n,
        s,
        o;
      for (o = 0; o < i.length; ++o)
        if (((n = t[i[o]]), Gm(n) && ((s = n.call(t)), vh(s)))) return s;
      throw new TypeError("No default value");
    },
    fN = function (t, e) {
      var i = t[e];
      if (i !== null && typeof i != "undefined") {
        if (!Gm(i))
          throw new TypeError(
            i +
              " returned for property " +
              e +
              " of object " +
              t +
              " is not a function"
          );
        return i;
      }
    },
    pN = function (t) {
      if (vh(t)) return t;
      var e = "default";
      arguments.length > 1 &&
        (arguments[1] === String
          ? (e = "string")
          : arguments[1] === Number && (e = "number"));
      var i;
      if (
        (uN &&
          (Symbol.toPrimitive
            ? (i = fN(t, Symbol.toPrimitive))
            : Mm(t) && (i = Symbol.prototype.valueOf)),
        typeof i != "undefined")
      ) {
        var n = i.call(t, e);
        if (vh(n)) return n;
        throw new TypeError("unable to convert exotic object to primitive");
      }
      return (
        e === "default" && (hN(t) || Mm(t)) && (e = "string"),
        cN(t, e === "default" ? "number" : e)
      );
    },
    Dm = pN,
    dN = function (t) {
      return arguments.length > 1 ? Dm(t, arguments[1]) : Dm(t);
    },
    na = It,
    Vm = na("%TypeError%"),
    Hm = na("%Number%"),
    vN = na("%RegExp%"),
    Xm = na("%parseInt%"),
    $m = We,
    sa = KA,
    _N = Um,
    jm = $m("String.prototype.slice"),
    mN = sa(/^0b[01]+$/i),
    gN = sa(/^0o[0-7]+$/i),
    yN = sa(/^[-+]0x[0-9a-f]+$/i),
    bN = ["\x85", "\u200B", "\uFFFE"].join(""),
    xN = new vN("[" + bN + "]", "g"),
    wN = sa(xN),
    zm = [
      `	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,
      "\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028",
      "\u2029\uFEFF",
    ].join(""),
    TN = new RegExp("(^[" + zm + "]+)|([" + zm + "]+$)", "g"),
    EN = $m("String.prototype.replace"),
    CN = function (r) {
      return EN(r, TN, "");
    },
    PN = dN,
    IN = function r(t) {
      var e = _N(t) ? t : PN(t, Hm);
      if (typeof e == "symbol")
        throw new Vm("Cannot convert a Symbol value to a number");
      if (typeof e == "bigint")
        throw new Vm("Conversion from 'BigInt' to 'number' is not allowed.");
      if (typeof e == "string") {
        if (mN(e)) return r(Xm(jm(e, 2), 2));
        if (gN(e)) return r(Xm(jm(e, 2), 8));
        if (wN(e) || yN(e)) return NaN;
        var i = CN(e);
        if (i !== e) return r(i);
      }
      return Hm(e);
    },
    RN = IN,
    AN = function (t) {
      return RN(t) >>> 0;
    },
    NN = It,
    SN = NN("%Object%"),
    ON = P_,
    UN = function (t) {
      return ON(t), SN(t);
    },
    Wm = It,
    LN = Wm("%String%"),
    FN = Wm("%TypeError%"),
    kN = function (t) {
      if (typeof t == "symbol")
        throw new FN("Cannot convert a Symbol value to a string");
      return LN(t);
    },
    BN = tA,
    GN = sA,
    MN = XA,
    DN = W_,
    VN = WA,
    HN = pm,
    XN = AN,
    $N = UN,
    jN = kN,
    zN = We,
    WN = a_,
    Ym = Object("a"),
    YN = Ym[0] !== "a" || !(0 in Ym),
    qN = zN("String.prototype.split"),
    qm = function (t) {
      var e = $N(this),
        i = YN && WN(e) ? qN(e, "") : e,
        n = XN(i.length);
      if (!HN(t))
        throw new TypeError("Array.prototype.map callback must be a function");
      var s;
      arguments.length > 1 && (s = arguments[1]);
      for (var o = BN(e, n), l = 0; l < n; ) {
        var h = jN(l),
          f = VN(e, h);
        if (f) {
          var p = DN(e, h),
            v = GN(t, s, [p, l, e]);
          MN(o, h, v);
        }
        l += 1;
      }
      return o;
    },
    KN = function (t) {
      var e = !0,
        i = !0,
        n = !1;
      if (typeof t == "function") {
        try {
          t.call("f", function (s, o, l) {
            typeof l != "object" && (e = !1);
          }),
            t.call(
              [null],
              function () {
                "use strict";
                i = typeof this == "string";
              },
              "x"
            );
        } catch {
          n = !0;
        }
        return !n && e && i;
      }
      return !1;
    },
    ZN = KN,
    JN = qm,
    Km = function () {
      var t = Array.prototype.map;
      return ZN(t) ? t : JN;
    },
    QN = Xo,
    tS = Km,
    eS = function () {
      var t = tS();
      return (
        QN(
          Array.prototype,
          { map: t },
          {
            map: function () {
              return Array.prototype.map !== t;
            },
          }
        ),
        t
      );
    },
    rS = Xo,
    iS = P_,
    nS = We,
    sS = qm,
    Zm = Km,
    oS = Zm(),
    aS = eS,
    lS = nS("Array.prototype.slice"),
    Jm = function (t, e) {
      return iS(t), oS.apply(t, lS(arguments, 1));
    };
  rS(Jm, { getPolyfill: Zm, implementation: sS, shim: aS });
  var uS = Jm,
    hS = $o;
  hS();
  var cS = II,
    fS = Ee,
    pS = s2,
    dS = uS,
    Qm = It,
    tg = ps.exports,
    vS = tg(Qm("%Promise.all%")),
    _S = tg(Qm("%Promise.reject%")),
    eg = function (t) {
      var e = this;
      if (fS(e) !== "Object")
        throw new TypeError("`this` value must be an object");
      var i = pS(t);
      return vS(
        e,
        dS(i, function (n) {
          var s = function (h) {
              return { status: "fulfilled", value: h };
            },
            o = function (h) {
              return { status: "rejected", reason: h };
            },
            l = cS(e, n);
          try {
            return l.then(s, o);
          } catch (h) {
            return _S(e, h);
          }
        })
      );
    },
    mS = $o,
    gS = eg,
    rg = function () {
      return (
        mS(), typeof Promise.allSettled == "function" ? Promise.allSettled : gS
      );
    },
    yS = $o,
    bS = rg,
    xS = Xo,
    wS = function () {
      yS();
      var t = bS();
      return (
        xS(
          Promise,
          { allSettled: t },
          {
            allSettled: function () {
              return Promise.allSettled !== t;
            },
          }
        ),
        t
      );
    },
    TS = ps.exports,
    ES = Xo,
    CS = $o,
    PS = eg,
    ig = rg,
    IS = wS;
  CS();
  var RS = TS(ig()),
    ng = function (t) {
      return RS(typeof this == "undefined" ? Promise : this, t);
    };
  ES(ng, { getPolyfill: ig, implementation: PS, shim: IS });
  var AS = ng;
  class NS {
    constructor({ optimize: t }) {
      (this.optimize = t),
        (this.loader = new Xe()),
        (this.resolveLoaderComplete = null),
        (this.onLoaderComplete = new Promise(
          (e) => (this.resolveLoaderComplete = e)
        )),
        (this.fonts = []),
        (this.customFonts = null),
        (this.jsons = []),
        (this.jsonMap = new Map()),
        (this.spritesheets = []),
        (this.callback = null);
    }
    addManifest(t) {
      t.forEach((e) => {
        if (e.src.includes("json")) {
          let n = e.src.replace(".json", ".png");
          this.jsons.push(e.src),
            this.loader.add(n, n),
            this.spritesheets.push(n);
        } else this.loader.add(e.src, e.src);
      });
    }
    addOthers(t) {
      t.map((e) => {
        this.loader.add(e.id || e.src, e.src);
      });
    }
    addFonts(t) {
      this.fonts.push(...t);
    }
    addCustomFonts(t) {
      this.customFonts = t;
    }
    loadFonts() {
      return new Promise((t) => {
        let e = [],
          i = {};
        const n = async () => {
            AS(e).then(() => {
              t();
            });
          },
          s = {
            loading: () => {
              n();
            },
            fontloading: (o) => {
              e.push(
                new Promise((l, h) => {
                  i[o] = { resolve: l, reject: h };
                })
              );
            },
            fontactive: (o) => {
              i[o].resolve();
            },
            fontinactive: (o) => {
              console.error(`font ${o} failed to load`), i[o].reject();
            },
          };
        this.fonts.length && (s.google = { families: this.fonts }),
          this.customFonts && (s.custom = this.customFonts),
          XP.load(s);
      });
    }
    load(t) {
      (this.callback = t),
        this.loadFonts().then(() => {
          this.loader.load(this.onComplete.bind(this));
        });
    }
    async onComplete(t, e) {
      await this.loadJsons(),
        this.resizeTextures(e),
        this.createSpritesheets(e),
        this.resolveLoaderComplete();
    }
    async loadJsons() {
      for (let t = 0; t < this.jsons.length; t++) {
        const e = this.jsons[t];
        let i = e.replace(".json", ".png");
        const s = await (await fetch(e)).json();
        this.jsonMap.set(i, s);
      }
    }
    resizeTextures(t) {
      for (const e in t) {
        const i = t[e];
        let n = e;
        i.tags && i.tags.tps && (n = `${n}_image`);
        const s = Sr[n];
        s &&
          (i.tags &&
            (i.tags.REPEAT && (s.wrapMode = Qe.REPEAT),
            i.tags.NEAREST && (s.scaleMode = Je.NEAREST)),
          this.optimize &&
            (!i.tags || (i.tags && !i.tags.high)) &&
            (s.type = rt.UNSIGNED_SHORT_4_4_4_4),
          we.renderer.texture.bind(s));
      }
    }
    createSpritesheets() {
      let t = [];
      this.spritesheets.forEach((e) => {
        t.push(
          new Promise((i) => {
            new zd(He[e].baseTexture, this.jsonMap.get(e)).parse(() => {
              i();
            });
          })
        );
      }),
        Promise.all(t)
          .then((e) => {
            this.callback && this.callback();
          })
          .catch((e) => {
            console.log("AssetsLoader", e.message, e);
          });
    }
  }
  class SS {
    constructor(t = {}, e) {
      this.view = new Te();
    }
    resize(t, e) {
      (this.w = we.app.screen.width),
        (this.h = we.app.screen.height),
        (this.isPortrait = this.w < this.h),
        this.onResize(this.w, this.h);
    }
    update() {}
    pause() {
      (this.paused = !0), this.onPause();
    }
    resume() {
      (this.paused = !1), this.onResume();
    }
    show() {
      this.onShow();
    }
    hide() {
      this.onHide();
    }
    onShow() {}
    onPause() {}
    onResume() {}
    onResize(t, e) {}
    onHide() {}
  }
  var _h = { exports: {} };
  /*! Tweakpane 3.1.0 (c) 2016 cocopon, licensed under the MIT license. */ (function (
    r,
    t
  ) {
    (function (e, i) {
      i(t);
    })(Ys, function (e) {
      class i {
        constructor(a) {
          const [u, d] = a.split("-"),
            x = u.split(".");
          (this.major = parseInt(x[0], 10)),
            (this.minor = parseInt(x[1], 10)),
            (this.patch = parseInt(x[2], 10)),
            (this.prerelease = d != null ? d : null);
        }
        toString() {
          const a = [this.major, this.minor, this.patch].join(".");
          return this.prerelease !== null ? [a, this.prerelease].join("-") : a;
        }
      }
      class n {
        constructor(a) {
          this.controller_ = a;
        }
        get element() {
          return this.controller_.view.element;
        }
        get disabled() {
          return this.controller_.viewProps.get("disabled");
        }
        set disabled(a) {
          this.controller_.viewProps.set("disabled", a);
        }
        get hidden() {
          return this.controller_.viewProps.get("hidden");
        }
        set hidden(a) {
          this.controller_.viewProps.set("hidden", a);
        }
        dispose() {
          this.controller_.viewProps.set("disposed", !0);
        }
      }
      class s {
        constructor(a) {
          this.target = a;
        }
      }
      class o extends s {
        constructor(a, u, d, x) {
          super(a),
            (this.value = u),
            (this.presetKey = d),
            (this.last = x != null ? x : !0);
        }
      }
      class l extends s {
        constructor(a, u, d) {
          super(a), (this.value = u), (this.presetKey = d);
        }
      }
      class h extends s {
        constructor(a, u) {
          super(a), (this.expanded = u);
        }
      }
      class f extends s {
        constructor(a, u) {
          super(a), (this.index = u);
        }
      }
      function p(c) {
        return c;
      }
      function v(c) {
        return c == null;
      }
      function _(c, a) {
        if (c.length !== a.length) return !1;
        for (let u = 0; u < c.length; u++) if (c[u] !== a[u]) return !1;
        return !0;
      }
      const m = {
        alreadydisposed: () => "View has been already disposed",
        invalidparams: (c) => `Invalid parameters for '${c.name}'`,
        nomatchingcontroller: (c) => `No matching controller for '${c.key}'`,
        nomatchingview: (c) =>
          `No matching view for '${JSON.stringify(c.params)}'`,
        notbindable: () => "Value is not bindable",
        propertynotfound: (c) => `Property '${c.name}' not found`,
        shouldneverhappen: () => "This error should never happen",
      };
      class g {
        constructor(a) {
          var u;
          (this.message =
            (u = m[a.type](a.context)) !== null && u !== void 0
              ? u
              : "Unexpected error"),
            (this.name = this.constructor.name),
            (this.stack = new Error(this.message).stack),
            (this.type = a.type);
        }
        static alreadyDisposed() {
          return new g({ type: "alreadydisposed" });
        }
        static notBindable() {
          return new g({ type: "notbindable" });
        }
        static propertyNotFound(a) {
          return new g({ type: "propertynotfound", context: { name: a } });
        }
        static shouldNeverHappen() {
          return new g({ type: "shouldneverhappen" });
        }
      }
      class y {
        constructor(a, u, d) {
          (this.obj_ = a),
            (this.key_ = u),
            (this.presetKey_ = d != null ? d : u);
        }
        static isBindable(a) {
          return !(a === null || typeof a != "object");
        }
        get key() {
          return this.key_;
        }
        get presetKey() {
          return this.presetKey_;
        }
        read() {
          return this.obj_[this.key_];
        }
        write(a) {
          this.obj_[this.key_] = a;
        }
        writeProperty(a, u) {
          const d = this.read();
          if (!y.isBindable(d)) throw g.notBindable();
          if (!(a in d)) throw g.propertyNotFound(a);
          d[a] = u;
        }
      }
      class b extends n {
        get label() {
          return this.controller_.props.get("label");
        }
        set label(a) {
          this.controller_.props.set("label", a);
        }
        get title() {
          var a;
          return (a = this.controller_.valueController.props.get("title")) !==
            null && a !== void 0
            ? a
            : "";
        }
        set title(a) {
          this.controller_.valueController.props.set("title", a);
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.controller_.valueController.emitter.on(a, () => {
              d(new s(this));
            }),
            this
          );
        }
      }
      class w {
        constructor() {
          this.observers_ = {};
        }
        on(a, u) {
          let d = this.observers_[a];
          return (
            d || (d = this.observers_[a] = []), d.push({ handler: u }), this
          );
        }
        off(a, u) {
          const d = this.observers_[a];
          return (
            d && (this.observers_[a] = d.filter((x) => x.handler !== u)), this
          );
        }
        emit(a, u) {
          const d = this.observers_[a];
          !d ||
            d.forEach((x) => {
              x.handler(u);
            });
        }
      }
      const C = "tp";
      function T(c) {
        return (u, d) =>
          [C, "-", c, "v", u ? `_${u}` : "", d ? `-${d}` : ""].join("");
      }
      function A(c, a) {
        return (u) => a(c(u));
      }
      function I(c) {
        return c.rawValue;
      }
      function P(c, a) {
        c.emitter.on("change", A(I, a)), a(c.rawValue);
      }
      function O(c, a, u) {
        P(c.value(a), u);
      }
      function L(c, a, u) {
        u ? c.classList.add(a) : c.classList.remove(a);
      }
      function N(c, a) {
        return (u) => {
          L(c, a, u);
        };
      }
      function F(c, a) {
        P(c, (u) => {
          a.textContent = u != null ? u : "";
        });
      }
      const H = T("btn");
      class j {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(H()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("button");
          d.classList.add(H("b")),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.buttonElement = d);
          const x = a.createElement("div");
          x.classList.add(H("t")),
            F(u.props.value("title"), x),
            this.buttonElement.appendChild(x);
        }
      }
      class z {
        constructor(a, u) {
          (this.emitter = new w()),
            (this.onClick_ = this.onClick_.bind(this)),
            (this.props = u.props),
            (this.viewProps = u.viewProps),
            (this.view = new j(a, {
              props: this.props,
              viewProps: this.viewProps,
            })),
            this.view.buttonElement.addEventListener("click", this.onClick_);
        }
        onClick_() {
          this.emitter.emit("click", { sender: this });
        }
      }
      class J {
        constructor(a, u) {
          var d;
          (this.constraint_ = u == null ? void 0 : u.constraint),
            (this.equals_ =
              (d = u == null ? void 0 : u.equals) !== null && d !== void 0
                ? d
                : (x, R) => x === R),
            (this.emitter = new w()),
            (this.rawValue_ = a);
        }
        get constraint() {
          return this.constraint_;
        }
        get rawValue() {
          return this.rawValue_;
        }
        set rawValue(a) {
          this.setRawValue(a, { forceEmit: !1, last: !0 });
        }
        setRawValue(a, u) {
          const d = u != null ? u : { forceEmit: !1, last: !0 },
            x = this.constraint_ ? this.constraint_.constrain(a) : a;
          (!!this.equals_(this.rawValue_, x) && !d.forceEmit) ||
            (this.emitter.emit("beforechange", { sender: this }),
            (this.rawValue_ = x),
            this.emitter.emit("change", {
              options: d,
              rawValue: x,
              sender: this,
            }));
        }
      }
      class X {
        constructor(a) {
          (this.emitter = new w()), (this.value_ = a);
        }
        get rawValue() {
          return this.value_;
        }
        set rawValue(a) {
          this.setRawValue(a, { forceEmit: !1, last: !0 });
        }
        setRawValue(a, u) {
          const d = u != null ? u : { forceEmit: !1, last: !0 };
          (this.value_ === a && !d.forceEmit) ||
            (this.emitter.emit("beforechange", { sender: this }),
            (this.value_ = a),
            this.emitter.emit("change", {
              options: d,
              rawValue: this.value_,
              sender: this,
            }));
        }
      }
      function M(c, a) {
        const u = a == null ? void 0 : a.constraint,
          d = a == null ? void 0 : a.equals;
        return !u && !d ? new X(c) : new J(c, a);
      }
      class D {
        constructor(a) {
          (this.emitter = new w()), (this.valMap_ = a);
          for (const u in this.valMap_)
            this.valMap_[u].emitter.on("change", () => {
              this.emitter.emit("change", { key: u, sender: this });
            });
        }
        static createCore(a) {
          return Object.keys(a).reduce(
            (d, x) => Object.assign(d, { [x]: M(a[x]) }),
            {}
          );
        }
        static fromObject(a) {
          const u = this.createCore(a);
          return new D(u);
        }
        get(a) {
          return this.valMap_[a].rawValue;
        }
        set(a, u) {
          this.valMap_[a].rawValue = u;
        }
        value(a) {
          return this.valMap_[a];
        }
      }
      function lt(c, a) {
        const d = Object.keys(a).reduce((x, R) => {
          if (x === void 0) return;
          const U = a[R],
            V = U(c[R]);
          return V.succeeded
            ? Object.assign(Object.assign({}, x), { [R]: V.value })
            : void 0;
        }, {});
        return d;
      }
      function at(c, a) {
        return c.reduce((u, d) => {
          if (u === void 0) return;
          const x = a(d);
          if (!(!x.succeeded || x.value === void 0)) return [...u, x.value];
        }, []);
      }
      function B(c) {
        return c === null ? !1 : typeof c == "object";
      }
      function Y(c) {
        return (a) => (u) => {
          if (!a && u === void 0) return { succeeded: !1, value: void 0 };
          if (a && u === void 0) return { succeeded: !0, value: void 0 };
          const d = c(u);
          return d !== void 0
            ? { succeeded: !0, value: d }
            : { succeeded: !1, value: void 0 };
        };
      }
      function tt(c) {
        return {
          custom: (a) => Y(a)(c),
          boolean: Y((a) => (typeof a == "boolean" ? a : void 0))(c),
          number: Y((a) => (typeof a == "number" ? a : void 0))(c),
          string: Y((a) => (typeof a == "string" ? a : void 0))(c),
          function: Y((a) => (typeof a == "function" ? a : void 0))(c),
          constant: (a) => Y((u) => (u === a ? a : void 0))(c),
          raw: Y((a) => a)(c),
          object: (a) =>
            Y((u) => {
              if (!!B(u)) return lt(u, a);
            })(c),
          array: (a) =>
            Y((u) => {
              if (!!Array.isArray(u)) return at(u, a);
            })(c),
        };
      }
      const q = { optional: tt(!0), required: tt(!1) };
      function K(c, a) {
        const u = q.required.object(a)(c);
        return u.succeeded ? u.value : void 0;
      }
      function _t(c) {
        return c && c.parentElement && c.parentElement.removeChild(c), null;
      }
      function Et() {
        return ["veryfirst", "first", "last", "verylast"];
      }
      const Ut = T(""),
        Bt = { veryfirst: "vfst", first: "fst", last: "lst", verylast: "vlst" };
      class bt {
        constructor(a) {
          (this.parent_ = null),
            (this.blade = a.blade),
            (this.view = a.view),
            (this.viewProps = a.viewProps);
          const u = this.view.element;
          this.blade.value("positions").emitter.on("change", () => {
            Et().forEach((d) => {
              u.classList.remove(Ut(void 0, Bt[d]));
            }),
              this.blade.get("positions").forEach((d) => {
                u.classList.add(Ut(void 0, Bt[d]));
              });
          }),
            this.viewProps.handleDispose(() => {
              _t(u);
            });
        }
        get parent() {
          return this.parent_;
        }
      }
      const mt = "http://www.w3.org/2000/svg";
      function pt(c) {
        c.offsetHeight;
      }
      function Rt(c, a) {
        const u = c.style.transition;
        (c.style.transition = "none"), a(), (c.style.transition = u);
      }
      function ut(c) {
        return c.ontouchstart !== void 0;
      }
      function Zt() {
        return new Function("return this")();
      }
      function $t() {
        return Zt().document;
      }
      function ct(c) {
        const a = c.ownerDocument.defaultView;
        return a && "document" in a ? c.getContext("2d") : null;
      }
      const ye = {
        check: '<path d="M2 8l4 4l8 -8"/>',
        dropdown: '<path d="M5 7h6l-3 3 z"/>',
        p2dpad:
          '<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>',
      };
      function Ne(c, a) {
        const u = c.createElementNS(mt, "svg");
        return (u.innerHTML = ye[a]), u;
      }
      function Tr(c, a, u) {
        c.insertBefore(a, c.children[u]);
      }
      function Ni(c) {
        c.parentElement && c.parentElement.removeChild(c);
      }
      function Zr(c) {
        for (; c.children.length > 0; ) c.removeChild(c.children[0]);
      }
      function In(c) {
        for (; c.childNodes.length > 0; ) c.removeChild(c.childNodes[0]);
      }
      function Si(c) {
        return c.relatedTarget
          ? c.relatedTarget
          : "explicitOriginalTarget" in c
          ? c.explicitOriginalTarget
          : null;
      }
      const Oi = T("lbl");
      function nc(c, a) {
        const u = c.createDocumentFragment();
        return (
          a
            .split(
              `
`
            )
            .map((x) => c.createTextNode(x))
            .forEach((x, R) => {
              R > 0 && u.appendChild(c.createElement("br")), u.appendChild(x);
            }),
          u
        );
      }
      class Os {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(Oi()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("div");
          d.classList.add(Oi("l")),
            O(u.props, "label", (R) => {
              v(R)
                ? this.element.classList.add(Oi(void 0, "nol"))
                : (this.element.classList.remove(Oi(void 0, "nol")),
                  In(d),
                  d.appendChild(nc(a, R)));
            }),
            this.element.appendChild(d),
            (this.labelElement = d);
          const x = a.createElement("div");
          x.classList.add(Oi("v")),
            this.element.appendChild(x),
            (this.valueElement = x);
        }
      }
      class Rn extends bt {
        constructor(a, u) {
          const d = u.valueController.viewProps;
          super(
            Object.assign(Object.assign({}, u), {
              view: new Os(a, { props: u.props, viewProps: d }),
              viewProps: d,
            })
          ),
            (this.props = u.props),
            (this.valueController = u.valueController),
            this.view.valueElement.appendChild(
              this.valueController.view.element
            );
        }
      }
      const Pa = {
        id: "button",
        type: "blade",
        accept(c) {
          const a = q,
            u = K(c, {
              title: a.required.string,
              view: a.required.constant("button"),
              label: a.optional.string,
            });
          return u ? { params: u } : null;
        },
        controller(c) {
          return new Rn(c.document, {
            blade: c.blade,
            props: D.fromObject({ label: c.params.label }),
            valueController: new z(c.document, {
              props: D.fromObject({ title: c.params.title }),
              viewProps: c.viewProps,
            }),
          });
        },
        api(c) {
          return !(c.controller instanceof Rn) ||
            !(c.controller.valueController instanceof z)
            ? null
            : new b(c.controller);
        },
      };
      class Er extends bt {
        constructor(a) {
          super(a), (this.value = a.value);
        }
      }
      function be() {
        return new D({ positions: M([], { equals: _ }) });
      }
      class Jr extends D {
        constructor(a) {
          super(a);
        }
        static create(a) {
          const u = {
              completed: !0,
              expanded: a,
              expandedHeight: null,
              shouldFixHeight: !1,
              temporaryExpanded: null,
            },
            d = D.createCore(u);
          return new Jr(d);
        }
        get styleExpanded() {
          var a;
          return (a = this.get("temporaryExpanded")) !== null && a !== void 0
            ? a
            : this.get("expanded");
        }
        get styleHeight() {
          if (!this.styleExpanded) return "0";
          const a = this.get("expandedHeight");
          return this.get("shouldFixHeight") && !v(a) ? `${a}px` : "auto";
        }
        bindExpandedClass(a, u) {
          const d = () => {
            this.styleExpanded ? a.classList.add(u) : a.classList.remove(u);
          };
          O(this, "expanded", d), O(this, "temporaryExpanded", d);
        }
        cleanUpTransition() {
          this.set("shouldFixHeight", !1),
            this.set("expandedHeight", null),
            this.set("completed", !0);
        }
      }
      function E(c, a) {
        let u = 0;
        return (
          Rt(a, () => {
            c.set("expandedHeight", null),
              c.set("temporaryExpanded", !0),
              pt(a),
              (u = a.clientHeight),
              c.set("temporaryExpanded", null),
              pt(a);
          }),
          u
        );
      }
      function S(c, a) {
        a.style.height = c.styleHeight;
      }
      function G(c, a) {
        c.value("expanded").emitter.on("beforechange", () => {
          c.set("completed", !1),
            v(c.get("expandedHeight")) && c.set("expandedHeight", E(c, a)),
            c.set("shouldFixHeight", !0),
            pt(a);
        }),
          c.emitter.on("change", () => {
            S(c, a);
          }),
          S(c, a),
          a.addEventListener("transitionend", (u) => {
            u.propertyName === "height" && c.cleanUpTransition();
          });
      }
      class k extends n {
        constructor(a, u) {
          super(a), (this.rackApi_ = u);
        }
      }
      function W(c, a) {
        return c.addBlade(
          Object.assign(Object.assign({}, a), { view: "button" })
        );
      }
      function Z(c, a) {
        return c.addBlade(
          Object.assign(Object.assign({}, a), { view: "folder" })
        );
      }
      function nt(c, a) {
        const u = a != null ? a : {};
        return c.addBlade(
          Object.assign(Object.assign({}, u), { view: "separator" })
        );
      }
      function xt(c, a) {
        return c.addBlade(Object.assign(Object.assign({}, a), { view: "tab" }));
      }
      class wt {
        constructor(a) {
          (this.emitter = new w()),
            (this.items_ = []),
            (this.cache_ = new Set()),
            (this.onSubListAdd_ = this.onSubListAdd_.bind(this)),
            (this.onSubListRemove_ = this.onSubListRemove_.bind(this)),
            (this.extract_ = a);
        }
        get items() {
          return this.items_;
        }
        allItems() {
          return Array.from(this.cache_);
        }
        find(a) {
          for (const u of this.allItems()) if (a(u)) return u;
          return null;
        }
        includes(a) {
          return this.cache_.has(a);
        }
        add(a, u) {
          if (this.includes(a)) throw g.shouldNeverHappen();
          const d = u !== void 0 ? u : this.items_.length;
          this.items_.splice(d, 0, a), this.cache_.add(a);
          const x = this.extract_(a);
          x &&
            (x.emitter.on("add", this.onSubListAdd_),
            x.emitter.on("remove", this.onSubListRemove_),
            x.allItems().forEach((R) => {
              this.cache_.add(R);
            })),
            this.emitter.emit("add", {
              index: d,
              item: a,
              root: this,
              target: this,
            });
        }
        remove(a) {
          const u = this.items_.indexOf(a);
          if (u < 0) return;
          this.items_.splice(u, 1), this.cache_.delete(a);
          const d = this.extract_(a);
          d &&
            (d.emitter.off("add", this.onSubListAdd_),
            d.emitter.off("remove", this.onSubListRemove_)),
            this.emitter.emit("remove", {
              index: u,
              item: a,
              root: this,
              target: this,
            });
        }
        onSubListAdd_(a) {
          this.cache_.add(a.item),
            this.emitter.emit("add", {
              index: a.index,
              item: a.item,
              root: this,
              target: a.target,
            });
        }
        onSubListRemove_(a) {
          this.cache_.delete(a.item),
            this.emitter.emit("remove", {
              index: a.index,
              item: a.item,
              root: this,
              target: a.target,
            });
        }
      }
      class Ft extends n {
        constructor(a) {
          super(a),
            (this.onBindingChange_ = this.onBindingChange_.bind(this)),
            (this.emitter_ = new w()),
            this.controller_.binding.emitter.on(
              "change",
              this.onBindingChange_
            );
        }
        get label() {
          return this.controller_.props.get("label");
        }
        set label(a) {
          this.controller_.props.set("label", a);
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
        refresh() {
          this.controller_.binding.read();
        }
        onBindingChange_(a) {
          const u = a.sender.target.read();
          this.emitter_.emit("change", {
            event: new o(
              this,
              u,
              this.controller_.binding.target.presetKey,
              a.options.last
            ),
          });
        }
      }
      class Tt extends Rn {
        constructor(a, u) {
          super(a, u), (this.binding = u.binding);
        }
      }
      class ie extends n {
        constructor(a) {
          super(a),
            (this.onBindingUpdate_ = this.onBindingUpdate_.bind(this)),
            (this.emitter_ = new w()),
            this.controller_.binding.emitter.on(
              "update",
              this.onBindingUpdate_
            );
        }
        get label() {
          return this.controller_.props.get("label");
        }
        set label(a) {
          this.controller_.props.set("label", a);
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
        refresh() {
          this.controller_.binding.read();
        }
        onBindingUpdate_(a) {
          const u = a.sender.target.read();
          this.emitter_.emit("update", {
            event: new l(this, u, this.controller_.binding.target.presetKey),
          });
        }
      }
      class te extends Rn {
        constructor(a, u) {
          super(a, u),
            (this.binding = u.binding),
            this.viewProps.bindDisabled(this.binding.ticker),
            this.viewProps.handleDispose(() => {
              this.binding.dispose();
            });
        }
      }
      function Qr(c) {
        return c instanceof Ia
          ? c.apiSet_
          : c instanceof k
          ? c.rackApi_.apiSet_
          : null;
      }
      function Ui(c, a) {
        const u = c.find((d) => d.controller_ === a);
        if (!u) throw g.shouldNeverHappen();
        return u;
      }
      function U0(c, a, u) {
        if (!y.isBindable(c)) throw g.notBindable();
        return new y(c, a, u);
      }
      class Ia extends n {
        constructor(a, u) {
          super(a),
            (this.onRackAdd_ = this.onRackAdd_.bind(this)),
            (this.onRackRemove_ = this.onRackRemove_.bind(this)),
            (this.onRackInputChange_ = this.onRackInputChange_.bind(this)),
            (this.onRackMonitorUpdate_ = this.onRackMonitorUpdate_.bind(this)),
            (this.emitter_ = new w()),
            (this.apiSet_ = new wt(Qr)),
            (this.pool_ = u);
          const d = this.controller_.rack;
          d.emitter.on("add", this.onRackAdd_),
            d.emitter.on("remove", this.onRackRemove_),
            d.emitter.on("inputchange", this.onRackInputChange_),
            d.emitter.on("monitorupdate", this.onRackMonitorUpdate_),
            d.children.forEach((x) => {
              this.setUpApi_(x);
            });
        }
        get children() {
          return this.controller_.rack.children.map((a) => Ui(this.apiSet_, a));
        }
        addInput(a, u, d) {
          const x = d != null ? d : {},
            R = this.controller_.view.element.ownerDocument,
            U = this.pool_.createInput(R, U0(a, u, x.presetKey), x),
            V = new Ft(U);
          return this.add(V, x.index);
        }
        addMonitor(a, u, d) {
          const x = d != null ? d : {},
            R = this.controller_.view.element.ownerDocument,
            U = this.pool_.createMonitor(R, U0(a, u), x),
            V = new ie(U);
          return this.add(V, x.index);
        }
        addFolder(a) {
          return Z(this, a);
        }
        addButton(a) {
          return W(this, a);
        }
        addSeparator(a) {
          return nt(this, a);
        }
        addTab(a) {
          return xt(this, a);
        }
        add(a, u) {
          this.controller_.rack.add(a.controller_, u);
          const d = this.apiSet_.find((x) => x.controller_ === a.controller_);
          return d && this.apiSet_.remove(d), this.apiSet_.add(a), a;
        }
        remove(a) {
          this.controller_.rack.remove(a.controller_);
        }
        addBlade(a) {
          const u = this.controller_.view.element.ownerDocument,
            d = this.pool_.createBlade(u, a),
            x = this.pool_.createBladeApi(d);
          return this.add(x, a.index);
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
        setUpApi_(a) {
          this.apiSet_.find((d) => d.controller_ === a) ||
            this.apiSet_.add(this.pool_.createBladeApi(a));
        }
        onRackAdd_(a) {
          this.setUpApi_(a.bladeController);
        }
        onRackRemove_(a) {
          if (a.isRoot) {
            const u = Ui(this.apiSet_, a.bladeController);
            this.apiSet_.remove(u);
          }
        }
        onRackInputChange_(a) {
          const u = a.bladeController;
          if (u instanceof Tt) {
            const d = Ui(this.apiSet_, u),
              x = u.binding;
            this.emitter_.emit("change", {
              event: new o(
                d,
                x.target.read(),
                x.target.presetKey,
                a.options.last
              ),
            });
          } else if (u instanceof Er) {
            const d = Ui(this.apiSet_, u);
            this.emitter_.emit("change", {
              event: new o(d, u.value.rawValue, void 0, a.options.last),
            });
          }
        }
        onRackMonitorUpdate_(a) {
          if (!(a.bladeController instanceof te)) throw g.shouldNeverHappen();
          const u = Ui(this.apiSet_, a.bladeController),
            d = a.bladeController.binding;
          this.emitter_.emit("update", {
            event: new l(u, d.target.read(), d.target.presetKey),
          });
        }
      }
      class sc extends k {
        constructor(a, u) {
          super(a, new Ia(a.rackController, u)),
            (this.emitter_ = new w()),
            this.controller_.foldable
              .value("expanded")
              .emitter.on("change", (d) => {
                this.emitter_.emit("fold", {
                  event: new h(this, d.sender.rawValue),
                });
              }),
            this.rackApi_.on("change", (d) => {
              this.emitter_.emit("change", { event: d });
            }),
            this.rackApi_.on("update", (d) => {
              this.emitter_.emit("update", { event: d });
            });
        }
        get expanded() {
          return this.controller_.foldable.get("expanded");
        }
        set expanded(a) {
          this.controller_.foldable.set("expanded", a);
        }
        get title() {
          return this.controller_.props.get("title");
        }
        set title(a) {
          this.controller_.props.set("title", a);
        }
        get children() {
          return this.rackApi_.children;
        }
        addInput(a, u, d) {
          return this.rackApi_.addInput(a, u, d);
        }
        addMonitor(a, u, d) {
          return this.rackApi_.addMonitor(a, u, d);
        }
        addFolder(a) {
          return this.rackApi_.addFolder(a);
        }
        addButton(a) {
          return this.rackApi_.addButton(a);
        }
        addSeparator(a) {
          return this.rackApi_.addSeparator(a);
        }
        addTab(a) {
          return this.rackApi_.addTab(a);
        }
        add(a, u) {
          return this.rackApi_.add(a, u);
        }
        remove(a) {
          this.rackApi_.remove(a);
        }
        addBlade(a) {
          return this.rackApi_.addBlade(a);
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
      }
      class oc extends bt {
        constructor(a) {
          super({
            blade: a.blade,
            view: a.view,
            viewProps: a.rackController.viewProps,
          }),
            (this.rackController = a.rackController);
        }
      }
      class lU {
        constructor(a, u) {
          const d = T(u.viewName);
          (this.element = a.createElement("div")),
            this.element.classList.add(d()),
            u.viewProps.bindClassModifiers(this.element);
        }
      }
      function uU(c, a) {
        for (let u = 0; u < c.length; u++) {
          const d = c[u];
          if (d instanceof Tt && d.binding === a) return d;
        }
        return null;
      }
      function hU(c, a) {
        for (let u = 0; u < c.length; u++) {
          const d = c[u];
          if (d instanceof te && d.binding === a) return d;
        }
        return null;
      }
      function cU(c, a) {
        for (let u = 0; u < c.length; u++) {
          const d = c[u];
          if (d instanceof Er && d.value === a) return d;
        }
        return null;
      }
      function ac(c) {
        return c instanceof Us
          ? c.rack
          : c instanceof oc
          ? c.rackController.rack
          : null;
      }
      function fU(c) {
        const a = ac(c);
        return a ? a.bcSet_ : null;
      }
      class pU {
        constructor(a) {
          var u;
          (this.onBladePositionsChange_ =
            this.onBladePositionsChange_.bind(this)),
            (this.onSetAdd_ = this.onSetAdd_.bind(this)),
            (this.onSetRemove_ = this.onSetRemove_.bind(this)),
            (this.onChildDispose_ = this.onChildDispose_.bind(this)),
            (this.onChildPositionsChange_ =
              this.onChildPositionsChange_.bind(this)),
            (this.onChildInputChange_ = this.onChildInputChange_.bind(this)),
            (this.onChildMonitorUpdate_ =
              this.onChildMonitorUpdate_.bind(this)),
            (this.onChildValueChange_ = this.onChildValueChange_.bind(this)),
            (this.onChildViewPropsChange_ =
              this.onChildViewPropsChange_.bind(this)),
            (this.onDescendantLayout_ = this.onDescendantLayout_.bind(this)),
            (this.onDescendantInputChange_ =
              this.onDescendantInputChange_.bind(this)),
            (this.onDescendantMonitorUpdate_ =
              this.onDescendantMonitorUpdate_.bind(this)),
            (this.emitter = new w()),
            (this.blade_ = a != null ? a : null),
            (u = this.blade_) === null ||
              u === void 0 ||
              u
                .value("positions")
                .emitter.on("change", this.onBladePositionsChange_),
            (this.bcSet_ = new wt(fU)),
            this.bcSet_.emitter.on("add", this.onSetAdd_),
            this.bcSet_.emitter.on("remove", this.onSetRemove_);
        }
        get children() {
          return this.bcSet_.items;
        }
        add(a, u) {
          a.parent && a.parent.remove(a),
            (a.parent_ = this),
            this.bcSet_.add(a, u);
        }
        remove(a) {
          (a.parent_ = null), this.bcSet_.remove(a);
        }
        find(a) {
          return this.bcSet_.allItems().filter((u) => u instanceof a);
        }
        onSetAdd_(a) {
          this.updatePositions_();
          const u = a.target === a.root;
          if (
            (this.emitter.emit("add", {
              bladeController: a.item,
              index: a.index,
              isRoot: u,
              sender: this,
            }),
            !u)
          )
            return;
          const d = a.item;
          if (
            (d.viewProps.emitter.on("change", this.onChildViewPropsChange_),
            d.blade
              .value("positions")
              .emitter.on("change", this.onChildPositionsChange_),
            d.viewProps.handleDispose(this.onChildDispose_),
            d instanceof Tt)
          )
            d.binding.emitter.on("change", this.onChildInputChange_);
          else if (d instanceof te)
            d.binding.emitter.on("update", this.onChildMonitorUpdate_);
          else if (d instanceof Er)
            d.value.emitter.on("change", this.onChildValueChange_);
          else {
            const x = ac(d);
            if (x) {
              const R = x.emitter;
              R.on("layout", this.onDescendantLayout_),
                R.on("inputchange", this.onDescendantInputChange_),
                R.on("monitorupdate", this.onDescendantMonitorUpdate_);
            }
          }
        }
        onSetRemove_(a) {
          this.updatePositions_();
          const u = a.target === a.root;
          if (
            (this.emitter.emit("remove", {
              bladeController: a.item,
              isRoot: u,
              sender: this,
            }),
            !u)
          )
            return;
          const d = a.item;
          if (d instanceof Tt)
            d.binding.emitter.off("change", this.onChildInputChange_);
          else if (d instanceof te)
            d.binding.emitter.off("update", this.onChildMonitorUpdate_);
          else if (d instanceof Er)
            d.value.emitter.off("change", this.onChildValueChange_);
          else {
            const x = ac(d);
            if (x) {
              const R = x.emitter;
              R.off("layout", this.onDescendantLayout_),
                R.off("inputchange", this.onDescendantInputChange_),
                R.off("monitorupdate", this.onDescendantMonitorUpdate_);
            }
          }
        }
        updatePositions_() {
          const a = this.bcSet_.items.filter((x) => !x.viewProps.get("hidden")),
            u = a[0],
            d = a[a.length - 1];
          this.bcSet_.items.forEach((x) => {
            const R = [];
            x === u &&
              (R.push("first"),
              (!this.blade_ ||
                this.blade_.get("positions").includes("veryfirst")) &&
                R.push("veryfirst")),
              x === d &&
                (R.push("last"),
                (!this.blade_ ||
                  this.blade_.get("positions").includes("verylast")) &&
                  R.push("verylast")),
              x.blade.set("positions", R);
          });
        }
        onChildPositionsChange_() {
          this.updatePositions_(),
            this.emitter.emit("layout", { sender: this });
        }
        onChildViewPropsChange_(a) {
          this.updatePositions_(),
            this.emitter.emit("layout", { sender: this });
        }
        onChildDispose_() {
          this.bcSet_.items
            .filter((u) => u.viewProps.get("disposed"))
            .forEach((u) => {
              this.bcSet_.remove(u);
            });
        }
        onChildInputChange_(a) {
          const u = uU(this.find(Tt), a.sender);
          if (!u) throw g.shouldNeverHappen();
          this.emitter.emit("inputchange", {
            bladeController: u,
            options: a.options,
            sender: this,
          });
        }
        onChildMonitorUpdate_(a) {
          const u = hU(this.find(te), a.sender);
          if (!u) throw g.shouldNeverHappen();
          this.emitter.emit("monitorupdate", {
            bladeController: u,
            sender: this,
          });
        }
        onChildValueChange_(a) {
          const u = cU(this.find(Er), a.sender);
          if (!u) throw g.shouldNeverHappen();
          this.emitter.emit("inputchange", {
            bladeController: u,
            options: a.options,
            sender: this,
          });
        }
        onDescendantLayout_(a) {
          this.updatePositions_(),
            this.emitter.emit("layout", { sender: this });
        }
        onDescendantInputChange_(a) {
          this.emitter.emit("inputchange", {
            bladeController: a.bladeController,
            options: a.options,
            sender: this,
          });
        }
        onDescendantMonitorUpdate_(a) {
          this.emitter.emit("monitorupdate", {
            bladeController: a.bladeController,
            sender: this,
          });
        }
        onBladePositionsChange_() {
          this.updatePositions_();
        }
      }
      class Us extends bt {
        constructor(a, u) {
          super(
            Object.assign(Object.assign({}, u), {
              view: new lU(a, { viewName: "brk", viewProps: u.viewProps }),
            })
          ),
            (this.onRackAdd_ = this.onRackAdd_.bind(this)),
            (this.onRackRemove_ = this.onRackRemove_.bind(this));
          const d = new pU(u.root ? void 0 : u.blade);
          d.emitter.on("add", this.onRackAdd_),
            d.emitter.on("remove", this.onRackRemove_),
            (this.rack = d),
            this.viewProps.handleDispose(() => {
              for (let x = this.rack.children.length - 1; x >= 0; x--)
                this.rack.children[x].viewProps.set("disposed", !0);
            });
        }
        onRackAdd_(a) {
          !a.isRoot ||
            Tr(this.view.element, a.bladeController.view.element, a.index);
        }
        onRackRemove_(a) {
          !a.isRoot || Ni(a.bladeController.view.element);
        }
      }
      const L0 = T("cnt");
      class dU {
        constructor(a, u) {
          var d;
          (this.className_ = T(
            (d = u.viewName) !== null && d !== void 0 ? d : "fld"
          )),
            (this.element = a.createElement("div")),
            this.element.classList.add(this.className_(), L0()),
            u.viewProps.bindClassModifiers(this.element),
            (this.foldable_ = u.foldable),
            this.foldable_.bindExpandedClass(
              this.element,
              this.className_(void 0, "expanded")
            ),
            O(
              this.foldable_,
              "completed",
              N(this.element, this.className_(void 0, "cpl"))
            );
          const x = a.createElement("button");
          x.classList.add(this.className_("b")),
            O(u.props, "title", (et) => {
              v(et)
                ? this.element.classList.add(this.className_(void 0, "not"))
                : this.element.classList.remove(this.className_(void 0, "not"));
            }),
            u.viewProps.bindDisabled(x),
            this.element.appendChild(x),
            (this.buttonElement = x);
          const R = a.createElement("div");
          R.classList.add(this.className_("t")),
            F(u.props.value("title"), R),
            this.buttonElement.appendChild(R),
            (this.titleElement = R);
          const U = a.createElement("div");
          U.classList.add(this.className_("m")),
            this.buttonElement.appendChild(U);
          const V = u.containerElement;
          V.classList.add(this.className_("c")),
            this.element.appendChild(V),
            (this.containerElement = V);
        }
      }
      class lc extends oc {
        constructor(a, u) {
          var d;
          const x = Jr.create(
              (d = u.expanded) !== null && d !== void 0 ? d : !0
            ),
            R = new Us(a, {
              blade: u.blade,
              root: u.root,
              viewProps: u.viewProps,
            });
          super(
            Object.assign(Object.assign({}, u), {
              rackController: R,
              view: new dU(a, {
                containerElement: R.view.element,
                foldable: x,
                props: u.props,
                viewName: u.root ? "rot" : void 0,
                viewProps: u.viewProps,
              }),
            })
          ),
            (this.onTitleClick_ = this.onTitleClick_.bind(this)),
            (this.props = u.props),
            (this.foldable = x),
            G(this.foldable, this.view.containerElement),
            this.rackController.rack.emitter.on("add", () => {
              this.foldable.cleanUpTransition();
            }),
            this.rackController.rack.emitter.on("remove", () => {
              this.foldable.cleanUpTransition();
            }),
            this.view.buttonElement.addEventListener(
              "click",
              this.onTitleClick_
            );
        }
        get document() {
          return this.view.element.ownerDocument;
        }
        onTitleClick_() {
          this.foldable.set("expanded", !this.foldable.get("expanded"));
        }
      }
      const vU = {
        id: "folder",
        type: "blade",
        accept(c) {
          const a = q,
            u = K(c, {
              title: a.required.string,
              view: a.required.constant("folder"),
              expanded: a.optional.boolean,
            });
          return u ? { params: u } : null;
        },
        controller(c) {
          return new lc(c.document, {
            blade: c.blade,
            expanded: c.params.expanded,
            props: D.fromObject({ title: c.params.title }),
            viewProps: c.viewProps,
          });
        },
        api(c) {
          return c.controller instanceof lc
            ? new sc(c.controller, c.pool)
            : null;
        },
      };
      class An extends Er {
        constructor(a, u) {
          const d = u.valueController.viewProps;
          super(
            Object.assign(Object.assign({}, u), {
              value: u.valueController.value,
              view: new Os(a, { props: u.props, viewProps: d }),
              viewProps: d,
            })
          ),
            (this.props = u.props),
            (this.valueController = u.valueController),
            this.view.valueElement.appendChild(
              this.valueController.view.element
            );
        }
      }
      class F0 extends n {}
      const k0 = T("spr");
      class _U {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(k0()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("hr");
          d.classList.add(k0("r")), this.element.appendChild(d);
        }
      }
      class B0 extends bt {
        constructor(a, u) {
          super(
            Object.assign(Object.assign({}, u), {
              view: new _U(a, { viewProps: u.viewProps }),
            })
          );
        }
      }
      const mU = {
          id: "separator",
          type: "blade",
          accept(c) {
            const u = K(c, { view: q.required.constant("separator") });
            return u ? { params: u } : null;
          },
          controller(c) {
            return new B0(c.document, {
              blade: c.blade,
              viewProps: c.viewProps,
            });
          },
          api(c) {
            return c.controller instanceof B0 ? new F0(c.controller) : null;
          },
        },
        gU = T("");
      function G0(c, a) {
        return N(c, gU(void 0, a));
      }
      class ti extends D {
        constructor(a) {
          super(a);
        }
        static create(a) {
          var u, d;
          const x = a != null ? a : {},
            R = {
              disabled: (u = x.disabled) !== null && u !== void 0 ? u : !1,
              disposed: !1,
              hidden: (d = x.hidden) !== null && d !== void 0 ? d : !1,
            },
            U = D.createCore(R);
          return new ti(U);
        }
        bindClassModifiers(a) {
          O(this, "disabled", G0(a, "disabled")),
            O(this, "hidden", G0(a, "hidden"));
        }
        bindDisabled(a) {
          O(this, "disabled", (u) => {
            a.disabled = u;
          });
        }
        bindTabIndex(a) {
          O(this, "disabled", (u) => {
            a.tabIndex = u ? -1 : 0;
          });
        }
        handleDispose(a) {
          this.value("disposed").emitter.on("change", (u) => {
            u && a();
          });
        }
      }
      const Ls = T("tbi");
      class yU {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(Ls()),
            u.viewProps.bindClassModifiers(this.element),
            O(u.props, "selected", (R) => {
              R
                ? this.element.classList.add(Ls(void 0, "sel"))
                : this.element.classList.remove(Ls(void 0, "sel"));
            });
          const d = a.createElement("button");
          d.classList.add(Ls("b")),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.buttonElement = d);
          const x = a.createElement("div");
          x.classList.add(Ls("t")),
            F(u.props.value("title"), x),
            this.buttonElement.appendChild(x),
            (this.titleElement = x);
        }
      }
      class bU {
        constructor(a, u) {
          (this.emitter = new w()),
            (this.onClick_ = this.onClick_.bind(this)),
            (this.props = u.props),
            (this.viewProps = u.viewProps),
            (this.view = new yU(a, { props: u.props, viewProps: u.viewProps })),
            this.view.buttonElement.addEventListener("click", this.onClick_);
        }
        onClick_() {
          this.emitter.emit("click", { sender: this });
        }
      }
      class M0 {
        constructor(a, u) {
          (this.onItemClick_ = this.onItemClick_.bind(this)),
            (this.ic_ = new bU(a, {
              props: u.itemProps,
              viewProps: ti.create(),
            })),
            this.ic_.emitter.on("click", this.onItemClick_),
            (this.cc_ = new Us(a, { blade: be(), viewProps: ti.create() })),
            (this.props = u.props),
            O(this.props, "selected", (d) => {
              this.itemController.props.set("selected", d),
                this.contentController.viewProps.set("hidden", !d);
            });
        }
        get itemController() {
          return this.ic_;
        }
        get contentController() {
          return this.cc_;
        }
        onItemClick_() {
          this.props.set("selected", !0);
        }
      }
      class D0 {
        constructor(a, u) {
          (this.controller_ = a), (this.rackApi_ = u);
        }
        get title() {
          var a;
          return (a = this.controller_.itemController.props.get("title")) !==
            null && a !== void 0
            ? a
            : "";
        }
        set title(a) {
          this.controller_.itemController.props.set("title", a);
        }
        get selected() {
          return this.controller_.props.get("selected");
        }
        set selected(a) {
          this.controller_.props.set("selected", a);
        }
        get children() {
          return this.rackApi_.children;
        }
        addButton(a) {
          return this.rackApi_.addButton(a);
        }
        addFolder(a) {
          return this.rackApi_.addFolder(a);
        }
        addSeparator(a) {
          return this.rackApi_.addSeparator(a);
        }
        addTab(a) {
          return this.rackApi_.addTab(a);
        }
        add(a, u) {
          this.rackApi_.add(a, u);
        }
        remove(a) {
          this.rackApi_.remove(a);
        }
        addInput(a, u, d) {
          return this.rackApi_.addInput(a, u, d);
        }
        addMonitor(a, u, d) {
          return this.rackApi_.addMonitor(a, u, d);
        }
        addBlade(a) {
          return this.rackApi_.addBlade(a);
        }
      }
      class V0 extends k {
        constructor(a, u) {
          super(a, new Ia(a.rackController, u)),
            (this.onPageAdd_ = this.onPageAdd_.bind(this)),
            (this.onPageRemove_ = this.onPageRemove_.bind(this)),
            (this.onSelect_ = this.onSelect_.bind(this)),
            (this.emitter_ = new w()),
            (this.pageApiMap_ = new Map()),
            this.rackApi_.on("change", (d) => {
              this.emitter_.emit("change", { event: d });
            }),
            this.rackApi_.on("update", (d) => {
              this.emitter_.emit("update", { event: d });
            }),
            this.controller_.tab.selectedIndex.emitter.on(
              "change",
              this.onSelect_
            ),
            this.controller_.pageSet.emitter.on("add", this.onPageAdd_),
            this.controller_.pageSet.emitter.on("remove", this.onPageRemove_),
            this.controller_.pageSet.items.forEach((d) => {
              this.setUpPageApi_(d);
            });
        }
        get pages() {
          return this.controller_.pageSet.items.map((a) => {
            const u = this.pageApiMap_.get(a);
            if (!u) throw g.shouldNeverHappen();
            return u;
          });
        }
        addPage(a) {
          const u = this.controller_.view.element.ownerDocument,
            d = new M0(u, {
              itemProps: D.fromObject({ selected: !1, title: a.title }),
              props: D.fromObject({ selected: !1 }),
            });
          this.controller_.add(d, a.index);
          const x = this.pageApiMap_.get(d);
          if (!x) throw g.shouldNeverHappen();
          return x;
        }
        removePage(a) {
          this.controller_.remove(a);
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
        setUpPageApi_(a) {
          const u = this.rackApi_.apiSet_.find(
            (x) => x.controller_ === a.contentController
          );
          if (!u) throw g.shouldNeverHappen();
          const d = new D0(a, u);
          this.pageApiMap_.set(a, d);
        }
        onPageAdd_(a) {
          this.setUpPageApi_(a.item);
        }
        onPageRemove_(a) {
          if (!this.pageApiMap_.get(a.item)) throw g.shouldNeverHappen();
          this.pageApiMap_.delete(a.item);
        }
        onSelect_(a) {
          this.emitter_.emit("select", { event: new f(this, a.rawValue) });
        }
      }
      const H0 = -1;
      class xU {
        constructor() {
          (this.onItemSelectedChange_ = this.onItemSelectedChange_.bind(this)),
            (this.empty = M(!0)),
            (this.selectedIndex = M(H0)),
            (this.items_ = []);
        }
        add(a, u) {
          const d = u != null ? u : this.items_.length;
          this.items_.splice(d, 0, a),
            a.emitter.on("change", this.onItemSelectedChange_),
            this.keepSelection_();
        }
        remove(a) {
          const u = this.items_.indexOf(a);
          u < 0 ||
            (this.items_.splice(u, 1),
            a.emitter.off("change", this.onItemSelectedChange_),
            this.keepSelection_());
        }
        keepSelection_() {
          if (this.items_.length === 0) {
            (this.selectedIndex.rawValue = H0), (this.empty.rawValue = !0);
            return;
          }
          const a = this.items_.findIndex((u) => u.rawValue);
          a < 0
            ? (this.items_.forEach((u, d) => {
                u.rawValue = d === 0;
              }),
              (this.selectedIndex.rawValue = 0))
            : (this.items_.forEach((u, d) => {
                u.rawValue = d === a;
              }),
              (this.selectedIndex.rawValue = a)),
            (this.empty.rawValue = !1);
        }
        onItemSelectedChange_(a) {
          if (a.rawValue) {
            const u = this.items_.findIndex((d) => d === a.sender);
            this.items_.forEach((d, x) => {
              d.rawValue = x === u;
            }),
              (this.selectedIndex.rawValue = u);
          } else this.keepSelection_();
        }
      }
      const Ra = T("tab");
      class wU {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(Ra(), L0()),
            u.viewProps.bindClassModifiers(this.element),
            P(u.empty, N(this.element, Ra(void 0, "nop")));
          const d = a.createElement("div");
          d.classList.add(Ra("i")),
            this.element.appendChild(d),
            (this.itemsElement = d);
          const x = u.contentsElement;
          x.classList.add(Ra("c")),
            this.element.appendChild(x),
            (this.contentsElement = x);
        }
      }
      class X0 extends oc {
        constructor(a, u) {
          const d = new Us(a, { blade: u.blade, viewProps: u.viewProps }),
            x = new xU();
          super({
            blade: u.blade,
            rackController: d,
            view: new wU(a, {
              contentsElement: d.view.element,
              empty: x.empty,
              viewProps: u.viewProps,
            }),
          }),
            (this.onPageAdd_ = this.onPageAdd_.bind(this)),
            (this.onPageRemove_ = this.onPageRemove_.bind(this)),
            (this.pageSet_ = new wt(() => null)),
            this.pageSet_.emitter.on("add", this.onPageAdd_),
            this.pageSet_.emitter.on("remove", this.onPageRemove_),
            (this.tab = x);
        }
        get pageSet() {
          return this.pageSet_;
        }
        add(a, u) {
          this.pageSet_.add(a, u);
        }
        remove(a) {
          this.pageSet_.remove(this.pageSet_.items[a]);
        }
        onPageAdd_(a) {
          const u = a.item;
          Tr(this.view.itemsElement, u.itemController.view.element, a.index),
            this.rackController.rack.add(u.contentController, a.index),
            this.tab.add(u.props.value("selected"));
        }
        onPageRemove_(a) {
          const u = a.item;
          Ni(u.itemController.view.element),
            this.rackController.rack.remove(u.contentController),
            this.tab.remove(u.props.value("selected"));
        }
      }
      const $0 = {
        id: "tab",
        type: "blade",
        accept(c) {
          const a = q,
            u = K(c, {
              pages: a.required.array(
                a.required.object({ title: a.required.string })
              ),
              view: a.required.constant("tab"),
            });
          return !u || u.pages.length === 0 ? null : { params: u };
        },
        controller(c) {
          const a = new X0(c.document, {
            blade: c.blade,
            viewProps: c.viewProps,
          });
          return (
            c.params.pages.forEach((u) => {
              const d = new M0(c.document, {
                itemProps: D.fromObject({ selected: !1, title: u.title }),
                props: D.fromObject({ selected: !1 }),
              });
              a.add(d);
            }),
            a
          );
        },
        api(c) {
          return c.controller instanceof X0
            ? new V0(c.controller, c.pool)
            : null;
        },
      };
      function TU(c, a) {
        const u = c.accept(a.params);
        if (!u) return null;
        const d = q.optional.boolean(a.params.disabled).value,
          x = q.optional.boolean(a.params.hidden).value;
        return c.controller({
          blade: be(),
          document: a.document,
          params: Object.assign(Object.assign({}, u.params), {
            disabled: d,
            hidden: x,
          }),
          viewProps: ti.create({ disabled: d, hidden: x }),
        });
      }
      class EU {
        constructor() {
          (this.disabled = !1), (this.emitter = new w());
        }
        dispose() {}
        tick() {
          this.disabled || this.emitter.emit("tick", { sender: this });
        }
      }
      class CU {
        constructor(a, u) {
          (this.disabled_ = !1),
            (this.timerId_ = null),
            (this.onTick_ = this.onTick_.bind(this)),
            (this.doc_ = a),
            (this.emitter = new w()),
            (this.interval_ = u),
            this.setTimer_();
        }
        get disabled() {
          return this.disabled_;
        }
        set disabled(a) {
          (this.disabled_ = a),
            this.disabled_ ? this.clearTimer_() : this.setTimer_();
        }
        dispose() {
          this.clearTimer_();
        }
        clearTimer_() {
          if (this.timerId_ === null) return;
          const a = this.doc_.defaultView;
          a && a.clearInterval(this.timerId_), (this.timerId_ = null);
        }
        setTimer_() {
          if ((this.clearTimer_(), this.interval_ <= 0)) return;
          const a = this.doc_.defaultView;
          a && (this.timerId_ = a.setInterval(this.onTick_, this.interval_));
        }
        onTick_() {
          this.disabled_ || this.emitter.emit("tick", { sender: this });
        }
      }
      class Fs {
        constructor(a) {
          this.constraints = a;
        }
        constrain(a) {
          return this.constraints.reduce((u, d) => d.constrain(u), a);
        }
      }
      function lr(c, a) {
        if (c instanceof a) return c;
        if (c instanceof Fs) {
          const u = c.constraints.reduce(
            (d, x) => d || (x instanceof a ? x : null),
            null
          );
          if (u) return u;
        }
        return null;
      }
      class ks {
        constructor(a) {
          this.options = a;
        }
        constrain(a) {
          const u = this.options;
          return u.length === 0 || u.filter((x) => x.value === a).length > 0
            ? a
            : u[0].value;
        }
      }
      class Nn {
        constructor(a) {
          (this.maxValue = a.max), (this.minValue = a.min);
        }
        constrain(a) {
          let u = a;
          return (
            v(this.minValue) || (u = Math.max(u, this.minValue)),
            v(this.maxValue) || (u = Math.min(u, this.maxValue)),
            u
          );
        }
      }
      class Aa {
        constructor(a, u = 0) {
          (this.step = a), (this.origin = u);
        }
        constrain(a) {
          const u = this.origin % this.step,
            d = Math.round((a - u) / this.step);
          return u + d * this.step;
        }
      }
      const uc = T("lst");
      class PU {
        constructor(a, u) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.props_ = u.props),
            (this.element = a.createElement("div")),
            this.element.classList.add(uc()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("select");
          d.classList.add(uc("s")),
            O(this.props_, "options", (R) => {
              Zr(d),
                R.forEach((U, V) => {
                  const et = a.createElement("option");
                  (et.dataset.index = String(V)),
                    (et.textContent = U.text),
                    (et.value = String(U.value)),
                    d.appendChild(et);
                });
            }),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.selectElement = d);
          const x = a.createElement("div");
          x.classList.add(uc("m")),
            x.appendChild(Ne(a, "dropdown")),
            this.element.appendChild(x),
            u.value.emitter.on("change", this.onValueChange_),
            (this.value_ = u.value),
            this.update_();
        }
        update_() {
          this.selectElement.value = String(this.value_.rawValue);
        }
        onValueChange_() {
          this.update_();
        }
      }
      class Bs {
        constructor(a, u) {
          (this.onSelectChange_ = this.onSelectChange_.bind(this)),
            (this.props = u.props),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new PU(a, {
              props: this.props,
              value: this.value,
              viewProps: this.viewProps,
            })),
            this.view.selectElement.addEventListener(
              "change",
              this.onSelectChange_
            );
        }
        onSelectChange_(a) {
          const d = a.currentTarget.selectedOptions.item(0);
          if (!d) return;
          const x = Number(d.dataset.index);
          this.value.rawValue = this.props.get("options")[x].value;
        }
      }
      const j0 = T("pop");
      class IU {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(j0()),
            u.viewProps.bindClassModifiers(this.element),
            P(u.shows, N(this.element, j0(void 0, "v")));
        }
      }
      class z0 {
        constructor(a, u) {
          (this.shows = M(!1)),
            (this.viewProps = u.viewProps),
            (this.view = new IU(a, {
              shows: this.shows,
              viewProps: this.viewProps,
            }));
        }
      }
      const W0 = T("txt");
      class RU {
        constructor(a, u) {
          (this.onChange_ = this.onChange_.bind(this)),
            (this.element = a.createElement("div")),
            this.element.classList.add(W0()),
            u.viewProps.bindClassModifiers(this.element),
            (this.props_ = u.props),
            this.props_.emitter.on("change", this.onChange_);
          const d = a.createElement("input");
          d.classList.add(W0("i")),
            (d.type = "text"),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.inputElement = d),
            u.value.emitter.on("change", this.onChange_),
            (this.value_ = u.value),
            this.refresh();
        }
        refresh() {
          const a = this.props_.get("formatter");
          this.inputElement.value = a(this.value_.rawValue);
        }
        onChange_() {
          this.refresh();
        }
      }
      class Na {
        constructor(a, u) {
          (this.onInputChange_ = this.onInputChange_.bind(this)),
            (this.parser_ = u.parser),
            (this.props = u.props),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new RU(a, {
              props: u.props,
              value: this.value,
              viewProps: this.viewProps,
            })),
            this.view.inputElement.addEventListener(
              "change",
              this.onInputChange_
            );
        }
        onInputChange_(a) {
          const d = a.currentTarget.value,
            x = this.parser_(d);
          v(x) || (this.value.rawValue = x), this.view.refresh();
        }
      }
      function AU(c) {
        return String(c);
      }
      function Y0(c) {
        return c === "false" ? !1 : !!c;
      }
      function q0(c) {
        return AU(c);
      }
      class NU {
        constructor(a) {
          this.text = a;
        }
        evaluate() {
          return Number(this.text);
        }
        toString() {
          return this.text;
        }
      }
      const SU = {
        "**": (c, a) => Math.pow(c, a),
        "*": (c, a) => c * a,
        "/": (c, a) => c / a,
        "%": (c, a) => c % a,
        "+": (c, a) => c + a,
        "-": (c, a) => c - a,
        "<<": (c, a) => c << a,
        ">>": (c, a) => c >> a,
        ">>>": (c, a) => c >>> a,
        "&": (c, a) => c & a,
        "^": (c, a) => c ^ a,
        "|": (c, a) => c | a,
      };
      class OU {
        constructor(a, u, d) {
          (this.left = u), (this.operator = a), (this.right = d);
        }
        evaluate() {
          const a = SU[this.operator];
          if (!a)
            throw new Error(`unexpected binary operator: '${this.operator}`);
          return a(this.left.evaluate(), this.right.evaluate());
        }
        toString() {
          return [
            "b(",
            this.left.toString(),
            this.operator,
            this.right.toString(),
            ")",
          ].join(" ");
        }
      }
      const UU = { "+": (c) => c, "-": (c) => -c, "~": (c) => ~c };
      class LU {
        constructor(a, u) {
          (this.operator = a), (this.expression = u);
        }
        evaluate() {
          const a = UU[this.operator];
          if (!a)
            throw new Error(`unexpected unary operator: '${this.operator}`);
          return a(this.expression.evaluate());
        }
        toString() {
          return ["u(", this.operator, this.expression.toString(), ")"].join(
            " "
          );
        }
      }
      function hc(c) {
        return (a, u) => {
          for (let d = 0; d < c.length; d++) {
            const x = c[d](a, u);
            if (x !== "") return x;
          }
          return "";
        };
      }
      function Gs(c, a) {
        var u;
        const d = c.substr(a).match(/^\s+/);
        return (u = d && d[0]) !== null && u !== void 0 ? u : "";
      }
      function FU(c, a) {
        const u = c.substr(a, 1);
        return u.match(/^[1-9]$/) ? u : "";
      }
      function Ms(c, a) {
        var u;
        const d = c.substr(a).match(/^[0-9]+/);
        return (u = d && d[0]) !== null && u !== void 0 ? u : "";
      }
      function kU(c, a) {
        const u = Ms(c, a);
        if (u !== "") return u;
        const d = c.substr(a, 1);
        if (((a += 1), d !== "-" && d !== "+")) return "";
        const x = Ms(c, a);
        return x === "" ? "" : d + x;
      }
      function cc(c, a) {
        const u = c.substr(a, 1);
        if (((a += 1), u.toLowerCase() !== "e")) return "";
        const d = kU(c, a);
        return d === "" ? "" : u + d;
      }
      function K0(c, a) {
        const u = c.substr(a, 1);
        if (u === "0") return u;
        const d = FU(c, a);
        return (a += d.length), d === "" ? "" : d + Ms(c, a);
      }
      function BU(c, a) {
        const u = K0(c, a);
        if (((a += u.length), u === "")) return "";
        const d = c.substr(a, 1);
        if (((a += d.length), d !== ".")) return "";
        const x = Ms(c, a);
        return (a += x.length), u + d + x + cc(c, a);
      }
      function GU(c, a) {
        const u = c.substr(a, 1);
        if (((a += u.length), u !== ".")) return "";
        const d = Ms(c, a);
        return (a += d.length), d === "" ? "" : u + d + cc(c, a);
      }
      function MU(c, a) {
        const u = K0(c, a);
        return (a += u.length), u === "" ? "" : u + cc(c, a);
      }
      const DU = hc([BU, GU, MU]);
      function VU(c, a) {
        var u;
        const d = c.substr(a).match(/^[01]+/);
        return (u = d && d[0]) !== null && u !== void 0 ? u : "";
      }
      function HU(c, a) {
        const u = c.substr(a, 2);
        if (((a += u.length), u.toLowerCase() !== "0b")) return "";
        const d = VU(c, a);
        return d === "" ? "" : u + d;
      }
      function XU(c, a) {
        var u;
        const d = c.substr(a).match(/^[0-7]+/);
        return (u = d && d[0]) !== null && u !== void 0 ? u : "";
      }
      function $U(c, a) {
        const u = c.substr(a, 2);
        if (((a += u.length), u.toLowerCase() !== "0o")) return "";
        const d = XU(c, a);
        return d === "" ? "" : u + d;
      }
      function jU(c, a) {
        var u;
        const d = c.substr(a).match(/^[0-9a-f]+/i);
        return (u = d && d[0]) !== null && u !== void 0 ? u : "";
      }
      function zU(c, a) {
        const u = c.substr(a, 2);
        if (((a += u.length), u.toLowerCase() !== "0x")) return "";
        const d = jU(c, a);
        return d === "" ? "" : u + d;
      }
      const WU = hc([HU, $U, zU]),
        YU = hc([WU, DU]);
      function qU(c, a) {
        const u = YU(c, a);
        return (
          (a += u.length), u === "" ? null : { evaluable: new NU(u), cursor: a }
        );
      }
      function KU(c, a) {
        const u = c.substr(a, 1);
        if (((a += u.length), u !== "(")) return null;
        const d = J0(c, a);
        if (!d) return null;
        (a = d.cursor), (a += Gs(c, a).length);
        const x = c.substr(a, 1);
        return (
          (a += x.length),
          x !== ")" ? null : { evaluable: d.evaluable, cursor: a }
        );
      }
      function ZU(c, a) {
        var u;
        return (u = qU(c, a)) !== null && u !== void 0 ? u : KU(c, a);
      }
      function Z0(c, a) {
        const u = ZU(c, a);
        if (u) return u;
        const d = c.substr(a, 1);
        if (((a += d.length), d !== "+" && d !== "-" && d !== "~")) return null;
        const x = Z0(c, a);
        return x
          ? ((a = x.cursor), { cursor: a, evaluable: new LU(d, x.evaluable) })
          : null;
      }
      function JU(c, a, u) {
        u += Gs(a, u).length;
        const d = c.filter((x) => a.startsWith(x, u))[0];
        return d
          ? ((u += d.length),
            (u += Gs(a, u).length),
            { cursor: u, operator: d })
          : null;
      }
      function QU(c, a) {
        return (u, d) => {
          const x = c(u, d);
          if (!x) return null;
          d = x.cursor;
          let R = x.evaluable;
          for (;;) {
            const U = JU(a, u, d);
            if (!U) break;
            d = U.cursor;
            const V = c(u, d);
            if (!V) return null;
            (d = V.cursor), (R = new OU(U.operator, R, V.evaluable));
          }
          return R ? { cursor: d, evaluable: R } : null;
        };
      }
      const t3 = [
        ["**"],
        ["*", "/", "%"],
        ["+", "-"],
        ["<<", ">>>", ">>"],
        ["&"],
        ["^"],
        ["|"],
      ].reduce((c, a) => QU(c, a), Z0);
      function J0(c, a) {
        return (a += Gs(c, a).length), t3(c, a);
      }
      function e3(c) {
        const a = J0(c, 0);
        return !a || a.cursor + Gs(c, a.cursor).length !== c.length
          ? null
          : a.evaluable;
      }
      function Cr(c) {
        var a;
        const u = e3(c);
        return (a = u == null ? void 0 : u.evaluate()) !== null && a !== void 0
          ? a
          : null;
      }
      function Q0(c) {
        if (typeof c == "number") return c;
        if (typeof c == "string") {
          const a = Cr(c);
          if (!v(a)) return a;
        }
        return 0;
      }
      function r3(c) {
        return String(c);
      }
      function le(c) {
        return (a) => a.toFixed(Math.max(Math.min(c, 20), 0));
      }
      const i3 = le(0);
      function Sa(c) {
        return i3(c) + "%";
      }
      function ty(c) {
        return String(c);
      }
      function fc(c) {
        return c;
      }
      function ey(c, a) {
        for (; c.length < a; ) c.push(void 0);
      }
      function n3(c) {
        const a = [];
        return ey(a, c), M(a);
      }
      function s3(c) {
        const a = c.indexOf(void 0);
        return a < 0 ? c : c.slice(0, a);
      }
      function o3(c, a) {
        const u = [...s3(c), a];
        return (
          u.length > c.length
            ? u.splice(0, u.length - c.length)
            : ey(u, c.length),
          u
        );
      }
      function Ds({ primary: c, secondary: a, forward: u, backward: d }) {
        let x = !1;
        function R(U) {
          x || ((x = !0), U(), (x = !1));
        }
        c.emitter.on("change", (U) => {
          R(() => {
            a.setRawValue(u(c, a), U.options);
          });
        }),
          a.emitter.on("change", (U) => {
            R(() => {
              c.setRawValue(d(c, a), U.options);
            }),
              R(() => {
                a.setRawValue(u(c, a), U.options);
              });
          }),
          R(() => {
            a.setRawValue(u(c, a), { forceEmit: !1, last: !0 });
          });
      }
      function xe(c, a) {
        const u = c * (a.altKey ? 0.1 : 1) * (a.shiftKey ? 10 : 1);
        return a.upKey ? +u : a.downKey ? -u : 0;
      }
      function Vs(c) {
        return {
          altKey: c.altKey,
          downKey: c.key === "ArrowDown",
          shiftKey: c.shiftKey,
          upKey: c.key === "ArrowUp",
        };
      }
      function Pr(c) {
        return {
          altKey: c.altKey,
          downKey: c.key === "ArrowLeft",
          shiftKey: c.shiftKey,
          upKey: c.key === "ArrowRight",
        };
      }
      function a3(c) {
        return c === "ArrowUp" || c === "ArrowDown";
      }
      function ry(c) {
        return a3(c) || c === "ArrowLeft" || c === "ArrowRight";
      }
      function pc(c, a) {
        var u, d;
        const x = a.ownerDocument.defaultView,
          R = a.getBoundingClientRect();
        return {
          x:
            c.pageX -
            (((u = x && x.scrollX) !== null && u !== void 0 ? u : 0) + R.left),
          y:
            c.pageY -
            (((d = x && x.scrollY) !== null && d !== void 0 ? d : 0) + R.top),
        };
      }
      class Li {
        constructor(a) {
          (this.lastTouch_ = null),
            (this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this)),
            (this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this)),
            (this.onMouseDown_ = this.onMouseDown_.bind(this)),
            (this.onTouchEnd_ = this.onTouchEnd_.bind(this)),
            (this.onTouchMove_ = this.onTouchMove_.bind(this)),
            (this.onTouchStart_ = this.onTouchStart_.bind(this)),
            (this.elem_ = a),
            (this.emitter = new w()),
            a.addEventListener("touchstart", this.onTouchStart_, {
              passive: !1,
            }),
            a.addEventListener("touchmove", this.onTouchMove_, { passive: !0 }),
            a.addEventListener("touchend", this.onTouchEnd_),
            a.addEventListener("mousedown", this.onMouseDown_);
        }
        computePosition_(a) {
          const u = this.elem_.getBoundingClientRect();
          return {
            bounds: { width: u.width, height: u.height },
            point: a ? { x: a.x, y: a.y } : null,
          };
        }
        onMouseDown_(a) {
          var u;
          a.preventDefault(),
            (u = a.currentTarget) === null || u === void 0 || u.focus();
          const d = this.elem_.ownerDocument;
          d.addEventListener("mousemove", this.onDocumentMouseMove_),
            d.addEventListener("mouseup", this.onDocumentMouseUp_),
            this.emitter.emit("down", {
              altKey: a.altKey,
              data: this.computePosition_(pc(a, this.elem_)),
              sender: this,
              shiftKey: a.shiftKey,
            });
        }
        onDocumentMouseMove_(a) {
          this.emitter.emit("move", {
            altKey: a.altKey,
            data: this.computePosition_(pc(a, this.elem_)),
            sender: this,
            shiftKey: a.shiftKey,
          });
        }
        onDocumentMouseUp_(a) {
          const u = this.elem_.ownerDocument;
          u.removeEventListener("mousemove", this.onDocumentMouseMove_),
            u.removeEventListener("mouseup", this.onDocumentMouseUp_),
            this.emitter.emit("up", {
              altKey: a.altKey,
              data: this.computePosition_(pc(a, this.elem_)),
              sender: this,
              shiftKey: a.shiftKey,
            });
        }
        onTouchStart_(a) {
          a.preventDefault();
          const u = a.targetTouches.item(0),
            d = this.elem_.getBoundingClientRect();
          this.emitter.emit("down", {
            altKey: a.altKey,
            data: this.computePosition_(
              u ? { x: u.clientX - d.left, y: u.clientY - d.top } : void 0
            ),
            sender: this,
            shiftKey: a.shiftKey,
          }),
            (this.lastTouch_ = u);
        }
        onTouchMove_(a) {
          const u = a.targetTouches.item(0),
            d = this.elem_.getBoundingClientRect();
          this.emitter.emit("move", {
            altKey: a.altKey,
            data: this.computePosition_(
              u ? { x: u.clientX - d.left, y: u.clientY - d.top } : void 0
            ),
            sender: this,
            shiftKey: a.shiftKey,
          }),
            (this.lastTouch_ = u);
        }
        onTouchEnd_(a) {
          var u;
          const d =
              (u = a.targetTouches.item(0)) !== null && u !== void 0
                ? u
                : this.lastTouch_,
            x = this.elem_.getBoundingClientRect();
          this.emitter.emit("up", {
            altKey: a.altKey,
            data: this.computePosition_(
              d ? { x: d.clientX - x.left, y: d.clientY - x.top } : void 0
            ),
            sender: this,
            shiftKey: a.shiftKey,
          });
        }
      }
      function Gt(c, a, u, d, x) {
        const R = (c - a) / (u - a);
        return d + R * (x - d);
      }
      function iy(c) {
        return String(c.toFixed(10)).split(".")[1].replace(/0+$/, "").length;
      }
      function ne(c, a, u) {
        return Math.min(Math.max(c, a), u);
      }
      function ny(c, a) {
        return ((c % a) + a) % a;
      }
      const Be = T("txt");
      class l3 {
        constructor(a, u) {
          (this.onChange_ = this.onChange_.bind(this)),
            (this.props_ = u.props),
            this.props_.emitter.on("change", this.onChange_),
            (this.element = a.createElement("div")),
            this.element.classList.add(Be(), Be(void 0, "num")),
            u.arrayPosition &&
              this.element.classList.add(Be(void 0, u.arrayPosition)),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("input");
          d.classList.add(Be("i")),
            (d.type = "text"),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.inputElement = d),
            (this.onDraggingChange_ = this.onDraggingChange_.bind(this)),
            (this.dragging_ = u.dragging),
            this.dragging_.emitter.on("change", this.onDraggingChange_),
            this.element.classList.add(Be()),
            this.inputElement.classList.add(Be("i"));
          const x = a.createElement("div");
          x.classList.add(Be("k")),
            this.element.appendChild(x),
            (this.knobElement = x);
          const R = a.createElementNS(mt, "svg");
          R.classList.add(Be("g")), this.knobElement.appendChild(R);
          const U = a.createElementNS(mt, "path");
          U.classList.add(Be("gb")),
            R.appendChild(U),
            (this.guideBodyElem_ = U);
          const V = a.createElementNS(mt, "path");
          V.classList.add(Be("gh")),
            R.appendChild(V),
            (this.guideHeadElem_ = V);
          const et = a.createElement("div");
          et.classList.add(T("tt")()),
            this.knobElement.appendChild(et),
            (this.tooltipElem_ = et),
            u.value.emitter.on("change", this.onChange_),
            (this.value = u.value),
            this.refresh();
        }
        onDraggingChange_(a) {
          if (a.rawValue === null) {
            this.element.classList.remove(Be(void 0, "drg"));
            return;
          }
          this.element.classList.add(Be(void 0, "drg"));
          const u = a.rawValue / this.props_.get("draggingScale"),
            d = u + (u > 0 ? -1 : u < 0 ? 1 : 0),
            x = ne(-d, -4, 4);
          this.guideHeadElem_.setAttributeNS(
            null,
            "d",
            [`M ${d + x},0 L${d},4 L${d + x},8`, `M ${u},-1 L${u},9`].join(" ")
          ),
            this.guideBodyElem_.setAttributeNS(null, "d", `M 0,4 L${u},4`);
          const R = this.props_.get("formatter");
          (this.tooltipElem_.textContent = R(this.value.rawValue)),
            (this.tooltipElem_.style.left = `${u}px`);
        }
        refresh() {
          const a = this.props_.get("formatter");
          this.inputElement.value = a(this.value.rawValue);
        }
        onChange_() {
          this.refresh();
        }
      }
      class Hs {
        constructor(a, u) {
          var d;
          (this.originRawValue_ = 0),
            (this.onInputChange_ = this.onInputChange_.bind(this)),
            (this.onInputKeyDown_ = this.onInputKeyDown_.bind(this)),
            (this.onInputKeyUp_ = this.onInputKeyUp_.bind(this)),
            (this.onPointerDown_ = this.onPointerDown_.bind(this)),
            (this.onPointerMove_ = this.onPointerMove_.bind(this)),
            (this.onPointerUp_ = this.onPointerUp_.bind(this)),
            (this.baseStep_ = u.baseStep),
            (this.parser_ = u.parser),
            (this.props = u.props),
            (this.sliderProps_ =
              (d = u.sliderProps) !== null && d !== void 0 ? d : null),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.dragging_ = M(null)),
            (this.view = new l3(a, {
              arrayPosition: u.arrayPosition,
              dragging: this.dragging_,
              props: this.props,
              value: this.value,
              viewProps: this.viewProps,
            })),
            this.view.inputElement.addEventListener(
              "change",
              this.onInputChange_
            ),
            this.view.inputElement.addEventListener(
              "keydown",
              this.onInputKeyDown_
            ),
            this.view.inputElement.addEventListener(
              "keyup",
              this.onInputKeyUp_
            );
          const x = new Li(this.view.knobElement);
          x.emitter.on("down", this.onPointerDown_),
            x.emitter.on("move", this.onPointerMove_),
            x.emitter.on("up", this.onPointerUp_);
        }
        constrainValue_(a) {
          var u, d;
          const x =
              (u = this.sliderProps_) === null || u === void 0
                ? void 0
                : u.get("minValue"),
            R =
              (d = this.sliderProps_) === null || d === void 0
                ? void 0
                : d.get("maxValue");
          let U = a;
          return (
            x !== void 0 && (U = Math.max(U, x)),
            R !== void 0 && (U = Math.min(U, R)),
            U
          );
        }
        onInputChange_(a) {
          const d = a.currentTarget.value,
            x = this.parser_(d);
          v(x) || (this.value.rawValue = this.constrainValue_(x)),
            this.view.refresh();
        }
        onInputKeyDown_(a) {
          const u = xe(this.baseStep_, Vs(a));
          u !== 0 &&
            this.value.setRawValue(
              this.constrainValue_(this.value.rawValue + u),
              { forceEmit: !1, last: !1 }
            );
        }
        onInputKeyUp_(a) {
          xe(this.baseStep_, Vs(a)) !== 0 &&
            this.value.setRawValue(this.value.rawValue, {
              forceEmit: !0,
              last: !0,
            });
        }
        onPointerDown_() {
          (this.originRawValue_ = this.value.rawValue),
            (this.dragging_.rawValue = 0);
        }
        computeDraggingValue_(a) {
          if (!a.point) return null;
          const u = a.point.x - a.bounds.width / 2;
          return this.constrainValue_(
            this.originRawValue_ + u * this.props.get("draggingScale")
          );
        }
        onPointerMove_(a) {
          const u = this.computeDraggingValue_(a.data);
          u !== null &&
            (this.value.setRawValue(u, { forceEmit: !1, last: !1 }),
            (this.dragging_.rawValue =
              this.value.rawValue - this.originRawValue_));
        }
        onPointerUp_(a) {
          const u = this.computeDraggingValue_(a.data);
          u !== null &&
            (this.value.setRawValue(u, { forceEmit: !0, last: !0 }),
            (this.dragging_.rawValue = null));
        }
      }
      const dc = T("sld");
      class u3 {
        constructor(a, u) {
          (this.onChange_ = this.onChange_.bind(this)),
            (this.props_ = u.props),
            this.props_.emitter.on("change", this.onChange_),
            (this.element = a.createElement("div")),
            this.element.classList.add(dc()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("div");
          d.classList.add(dc("t")),
            u.viewProps.bindTabIndex(d),
            this.element.appendChild(d),
            (this.trackElement = d);
          const x = a.createElement("div");
          x.classList.add(dc("k")),
            this.trackElement.appendChild(x),
            (this.knobElement = x),
            u.value.emitter.on("change", this.onChange_),
            (this.value = u.value),
            this.update_();
        }
        update_() {
          const a = ne(
            Gt(
              this.value.rawValue,
              this.props_.get("minValue"),
              this.props_.get("maxValue"),
              0,
              100
            ),
            0,
            100
          );
          this.knobElement.style.width = `${a}%`;
        }
        onChange_() {
          this.update_();
        }
      }
      class h3 {
        constructor(a, u) {
          (this.onKeyDown_ = this.onKeyDown_.bind(this)),
            (this.onKeyUp_ = this.onKeyUp_.bind(this)),
            (this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this)),
            (this.onPointerUp_ = this.onPointerUp_.bind(this)),
            (this.baseStep_ = u.baseStep),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.props = u.props),
            (this.view = new u3(a, {
              props: this.props,
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.ptHandler_ = new Li(this.view.trackElement)),
            this.ptHandler_.emitter.on("down", this.onPointerDownOrMove_),
            this.ptHandler_.emitter.on("move", this.onPointerDownOrMove_),
            this.ptHandler_.emitter.on("up", this.onPointerUp_),
            this.view.trackElement.addEventListener("keydown", this.onKeyDown_),
            this.view.trackElement.addEventListener("keyup", this.onKeyUp_);
        }
        handlePointerEvent_(a, u) {
          !a.point ||
            this.value.setRawValue(
              Gt(
                ne(a.point.x, 0, a.bounds.width),
                0,
                a.bounds.width,
                this.props.get("minValue"),
                this.props.get("maxValue")
              ),
              u
            );
        }
        onPointerDownOrMove_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerUp_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !0, last: !0 });
        }
        onKeyDown_(a) {
          const u = xe(this.baseStep_, Pr(a));
          u !== 0 &&
            this.value.setRawValue(this.value.rawValue + u, {
              forceEmit: !1,
              last: !1,
            });
        }
        onKeyUp_(a) {
          xe(this.baseStep_, Pr(a)) !== 0 &&
            this.value.setRawValue(this.value.rawValue, {
              forceEmit: !0,
              last: !0,
            });
        }
      }
      const vc = T("sldtxt");
      class c3 {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(vc());
          const d = a.createElement("div");
          d.classList.add(vc("s")),
            (this.sliderView_ = u.sliderView),
            d.appendChild(this.sliderView_.element),
            this.element.appendChild(d);
          const x = a.createElement("div");
          x.classList.add(vc("t")),
            (this.textView_ = u.textView),
            x.appendChild(this.textView_.element),
            this.element.appendChild(x);
        }
      }
      class _c {
        constructor(a, u) {
          (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.sliderC_ = new h3(a, {
              baseStep: u.baseStep,
              props: u.sliderProps,
              value: u.value,
              viewProps: this.viewProps,
            })),
            (this.textC_ = new Hs(a, {
              baseStep: u.baseStep,
              parser: u.parser,
              props: u.textProps,
              sliderProps: u.sliderProps,
              value: u.value,
              viewProps: u.viewProps,
            })),
            (this.view = new c3(a, {
              sliderView: this.sliderC_.view,
              textView: this.textC_.view,
            }));
        }
        get sliderController() {
          return this.sliderC_;
        }
        get textController() {
          return this.textC_;
        }
      }
      function Xs(c, a) {
        c.write(a);
      }
      function Oa(c) {
        const a = q;
        if (Array.isArray(c))
          return a.required.array(
            a.required.object({
              text: a.required.string,
              value: a.required.raw,
            })
          )(c).value;
        if (typeof c == "object") return a.required.raw(c).value;
      }
      function sy(c) {
        if (c === "inline" || c === "popup") return c;
      }
      function ei(c) {
        const a = q;
        return a.required.object({
          max: a.optional.number,
          min: a.optional.number,
          step: a.optional.number,
        })(c).value;
      }
      function oy(c) {
        if (Array.isArray(c)) return c;
        const a = [];
        return (
          Object.keys(c).forEach((u) => {
            a.push({ text: u, value: c[u] });
          }),
          a
        );
      }
      function mc(c) {
        return v(c) ? null : new ks(oy(c));
      }
      function gc(c) {
        const a = c ? lr(c, ks) : null;
        return a ? a.options : null;
      }
      function f3(c) {
        const a = c ? lr(c, Aa) : null;
        return a ? a.step : null;
      }
      function Ua(c, a) {
        const u = c && lr(c, Aa);
        return u ? iy(u.step) : Math.max(iy(a), 2);
      }
      function Sn(c) {
        const a = f3(c);
        return a != null ? a : 1;
      }
      function On(c, a) {
        var u;
        const d = c && lr(c, Aa),
          x = Math.abs(
            (u = d == null ? void 0 : d.step) !== null && u !== void 0 ? u : a
          );
        return x === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(x)) - 1);
      }
      const La = T("ckb");
      class p3 {
        constructor(a, u) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.element = a.createElement("div")),
            this.element.classList.add(La()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("label");
          d.classList.add(La("l")), this.element.appendChild(d);
          const x = a.createElement("input");
          x.classList.add(La("i")),
            (x.type = "checkbox"),
            d.appendChild(x),
            (this.inputElement = x),
            u.viewProps.bindDisabled(this.inputElement);
          const R = a.createElement("div");
          R.classList.add(La("w")), d.appendChild(R);
          const U = Ne(a, "check");
          R.appendChild(U),
            u.value.emitter.on("change", this.onValueChange_),
            (this.value = u.value),
            this.update_();
        }
        update_() {
          this.inputElement.checked = this.value.rawValue;
        }
        onValueChange_() {
          this.update_();
        }
      }
      class d3 {
        constructor(a, u) {
          (this.onInputChange_ = this.onInputChange_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new p3(a, {
              value: this.value,
              viewProps: this.viewProps,
            })),
            this.view.inputElement.addEventListener(
              "change",
              this.onInputChange_
            );
        }
        onInputChange_(a) {
          const u = a.currentTarget;
          this.value.rawValue = u.checked;
        }
      }
      function v3(c) {
        const a = [],
          u = mc(c.options);
        return u && a.push(u), new Fs(a);
      }
      const _3 = {
          id: "input-bool",
          type: "input",
          accept: (c, a) => {
            if (typeof c != "boolean") return null;
            const d = K(a, { options: q.optional.custom(Oa) });
            return d ? { initialValue: c, params: d } : null;
          },
          binding: {
            reader: (c) => Y0,
            constraint: (c) => v3(c.params),
            writer: (c) => Xs,
          },
          controller: (c) => {
            var a;
            const u = c.document,
              d = c.value,
              x = c.constraint;
            return x && lr(x, ks)
              ? new Bs(u, {
                  props: D.fromObject({
                    options: (a = gc(x)) !== null && a !== void 0 ? a : [],
                  }),
                  value: d,
                  viewProps: c.viewProps,
                })
              : new d3(u, { value: d, viewProps: c.viewProps });
          },
        },
        Fi = T("col");
      class m3 {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(Fi()),
            u.foldable.bindExpandedClass(this.element, Fi(void 0, "expanded")),
            O(u.foldable, "completed", N(this.element, Fi(void 0, "cpl")));
          const d = a.createElement("div");
          d.classList.add(Fi("h")), this.element.appendChild(d);
          const x = a.createElement("div");
          x.classList.add(Fi("s")), d.appendChild(x), (this.swatchElement = x);
          const R = a.createElement("div");
          if (
            (R.classList.add(Fi("t")),
            d.appendChild(R),
            (this.textElement = R),
            u.pickerLayout === "inline")
          ) {
            const U = a.createElement("div");
            U.classList.add(Fi("p")),
              this.element.appendChild(U),
              (this.pickerElement = U);
          } else this.pickerElement = null;
        }
      }
      function g3(c, a, u) {
        const d = ne(c / 255, 0, 1),
          x = ne(a / 255, 0, 1),
          R = ne(u / 255, 0, 1),
          U = Math.max(d, x, R),
          V = Math.min(d, x, R),
          et = U - V;
        let st = 0,
          Ct = 0;
        const Pt = (V + U) / 2;
        return (
          et !== 0 &&
            ((Ct = et / (1 - Math.abs(U + V - 1))),
            d === U
              ? (st = (x - R) / et)
              : x === U
              ? (st = 2 + (R - d) / et)
              : (st = 4 + (d - x) / et),
            (st = st / 6 + (st < 0 ? 1 : 0))),
          [st * 360, Ct * 100, Pt * 100]
        );
      }
      function y3(c, a, u) {
        const d = ((c % 360) + 360) % 360,
          x = ne(a / 100, 0, 1),
          R = ne(u / 100, 0, 1),
          U = (1 - Math.abs(2 * R - 1)) * x,
          V = U * (1 - Math.abs(((d / 60) % 2) - 1)),
          et = R - U / 2;
        let st, Ct, Pt;
        return (
          d >= 0 && d < 60
            ? ([st, Ct, Pt] = [U, V, 0])
            : d >= 60 && d < 120
            ? ([st, Ct, Pt] = [V, U, 0])
            : d >= 120 && d < 180
            ? ([st, Ct, Pt] = [0, U, V])
            : d >= 180 && d < 240
            ? ([st, Ct, Pt] = [0, V, U])
            : d >= 240 && d < 300
            ? ([st, Ct, Pt] = [V, 0, U])
            : ([st, Ct, Pt] = [U, 0, V]),
          [(st + et) * 255, (Ct + et) * 255, (Pt + et) * 255]
        );
      }
      function b3(c, a, u) {
        const d = ne(c / 255, 0, 1),
          x = ne(a / 255, 0, 1),
          R = ne(u / 255, 0, 1),
          U = Math.max(d, x, R),
          V = Math.min(d, x, R),
          et = U - V;
        let st;
        et === 0
          ? (st = 0)
          : U === d
          ? (st = 60 * (((((x - R) / et) % 6) + 6) % 6))
          : U === x
          ? (st = 60 * ((R - d) / et + 2))
          : (st = 60 * ((d - x) / et + 4));
        const Ct = U === 0 ? 0 : et / U,
          Pt = U;
        return [st, Ct * 100, Pt * 100];
      }
      function ay(c, a, u) {
        const d = ny(c, 360),
          x = ne(a / 100, 0, 1),
          R = ne(u / 100, 0, 1),
          U = R * x,
          V = U * (1 - Math.abs(((d / 60) % 2) - 1)),
          et = R - U;
        let st, Ct, Pt;
        return (
          d >= 0 && d < 60
            ? ([st, Ct, Pt] = [U, V, 0])
            : d >= 60 && d < 120
            ? ([st, Ct, Pt] = [V, U, 0])
            : d >= 120 && d < 180
            ? ([st, Ct, Pt] = [0, U, V])
            : d >= 180 && d < 240
            ? ([st, Ct, Pt] = [0, V, U])
            : d >= 240 && d < 300
            ? ([st, Ct, Pt] = [V, 0, U])
            : ([st, Ct, Pt] = [U, 0, V]),
          [(st + et) * 255, (Ct + et) * 255, (Pt + et) * 255]
        );
      }
      function x3(c, a, u) {
        const d = u + (a * (100 - Math.abs(2 * u - 100))) / 200;
        return [
          c,
          d !== 0 ? (a * (100 - Math.abs(2 * u - 100))) / d : 0,
          u + (a * (100 - Math.abs(2 * u - 100))) / (2 * 100),
        ];
      }
      function w3(c, a, u) {
        const d = 100 - Math.abs((u * (200 - a)) / 100 - 100);
        return [c, d !== 0 ? (a * u) / d : 0, (u * (200 - a)) / (2 * 100)];
      }
      function ki(c) {
        return [c[0], c[1], c[2]];
      }
      function ly(c, a) {
        return [c[0], c[1], c[2], a];
      }
      const T3 = {
        hsl: { hsl: (c, a, u) => [c, a, u], hsv: x3, rgb: y3 },
        hsv: { hsl: w3, hsv: (c, a, u) => [c, a, u], rgb: ay },
        rgb: { hsl: g3, hsv: b3, rgb: (c, a, u) => [c, a, u] },
      };
      function Fa(c, a) {
        return [
          a === "float" ? 1 : c === "rgb" ? 255 : 360,
          a === "float" ? 1 : c === "rgb" ? 255 : 100,
          a === "float" ? 1 : c === "rgb" ? 255 : 100,
        ];
      }
      function E3(c, a, u) {
        var d;
        const x = Fa(a, u);
        return [
          a === "rgb" ? ne(c[0], 0, x[0]) : ny(c[0], x[0]),
          ne(c[1], 0, x[1]),
          ne(c[2], 0, x[2]),
          ne((d = c[3]) !== null && d !== void 0 ? d : 1, 0, 1),
        ];
      }
      function uy(c, a, u, d) {
        const x = Fa(a, u),
          R = Fa(a, d);
        return c.map((U, V) => (U / x[V]) * R[V]);
      }
      function C3(c, a, u) {
        const d = uy(c, a.mode, a.type, "int"),
          x = T3[a.mode][u.mode](...d);
        return uy(x, u.mode, "int", u.type);
      }
      function ka(c, a) {
        return typeof c != "object" || v(c)
          ? !1
          : a in c && typeof c[a] == "number";
      }
      class dt {
        constructor(a, u, d = "int") {
          (this.mode = u), (this.type = d), (this.comps_ = E3(a, u, d));
        }
        static black(a = "int") {
          return new dt([0, 0, 0], "rgb", a);
        }
        static fromObject(a, u = "int") {
          const d = "a" in a ? [a.r, a.g, a.b, a.a] : [a.r, a.g, a.b];
          return new dt(d, "rgb", u);
        }
        static toRgbaObject(a, u = "int") {
          return a.toRgbaObject(u);
        }
        static isRgbColorObject(a) {
          return ka(a, "r") && ka(a, "g") && ka(a, "b");
        }
        static isRgbaColorObject(a) {
          return this.isRgbColorObject(a) && ka(a, "a");
        }
        static isColorObject(a) {
          return this.isRgbColorObject(a);
        }
        static equals(a, u) {
          if (a.mode !== u.mode) return !1;
          const d = a.comps_,
            x = u.comps_;
          for (let R = 0; R < d.length; R++) if (d[R] !== x[R]) return !1;
          return !0;
        }
        getComponents(a, u = "int") {
          return ly(
            C3(
              ki(this.comps_),
              { mode: this.mode, type: this.type },
              { mode: a != null ? a : this.mode, type: u }
            ),
            this.comps_[3]
          );
        }
        toRgbaObject(a = "int") {
          const u = this.getComponents("rgb", a);
          return { r: u[0], g: u[1], b: u[2], a: u[3] };
        }
      }
      const ri = T("colp");
      class P3 {
        constructor(a, u) {
          (this.alphaViews_ = null),
            (this.element = a.createElement("div")),
            this.element.classList.add(ri());
          const d = a.createElement("div");
          d.classList.add(ri("hsv"));
          const x = a.createElement("div");
          x.classList.add(ri("sv")),
            (this.svPaletteView_ = u.svPaletteView),
            x.appendChild(this.svPaletteView_.element),
            d.appendChild(x);
          const R = a.createElement("div");
          R.classList.add(ri("h")),
            (this.hPaletteView_ = u.hPaletteView),
            R.appendChild(this.hPaletteView_.element),
            d.appendChild(R),
            this.element.appendChild(d);
          const U = a.createElement("div");
          if (
            (U.classList.add(ri("rgb")),
            (this.textView_ = u.textView),
            U.appendChild(this.textView_.element),
            this.element.appendChild(U),
            u.alphaViews)
          ) {
            this.alphaViews_ = {
              palette: u.alphaViews.palette,
              text: u.alphaViews.text,
            };
            const V = a.createElement("div");
            V.classList.add(ri("a"));
            const et = a.createElement("div");
            et.classList.add(ri("ap")),
              et.appendChild(this.alphaViews_.palette.element),
              V.appendChild(et);
            const st = a.createElement("div");
            st.classList.add(ri("at")),
              st.appendChild(this.alphaViews_.text.element),
              V.appendChild(st),
              this.element.appendChild(V);
          }
        }
        get allFocusableElements() {
          const a = [
            this.svPaletteView_.element,
            this.hPaletteView_.element,
            this.textView_.modeSelectElement,
            ...this.textView_.textViews.map((u) => u.inputElement),
          ];
          return (
            this.alphaViews_ &&
              a.push(
                this.alphaViews_.palette.element,
                this.alphaViews_.text.inputElement
              ),
            a
          );
        }
      }
      function I3(c) {
        return c === "int" ? "int" : c === "float" ? "float" : void 0;
      }
      function yc(c) {
        const a = q;
        return K(c, {
          alpha: a.optional.boolean,
          color: a.optional.object({
            alpha: a.optional.boolean,
            type: a.optional.custom(I3),
          }),
          expanded: a.optional.boolean,
          picker: a.optional.custom(sy),
        });
      }
      function Bi(c) {
        return c ? 0.1 : 1;
      }
      function Gi(c) {
        var a;
        return (a = c.color) === null || a === void 0 ? void 0 : a.type;
      }
      function R3(c, a) {
        return (
          c.alpha === a.alpha &&
          c.mode === a.mode &&
          c.notation === a.notation &&
          c.type === a.type
        );
      }
      function Ge(c, a) {
        const u = c.match(/^(.+)%$/);
        return Math.min(u ? parseFloat(u[1]) * 0.01 * a : parseFloat(c), a);
      }
      const A3 = {
        deg: (c) => c,
        grad: (c) => (c * 360) / 400,
        rad: (c) => (c * 360) / (2 * Math.PI),
        turn: (c) => c * 360,
      };
      function hy(c) {
        const a = c.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);
        if (!a) return parseFloat(c);
        const u = parseFloat(a[1]),
          d = a[2];
        return A3[d](u);
      }
      function cy(c) {
        const a = c.match(
          /^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/
        );
        if (!a) return null;
        const u = [Ge(a[1], 255), Ge(a[2], 255), Ge(a[3], 255)];
        return isNaN(u[0]) || isNaN(u[1]) || isNaN(u[2]) ? null : u;
      }
      function fy(c) {
        return (a) => {
          const u = cy(a);
          return u ? new dt(u, "rgb", c) : null;
        };
      }
      function py(c) {
        const a = c.match(
          /^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/
        );
        if (!a) return null;
        const u = [Ge(a[1], 255), Ge(a[2], 255), Ge(a[3], 255), Ge(a[4], 1)];
        return isNaN(u[0]) || isNaN(u[1]) || isNaN(u[2]) || isNaN(u[3])
          ? null
          : u;
      }
      function dy(c) {
        return (a) => {
          const u = py(a);
          return u ? new dt(u, "rgb", c) : null;
        };
      }
      function vy(c) {
        const a = c.match(
          /^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/
        );
        if (!a) return null;
        const u = [hy(a[1]), Ge(a[2], 100), Ge(a[3], 100)];
        return isNaN(u[0]) || isNaN(u[1]) || isNaN(u[2]) ? null : u;
      }
      function _y(c) {
        return (a) => {
          const u = vy(a);
          return u ? new dt(u, "hsl", c) : null;
        };
      }
      function my(c) {
        const a = c.match(
          /^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/
        );
        if (!a) return null;
        const u = [hy(a[1]), Ge(a[2], 100), Ge(a[3], 100), Ge(a[4], 1)];
        return isNaN(u[0]) || isNaN(u[1]) || isNaN(u[2]) || isNaN(u[3])
          ? null
          : u;
      }
      function gy(c) {
        return (a) => {
          const u = my(a);
          return u ? new dt(u, "hsl", c) : null;
        };
      }
      function yy(c) {
        const a = c.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);
        if (a)
          return [
            parseInt(a[1] + a[1], 16),
            parseInt(a[2] + a[2], 16),
            parseInt(a[3] + a[3], 16),
          ];
        const u = c.match(
          /^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/
        );
        return u
          ? [parseInt(u[1], 16), parseInt(u[2], 16), parseInt(u[3], 16)]
          : null;
      }
      function N3(c) {
        const a = yy(c);
        return a ? new dt(a, "rgb", "int") : null;
      }
      function by(c) {
        const a = c.match(
          /^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/
        );
        if (a)
          return [
            parseInt(a[1] + a[1], 16),
            parseInt(a[2] + a[2], 16),
            parseInt(a[3] + a[3], 16),
            Gt(parseInt(a[4] + a[4], 16), 0, 255, 0, 1),
          ];
        const u = c.match(
          /^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/
        );
        return u
          ? [
              parseInt(u[1], 16),
              parseInt(u[2], 16),
              parseInt(u[3], 16),
              Gt(parseInt(u[4], 16), 0, 255, 0, 1),
            ]
          : null;
      }
      function S3(c) {
        const a = by(c);
        return a ? new dt(a, "rgb", "int") : null;
      }
      function xy(c) {
        const a = c.match(
          /^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/
        );
        if (!a) return null;
        const u = [parseFloat(a[1]), parseFloat(a[2]), parseFloat(a[3])];
        return isNaN(u[0]) || isNaN(u[1]) || isNaN(u[2]) ? null : u;
      }
      function wy(c) {
        return (a) => {
          const u = xy(a);
          return u ? new dt(u, "rgb", c) : null;
        };
      }
      function Ty(c) {
        const a = c.match(
          /^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/
        );
        if (!a) return null;
        const u = [
          parseFloat(a[1]),
          parseFloat(a[2]),
          parseFloat(a[3]),
          parseFloat(a[4]),
        ];
        return isNaN(u[0]) || isNaN(u[1]) || isNaN(u[2]) || isNaN(u[3])
          ? null
          : u;
      }
      function Ey(c) {
        return (a) => {
          const u = Ty(a);
          return u ? new dt(u, "rgb", c) : null;
        };
      }
      const O3 = [
        { parser: yy, result: { alpha: !1, mode: "rgb", notation: "hex" } },
        { parser: by, result: { alpha: !0, mode: "rgb", notation: "hex" } },
        { parser: cy, result: { alpha: !1, mode: "rgb", notation: "func" } },
        { parser: py, result: { alpha: !0, mode: "rgb", notation: "func" } },
        { parser: vy, result: { alpha: !1, mode: "hsl", notation: "func" } },
        { parser: my, result: { alpha: !0, mode: "hsl", notation: "func" } },
        { parser: xy, result: { alpha: !1, mode: "rgb", notation: "object" } },
        { parser: Ty, result: { alpha: !0, mode: "rgb", notation: "object" } },
      ];
      function U3(c) {
        return O3.reduce(
          (a, { parser: u, result: d }) => a || (u(c) ? d : null),
          null
        );
      }
      function bc(c, a = "int") {
        const u = U3(c);
        return u
          ? u.notation === "hex" && a !== "float"
            ? Object.assign(Object.assign({}, u), { type: "int" })
            : u.notation === "func"
            ? Object.assign(Object.assign({}, u), { type: a })
            : null
          : null;
      }
      const Cy = {
        int: [
          N3,
          S3,
          fy("int"),
          dy("int"),
          _y("int"),
          gy("int"),
          wy("int"),
          Ey("int"),
        ],
        float: [
          fy("float"),
          dy("float"),
          _y("float"),
          gy("float"),
          wy("float"),
          Ey("float"),
        ],
      };
      function L3(c) {
        const a = Cy[c];
        return (u) => {
          if (typeof u != "string") return dt.black(c);
          const d = a.reduce((x, R) => x || R(u), null);
          return d != null ? d : dt.black(c);
        };
      }
      function xc(c) {
        const a = Cy[c];
        return (u) => a.reduce((d, x) => d || x(u), null);
      }
      function Py(c) {
        const a = ne(Math.floor(c), 0, 255).toString(16);
        return a.length === 1 ? `0${a}` : a;
      }
      function Iy(c, a = "#") {
        const u = ki(c.getComponents("rgb")).map(Py).join("");
        return `${a}${u}`;
      }
      function wc(c, a = "#") {
        const u = c.getComponents("rgb"),
          d = [u[0], u[1], u[2], u[3] * 255].map(Py).join("");
        return `${a}${d}`;
      }
      function Ry(c, a) {
        const u = le(a === "float" ? 2 : 0);
        return `rgb(${ki(c.getComponents("rgb", a))
          .map((x) => u(x))
          .join(", ")})`;
      }
      function F3(c) {
        return (a) => Ry(a, c);
      }
      function Ba(c, a) {
        const u = le(2),
          d = le(a === "float" ? 2 : 0);
        return `rgba(${c
          .getComponents("rgb", a)
          .map((R, U) => (U === 3 ? u : d)(R))
          .join(", ")})`;
      }
      function k3(c) {
        return (a) => Ba(a, c);
      }
      function B3(c) {
        const a = [le(0), Sa, Sa];
        return `hsl(${ki(c.getComponents("hsl"))
          .map((d, x) => a[x](d))
          .join(", ")})`;
      }
      function G3(c) {
        const a = [le(0), Sa, Sa, le(2)];
        return `hsla(${c
          .getComponents("hsl")
          .map((d, x) => a[x](d))
          .join(", ")})`;
      }
      function Ay(c, a) {
        const u = le(a === "float" ? 2 : 0),
          d = ["r", "g", "b"];
        return `{${ki(c.getComponents("rgb", a))
          .map((R, U) => `${d[U]}: ${u(R)}`)
          .join(", ")}}`;
      }
      function M3(c) {
        return (a) => Ay(a, c);
      }
      function Ny(c, a) {
        const u = le(2),
          d = le(a === "float" ? 2 : 0),
          x = ["r", "g", "b", "a"];
        return `{${c
          .getComponents("rgb", a)
          .map((U, V) => {
            const et = V === 3 ? u : d;
            return `${x[V]}: ${et(U)}`;
          })
          .join(", ")}}`;
      }
      function D3(c) {
        return (a) => Ny(a, c);
      }
      const V3 = [
        {
          format: { alpha: !1, mode: "rgb", notation: "hex", type: "int" },
          stringifier: Iy,
        },
        {
          format: { alpha: !0, mode: "rgb", notation: "hex", type: "int" },
          stringifier: wc,
        },
        {
          format: { alpha: !1, mode: "hsl", notation: "func", type: "int" },
          stringifier: B3,
        },
        {
          format: { alpha: !0, mode: "hsl", notation: "func", type: "int" },
          stringifier: G3,
        },
        ...["int", "float"].reduce(
          (c, a) => [
            ...c,
            {
              format: { alpha: !1, mode: "rgb", notation: "func", type: a },
              stringifier: F3(a),
            },
            {
              format: { alpha: !0, mode: "rgb", notation: "func", type: a },
              stringifier: k3(a),
            },
            {
              format: { alpha: !1, mode: "rgb", notation: "object", type: a },
              stringifier: M3(a),
            },
            {
              format: { alpha: !0, mode: "rgb", notation: "object", type: a },
              stringifier: D3(a),
            },
          ],
          []
        ),
      ];
      function Tc(c) {
        return V3.reduce(
          (a, u) => a || (R3(u.format, c) ? u.stringifier : null),
          null
        );
      }
      const $s = T("apl");
      class H3 {
        constructor(a, u) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.value = u.value),
            this.value.emitter.on("change", this.onValueChange_),
            (this.element = a.createElement("div")),
            this.element.classList.add($s()),
            u.viewProps.bindTabIndex(this.element);
          const d = a.createElement("div");
          d.classList.add($s("b")), this.element.appendChild(d);
          const x = a.createElement("div");
          x.classList.add($s("c")), d.appendChild(x), (this.colorElem_ = x);
          const R = a.createElement("div");
          R.classList.add($s("m")),
            this.element.appendChild(R),
            (this.markerElem_ = R);
          const U = a.createElement("div");
          U.classList.add($s("p")),
            this.markerElem_.appendChild(U),
            (this.previewElem_ = U),
            this.update_();
        }
        update_() {
          const a = this.value.rawValue,
            u = a.getComponents("rgb"),
            d = new dt([u[0], u[1], u[2], 0], "rgb"),
            x = new dt([u[0], u[1], u[2], 255], "rgb"),
            R = ["to right", Ba(d), Ba(x)];
          (this.colorElem_.style.background = `linear-gradient(${R.join(
            ","
          )})`),
            (this.previewElem_.style.backgroundColor = Ba(a));
          const U = Gt(u[3], 0, 1, 0, 100);
          this.markerElem_.style.left = `${U}%`;
        }
        onValueChange_() {
          this.update_();
        }
      }
      class X3 {
        constructor(a, u) {
          (this.onKeyDown_ = this.onKeyDown_.bind(this)),
            (this.onKeyUp_ = this.onKeyUp_.bind(this)),
            (this.onPointerDown_ = this.onPointerDown_.bind(this)),
            (this.onPointerMove_ = this.onPointerMove_.bind(this)),
            (this.onPointerUp_ = this.onPointerUp_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new H3(a, {
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.ptHandler_ = new Li(this.view.element)),
            this.ptHandler_.emitter.on("down", this.onPointerDown_),
            this.ptHandler_.emitter.on("move", this.onPointerMove_),
            this.ptHandler_.emitter.on("up", this.onPointerUp_),
            this.view.element.addEventListener("keydown", this.onKeyDown_),
            this.view.element.addEventListener("keyup", this.onKeyUp_);
        }
        handlePointerEvent_(a, u) {
          if (!a.point) return;
          const d = a.point.x / a.bounds.width,
            x = this.value.rawValue,
            [R, U, V] = x.getComponents("hsv");
          this.value.setRawValue(new dt([R, U, V, d], "hsv"), u);
        }
        onPointerDown_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerMove_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerUp_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !0, last: !0 });
        }
        onKeyDown_(a) {
          const u = xe(Bi(!0), Pr(a));
          if (u === 0) return;
          const d = this.value.rawValue,
            [x, R, U, V] = d.getComponents("hsv");
          this.value.setRawValue(new dt([x, R, U, V + u], "hsv"), {
            forceEmit: !1,
            last: !1,
          });
        }
        onKeyUp_(a) {
          xe(Bi(!0), Pr(a)) !== 0 &&
            this.value.setRawValue(this.value.rawValue, {
              forceEmit: !0,
              last: !0,
            });
        }
      }
      const Un = T("coltxt");
      function $3(c) {
        const a = c.createElement("select"),
          u = [
            { text: "RGB", value: "rgb" },
            { text: "HSL", value: "hsl" },
            { text: "HSV", value: "hsv" },
          ];
        return (
          a.appendChild(
            u.reduce((d, x) => {
              const R = c.createElement("option");
              return (
                (R.textContent = x.text),
                (R.value = x.value),
                d.appendChild(R),
                d
              );
            }, c.createDocumentFragment())
          ),
          a
        );
      }
      class j3 {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(Un());
          const d = a.createElement("div");
          d.classList.add(Un("m")),
            (this.modeElem_ = $3(a)),
            this.modeElem_.classList.add(Un("ms")),
            d.appendChild(this.modeSelectElement);
          const x = a.createElement("div");
          x.classList.add(Un("mm")),
            x.appendChild(Ne(a, "dropdown")),
            d.appendChild(x),
            this.element.appendChild(d);
          const R = a.createElement("div");
          R.classList.add(Un("w")),
            this.element.appendChild(R),
            (this.textsElem_ = R),
            (this.textViews_ = u.textViews),
            this.applyTextViews_(),
            P(u.colorMode, (U) => {
              this.modeElem_.value = U;
            });
        }
        get modeSelectElement() {
          return this.modeElem_;
        }
        get textViews() {
          return this.textViews_;
        }
        set textViews(a) {
          (this.textViews_ = a), this.applyTextViews_();
        }
        applyTextViews_() {
          Zr(this.textsElem_);
          const a = this.element.ownerDocument;
          this.textViews_.forEach((u) => {
            const d = a.createElement("div");
            d.classList.add(Un("c")),
              d.appendChild(u.element),
              this.textsElem_.appendChild(d);
          });
        }
      }
      function z3(c) {
        return le(c === "float" ? 2 : 0);
      }
      function W3(c, a, u) {
        const d = Fa(c, a)[u];
        return new Nn({ min: 0, max: d });
      }
      function Ec(c, a, u) {
        return new Hs(c, {
          arrayPosition: u === 0 ? "fst" : u === 3 - 1 ? "lst" : "mid",
          baseStep: Bi(!1),
          parser: a.parser,
          props: D.fromObject({
            draggingScale: a.colorType === "float" ? 0.01 : 1,
            formatter: z3(a.colorType),
          }),
          value: M(0, { constraint: W3(a.colorMode, a.colorType, u) }),
          viewProps: a.viewProps,
        });
      }
      class Y3 {
        constructor(a, u) {
          (this.onModeSelectChange_ = this.onModeSelectChange_.bind(this)),
            (this.colorType_ = u.colorType),
            (this.parser_ = u.parser),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.colorMode = M(this.value.rawValue.mode)),
            (this.ccs_ = this.createComponentControllers_(a)),
            (this.view = new j3(a, {
              colorMode: this.colorMode,
              textViews: [
                this.ccs_[0].view,
                this.ccs_[1].view,
                this.ccs_[2].view,
              ],
            })),
            this.view.modeSelectElement.addEventListener(
              "change",
              this.onModeSelectChange_
            );
        }
        createComponentControllers_(a) {
          const u = {
              colorMode: this.colorMode.rawValue,
              colorType: this.colorType_,
              parser: this.parser_,
              viewProps: this.viewProps,
            },
            d = [Ec(a, u, 0), Ec(a, u, 1), Ec(a, u, 2)];
          return (
            d.forEach((x, R) => {
              Ds({
                primary: this.value,
                secondary: x.value,
                forward: (U) =>
                  U.rawValue.getComponents(
                    this.colorMode.rawValue,
                    this.colorType_
                  )[R],
                backward: (U, V) => {
                  const et = this.colorMode.rawValue,
                    st = U.rawValue.getComponents(et, this.colorType_);
                  return (
                    (st[R] = V.rawValue),
                    new dt(ly(ki(st), st[3]), et, this.colorType_)
                  );
                },
              });
            }),
            d
          );
        }
        onModeSelectChange_(a) {
          const u = a.currentTarget;
          (this.colorMode.rawValue = u.value),
            (this.ccs_ = this.createComponentControllers_(
              this.view.element.ownerDocument
            )),
            (this.view.textViews = [
              this.ccs_[0].view,
              this.ccs_[1].view,
              this.ccs_[2].view,
            ]);
        }
      }
      const Cc = T("hpl");
      class q3 {
        constructor(a, u) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.value = u.value),
            this.value.emitter.on("change", this.onValueChange_),
            (this.element = a.createElement("div")),
            this.element.classList.add(Cc()),
            u.viewProps.bindTabIndex(this.element);
          const d = a.createElement("div");
          d.classList.add(Cc("c")), this.element.appendChild(d);
          const x = a.createElement("div");
          x.classList.add(Cc("m")),
            this.element.appendChild(x),
            (this.markerElem_ = x),
            this.update_();
        }
        update_() {
          const a = this.value.rawValue,
            [u] = a.getComponents("hsv");
          this.markerElem_.style.backgroundColor = Ry(
            new dt([u, 100, 100], "hsv")
          );
          const d = Gt(u, 0, 360, 0, 100);
          this.markerElem_.style.left = `${d}%`;
        }
        onValueChange_() {
          this.update_();
        }
      }
      class K3 {
        constructor(a, u) {
          (this.onKeyDown_ = this.onKeyDown_.bind(this)),
            (this.onKeyUp_ = this.onKeyUp_.bind(this)),
            (this.onPointerDown_ = this.onPointerDown_.bind(this)),
            (this.onPointerMove_ = this.onPointerMove_.bind(this)),
            (this.onPointerUp_ = this.onPointerUp_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new q3(a, {
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.ptHandler_ = new Li(this.view.element)),
            this.ptHandler_.emitter.on("down", this.onPointerDown_),
            this.ptHandler_.emitter.on("move", this.onPointerMove_),
            this.ptHandler_.emitter.on("up", this.onPointerUp_),
            this.view.element.addEventListener("keydown", this.onKeyDown_),
            this.view.element.addEventListener("keyup", this.onKeyUp_);
        }
        handlePointerEvent_(a, u) {
          if (!a.point) return;
          const d = Gt(
              ne(a.point.x, 0, a.bounds.width),
              0,
              a.bounds.width,
              0,
              359
            ),
            x = this.value.rawValue,
            [, R, U, V] = x.getComponents("hsv");
          this.value.setRawValue(new dt([d, R, U, V], "hsv"), u);
        }
        onPointerDown_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerMove_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerUp_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !0, last: !0 });
        }
        onKeyDown_(a) {
          const u = xe(Bi(!1), Pr(a));
          if (u === 0) return;
          const d = this.value.rawValue,
            [x, R, U, V] = d.getComponents("hsv");
          this.value.setRawValue(new dt([x + u, R, U, V], "hsv"), {
            forceEmit: !1,
            last: !1,
          });
        }
        onKeyUp_(a) {
          xe(Bi(!1), Pr(a)) !== 0 &&
            this.value.setRawValue(this.value.rawValue, {
              forceEmit: !0,
              last: !0,
            });
        }
      }
      const Pc = T("svp"),
        Sy = 64;
      class Z3 {
        constructor(a, u) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.value = u.value),
            this.value.emitter.on("change", this.onValueChange_),
            (this.element = a.createElement("div")),
            this.element.classList.add(Pc()),
            u.viewProps.bindTabIndex(this.element);
          const d = a.createElement("canvas");
          (d.height = Sy),
            (d.width = Sy),
            d.classList.add(Pc("c")),
            this.element.appendChild(d),
            (this.canvasElement = d);
          const x = a.createElement("div");
          x.classList.add(Pc("m")),
            this.element.appendChild(x),
            (this.markerElem_ = x),
            this.update_();
        }
        update_() {
          const a = ct(this.canvasElement);
          if (!a) return;
          const d = this.value.rawValue.getComponents("hsv"),
            x = this.canvasElement.width,
            R = this.canvasElement.height,
            U = a.getImageData(0, 0, x, R),
            V = U.data;
          for (let Ct = 0; Ct < R; Ct++)
            for (let Pt = 0; Pt < x; Pt++) {
              const Rr = Gt(Pt, 0, x, 0, 100),
                zs = Gt(Ct, 0, R, 100, 0),
                Ws = ay(d[0], Rr, zs),
                Bn = (Ct * x + Pt) * 4;
              (V[Bn] = Ws[0]),
                (V[Bn + 1] = Ws[1]),
                (V[Bn + 2] = Ws[2]),
                (V[Bn + 3] = 255);
            }
          a.putImageData(U, 0, 0);
          const et = Gt(d[1], 0, 100, 0, 100);
          this.markerElem_.style.left = `${et}%`;
          const st = Gt(d[2], 0, 100, 100, 0);
          this.markerElem_.style.top = `${st}%`;
        }
        onValueChange_() {
          this.update_();
        }
      }
      class J3 {
        constructor(a, u) {
          (this.onKeyDown_ = this.onKeyDown_.bind(this)),
            (this.onKeyUp_ = this.onKeyUp_.bind(this)),
            (this.onPointerDown_ = this.onPointerDown_.bind(this)),
            (this.onPointerMove_ = this.onPointerMove_.bind(this)),
            (this.onPointerUp_ = this.onPointerUp_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new Z3(a, {
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.ptHandler_ = new Li(this.view.element)),
            this.ptHandler_.emitter.on("down", this.onPointerDown_),
            this.ptHandler_.emitter.on("move", this.onPointerMove_),
            this.ptHandler_.emitter.on("up", this.onPointerUp_),
            this.view.element.addEventListener("keydown", this.onKeyDown_),
            this.view.element.addEventListener("keyup", this.onKeyUp_);
        }
        handlePointerEvent_(a, u) {
          if (!a.point) return;
          const d = Gt(a.point.x, 0, a.bounds.width, 0, 100),
            x = Gt(a.point.y, 0, a.bounds.height, 100, 0),
            [R, , , U] = this.value.rawValue.getComponents("hsv");
          this.value.setRawValue(new dt([R, d, x, U], "hsv"), u);
        }
        onPointerDown_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerMove_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerUp_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !0, last: !0 });
        }
        onKeyDown_(a) {
          ry(a.key) && a.preventDefault();
          const [u, d, x, R] = this.value.rawValue.getComponents("hsv"),
            U = Bi(!1),
            V = xe(U, Pr(a)),
            et = xe(U, Vs(a));
          (V === 0 && et === 0) ||
            this.value.setRawValue(new dt([u, d + V, x + et, R], "hsv"), {
              forceEmit: !1,
              last: !1,
            });
        }
        onKeyUp_(a) {
          const u = Bi(!1),
            d = xe(u, Pr(a)),
            x = xe(u, Vs(a));
          (d === 0 && x === 0) ||
            this.value.setRawValue(this.value.rawValue, {
              forceEmit: !0,
              last: !0,
            });
        }
      }
      class Q3 {
        constructor(a, u) {
          (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.hPaletteC_ = new K3(a, {
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.svPaletteC_ = new J3(a, {
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.alphaIcs_ = u.supportsAlpha
              ? {
                  palette: new X3(a, {
                    value: this.value,
                    viewProps: this.viewProps,
                  }),
                  text: new Hs(a, {
                    parser: Cr,
                    baseStep: 0.1,
                    props: D.fromObject({
                      draggingScale: 0.01,
                      formatter: le(2),
                    }),
                    value: M(0, { constraint: new Nn({ min: 0, max: 1 }) }),
                    viewProps: this.viewProps,
                  }),
                }
              : null),
            this.alphaIcs_ &&
              Ds({
                primary: this.value,
                secondary: this.alphaIcs_.text.value,
                forward: (d) => d.rawValue.getComponents()[3],
                backward: (d, x) => {
                  const R = d.rawValue.getComponents();
                  return (R[3] = x.rawValue), new dt(R, d.rawValue.mode);
                },
              }),
            (this.textC_ = new Y3(a, {
              colorType: u.colorType,
              parser: Cr,
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.view = new P3(a, {
              alphaViews: this.alphaIcs_
                ? {
                    palette: this.alphaIcs_.palette.view,
                    text: this.alphaIcs_.text.view,
                  }
                : null,
              hPaletteView: this.hPaletteC_.view,
              supportsAlpha: u.supportsAlpha,
              svPaletteView: this.svPaletteC_.view,
              textView: this.textC_.view,
            }));
        }
        get textController() {
          return this.textC_;
        }
      }
      const Ic = T("colsw");
      class tL {
        constructor(a, u) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            u.value.emitter.on("change", this.onValueChange_),
            (this.value = u.value),
            (this.element = a.createElement("div")),
            this.element.classList.add(Ic()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("div");
          d.classList.add(Ic("sw")),
            this.element.appendChild(d),
            (this.swatchElem_ = d);
          const x = a.createElement("button");
          x.classList.add(Ic("b")),
            u.viewProps.bindDisabled(x),
            this.element.appendChild(x),
            (this.buttonElement = x),
            this.update_();
        }
        update_() {
          const a = this.value.rawValue;
          this.swatchElem_.style.backgroundColor = wc(a);
        }
        onValueChange_() {
          this.update_();
        }
      }
      class eL {
        constructor(a, u) {
          (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new tL(a, {
              value: this.value,
              viewProps: this.viewProps,
            }));
        }
      }
      class Rc {
        constructor(a, u) {
          (this.onButtonBlur_ = this.onButtonBlur_.bind(this)),
            (this.onButtonClick_ = this.onButtonClick_.bind(this)),
            (this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this)),
            (this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.foldable_ = Jr.create(u.expanded)),
            (this.swatchC_ = new eL(a, {
              value: this.value,
              viewProps: this.viewProps,
            }));
          const d = this.swatchC_.view.buttonElement;
          d.addEventListener("blur", this.onButtonBlur_),
            d.addEventListener("click", this.onButtonClick_),
            (this.textC_ = new Na(a, {
              parser: u.parser,
              props: D.fromObject({ formatter: u.formatter }),
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.view = new m3(a, {
              foldable: this.foldable_,
              pickerLayout: u.pickerLayout,
            })),
            this.view.swatchElement.appendChild(this.swatchC_.view.element),
            this.view.textElement.appendChild(this.textC_.view.element),
            (this.popC_ =
              u.pickerLayout === "popup"
                ? new z0(a, { viewProps: this.viewProps })
                : null);
          const x = new Q3(a, {
            colorType: u.colorType,
            supportsAlpha: u.supportsAlpha,
            value: this.value,
            viewProps: this.viewProps,
          });
          x.view.allFocusableElements.forEach((R) => {
            R.addEventListener("blur", this.onPopupChildBlur_),
              R.addEventListener("keydown", this.onPopupChildKeydown_);
          }),
            (this.pickerC_ = x),
            this.popC_
              ? (this.view.element.appendChild(this.popC_.view.element),
                this.popC_.view.element.appendChild(x.view.element),
                Ds({
                  primary: this.foldable_.value("expanded"),
                  secondary: this.popC_.shows,
                  forward: (R) => R.rawValue,
                  backward: (R, U) => U.rawValue,
                }))
              : this.view.pickerElement &&
                (this.view.pickerElement.appendChild(
                  this.pickerC_.view.element
                ),
                G(this.foldable_, this.view.pickerElement));
        }
        get textController() {
          return this.textC_;
        }
        onButtonBlur_(a) {
          if (!this.popC_) return;
          const u = this.view.element,
            d = a.relatedTarget;
          (!d || !u.contains(d)) && (this.popC_.shows.rawValue = !1);
        }
        onButtonClick_() {
          this.foldable_.set("expanded", !this.foldable_.get("expanded")),
            this.foldable_.get("expanded") &&
              this.pickerC_.view.allFocusableElements[0].focus();
        }
        onPopupChildBlur_(a) {
          if (!this.popC_) return;
          const u = this.popC_.view.element,
            d = Si(a);
          (d && u.contains(d)) ||
            (d &&
              d === this.swatchC_.view.buttonElement &&
              !ut(u.ownerDocument)) ||
            (this.popC_.shows.rawValue = !1);
        }
        onPopupChildKeydown_(a) {
          this.popC_
            ? a.key === "Escape" && (this.popC_.shows.rawValue = !1)
            : this.view.pickerElement &&
              a.key === "Escape" &&
              this.swatchC_.view.buttonElement.focus();
        }
      }
      function rL(c, a) {
        return dt.isColorObject(c) ? dt.fromObject(c, a) : dt.black(a);
      }
      function iL(c) {
        return ki(c.getComponents("rgb")).reduce(
          (a, u) => (a << 8) | (Math.floor(u) & 255),
          0
        );
      }
      function nL(c) {
        return (
          c.getComponents("rgb").reduce((a, u, d) => {
            const x = Math.floor(d === 3 ? u * 255 : u) & 255;
            return (a << 8) | x;
          }, 0) >>> 0
        );
      }
      function sL(c) {
        return new dt([(c >> 16) & 255, (c >> 8) & 255, c & 255], "rgb");
      }
      function oL(c) {
        return new dt(
          [
            (c >> 24) & 255,
            (c >> 16) & 255,
            (c >> 8) & 255,
            Gt(c & 255, 0, 255, 0, 1),
          ],
          "rgb"
        );
      }
      function aL(c) {
        return typeof c != "number" ? dt.black() : sL(c);
      }
      function lL(c) {
        return typeof c != "number" ? dt.black() : oL(c);
      }
      function uL(c) {
        const a = Tc(c);
        return a
          ? (u, d) => {
              Xs(u, a(d));
            }
          : null;
      }
      function hL(c) {
        const a = c ? nL : iL;
        return (u, d) => {
          Xs(u, a(d));
        };
      }
      function cL(c, a, u) {
        const d = a.toRgbaObject(u);
        c.writeProperty("r", d.r),
          c.writeProperty("g", d.g),
          c.writeProperty("b", d.b),
          c.writeProperty("a", d.a);
      }
      function fL(c, a, u) {
        const d = a.toRgbaObject(u);
        c.writeProperty("r", d.r),
          c.writeProperty("g", d.g),
          c.writeProperty("b", d.b);
      }
      function pL(c, a) {
        return (u, d) => {
          c ? cL(u, d, a) : fL(u, d, a);
        };
      }
      function Ac(c) {
        var a;
        return !!(
          (c == null ? void 0 : c.alpha) ||
          ((a = c == null ? void 0 : c.color) === null || a === void 0
            ? void 0
            : a.alpha)
        );
      }
      function dL(c) {
        return c ? (a) => wc(a, "0x") : (a) => Iy(a, "0x");
      }
      function vL(c) {
        return "color" in c || ("view" in c && c.view === "color");
      }
      const _L = {
        id: "input-color-number",
        type: "input",
        accept: (c, a) => {
          if (typeof c != "number" || !vL(a)) return null;
          const u = yc(a);
          return u ? { initialValue: c, params: u } : null;
        },
        binding: {
          reader: (c) => (Ac(c.params) ? lL : aL),
          equals: dt.equals,
          writer: (c) => hL(Ac(c.params)),
        },
        controller: (c) => {
          const a = Ac(c.params),
            u = "expanded" in c.params ? c.params.expanded : void 0,
            d = "picker" in c.params ? c.params.picker : void 0;
          return new Rc(c.document, {
            colorType: "int",
            expanded: u != null ? u : !1,
            formatter: dL(a),
            parser: xc("int"),
            pickerLayout: d != null ? d : "popup",
            supportsAlpha: a,
            value: c.value,
            viewProps: c.viewProps,
          });
        },
      };
      function mL(c) {
        return dt.isRgbaColorObject(c);
      }
      function gL(c) {
        return (a) => rL(a, c);
      }
      function yL(c, a) {
        return (u) => (c ? Ny(u, a) : Ay(u, a));
      }
      const bL = {
          id: "input-color-object",
          type: "input",
          accept: (c, a) => {
            if (!dt.isColorObject(c)) return null;
            const u = yc(a);
            return u ? { initialValue: c, params: u } : null;
          },
          binding: {
            reader: (c) => gL(Gi(c.params)),
            equals: dt.equals,
            writer: (c) => pL(mL(c.initialValue), Gi(c.params)),
          },
          controller: (c) => {
            var a;
            const u = dt.isRgbaColorObject(c.initialValue),
              d = "expanded" in c.params ? c.params.expanded : void 0,
              x = "picker" in c.params ? c.params.picker : void 0,
              R = (a = Gi(c.params)) !== null && a !== void 0 ? a : "int";
            return new Rc(c.document, {
              colorType: R,
              expanded: d != null ? d : !1,
              formatter: yL(u, R),
              parser: xc(R),
              pickerLayout: x != null ? x : "popup",
              supportsAlpha: u,
              value: c.value,
              viewProps: c.viewProps,
            });
          },
        },
        xL = {
          id: "input-color-string",
          type: "input",
          accept: (c, a) => {
            if (typeof c != "string" || ("view" in a && a.view === "text"))
              return null;
            const u = bc(c, Gi(a));
            if (!u || !Tc(u)) return null;
            const x = yc(a);
            return x ? { initialValue: c, params: x } : null;
          },
          binding: {
            reader: (c) => {
              var a;
              return L3(
                (a = Gi(c.params)) !== null && a !== void 0 ? a : "int"
              );
            },
            equals: dt.equals,
            writer: (c) => {
              const a = bc(c.initialValue, Gi(c.params));
              if (!a) throw g.shouldNeverHappen();
              const u = uL(a);
              if (!u) throw g.notBindable();
              return u;
            },
          },
          controller: (c) => {
            const a = bc(c.initialValue, Gi(c.params));
            if (!a) throw g.shouldNeverHappen();
            const u = Tc(a);
            if (!u) throw g.shouldNeverHappen();
            const d = "expanded" in c.params ? c.params.expanded : void 0,
              x = "picker" in c.params ? c.params.picker : void 0;
            return new Rc(c.document, {
              colorType: a.type,
              expanded: d != null ? d : !1,
              formatter: u,
              parser: xc(a.type),
              pickerLayout: x != null ? x : "popup",
              supportsAlpha: a.alpha,
              value: c.value,
              viewProps: c.viewProps,
            });
          },
        };
      class ii {
        constructor(a) {
          (this.components = a.components), (this.asm_ = a.assembly);
        }
        constrain(a) {
          const u = this.asm_.toComponents(a).map((d, x) => {
            var R, U;
            return (U =
              (R = this.components[x]) === null || R === void 0
                ? void 0
                : R.constrain(d)) !== null && U !== void 0
              ? U
              : d;
          });
          return this.asm_.fromComponents(u);
        }
      }
      const Oy = T("pndtxt");
      class wL {
        constructor(a, u) {
          (this.textViews = u.textViews),
            (this.element = a.createElement("div")),
            this.element.classList.add(Oy()),
            this.textViews.forEach((d) => {
              const x = a.createElement("div");
              x.classList.add(Oy("a")),
                x.appendChild(d.element),
                this.element.appendChild(x);
            });
        }
      }
      function TL(c, a, u) {
        return new Hs(c, {
          arrayPosition:
            u === 0 ? "fst" : u === a.axes.length - 1 ? "lst" : "mid",
          baseStep: a.axes[u].baseStep,
          parser: a.parser,
          props: a.axes[u].textProps,
          value: M(0, { constraint: a.axes[u].constraint }),
          viewProps: a.viewProps,
        });
      }
      class Nc {
        constructor(a, u) {
          (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.acs_ = u.axes.map((d, x) => TL(a, u, x))),
            this.acs_.forEach((d, x) => {
              Ds({
                primary: this.value,
                secondary: d.value,
                forward: (R) => u.assembly.toComponents(R.rawValue)[x],
                backward: (R, U) => {
                  const V = u.assembly.toComponents(R.rawValue);
                  return (V[x] = U.rawValue), u.assembly.fromComponents(V);
                },
              });
            }),
            (this.view = new wL(a, {
              textViews: this.acs_.map((d) => d.view),
            }));
        }
      }
      function Uy(c, a) {
        return "step" in c && !v(c.step) ? new Aa(c.step, a) : null;
      }
      function Ly(c) {
        return ("max" in c && !v(c.max)) || ("min" in c && !v(c.min))
          ? new Nn({ max: c.max, min: c.min })
          : null;
      }
      function EL(c, a) {
        const u = [],
          d = Uy(c, a);
        d && u.push(d);
        const x = Ly(c);
        x && u.push(x);
        const R = mc(c.options);
        return R && u.push(R), new Fs(u);
      }
      function CL(c) {
        const a = c ? lr(c, Nn) : null;
        return a ? [a.minValue, a.maxValue] : [void 0, void 0];
      }
      function PL(c) {
        const [a, u] = CL(c);
        return [a != null ? a : 0, u != null ? u : 100];
      }
      const IL = {
        id: "input-number",
        type: "input",
        accept: (c, a) => {
          if (typeof c != "number") return null;
          const u = q,
            d = K(a, {
              format: u.optional.function,
              max: u.optional.number,
              min: u.optional.number,
              options: u.optional.custom(Oa),
              step: u.optional.number,
            });
          return d ? { initialValue: c, params: d } : null;
        },
        binding: {
          reader: (c) => Q0,
          constraint: (c) => EL(c.params, c.initialValue),
          writer: (c) => Xs,
        },
        controller: (c) => {
          var a, u;
          const d = c.value,
            x = c.constraint;
          if (x && lr(x, ks))
            return new Bs(c.document, {
              props: D.fromObject({
                options: (a = gc(x)) !== null && a !== void 0 ? a : [],
              }),
              value: d,
              viewProps: c.viewProps,
            });
          const R =
            (u = "format" in c.params ? c.params.format : void 0) !== null &&
            u !== void 0
              ? u
              : le(Ua(x, d.rawValue));
          if (x && lr(x, Nn)) {
            const [U, V] = PL(x);
            return new _c(c.document, {
              baseStep: Sn(x),
              parser: Cr,
              sliderProps: D.fromObject({ maxValue: V, minValue: U }),
              textProps: D.fromObject({
                draggingScale: On(x, d.rawValue),
                formatter: R,
              }),
              value: d,
              viewProps: c.viewProps,
            });
          }
          return new Hs(c.document, {
            baseStep: Sn(x),
            parser: Cr,
            props: D.fromObject({
              draggingScale: On(x, d.rawValue),
              formatter: R,
            }),
            value: d,
            viewProps: c.viewProps,
          });
        },
      };
      class ni {
        constructor(a = 0, u = 0) {
          (this.x = a), (this.y = u);
        }
        getComponents() {
          return [this.x, this.y];
        }
        static isObject(a) {
          if (v(a)) return !1;
          const u = a.x,
            d = a.y;
          return !(typeof u != "number" || typeof d != "number");
        }
        static equals(a, u) {
          return a.x === u.x && a.y === u.y;
        }
        toObject() {
          return { x: this.x, y: this.y };
        }
      }
      const Fy = {
          toComponents: (c) => c.getComponents(),
          fromComponents: (c) => new ni(...c),
        },
        Ln = T("p2d");
      class RL {
        constructor(a, u) {
          (this.element = a.createElement("div")),
            this.element.classList.add(Ln()),
            u.viewProps.bindClassModifiers(this.element),
            P(u.expanded, N(this.element, Ln(void 0, "expanded")));
          const d = a.createElement("div");
          d.classList.add(Ln("h")), this.element.appendChild(d);
          const x = a.createElement("button");
          x.classList.add(Ln("b")),
            x.appendChild(Ne(a, "p2dpad")),
            u.viewProps.bindDisabled(x),
            d.appendChild(x),
            (this.buttonElement = x);
          const R = a.createElement("div");
          if (
            (R.classList.add(Ln("t")),
            d.appendChild(R),
            (this.textElement = R),
            u.pickerLayout === "inline")
          ) {
            const U = a.createElement("div");
            U.classList.add(Ln("p")),
              this.element.appendChild(U),
              (this.pickerElement = U);
          } else this.pickerElement = null;
        }
      }
      const si = T("p2dp");
      class AL {
        constructor(a, u) {
          (this.onFoldableChange_ = this.onFoldableChange_.bind(this)),
            (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.invertsY_ = u.invertsY),
            (this.maxValue_ = u.maxValue),
            (this.element = a.createElement("div")),
            this.element.classList.add(si()),
            u.layout === "popup" && this.element.classList.add(si(void 0, "p"));
          const d = a.createElement("div");
          d.classList.add(si("p")),
            u.viewProps.bindTabIndex(d),
            this.element.appendChild(d),
            (this.padElement = d);
          const x = a.createElementNS(mt, "svg");
          x.classList.add(si("g")),
            this.padElement.appendChild(x),
            (this.svgElem_ = x);
          const R = a.createElementNS(mt, "line");
          R.classList.add(si("ax")),
            R.setAttributeNS(null, "x1", "0"),
            R.setAttributeNS(null, "y1", "50%"),
            R.setAttributeNS(null, "x2", "100%"),
            R.setAttributeNS(null, "y2", "50%"),
            this.svgElem_.appendChild(R);
          const U = a.createElementNS(mt, "line");
          U.classList.add(si("ax")),
            U.setAttributeNS(null, "x1", "50%"),
            U.setAttributeNS(null, "y1", "0"),
            U.setAttributeNS(null, "x2", "50%"),
            U.setAttributeNS(null, "y2", "100%"),
            this.svgElem_.appendChild(U);
          const V = a.createElementNS(mt, "line");
          V.classList.add(si("l")),
            V.setAttributeNS(null, "x1", "50%"),
            V.setAttributeNS(null, "y1", "50%"),
            this.svgElem_.appendChild(V),
            (this.lineElem_ = V);
          const et = a.createElement("div");
          et.classList.add(si("m")),
            this.padElement.appendChild(et),
            (this.markerElem_ = et),
            u.value.emitter.on("change", this.onValueChange_),
            (this.value = u.value),
            this.update_();
        }
        get allFocusableElements() {
          return [this.padElement];
        }
        update_() {
          const [a, u] = this.value.rawValue.getComponents(),
            d = this.maxValue_,
            x = Gt(a, -d, +d, 0, 100),
            R = Gt(u, -d, +d, 0, 100),
            U = this.invertsY_ ? 100 - R : R;
          this.lineElem_.setAttributeNS(null, "x2", `${x}%`),
            this.lineElem_.setAttributeNS(null, "y2", `${U}%`),
            (this.markerElem_.style.left = `${x}%`),
            (this.markerElem_.style.top = `${U}%`);
        }
        onValueChange_() {
          this.update_();
        }
        onFoldableChange_() {
          this.update_();
        }
      }
      function ky(c, a, u) {
        return [xe(a[0], Pr(c)), xe(a[1], Vs(c)) * (u ? 1 : -1)];
      }
      class NL {
        constructor(a, u) {
          (this.onPadKeyDown_ = this.onPadKeyDown_.bind(this)),
            (this.onPadKeyUp_ = this.onPadKeyUp_.bind(this)),
            (this.onPointerDown_ = this.onPointerDown_.bind(this)),
            (this.onPointerMove_ = this.onPointerMove_.bind(this)),
            (this.onPointerUp_ = this.onPointerUp_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.baseSteps_ = u.baseSteps),
            (this.maxValue_ = u.maxValue),
            (this.invertsY_ = u.invertsY),
            (this.view = new AL(a, {
              invertsY: this.invertsY_,
              layout: u.layout,
              maxValue: this.maxValue_,
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.ptHandler_ = new Li(this.view.padElement)),
            this.ptHandler_.emitter.on("down", this.onPointerDown_),
            this.ptHandler_.emitter.on("move", this.onPointerMove_),
            this.ptHandler_.emitter.on("up", this.onPointerUp_),
            this.view.padElement.addEventListener(
              "keydown",
              this.onPadKeyDown_
            ),
            this.view.padElement.addEventListener("keyup", this.onPadKeyUp_);
        }
        handlePointerEvent_(a, u) {
          if (!a.point) return;
          const d = this.maxValue_,
            x = Gt(a.point.x, 0, a.bounds.width, -d, +d),
            R = Gt(
              this.invertsY_ ? a.bounds.height - a.point.y : a.point.y,
              0,
              a.bounds.height,
              -d,
              +d
            );
          this.value.setRawValue(new ni(x, R), u);
        }
        onPointerDown_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerMove_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !1, last: !1 });
        }
        onPointerUp_(a) {
          this.handlePointerEvent_(a.data, { forceEmit: !0, last: !0 });
        }
        onPadKeyDown_(a) {
          ry(a.key) && a.preventDefault();
          const [u, d] = ky(a, this.baseSteps_, this.invertsY_);
          (u === 0 && d === 0) ||
            this.value.setRawValue(
              new ni(this.value.rawValue.x + u, this.value.rawValue.y + d),
              { forceEmit: !1, last: !1 }
            );
        }
        onPadKeyUp_(a) {
          const [u, d] = ky(a, this.baseSteps_, this.invertsY_);
          (u === 0 && d === 0) ||
            this.value.setRawValue(this.value.rawValue, {
              forceEmit: !0,
              last: !0,
            });
        }
      }
      class SL {
        constructor(a, u) {
          var d, x;
          (this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this)),
            (this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this)),
            (this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this)),
            (this.onPadButtonClick_ = this.onPadButtonClick_.bind(this)),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.foldable_ = Jr.create(u.expanded)),
            (this.popC_ =
              u.pickerLayout === "popup"
                ? new z0(a, { viewProps: this.viewProps })
                : null);
          const R = new NL(a, {
            baseSteps: [u.axes[0].baseStep, u.axes[1].baseStep],
            invertsY: u.invertsY,
            layout: u.pickerLayout,
            maxValue: u.maxValue,
            value: this.value,
            viewProps: this.viewProps,
          });
          R.view.allFocusableElements.forEach((U) => {
            U.addEventListener("blur", this.onPopupChildBlur_),
              U.addEventListener("keydown", this.onPopupChildKeydown_);
          }),
            (this.pickerC_ = R),
            (this.textC_ = new Nc(a, {
              assembly: Fy,
              axes: u.axes,
              parser: u.parser,
              value: this.value,
              viewProps: this.viewProps,
            })),
            (this.view = new RL(a, {
              expanded: this.foldable_.value("expanded"),
              pickerLayout: u.pickerLayout,
              viewProps: this.viewProps,
            })),
            this.view.textElement.appendChild(this.textC_.view.element),
            (d = this.view.buttonElement) === null ||
              d === void 0 ||
              d.addEventListener("blur", this.onPadButtonBlur_),
            (x = this.view.buttonElement) === null ||
              x === void 0 ||
              x.addEventListener("click", this.onPadButtonClick_),
            this.popC_
              ? (this.view.element.appendChild(this.popC_.view.element),
                this.popC_.view.element.appendChild(this.pickerC_.view.element),
                Ds({
                  primary: this.foldable_.value("expanded"),
                  secondary: this.popC_.shows,
                  forward: (U) => U.rawValue,
                  backward: (U, V) => V.rawValue,
                }))
              : this.view.pickerElement &&
                (this.view.pickerElement.appendChild(
                  this.pickerC_.view.element
                ),
                G(this.foldable_, this.view.pickerElement));
        }
        onPadButtonBlur_(a) {
          if (!this.popC_) return;
          const u = this.view.element,
            d = a.relatedTarget;
          (!d || !u.contains(d)) && (this.popC_.shows.rawValue = !1);
        }
        onPadButtonClick_() {
          this.foldable_.set("expanded", !this.foldable_.get("expanded")),
            this.foldable_.get("expanded") &&
              this.pickerC_.view.allFocusableElements[0].focus();
        }
        onPopupChildBlur_(a) {
          if (!this.popC_) return;
          const u = this.popC_.view.element,
            d = Si(a);
          (d && u.contains(d)) ||
            (d && d === this.view.buttonElement && !ut(u.ownerDocument)) ||
            (this.popC_.shows.rawValue = !1);
        }
        onPopupChildKeydown_(a) {
          this.popC_
            ? a.key === "Escape" && (this.popC_.shows.rawValue = !1)
            : this.view.pickerElement &&
              a.key === "Escape" &&
              this.view.buttonElement.focus();
        }
      }
      function OL(c) {
        return ni.isObject(c) ? new ni(c.x, c.y) : new ni();
      }
      function UL(c, a) {
        c.writeProperty("x", a.x), c.writeProperty("y", a.y);
      }
      function Ir(c, a) {
        if (!c) return;
        const u = [],
          d = Uy(c, a);
        d && u.push(d);
        const x = Ly(c);
        return x && u.push(x), new Fs(u);
      }
      function LL(c, a) {
        return new ii({
          assembly: Fy,
          components: [
            Ir("x" in c ? c.x : void 0, a.x),
            Ir("y" in c ? c.y : void 0, a.y),
          ],
        });
      }
      function By(c, a) {
        var u, d;
        const x = c && lr(c, Nn);
        if (x)
          return Math.max(
            Math.abs((u = x.minValue) !== null && u !== void 0 ? u : 0),
            Math.abs((d = x.maxValue) !== null && d !== void 0 ? d : 0)
          );
        const R = Sn(c);
        return Math.max(Math.abs(R) * 10, Math.abs(a) * 10);
      }
      function FL(c, a) {
        const u = a instanceof ii ? a.components[0] : void 0,
          d = a instanceof ii ? a.components[1] : void 0,
          x = By(u, c.x),
          R = By(d, c.y);
        return Math.max(x, R);
      }
      function Gy(c, a) {
        return {
          baseStep: Sn(a),
          constraint: a,
          textProps: D.fromObject({
            draggingScale: On(a, c),
            formatter: le(Ua(a, c)),
          }),
        };
      }
      function kL(c) {
        if (!("y" in c)) return !1;
        const a = c.y;
        return a && "inverted" in a ? !!a.inverted : !1;
      }
      const BL = {
        id: "input-point2d",
        type: "input",
        accept: (c, a) => {
          if (!ni.isObject(c)) return null;
          const u = q,
            d = K(a, {
              expanded: u.optional.boolean,
              picker: u.optional.custom(sy),
              x: u.optional.custom(ei),
              y: u.optional.object({
                inverted: u.optional.boolean,
                max: u.optional.number,
                min: u.optional.number,
                step: u.optional.number,
              }),
            });
          return d ? { initialValue: c, params: d } : null;
        },
        binding: {
          reader: (c) => OL,
          constraint: (c) => LL(c.params, c.initialValue),
          equals: ni.equals,
          writer: (c) => UL,
        },
        controller: (c) => {
          const a = c.document,
            u = c.value,
            d = c.constraint;
          if (!(d instanceof ii)) throw g.shouldNeverHappen();
          const x = "expanded" in c.params ? c.params.expanded : void 0,
            R = "picker" in c.params ? c.params.picker : void 0;
          return new SL(a, {
            axes: [
              Gy(u.rawValue.x, d.components[0]),
              Gy(u.rawValue.y, d.components[1]),
            ],
            expanded: x != null ? x : !1,
            invertsY: kL(c.params),
            maxValue: FL(u.rawValue, d),
            parser: Cr,
            pickerLayout: R != null ? R : "popup",
            value: u,
            viewProps: c.viewProps,
          });
        },
      };
      class Fn {
        constructor(a = 0, u = 0, d = 0) {
          (this.x = a), (this.y = u), (this.z = d);
        }
        getComponents() {
          return [this.x, this.y, this.z];
        }
        static isObject(a) {
          if (v(a)) return !1;
          const u = a.x,
            d = a.y,
            x = a.z;
          return !(
            typeof u != "number" ||
            typeof d != "number" ||
            typeof x != "number"
          );
        }
        static equals(a, u) {
          return a.x === u.x && a.y === u.y && a.z === u.z;
        }
        toObject() {
          return { x: this.x, y: this.y, z: this.z };
        }
      }
      const My = {
        toComponents: (c) => c.getComponents(),
        fromComponents: (c) => new Fn(...c),
      };
      function GL(c) {
        return Fn.isObject(c) ? new Fn(c.x, c.y, c.z) : new Fn();
      }
      function ML(c, a) {
        c.writeProperty("x", a.x),
          c.writeProperty("y", a.y),
          c.writeProperty("z", a.z);
      }
      function DL(c, a) {
        return new ii({
          assembly: My,
          components: [
            Ir("x" in c ? c.x : void 0, a.x),
            Ir("y" in c ? c.y : void 0, a.y),
            Ir("z" in c ? c.z : void 0, a.z),
          ],
        });
      }
      function Sc(c, a) {
        return {
          baseStep: Sn(a),
          constraint: a,
          textProps: D.fromObject({
            draggingScale: On(a, c),
            formatter: le(Ua(a, c)),
          }),
        };
      }
      const VL = {
        id: "input-point3d",
        type: "input",
        accept: (c, a) => {
          if (!Fn.isObject(c)) return null;
          const u = q,
            d = K(a, {
              x: u.optional.custom(ei),
              y: u.optional.custom(ei),
              z: u.optional.custom(ei),
            });
          return d ? { initialValue: c, params: d } : null;
        },
        binding: {
          reader: (c) => GL,
          constraint: (c) => DL(c.params, c.initialValue),
          equals: Fn.equals,
          writer: (c) => ML,
        },
        controller: (c) => {
          const a = c.value,
            u = c.constraint;
          if (!(u instanceof ii)) throw g.shouldNeverHappen();
          return new Nc(c.document, {
            assembly: My,
            axes: [
              Sc(a.rawValue.x, u.components[0]),
              Sc(a.rawValue.y, u.components[1]),
              Sc(a.rawValue.z, u.components[2]),
            ],
            parser: Cr,
            value: a,
            viewProps: c.viewProps,
          });
        },
      };
      class kn {
        constructor(a = 0, u = 0, d = 0, x = 0) {
          (this.x = a), (this.y = u), (this.z = d), (this.w = x);
        }
        getComponents() {
          return [this.x, this.y, this.z, this.w];
        }
        static isObject(a) {
          if (v(a)) return !1;
          const u = a.x,
            d = a.y,
            x = a.z,
            R = a.w;
          return !(
            typeof u != "number" ||
            typeof d != "number" ||
            typeof x != "number" ||
            typeof R != "number"
          );
        }
        static equals(a, u) {
          return a.x === u.x && a.y === u.y && a.z === u.z && a.w === u.w;
        }
        toObject() {
          return { x: this.x, y: this.y, z: this.z, w: this.w };
        }
      }
      const Dy = {
        toComponents: (c) => c.getComponents(),
        fromComponents: (c) => new kn(...c),
      };
      function HL(c) {
        return kn.isObject(c) ? new kn(c.x, c.y, c.z, c.w) : new kn();
      }
      function XL(c, a) {
        c.writeProperty("x", a.x),
          c.writeProperty("y", a.y),
          c.writeProperty("z", a.z),
          c.writeProperty("w", a.w);
      }
      function $L(c, a) {
        return new ii({
          assembly: Dy,
          components: [
            Ir("x" in c ? c.x : void 0, a.x),
            Ir("y" in c ? c.y : void 0, a.y),
            Ir("z" in c ? c.z : void 0, a.z),
            Ir("w" in c ? c.w : void 0, a.w),
          ],
        });
      }
      function jL(c, a) {
        return {
          baseStep: Sn(a),
          constraint: a,
          textProps: D.fromObject({
            draggingScale: On(a, c),
            formatter: le(Ua(a, c)),
          }),
        };
      }
      const zL = {
        id: "input-point4d",
        type: "input",
        accept: (c, a) => {
          if (!kn.isObject(c)) return null;
          const u = q,
            d = K(a, {
              x: u.optional.custom(ei),
              y: u.optional.custom(ei),
              z: u.optional.custom(ei),
              w: u.optional.custom(ei),
            });
          return d ? { initialValue: c, params: d } : null;
        },
        binding: {
          reader: (c) => HL,
          constraint: (c) => $L(c.params, c.initialValue),
          equals: kn.equals,
          writer: (c) => XL,
        },
        controller: (c) => {
          const a = c.value,
            u = c.constraint;
          if (!(u instanceof ii)) throw g.shouldNeverHappen();
          return new Nc(c.document, {
            assembly: Dy,
            axes: a.rawValue
              .getComponents()
              .map((d, x) => jL(d, u.components[x])),
            parser: Cr,
            value: a,
            viewProps: c.viewProps,
          });
        },
      };
      function WL(c) {
        const a = [],
          u = mc(c.options);
        return u && a.push(u), new Fs(a);
      }
      const YL = {
          id: "input-string",
          type: "input",
          accept: (c, a) => {
            if (typeof c != "string") return null;
            const d = K(a, { options: q.optional.custom(Oa) });
            return d ? { initialValue: c, params: d } : null;
          },
          binding: {
            reader: (c) => ty,
            constraint: (c) => WL(c.params),
            writer: (c) => Xs,
          },
          controller: (c) => {
            var a;
            const u = c.document,
              d = c.value,
              x = c.constraint;
            return x && lr(x, ks)
              ? new Bs(u, {
                  props: D.fromObject({
                    options: (a = gc(x)) !== null && a !== void 0 ? a : [],
                  }),
                  value: d,
                  viewProps: c.viewProps,
                })
              : new Na(u, {
                  parser: (R) => R,
                  props: D.fromObject({ formatter: fc }),
                  value: d,
                  viewProps: c.viewProps,
                });
          },
        },
        js = { monitor: { defaultInterval: 200, defaultLineCount: 3 } },
        Vy = T("mll");
      class qL {
        constructor(a, u) {
          (this.onValueUpdate_ = this.onValueUpdate_.bind(this)),
            (this.formatter_ = u.formatter),
            (this.element = a.createElement("div")),
            this.element.classList.add(Vy()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("textarea");
          d.classList.add(Vy("i")),
            (d.style.height = `calc(var(--bld-us) * ${u.lineCount})`),
            (d.readOnly = !0),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.textareaElem_ = d),
            u.value.emitter.on("change", this.onValueUpdate_),
            (this.value = u.value),
            this.update_();
        }
        update_() {
          const a = this.textareaElem_,
            u = a.scrollTop === a.scrollHeight - a.clientHeight,
            d = [];
          this.value.rawValue.forEach((x) => {
            x !== void 0 && d.push(this.formatter_(x));
          }),
            (a.textContent = d.join(`
`)),
            u && (a.scrollTop = a.scrollHeight);
        }
        onValueUpdate_() {
          this.update_();
        }
      }
      class Oc {
        constructor(a, u) {
          (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new qL(a, {
              formatter: u.formatter,
              lineCount: u.lineCount,
              value: this.value,
              viewProps: this.viewProps,
            }));
        }
      }
      const Hy = T("sgl");
      class KL {
        constructor(a, u) {
          (this.onValueUpdate_ = this.onValueUpdate_.bind(this)),
            (this.formatter_ = u.formatter),
            (this.element = a.createElement("div")),
            this.element.classList.add(Hy()),
            u.viewProps.bindClassModifiers(this.element);
          const d = a.createElement("input");
          d.classList.add(Hy("i")),
            (d.readOnly = !0),
            (d.type = "text"),
            u.viewProps.bindDisabled(d),
            this.element.appendChild(d),
            (this.inputElement = d),
            u.value.emitter.on("change", this.onValueUpdate_),
            (this.value = u.value),
            this.update_();
        }
        update_() {
          const a = this.value.rawValue,
            u = a[a.length - 1];
          this.inputElement.value = u !== void 0 ? this.formatter_(u) : "";
        }
        onValueUpdate_() {
          this.update_();
        }
      }
      class Uc {
        constructor(a, u) {
          (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.view = new KL(a, {
              formatter: u.formatter,
              value: this.value,
              viewProps: this.viewProps,
            }));
        }
      }
      const ZL = {
          id: "monitor-bool",
          type: "monitor",
          accept: (c, a) => {
            if (typeof c != "boolean") return null;
            const d = K(a, { lineCount: q.optional.number });
            return d ? { initialValue: c, params: d } : null;
          },
          binding: { reader: (c) => Y0 },
          controller: (c) => {
            var a;
            return c.value.rawValue.length === 1
              ? new Uc(c.document, {
                  formatter: q0,
                  value: c.value,
                  viewProps: c.viewProps,
                })
              : new Oc(c.document, {
                  formatter: q0,
                  lineCount:
                    (a = c.params.lineCount) !== null && a !== void 0
                      ? a
                      : js.monitor.defaultLineCount,
                  value: c.value,
                  viewProps: c.viewProps,
                });
          },
        },
        oi = T("grl");
      class JL {
        constructor(a, u) {
          (this.onCursorChange_ = this.onCursorChange_.bind(this)),
            (this.onValueUpdate_ = this.onValueUpdate_.bind(this)),
            (this.element = a.createElement("div")),
            this.element.classList.add(oi()),
            u.viewProps.bindClassModifiers(this.element),
            (this.formatter_ = u.formatter),
            (this.props_ = u.props),
            (this.cursor_ = u.cursor),
            this.cursor_.emitter.on("change", this.onCursorChange_);
          const d = a.createElementNS(mt, "svg");
          d.classList.add(oi("g")),
            (d.style.height = `calc(var(--bld-us) * ${u.lineCount})`),
            this.element.appendChild(d),
            (this.svgElem_ = d);
          const x = a.createElementNS(mt, "polyline");
          this.svgElem_.appendChild(x), (this.lineElem_ = x);
          const R = a.createElement("div");
          R.classList.add(oi("t"), T("tt")()),
            this.element.appendChild(R),
            (this.tooltipElem_ = R),
            u.value.emitter.on("change", this.onValueUpdate_),
            (this.value = u.value),
            this.update_();
        }
        get graphElement() {
          return this.svgElem_;
        }
        update_() {
          const a = this.svgElem_.getBoundingClientRect(),
            u = this.value.rawValue.length - 1,
            d = this.props_.get("minValue"),
            x = this.props_.get("maxValue"),
            R = [];
          this.value.rawValue.forEach((Ct, Pt) => {
            if (Ct === void 0) return;
            const Rr = Gt(Pt, 0, u, 0, a.width),
              zs = Gt(Ct, d, x, a.height, 0);
            R.push([Rr, zs].join(","));
          }),
            this.lineElem_.setAttributeNS(null, "points", R.join(" "));
          const U = this.tooltipElem_,
            V = this.value.rawValue[this.cursor_.rawValue];
          if (V === void 0) {
            U.classList.remove(oi("t", "a"));
            return;
          }
          const et = Gt(this.cursor_.rawValue, 0, u, 0, a.width),
            st = Gt(V, d, x, a.height, 0);
          (U.style.left = `${et}px`),
            (U.style.top = `${st}px`),
            (U.textContent = `${this.formatter_(V)}`),
            U.classList.contains(oi("t", "a")) ||
              (U.classList.add(oi("t", "a"), oi("t", "in")),
              pt(U),
              U.classList.remove(oi("t", "in")));
        }
        onValueUpdate_() {
          this.update_();
        }
        onCursorChange_() {
          this.update_();
        }
      }
      class QL {
        constructor(a, u) {
          if (
            ((this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this)),
            (this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this)),
            (this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this)),
            (this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this)),
            (this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this)),
            (this.props_ = u.props),
            (this.value = u.value),
            (this.viewProps = u.viewProps),
            (this.cursor_ = M(-1)),
            (this.view = new JL(a, {
              cursor: this.cursor_,
              formatter: u.formatter,
              lineCount: u.lineCount,
              props: this.props_,
              value: this.value,
              viewProps: this.viewProps,
            })),
            !ut(a))
          )
            this.view.element.addEventListener(
              "mousemove",
              this.onGraphMouseMove_
            ),
              this.view.element.addEventListener(
                "mouseleave",
                this.onGraphMouseLeave_
              );
          else {
            const d = new Li(this.view.element);
            d.emitter.on("down", this.onGraphPointerDown_),
              d.emitter.on("move", this.onGraphPointerMove_),
              d.emitter.on("up", this.onGraphPointerUp_);
          }
        }
        onGraphMouseLeave_() {
          this.cursor_.rawValue = -1;
        }
        onGraphMouseMove_(a) {
          const u = this.view.element.getBoundingClientRect();
          this.cursor_.rawValue = Math.floor(
            Gt(a.offsetX, 0, u.width, 0, this.value.rawValue.length)
          );
        }
        onGraphPointerDown_(a) {
          this.onGraphPointerMove_(a);
        }
        onGraphPointerMove_(a) {
          if (!a.data.point) {
            this.cursor_.rawValue = -1;
            return;
          }
          this.cursor_.rawValue = Math.floor(
            Gt(
              a.data.point.x,
              0,
              a.data.bounds.width,
              0,
              this.value.rawValue.length
            )
          );
        }
        onGraphPointerUp_() {
          this.cursor_.rawValue = -1;
        }
      }
      function Lc(c) {
        return "format" in c && !v(c.format) ? c.format : le(2);
      }
      function tF(c) {
        var a;
        return c.value.rawValue.length === 1
          ? new Uc(c.document, {
              formatter: Lc(c.params),
              value: c.value,
              viewProps: c.viewProps,
            })
          : new Oc(c.document, {
              formatter: Lc(c.params),
              lineCount:
                (a = c.params.lineCount) !== null && a !== void 0
                  ? a
                  : js.monitor.defaultLineCount,
              value: c.value,
              viewProps: c.viewProps,
            });
      }
      function eF(c) {
        var a, u, d;
        return new QL(c.document, {
          formatter: Lc(c.params),
          lineCount:
            (a = c.params.lineCount) !== null && a !== void 0
              ? a
              : js.monitor.defaultLineCount,
          props: D.fromObject({
            maxValue:
              (u = "max" in c.params ? c.params.max : null) !== null &&
              u !== void 0
                ? u
                : 100,
            minValue:
              (d = "min" in c.params ? c.params.min : null) !== null &&
              d !== void 0
                ? d
                : 0,
          }),
          value: c.value,
          viewProps: c.viewProps,
        });
      }
      function Xy(c) {
        return "view" in c && c.view === "graph";
      }
      const rF = {
          id: "monitor-number",
          type: "monitor",
          accept: (c, a) => {
            if (typeof c != "number") return null;
            const u = q,
              d = K(a, {
                format: u.optional.function,
                lineCount: u.optional.number,
                max: u.optional.number,
                min: u.optional.number,
                view: u.optional.string,
              });
            return d ? { initialValue: c, params: d } : null;
          },
          binding: {
            defaultBufferSize: (c) => (Xy(c) ? 64 : 1),
            reader: (c) => Q0,
          },
          controller: (c) => (Xy(c.params) ? eF(c) : tF(c)),
        },
        iF = {
          id: "monitor-string",
          type: "monitor",
          accept: (c, a) => {
            if (typeof c != "string") return null;
            const u = q,
              d = K(a, {
                lineCount: u.optional.number,
                multiline: u.optional.boolean,
              });
            return d ? { initialValue: c, params: d } : null;
          },
          binding: { reader: (c) => ty },
          controller: (c) => {
            var a;
            const u = c.value;
            return u.rawValue.length > 1 ||
              ("multiline" in c.params && c.params.multiline)
              ? new Oc(c.document, {
                  formatter: fc,
                  lineCount:
                    (a = c.params.lineCount) !== null && a !== void 0
                      ? a
                      : js.monitor.defaultLineCount,
                  value: u,
                  viewProps: c.viewProps,
                })
              : new Uc(c.document, {
                  formatter: fc,
                  value: u,
                  viewProps: c.viewProps,
                });
          },
        };
      class nF {
        constructor(a) {
          (this.onValueChange_ = this.onValueChange_.bind(this)),
            (this.reader = a.reader),
            (this.writer = a.writer),
            (this.emitter = new w()),
            (this.value = a.value),
            this.value.emitter.on("change", this.onValueChange_),
            (this.target = a.target),
            this.read();
        }
        read() {
          const a = this.target.read();
          a !== void 0 && (this.value.rawValue = this.reader(a));
        }
        write_(a) {
          this.writer(this.target, a);
        }
        onValueChange_(a) {
          this.write_(a.rawValue),
            this.emitter.emit("change", {
              options: a.options,
              rawValue: a.rawValue,
              sender: this,
            });
        }
      }
      function sF(c, a) {
        const u = c.accept(a.target.read(), a.params);
        if (v(u)) return null;
        const d = q,
          x = {
            target: a.target,
            initialValue: u.initialValue,
            params: u.params,
          },
          R = c.binding.reader(x),
          U = c.binding.constraint ? c.binding.constraint(x) : void 0,
          V = M(R(u.initialValue), { constraint: U, equals: c.binding.equals }),
          et = new nF({
            reader: R,
            target: a.target,
            value: V,
            writer: c.binding.writer(x),
          }),
          st = d.optional.boolean(a.params.disabled).value,
          Ct = d.optional.boolean(a.params.hidden).value,
          Pt = c.controller({
            constraint: U,
            document: a.document,
            initialValue: u.initialValue,
            params: u.params,
            value: et.value,
            viewProps: ti.create({ disabled: st, hidden: Ct }),
          }),
          Rr = d.optional.string(a.params.label).value;
        return new Tt(a.document, {
          binding: et,
          blade: be(),
          props: D.fromObject({ label: Rr != null ? Rr : a.target.key }),
          valueController: Pt,
        });
      }
      class oF {
        constructor(a) {
          (this.onTick_ = this.onTick_.bind(this)),
            (this.reader_ = a.reader),
            (this.target = a.target),
            (this.emitter = new w()),
            (this.value = a.value),
            (this.ticker = a.ticker),
            this.ticker.emitter.on("tick", this.onTick_),
            this.read();
        }
        dispose() {
          this.ticker.dispose();
        }
        read() {
          const a = this.target.read();
          if (a === void 0) return;
          const u = this.value.rawValue,
            d = this.reader_(a);
          (this.value.rawValue = o3(u, d)),
            this.emitter.emit("update", { rawValue: d, sender: this });
        }
        onTick_(a) {
          this.read();
        }
      }
      function aF(c, a) {
        return a === 0
          ? new EU()
          : new CU(c, a != null ? a : js.monitor.defaultInterval);
      }
      function lF(c, a) {
        var u, d, x;
        const R = q,
          U = c.accept(a.target.read(), a.params);
        if (v(U)) return null;
        const V = {
            target: a.target,
            initialValue: U.initialValue,
            params: U.params,
          },
          et = c.binding.reader(V),
          st =
            (d =
              (u = R.optional.number(a.params.bufferSize).value) !== null &&
              u !== void 0
                ? u
                : c.binding.defaultBufferSize &&
                  c.binding.defaultBufferSize(U.params)) !== null &&
            d !== void 0
              ? d
              : 1,
          Ct = R.optional.number(a.params.interval).value,
          Pt = new oF({
            reader: et,
            target: a.target,
            ticker: aF(a.document, Ct),
            value: n3(st),
          }),
          Rr = R.optional.boolean(a.params.disabled).value,
          zs = R.optional.boolean(a.params.hidden).value,
          Ws = c.controller({
            document: a.document,
            params: U.params,
            value: Pt.value,
            viewProps: ti.create({ disabled: Rr, hidden: zs }),
          }),
          Bn =
            (x = R.optional.string(a.params.label).value) !== null &&
            x !== void 0
              ? x
              : a.target.key;
        return new te(a.document, {
          binding: Pt,
          blade: be(),
          props: D.fromObject({ label: Bn }),
          valueController: Ws,
        });
      }
      class uF {
        constructor() {
          this.pluginsMap_ = { blades: [], inputs: [], monitors: [] };
        }
        getAll() {
          return [
            ...this.pluginsMap_.blades,
            ...this.pluginsMap_.inputs,
            ...this.pluginsMap_.monitors,
          ];
        }
        register(a) {
          a.type === "blade"
            ? this.pluginsMap_.blades.unshift(a)
            : a.type === "input"
            ? this.pluginsMap_.inputs.unshift(a)
            : a.type === "monitor" && this.pluginsMap_.monitors.unshift(a);
        }
        createInput(a, u, d) {
          const x = u.read();
          if (v(x))
            throw new g({
              context: { key: u.key },
              type: "nomatchingcontroller",
            });
          const R = this.pluginsMap_.inputs.reduce(
            (U, V) =>
              U != null ? U : sF(V, { document: a, target: u, params: d }),
            null
          );
          if (R) return R;
          throw new g({
            context: { key: u.key },
            type: "nomatchingcontroller",
          });
        }
        createMonitor(a, u, d) {
          const x = this.pluginsMap_.monitors.reduce(
            (R, U) =>
              R != null ? R : lF(U, { document: a, params: d, target: u }),
            null
          );
          if (x) return x;
          throw new g({
            context: { key: u.key },
            type: "nomatchingcontroller",
          });
        }
        createBlade(a, u) {
          const d = this.pluginsMap_.blades.reduce(
            (x, R) => (x != null ? x : TU(R, { document: a, params: u })),
            null
          );
          if (!d)
            throw new g({ type: "nomatchingview", context: { params: u } });
          return d;
        }
        createBladeApi(a) {
          if (a instanceof Tt) return new Ft(a);
          if (a instanceof te) return new ie(a);
          if (a instanceof Us) return new Ia(a, this);
          const u = this.pluginsMap_.blades.reduce(
            (d, x) => (d != null ? d : x.api({ controller: a, pool: this })),
            null
          );
          if (!u) throw g.shouldNeverHappen();
          return u;
        }
      }
      function hF() {
        const c = new uF();
        return (
          [
            BL,
            VL,
            zL,
            YL,
            IL,
            xL,
            bL,
            _L,
            _3,
            ZL,
            iF,
            rF,
            Pa,
            vU,
            mU,
            $0,
          ].forEach((a) => {
            c.register(a);
          }),
          c
        );
      }
      class $y extends n {
        constructor(a) {
          super(a),
            (this.emitter_ = new w()),
            this.controller_.valueController.value.emitter.on("change", (u) => {
              this.emitter_.emit("change", { event: new o(this, u.rawValue) });
            });
        }
        get label() {
          return this.controller_.props.get("label");
        }
        set label(a) {
          this.controller_.props.set("label", a);
        }
        get options() {
          return this.controller_.valueController.props.get("options");
        }
        set options(a) {
          this.controller_.valueController.props.set("options", a);
        }
        get value() {
          return this.controller_.valueController.value.rawValue;
        }
        set value(a) {
          this.controller_.valueController.value.rawValue = a;
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
      }
      class jy extends n {
        constructor(a) {
          super(a),
            (this.emitter_ = new w()),
            this.controller_.valueController.value.emitter.on("change", (u) => {
              this.emitter_.emit("change", { event: new o(this, u.rawValue) });
            });
        }
        get label() {
          return this.controller_.props.get("label");
        }
        set label(a) {
          this.controller_.props.set("label", a);
        }
        get maxValue() {
          return this.controller_.valueController.sliderController.props.get(
            "maxValue"
          );
        }
        set maxValue(a) {
          this.controller_.valueController.sliderController.props.set(
            "maxValue",
            a
          );
        }
        get minValue() {
          return this.controller_.valueController.sliderController.props.get(
            "minValue"
          );
        }
        set minValue(a) {
          this.controller_.valueController.sliderController.props.set(
            "minValue",
            a
          );
        }
        get value() {
          return this.controller_.valueController.value.rawValue;
        }
        set value(a) {
          this.controller_.valueController.value.rawValue = a;
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
      }
      class zy extends n {
        constructor(a) {
          super(a),
            (this.emitter_ = new w()),
            this.controller_.valueController.value.emitter.on("change", (u) => {
              this.emitter_.emit("change", { event: new o(this, u.rawValue) });
            });
        }
        get label() {
          return this.controller_.props.get("label");
        }
        set label(a) {
          this.controller_.props.set("label", a);
        }
        get formatter() {
          return this.controller_.valueController.props.get("formatter");
        }
        set formatter(a) {
          this.controller_.valueController.props.set("formatter", a);
        }
        get value() {
          return this.controller_.valueController.value.rawValue;
        }
        set value(a) {
          this.controller_.valueController.value.rawValue = a;
        }
        on(a, u) {
          const d = u.bind(this);
          return (
            this.emitter_.on(a, (x) => {
              d(x.event);
            }),
            this
          );
        }
      }
      const cF = (function () {
        return {
          id: "list",
          type: "blade",
          accept(c) {
            const a = q,
              u = K(c, {
                options: a.required.custom(Oa),
                value: a.required.raw,
                view: a.required.constant("list"),
                label: a.optional.string,
              });
            return u ? { params: u } : null;
          },
          controller(c) {
            const a = new Bs(c.document, {
              props: D.fromObject({ options: oy(c.params.options) }),
              value: M(c.params.value),
              viewProps: c.viewProps,
            });
            return new An(c.document, {
              blade: c.blade,
              props: D.fromObject({ label: c.params.label }),
              valueController: a,
            });
          },
          api(c) {
            return !(c.controller instanceof An) ||
              !(c.controller.valueController instanceof Bs)
              ? null
              : new $y(c.controller);
          },
        };
      })();
      function fF(c) {
        return c.reduce(
          (a, u) => Object.assign(a, { [u.presetKey]: u.read() }),
          {}
        );
      }
      function pF(c, a) {
        c.forEach((u) => {
          const d = a[u.presetKey];
          d !== void 0 && u.write(d);
        });
      }
      class dF extends sc {
        constructor(a, u) {
          super(a, u);
        }
        get element() {
          return this.controller_.view.element;
        }
        importPreset(a) {
          const u = this.controller_.rackController.rack
            .find(Tt)
            .map((d) => d.binding.target);
          pF(u, a), this.refresh();
        }
        exportPreset() {
          const a = this.controller_.rackController.rack
            .find(Tt)
            .map((u) => u.binding.target);
          return fF(a);
        }
        refresh() {
          this.controller_.rackController.rack.find(Tt).forEach((a) => {
            a.binding.read();
          }),
            this.controller_.rackController.rack.find(te).forEach((a) => {
              a.binding.read();
            });
        }
      }
      class vF extends lc {
        constructor(a, u) {
          super(a, {
            expanded: u.expanded,
            blade: u.blade,
            props: u.props,
            root: !0,
            viewProps: u.viewProps,
          });
        }
      }
      const _F = {
          id: "slider",
          type: "blade",
          accept(c) {
            const a = q,
              u = K(c, {
                max: a.required.number,
                min: a.required.number,
                view: a.required.constant("slider"),
                format: a.optional.function,
                label: a.optional.string,
                value: a.optional.number,
              });
            return u ? { params: u } : null;
          },
          controller(c) {
            var a, u;
            const d = (a = c.params.value) !== null && a !== void 0 ? a : 0,
              x = new _c(c.document, {
                baseStep: 1,
                parser: Cr,
                sliderProps: D.fromObject({
                  maxValue: c.params.max,
                  minValue: c.params.min,
                }),
                textProps: D.fromObject({
                  draggingScale: On(void 0, d),
                  formatter:
                    (u = c.params.format) !== null && u !== void 0 ? u : r3,
                }),
                value: M(d),
                viewProps: c.viewProps,
              });
            return new An(c.document, {
              blade: c.blade,
              props: D.fromObject({ label: c.params.label }),
              valueController: x,
            });
          },
          api(c) {
            return !(c.controller instanceof An) ||
              !(c.controller.valueController instanceof _c)
              ? null
              : new jy(c.controller);
          },
        },
        mF = (function () {
          return {
            id: "text",
            type: "blade",
            accept(c) {
              const a = q,
                u = K(c, {
                  parse: a.required.function,
                  value: a.required.raw,
                  view: a.required.constant("text"),
                  format: a.optional.function,
                  label: a.optional.string,
                });
              return u ? { params: u } : null;
            },
            controller(c) {
              var a;
              const u = new Na(c.document, {
                parser: c.params.parse,
                props: D.fromObject({
                  formatter:
                    (a = c.params.format) !== null && a !== void 0
                      ? a
                      : (d) => String(d),
                }),
                value: M(c.params.value),
                viewProps: c.viewProps,
              });
              return new An(c.document, {
                blade: c.blade,
                props: D.fromObject({ label: c.params.label }),
                valueController: u,
              });
            },
            api(c) {
              return !(c.controller instanceof An) ||
                !(c.controller.valueController instanceof Na)
                ? null
                : new zy(c.controller);
            },
          };
        })();
      function gF(c) {
        const a = c.createElement("div");
        return a.classList.add(T("dfw")()), c.body && c.body.appendChild(a), a;
      }
      function Wy(c, a, u) {
        if (c.querySelector(`style[data-tp-style=${a}]`)) return;
        const d = c.createElement("style");
        (d.dataset.tpStyle = a), (d.textContent = u), c.head.appendChild(d);
      }
      class yF extends dF {
        constructor(a) {
          var u, d;
          const x = a != null ? a : {},
            R = (u = x.document) !== null && u !== void 0 ? u : $t(),
            U = hF(),
            V = new vF(R, {
              expanded: x.expanded,
              blade: be(),
              props: D.fromObject({ title: x.title }),
              viewProps: ti.create(),
            });
          super(V, U),
            (this.pool_ = U),
            (this.containerElem_ =
              (d = x.container) !== null && d !== void 0 ? d : gF(R)),
            this.containerElem_.appendChild(this.element),
            (this.doc_ = R),
            (this.usesDefaultWrapper_ = !x.container),
            this.setUpDefaultPlugins_();
        }
        get document() {
          if (!this.doc_) throw g.alreadyDisposed();
          return this.doc_;
        }
        dispose() {
          const a = this.containerElem_;
          if (!a) throw g.alreadyDisposed();
          if (this.usesDefaultWrapper_) {
            const u = a.parentElement;
            u && u.removeChild(a);
          }
          (this.containerElem_ = null), (this.doc_ = null), super.dispose();
        }
        registerPlugin(a) {
          ("plugin" in a
            ? [a.plugin]
            : "plugins" in a
            ? a.plugins
            : []
          ).forEach((d) => {
            this.pool_.register(d), this.embedPluginStyle_(d);
          });
        }
        embedPluginStyle_(a) {
          a.css && Wy(this.document, `plugin-${a.id}`, a.css);
        }
        setUpDefaultPlugins_() {
          Wy(
            this.document,
            "default",
            '.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'
          ),
            this.pool_.getAll().forEach((a) => {
              this.embedPluginStyle_(a);
            }),
            this.registerPlugin({ plugins: [_F, cF, $0, mF] });
        }
      }
      const bF = new i("3.1.0");
      (e.BladeApi = n),
        (e.ButtonApi = b),
        (e.FolderApi = sc),
        (e.InputBindingApi = Ft),
        (e.ListApi = $y),
        (e.MonitorBindingApi = ie),
        (e.Pane = yF),
        (e.SeparatorApi = F0),
        (e.SliderApi = jy),
        (e.TabApi = V0),
        (e.TabPageApi = D0),
        (e.TextApi = zy),
        (e.TpChangeEvent = o),
        (e.VERSION = bF),
        Object.defineProperty(e, "__esModule", { value: !0 });
    });
  })(_h, _h.exports);
  var sg = {
      uniforms: `
// 0: Addition, 1: Screen, 2: Overlay, 3: Soft Light, 4: Lighten-Only
uniform float uBlendMode;
uniform float uSpeed;
uniform float uIntensity;
// What gray level noise should tend to.
uniform float uMean;
// Controls the contrast/uVariance of noise.
uniform float uVariance;

  `,
      main: `
  vec3 channel_mix(vec3 a, vec3 b, vec3 w) {
    return vec3(mix(a.r, b.r, w.r), mix(a.g, b.g, w.g), mix(a.b, b.b, w.b));
  }
  
  float gaussian(float z, float u, float o) {
    return (1.0 / (o * sqrt(2.0 * 3.1415))) * exp(-(((z - u) * (z - u)) / (2.0 * (o * o))));
  }
  
  vec3 madd(vec3 a, vec3 b, float w) {
    return a + a * b * w;
  }
  
  vec3 screen(vec3 a, vec3 b, float w) {
    return mix(a, vec3(1.0) - (vec3(1.0) - a) * (vec3(1.0) - b), w);
  }
  
  vec3 overlay(vec3 a, vec3 b, float w) {
    return mix(a, channel_mix(
        2.0 * a * b,
        vec3(1.0) - 2.0 * (vec3(1.0) - a) * (vec3(1.0) - b),
        step(vec3(0.5), a)
    ), w);
  }
  
  vec3 soft_light(vec3 a, vec3 b, float w) {
    return mix(a, pow(a, pow(vec3(2.0), 2.0 * (vec3(0.5) - b))), w);
  }

  vec4 getNoiseBasic(vec4 colorBase, vec2 screenSize) {
    vec4 color = colorBase;
    vec2 ps = vec2(1.0) / screenSize.xy;
    vec2 uv = gl_FragCoord.xy * ps;

    float t = uTime * 0.02 * uSpeed;
    float seed = dot(uv, vec2(12.9898, 78.233));
    float noise = fract(sin(seed) * 43758.5453 + t);
    noise = gaussian(noise, uMean, uVariance * uVariance);
    
    
    // color = vec4(noise);
    
    float w = uIntensity;

    // w *= step(coord.x, iMouse.x);
    
    vec3 grain = vec3(noise) * (1.0 - color.rgb);
    
    if (uBlendMode == 0.)
    color.rgb += grain * w;
    else if (uBlendMode == 1.)
    color.rgb = screen(color.rgb, grain, w);
    else if (uBlendMode == 2.)
    color.rgb = overlay(color.rgb, grain, w);
    else if (uBlendMode == 3.)
    color.rgb = soft_light(color.rgb, grain, w);
    else if (uBlendMode == 4.)
    color.rgb = max(color.rgb, grain * w);

    return color;
  }

  `,
    },
    og = {
      uniforms: `
    uniform float uIntensityRN;
    uniform float uZoomRN;
    uniform float uSpeedRN;
    uniform float uBlendModeRN;
  `,
      main: `
  float grain(vec2 texCoord, vec2 resolution, float frame, float multiplier) {
    vec2 mult = texCoord * resolution;
    float offset = snoise3D(vec3(mult / multiplier, frame));
    float n1 = pnoise3D(vec3(mult, offset), vec3(1.0/texCoord * resolution, 1.0));
    return n1 / 2.0 + 0.5;
  }

  float grain(vec2 texCoord, vec2 resolution, float frame) {
      return grain(texCoord, resolution, frame, 2.5);
  }

  float grain(vec2 texCoord, vec2 resolution) {
      return grain(texCoord, resolution, 0.0);
  }

  float luma(vec3 color) {
    return dot(color, vec3(0.299, 0.587, 0.114));
  }
  
  float luma(vec4 color) {
    return dot(color.rgb, vec3(0.299, 0.587, 0.114));
  }

  vec3 blendSoftLight(vec3 base, vec3 blend) {
    return mix(
        sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), 
        2.0 * base * blend + base * base * (1.0 - 2.0 * blend), 
        step(base, vec3(0.5))
    );
}
  
  

  vec4 getNoiseRealistic(vec4 colorBase, vec2 screenSize, vec2 uv) {
    float zoom = uZoomRN; //0.35;
    vec3 g = vec3(grain(uv, screenSize * zoom, uTime * uSpeedRN, 10.));

    //get the luminance of the image
    // float luminance = luma(colorBase);
    // vec3 desaturated = vec3(luminance);

    //now blend the noise over top the backround 
    // in our case soft-light looks pretty good
    // vec3 color = blendSoftLight(colorBase.rgb, g);

    vec4 color = colorBase;
    float w = uIntensityRN;

    if (uBlendModeRN == 0.)
    color.rgb += g * w;
    else if (uBlendModeRN == 1.)
    color.rgb = screen(color.rgb, g, w);
    else if (uBlendModeRN == 2.)
    color.rgb = overlay(color.rgb, g, w);
    else if (uBlendModeRN == 3.)
    color.rgb = soft_light(color.rgb, g, w);
    else if (uBlendModeRN == 4.)
    color.rgb = max(color.rgb, g * w);


    //and further reduce the noise strength based on some 
    //threshold of the background luminance
    // float response = smoothstep(0.05, 0.5, luminance);
    // color = mix(color, desaturated, pow(response,2.0));

    return color;
    // return vec4(g, 1.0);

  }

  `,
    },
    OS = `

vec3 mod289(vec3 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x) {
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x) {
     return mod289(((x*34.0)+1.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

`,
    US = `
vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

// Classic Perlin noise, periodic variant
float pnoise3D(vec3 P, vec3 rep)
{
  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return 2.2 * n_xyz;
}`,
    LS = `
float snoise3D(vec3 v)
  {
  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

// First corner
  vec3 i  = floor(v + dot(v, C.yyy) );
  vec3 x0 =   v - i + dot(i, C.xxx) ;

// Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min( g.xyz, l.zxy );
  vec3 i2 = max( g.xyz, l.zxy );

  //   x0 = x0 - 0.0 + 0.0 * C.xxx;
  //   x1 = x0 - i1  + 1.0 * C.xxx;
  //   x2 = x0 - i2  + 2.0 * C.xxx;
  //   x3 = x0 - 1.0 + 3.0 * C.xxx;
  vec3 x1 = x0 - i1 + C.xxx;
  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y

// Permutations
  i = mod289(i);
  vec4 p = permute( permute( permute(
             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

// Gradients: 7x7 points over a square, mapped onto an octahedron.
// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
  float n_ = 0.142857142857; // 1.0/7.0
  vec3  ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

  vec4 x = x_ *ns.x + ns.yyyy;
  vec4 y = y_ *ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4( x.xy, y.xy );
  vec4 b1 = vec4( x.zw, y.zw );

  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;
  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;
  vec4 s0 = floor(b0)*2.0 + 1.0;
  vec4 s1 = floor(b1)*2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

  vec3 p0 = vec3(a0.xy,h.x);
  vec3 p1 = vec3(a0.zw,h.y);
  vec3 p2 = vec3(a1.xy,h.z);
  vec3 p3 = vec3(a1.zw,h.w);

//Normalise gradients
  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

// Mix final noise value
  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
  m = m * m;
  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                dot(p2,x2), dot(p3,x3) ) );
  }

`,
    ag = {
      uniforms: `
  #define PI 3.1415923693
  #define COSINE(x) 1. - cos(.5 * PI * x)
  uniform float uOffsetRGBSplit;


  `,
      main: `
  
  vec4 splitRGB(vec4 colorTexture, sampler2D texture, vec2 uv)
  {
    vec2 dir = uv; // - vec2(0.5);
    float d = 1.;//.7 * length( dir );
    normalize( dir );
    vec2 value = d * dir * uOffsetRGBSplit;

    // vec4 c1 = texture2D( texture, uv - value);
    // vec4 c2 = colorTexture;
    // vec4 c3 = texture2D( texture, uv + value);

    vec4 c1 = texture2D( texture, uv - vec2(uOffsetRGBSplit, 0.));
    vec4 c2 = colorTexture;
    vec4 c3 = texture2D( texture, uv + vec2(uOffsetRGBSplit, 0.));
    
    return vec4( c1.r, c2.g, c3.b, c1.a + c2.a + c3.b );
  
  }

  `,
    },
    FS = {
      uniforms: `

  `,
      main: `
  
  vec2 hash(vec2 p)
{
    p = vec2(dot(p, vec2(127.1, 311.7)), dot(p, vec2(269.5, 183.3)));
    return 2. * fract(sin(p) * 43758.5453123) - 1.;
}

  float verticalLine(vec2 uv, float time)
  {
    float uvX = uv.x + time*0.000001;
    vec2 xHash = hash(vec2(uvX,uvX));
    float vertical = step(0.999999,sin(uvX*1000.0 * (xHash.x*0.01+0.01)));
    
    float uvY = uv.y + time*0.00001;
    vec2 yHash = hash(vec2(uvY,uvY));
    vertical *= sin(uvY*1000.0 * (yHash.x));
        
    return clamp(1.0 - vertical, 0.,1.);
  }

  `,
    },
    kS = `
varying vec2 vTextureCoord;
uniform vec2 uScreenSize;
// uniform vec3 color;
uniform float alpha;
uniform float uRatio;
uniform float uEdgeSoftness;
uniform float uDeformation;
uniform float uLines;
uniform float uSideVHS;
uniform float uBrightness;
uniform sampler2D uTexture;
uniform float uTime;
uniform float uRadius;
uniform float uNoiseType;
varying vec2 vScreenPosition;

${ag.uniforms}
${sg.uniforms}
${og.uniforms}


${OS}
${US}
${LS}


${ag.main}
${sg.main}
${og.main}
${FS.main}

float blendColorBurn(float base, float blend) {
	return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn(vec3 base, vec3 blend) {
	return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));
}

vec3 blendColorBurn(vec3 base, vec3 blend, float opacity) {
	return (blendColorBurn(base, blend) * opacity + base * (1.0 - opacity));
}

float random(vec2 co)
{
   return fract(sin(dot(co.xy,vec2(12.9898,78.233))) * 43758.5453);
}

vec3 blendOverlay(vec3 base, vec3 blend) {
  return mix(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, step(base, vec3(0.5)));
  // with conditionals, may be worth benchmarking
  // return vec3(
  //     base.r < 0.5 ? (2.0 * base.r * blend.r) : (1.0 - 2.0 * (1.0 - base.r) * (1.0 - blend.r)),
  //     base.g < 0.5 ? (2.0 * base.g * blend.g) : (1.0 - 2.0 * (1.0 - base.g) * (1.0 - blend.g)),
  //     base.b < 0.5 ? (2.0 * base.b * blend.b) : (1.0 - 2.0 * (1.0 - base.b) * (1.0 - blend.b))
  // );
}


// from https://iquilezles.org/articles/distfunctions
float roundedBoxSDF(vec2 CenterPosition, vec2 Size, float Radius) {
  return length(max(abs(CenterPosition)-Size+Radius,0.0))-Radius;
}

float sdRoundBox( vec2 p, vec2 b, vec4 r ) 
{
    r.xy = (p.x>0.0)?r.xy : r.zw;
    r.x  = (p.y>0.0)?r.x  : r.y;
    vec2 q = abs(p)-b+r.x;
    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - r.x;
}

void main(void)
{
  // vec2 uv = vTextureCoord;
  // uv
    
  // float u = smoothstep(0.7, 0.98, abs(uv.x));
	// float v = smoothstep(0.7, 0.98, abs(uv.y));

  // Calculate distance to edge.   
  
  
  float radius = uRadius;
  vec2 location = uScreenSize;
  float heightImage = uScreenSize.y * 0.75;
  float widthImage = heightImage * uRatio;
  vec2 size = vec2(widthImage, heightImage);
  float distance 		= roundedBoxSDF(gl_FragCoord.xy - location, size, radius);
  
    
  vec2 uvDistorted = vec2(vTextureCoord);

  float lineTime = uTime * .003 * 1.;
  float widthLine = random(vec2(floor(lineTime) + 1.)) * 0.25;
  float distortionUVX = min(random(vec2(floor(lineTime) + 1.)), 0.1) * 0.2;

  float extraSoItDoesntLoopTooQuickly = 0.5;

  float line = 0.;

  if (uDeformation > 0.) {

    line = step(mix(-widthLine, 1. + widthLine + extraSoItDoesntLoopTooQuickly, fract(lineTime)), vTextureCoord.y)
    - step(mix(-widthLine, 1. + widthLine + extraSoItDoesntLoopTooQuickly, fract(lineTime)), vTextureCoord.y - widthLine);
  }

  
  // float deformationScale = random(vec2(floor(uTime * .02 * 3.) + 1.)) * 0.05;
  // uvDistorted = mix(uvDistorted, uvDistorted + deformationScale, line);
  uvDistorted.x -= distortionUVX * line;

  vec2 size2 = size * 1.1;
  vec2 uvImage = uvDistorted;
  uvImage -= 0.5;
  uvImage += vec2(size2.x / 2. / uScreenSize.x, size2.y / 2. / uScreenSize.y);
  uvImage /= vec2(size2.x / uScreenSize.x, size2.y / uScreenSize.y);

  vec4 colorTexture = texture2D(uTexture, uvImage);
  float smoothedAlpha =  smoothstep(0.0, uEdgeSoftness, distance);

  // vec4 colorRGBSplit = mix(colorTexture, splitRGB(colorTexture, uTexture, uvImage), line);  
  vec4 colorRGBSplit = splitRGB(colorTexture, uTexture, uvImage);  

  float shapesAround 		= roundedBoxSDF(gl_FragCoord.xy - location, size +
    vec2(random(floor((vTextureCoord.yy * 2. - 1.) * 500.) + uTime * 0.00001) * 10. + 5.) + vec2(0., 6.) + (uEdgeSoftness - 20.) + (1. - uSideVHS) * 20.
    , radius) * (1. - smoothedAlpha);
    

  vec4 maskFrame		= mix(colorRGBSplit, vec4(vec3(0.), 1.), smoothedAlpha);
  maskFrame.rgb += max(0., shapesAround * 0.1);

  
  vec4 color = maskFrame;


  

  // color = mix(
  //   vec4(0., 0., 0., 1.), 
  //   colorTexture, 
  //   clamp(0., 1., (1. - distance))
  // );

  if (uNoiseType == 0.) {
    color = getNoiseBasic(color, uScreenSize);
  } else {
    vec2 ps = vec2(1.0) / uScreenSize.xy;
    color = getNoiseRealistic(color, uScreenSize, gl_FragCoord.xy * ps);
  }


 // VERTICAL LINES
 vec4 col = vec4(1.);
 if (uLines > 0.) {
   col = vec4(vec3(0.0), 1.);
   col += verticalLine(vTextureCoord, uTime * 0.01 );
   col += (1.0 - verticalLine(vTextureCoord, uTime * 0.01 * 5.0));
 }
  


    // color.rgb += amount;
  // vec3 noise = vec3(random(gl_FragCoord.xy / uScreenSize.xy));
  // color.rgb = mix(color.rgb, blendOverlay(color.rgb, noise), a);
  // maskFrame.rgb = blendOverlay(maskFrame.rgb, noise);
  // maskFrame.rgb += vec3(randomIntensity);

  color *= (1. + uBrightness);

  
  
  gl_FragColor = vec4(color) * col;
  // gl_FragColor = colorRGBSplit;
  // gl_FragColor = col;


  // gl_FragColor = vec4(vec3(line), 1.);
  // gl_FragColor = vec4(vec3(shapesAround), 1.);
  // gl_FragColor = vec4(vec3(uvY), 1.);
  // gl_FragColor = vec4(colorTexture);
  // gl_FragColor = texture2D(uTexture, vec2(uvX, uvY));
}`,
    BS = `
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;
varying vec2 vScreenPosition;

void main(void)
{
  gl_Position=vec4((projectionMatrix*translationMatrix*vec3(aVertexPosition,1.)).xy,0.,1.);

  vScreenPosition = gl_Position.xy;
  // vScreenPosition.y = 1.0 - aVertexPosition.y;;
  
  vTextureCoord=vec3(aTextureCoord,1.).xy;
}
`;
  const oa = { basic: "basic_noise", realistic: "realistic_noise" },
    aa = {
      Addition: 0,
      Screen: 1,
      Overlay: 2,
      "Soft Light": 3,
      "Lighten Only": 4,
    },
    lg = !0;
  class GS {
    constructor(t) {
      (this.verticalLines = lg),
        (this.deformation = lg),
        (this.geometry = new Mv(1, 1, 2, 2)),
        (this.shader = dr.from(BS, kS, {
          uTexture: ot.WHITE,
          uRatioTexture: 1,
          color: [0.2, 0.2, 0.2],
          alpha: 1,
          uDeformation: this.deformation ? 1 : 0,
          uLines: this.verticalLines ? 1 : 0,
          uScreenSize: [1, 1],
          uTime: 0,
          uSideVHS: 0.91,
          uRadius: 20,
          uNoiseType: 0,
          uBrightness: 0,
          uEdgeSoftness: 18,
          uBlendMode: aa.Overlay,
          uSpeed: 2,
          uIntensity: 0.16,
          uMean: 0,
          uVariance: 0.5,
          uBlendModeRN: aa["Soft Light"],
          uIntensityRN: 0.45,
          uZoomRN: 0.37,
          uSpeedRN: 0.04,
          uOffsetRGBSplit: 0,
        })),
        (this.tick = 0),
        (this.view = new en(this.geometry, this.shader)),
        t
          .addInput(this, "verticalLines", { label: "vertical lines" })
          .on("change", (f) => {
            this.shader.uniforms.uLines = f.value ? 1 : 0;
          }),
        t.addInput(this, "deformation").on("change", (f) => {
          (this.shader.uniforms.uDeformation = f.value ? 1 : 0),
            f.value && (this.tick = 0);
        }),
        t.addInput(this.shader.uniforms, "uRadius", {
          min: 0,
          max: 200,
          label: "radius",
        }),
        t.addInput(this.shader.uniforms, "uEdgeSoftness", {
          min: 0,
          max: 100,
          label: "Edge Blur",
        }),
        t.addInput(this.shader.uniforms, "uSideVHS", {
          min: 0,
          max: 1.5,
          label: "side burns",
        });
      const e = t.addFolder({ title: "Animate it yourself" });
      e.addInput(this.shader.uniforms, "uBrightness", {
        min: 0,
        max: 2,
        label: "Brightness",
      }),
        e.addInput(this.shader.uniforms, "uOffsetRGBSplit", {
          min: 0,
          max: 0.1,
          step: 1e-4,
          label: "RGB-Split",
        });
      const i = t.addFolder({ title: "Noise" });
      this.tabsNoise = i.addTab({
        pages: [{ title: "Basic" }, { title: "Advanced" }],
      });
      const n = this.tabsNoise.pages[0];
      n.addButton({ title: "select" }).on("click", () => {
        this.noiseType = oa.basic;
      }),
        n.addInput(this.shader.uniforms, "uIntensity", {
          min: 0,
          max: 1,
          label: "intensity",
        }),
        n.addInput(this.shader.uniforms, "uBlendMode", { options: { ...aa } }),
        n.addInput(this.shader.uniforms, "uSpeed", { min: 0, max: 10 }),
        n.addInput(this.shader.uniforms, "uMean", { min: 0, max: 1 }),
        n.addInput(this.shader.uniforms, "uVariance", { min: 0, max: 1 });
      const o = this.tabsNoise.pages[1];
      o.addButton({ title: "select" }).on("click", () => {
        this.noiseType = oa.realistic;
      }),
        o.addInput(this.shader.uniforms, "uIntensityRN", { min: 0, max: 1 }),
        o.addInput(this.shader.uniforms, "uZoomRN", { min: 0, max: 1 }),
        o.addInput(this.shader.uniforms, "uSpeedRN", { min: 0, max: 1 }),
        o.addInput(this.shader.uniforms, "uBlendModeRN", {
          options: { ...aa },
        });
      const h = ot.from("./assets/video-anatole.mp4");
      (h.baseTexture.resource.source.loop = !0),
        (h.baseTexture.resource.source.muted = !0),
        this.setTexture(h);
    }
    setTexture(t) {
      const e = t.width / t.height;
      console.log("ratio", e);
      const i = 270 / 480;
      (this.shader.uniforms.uRatio = e === 1 ? i : e),
        (this.shader.uniforms.uTexture = t);
    }
    set noiseType(t) {
      switch (t) {
        case oa.basic:
          this.shader.uniforms.uNoiseType = 0;
          break;
        case oa.realistic:
          this.shader.uniforms.uNoiseType = 1;
          break;
      }
    }
    set color(t) {
      this.shader.uniforms.color = t;
    }
    get alpha() {
      return this.shader.uniforms.alpha;
    }
    set alpha(t) {
      this.shader.uniforms.alpha = t;
    }
    update() {
      this.tick++, (this.shader.uniforms.uTime = this.tick);
    }
    resize(t, e) {
      (this.geometry.width = t),
        (this.geometry.height = e),
        this.geometry.build(),
        (this.shader.uniforms.uScreenSize = [t, e]);
    }
  }
  function gr(r) {
    if (r === void 0)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      );
    return r;
  }
  function ug(r, t) {
    (r.prototype = Object.create(t.prototype)),
      (r.prototype.constructor = r),
      (r.__proto__ = t);
  }
  /*!
   * GSAP 3.11.3
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
   */ var Ce = {
      autoSleep: 120,
      force3D: "auto",
      nullTargetWarn: 1,
      units: { lineHeight: "" },
    },
    pn = { duration: 0.5, overwrite: !1, delay: 0 },
    mh,
    de,
    Qt,
    Se = 1e8,
    Nt = 1 / Se,
    gh = Math.PI * 2,
    MS = gh / 4,
    DS = 0,
    hg = Math.sqrt,
    VS = Math.cos,
    HS = Math.sin,
    se = function (t) {
      return typeof t == "string";
    },
    Wt = function (t) {
      return typeof t == "function";
    },
    yr = function (t) {
      return typeof t == "number";
    },
    yh = function (t) {
      return typeof t == "undefined";
    },
    sr = function (t) {
      return typeof t == "object";
    },
    ve = function (t) {
      return t !== !1;
    },
    cg = function () {
      return typeof window != "undefined";
    },
    la = function (t) {
      return Wt(t) || se(t);
    },
    fg =
      (typeof ArrayBuffer == "function" && ArrayBuffer.isView) ||
      function () {},
    fe = Array.isArray,
    bh = /(?:-?\.?\d|\.)+/gi,
    pg = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,
    dn = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g,
    xh = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,
    dg = /[+-]=-?[.\d]+/,
    vg = /[^,'"\[\]\s]+/gi,
    XS = /^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,
    Ht,
    Oe,
    wh,
    Th,
    Pe = {},
    ua = {},
    _g,
    mg = function (t) {
      return (ua = xi(t, Pe)) && Ae;
    },
    Eh = function (t, e) {
      return console.warn(
        "Invalid property",
        t,
        "set to",
        e,
        "Missing plugin? gsap.registerPlugin()"
      );
    },
    ha = function (t, e) {
      return !e && console.warn(t);
    },
    gg = function (t, e) {
      return (t && (Pe[t] = e) && ua && (ua[t] = e)) || Pe;
    },
    ys = function () {
      return 0;
    },
    $S = { suppressEvents: !0, isStart: !0, kill: !1 },
    ca = { suppressEvents: !0, kill: !1 },
    jS = { suppressEvents: !0 },
    Ch = {},
    Xr = [],
    Ph = {},
    yg,
    Ie = {},
    Ih = {},
    bg = 30,
    fa = [],
    Rh = "",
    Ah = function (t) {
      var e = t[0],
        i,
        n;
      if ((sr(e) || Wt(e) || (t = [t]), !(i = (e._gsap || {}).harness))) {
        for (n = fa.length; n-- && !fa[n].targetTest(e); );
        i = fa[n];
      }
      for (n = t.length; n--; )
        (t[n] && (t[n]._gsap || (t[n]._gsap = new Wg(t[n], i)))) ||
          t.splice(n, 1);
      return t;
    },
    bi = function (t) {
      return t._gsap || Ah(Fe(t))[0]._gsap;
    },
    xg = function (t, e, i) {
      return (i = t[e]) && Wt(i)
        ? t[e]()
        : (yh(i) && t.getAttribute && t.getAttribute(e)) || i;
    },
    _e = function (t, e) {
      return (t = t.split(",")).forEach(e) || t;
    },
    Kt = function (t) {
      return Math.round(t * 1e5) / 1e5 || 0;
    },
    ae = function (t) {
      return Math.round(t * 1e7) / 1e7 || 0;
    },
    vn = function (t, e) {
      var i = e.charAt(0),
        n = parseFloat(e.substr(2));
      return (
        (t = parseFloat(t)),
        i === "+" ? t + n : i === "-" ? t - n : i === "*" ? t * n : t / n
      );
    },
    zS = function (t, e) {
      for (var i = e.length, n = 0; t.indexOf(e[n]) < 0 && ++n < i; );
      return n < i;
    },
    pa = function () {
      var t = Xr.length,
        e = Xr.slice(0),
        i,
        n;
      for (Ph = {}, Xr.length = 0, i = 0; i < t; i++)
        (n = e[i]),
          n && n._lazy && (n.render(n._lazy[0], n._lazy[1], !0)._lazy = 0);
    },
    wg = function (t, e, i, n) {
      Xr.length && pa(),
        t.render(e, i, n || (de && e < 0 && (t._initted || t._startAt))),
        Xr.length && pa();
    },
    Tg = function (t) {
      var e = parseFloat(t);
      return (e || e === 0) && (t + "").match(vg).length < 2
        ? e
        : se(t)
        ? t.trim()
        : t;
    },
    Eg = function (t) {
      return t;
    },
    Ue = function (t, e) {
      for (var i in e) i in t || (t[i] = e[i]);
      return t;
    },
    WS = function (t) {
      return function (e, i) {
        for (var n in i)
          n in e || (n === "duration" && t) || n === "ease" || (e[n] = i[n]);
      };
    },
    xi = function (t, e) {
      for (var i in e) t[i] = e[i];
      return t;
    },
    Cg = function r(t, e) {
      for (var i in e)
        i !== "__proto__" &&
          i !== "constructor" &&
          i !== "prototype" &&
          (t[i] = sr(e[i]) ? r(t[i] || (t[i] = {}), e[i]) : e[i]);
      return t;
    },
    da = function (t, e) {
      var i = {},
        n;
      for (n in t) n in e || (i[n] = t[n]);
      return i;
    },
    bs = function (t) {
      var e = t.parent || Ht,
        i = t.keyframes ? WS(fe(t.keyframes)) : Ue;
      if (ve(t.inherit))
        for (; e; ) i(t, e.vars.defaults), (e = e.parent || e._dp);
      return t;
    },
    YS = function (t, e) {
      for (var i = t.length, n = i === e.length; n && i-- && t[i] === e[i]; );
      return i < 0;
    },
    Pg = function (t, e, i, n, s) {
      i === void 0 && (i = "_first"), n === void 0 && (n = "_last");
      var o = t[n],
        l;
      if (s) for (l = e[s]; o && o[s] > l; ) o = o._prev;
      return (
        o
          ? ((e._next = o._next), (o._next = e))
          : ((e._next = t[i]), (t[i] = e)),
        e._next ? (e._next._prev = e) : (t[n] = e),
        (e._prev = o),
        (e.parent = e._dp = t),
        e
      );
    },
    va = function (t, e, i, n) {
      i === void 0 && (i = "_first"), n === void 0 && (n = "_last");
      var s = e._prev,
        o = e._next;
      s ? (s._next = o) : t[i] === e && (t[i] = o),
        o ? (o._prev = s) : t[n] === e && (t[n] = s),
        (e._next = e._prev = e.parent = null);
    },
    $r = function (t, e) {
      t.parent && (!e || t.parent.autoRemoveChildren) && t.parent.remove(t),
        (t._act = 0);
    },
    wi = function (t, e) {
      if (t && (!e || e._end > t._dur || e._start < 0))
        for (var i = t; i; ) (i._dirty = 1), (i = i.parent);
      return t;
    },
    qS = function (t) {
      for (var e = t.parent; e && e.parent; )
        (e._dirty = 1), e.totalDuration(), (e = e.parent);
      return t;
    },
    Nh = function (t, e, i, n) {
      return (
        t._startAt &&
        (de
          ? t._startAt.revert(ca)
          : (t.vars.immediateRender && !t.vars.autoRevert) ||
            t._startAt.render(e, !0, n))
      );
    },
    KS = function r(t) {
      return !t || (t._ts && r(t.parent));
    },
    Ig = function (t) {
      return t._repeat ? _n(t._tTime, (t = t.duration() + t._rDelay)) * t : 0;
    },
    _n = function (t, e) {
      var i = Math.floor((t /= e));
      return t && i === t ? i - 1 : i;
    },
    _a = function (t, e) {
      return (
        (t - e._start) * e._ts +
        (e._ts >= 0 ? 0 : e._dirty ? e.totalDuration() : e._tDur)
      );
    },
    ma = function (t) {
      return (t._end = ae(
        t._start + (t._tDur / Math.abs(t._ts || t._rts || Nt) || 0)
      ));
    },
    ga = function (t, e) {
      var i = t._dp;
      return (
        i &&
          i.smoothChildTiming &&
          t._ts &&
          ((t._start = ae(
            i._time -
              (t._ts > 0
                ? e / t._ts
                : ((t._dirty ? t.totalDuration() : t._tDur) - e) / -t._ts)
          )),
          ma(t),
          i._dirty || wi(i, t)),
        t
      );
    },
    Rg = function (t, e) {
      var i;
      if (
        ((e._time || (e._initted && !e._dur)) &&
          ((i = _a(t.rawTime(), e)),
          (!e._dur || ws(0, e.totalDuration(), i) - e._tTime > Nt) &&
            e.render(i, !0)),
        wi(t, e)._dp && t._initted && t._time >= t._dur && t._ts)
      ) {
        if (t._dur < t.duration())
          for (i = t; i._dp; )
            i.rawTime() >= 0 && i.totalTime(i._tTime), (i = i._dp);
        t._zTime = -Nt;
      }
    },
    or = function (t, e, i, n) {
      return (
        e.parent && $r(e),
        (e._start = ae(
          (yr(i) ? i : i || t !== Ht ? Le(t, i, e) : t._time) + e._delay
        )),
        (e._end = ae(
          e._start + (e.totalDuration() / Math.abs(e.timeScale()) || 0)
        )),
        Pg(t, e, "_first", "_last", t._sort ? "_start" : 0),
        Sh(e) || (t._recent = e),
        n || Rg(t, e),
        t._ts < 0 && ga(t, t._tTime),
        t
      );
    },
    Ag = function (t, e) {
      return (
        (Pe.ScrollTrigger || Eh("scrollTrigger", e)) &&
        Pe.ScrollTrigger.create(e, t)
      );
    },
    Ng = function (t, e, i, n, s) {
      if ((Dh(t, e, s), !t._initted)) return 1;
      if (
        !i &&
        t._pt &&
        !de &&
        ((t._dur && t.vars.lazy !== !1) || (!t._dur && t.vars.lazy)) &&
        yg !== Re.frame
      )
        return Xr.push(t), (t._lazy = [s, n]), 1;
    },
    ZS = function r(t) {
      var e = t.parent;
      return e && e._ts && e._initted && !e._lock && (e.rawTime() < 0 || r(e));
    },
    Sh = function (t) {
      var e = t.data;
      return e === "isFromStart" || e === "isStart";
    },
    JS = function (t, e, i, n) {
      var s = t.ratio,
        o =
          e < 0 ||
          (!e &&
            ((!t._start && ZS(t) && !(!t._initted && Sh(t))) ||
              ((t._ts < 0 || t._dp._ts < 0) && !Sh(t))))
            ? 0
            : 1,
        l = t._rDelay,
        h = 0,
        f,
        p,
        v;
      if (
        (l &&
          t._repeat &&
          ((h = ws(0, t._tDur, e)),
          (p = _n(h, l)),
          t._yoyo && p & 1 && (o = 1 - o),
          p !== _n(t._tTime, l) &&
            ((s = 1 - o),
            t.vars.repeatRefresh && t._initted && t.invalidate())),
        o !== s || de || n || t._zTime === Nt || (!e && t._zTime))
      ) {
        if (!t._initted && Ng(t, e, n, i, h)) return;
        for (
          v = t._zTime,
            t._zTime = e || (i ? Nt : 0),
            i || (i = e && !v),
            t.ratio = o,
            t._from && (o = 1 - o),
            t._time = 0,
            t._tTime = h,
            f = t._pt;
          f;

        )
          f.r(o, f.d), (f = f._next);
        e < 0 && Nh(t, e, i, !0),
          t._onUpdate && !i && ke(t, "onUpdate"),
          h && t._repeat && !i && t.parent && ke(t, "onRepeat"),
          (e >= t._tDur || e < 0) &&
            t.ratio === o &&
            (o && $r(t, 1),
            !i &&
              !de &&
              (ke(t, o ? "onComplete" : "onReverseComplete", !0),
              t._prom && t._prom()));
      } else t._zTime || (t._zTime = e);
    },
    QS = function (t, e, i) {
      var n;
      if (i > e)
        for (n = t._first; n && n._start <= i; ) {
          if (n.data === "isPause" && n._start > e) return n;
          n = n._next;
        }
      else
        for (n = t._last; n && n._start >= i; ) {
          if (n.data === "isPause" && n._start < e) return n;
          n = n._prev;
        }
    },
    mn = function (t, e, i, n) {
      var s = t._repeat,
        o = ae(e) || 0,
        l = t._tTime / t._tDur;
      return (
        l && !n && (t._time *= o / t._dur),
        (t._dur = o),
        (t._tDur = s ? (s < 0 ? 1e10 : ae(o * (s + 1) + t._rDelay * s)) : o),
        l > 0 && !n && ga(t, (t._tTime = t._tDur * l)),
        t.parent && ma(t),
        i || wi(t.parent, t),
        t
      );
    },
    Sg = function (t) {
      return t instanceof me ? wi(t) : mn(t, t._dur);
    },
    tO = { _start: 0, endTime: ys, totalDuration: ys },
    Le = function r(t, e, i) {
      var n = t.labels,
        s = t._recent || tO,
        o = t.duration() >= Se ? s.endTime(!1) : t._dur,
        l,
        h,
        f;
      return se(e) && (isNaN(e) || e in n)
        ? ((h = e.charAt(0)),
          (f = e.substr(-1) === "%"),
          (l = e.indexOf("=")),
          h === "<" || h === ">"
            ? (l >= 0 && (e = e.replace(/=/, "")),
              (h === "<" ? s._start : s.endTime(s._repeat >= 0)) +
                (parseFloat(e.substr(1)) || 0) *
                  (f ? (l < 0 ? s : i).totalDuration() / 100 : 1))
            : l < 0
            ? (e in n || (n[e] = o), n[e])
            : ((h = parseFloat(e.charAt(l - 1) + e.substr(l + 1))),
              f && i && (h = (h / 100) * (fe(i) ? i[0] : i).totalDuration()),
              l > 1 ? r(t, e.substr(0, l - 1), i) + h : o + h))
        : e == null
        ? o
        : +e;
    },
    xs = function (t, e, i) {
      var n = yr(e[1]),
        s = (n ? 2 : 1) + (t < 2 ? 0 : 1),
        o = e[s],
        l,
        h;
      if ((n && (o.duration = e[1]), (o.parent = i), t)) {
        for (l = o, h = i; h && !("immediateRender" in l); )
          (l = h.vars.defaults || {}), (h = ve(h.vars.inherit) && h.parent);
        (o.immediateRender = ve(l.immediateRender)),
          t < 2 ? (o.runBackwards = 1) : (o.startAt = e[s - 1]);
      }
      return new re(e[0], o, e[s + 1]);
    },
    jr = function (t, e) {
      return t || t === 0 ? e(t) : e;
    },
    ws = function (t, e, i) {
      return i < t ? t : i > e ? e : i;
    },
    pe = function (t, e) {
      return !se(t) || !(e = XS.exec(t)) ? "" : e[1];
    },
    eO = function (t, e, i) {
      return jr(i, function (n) {
        return ws(t, e, n);
      });
    },
    Oh = [].slice,
    Og = function (t, e) {
      return (
        t &&
        sr(t) &&
        "length" in t &&
        ((!e && !t.length) || (t.length - 1 in t && sr(t[0]))) &&
        !t.nodeType &&
        t !== Oe
      );
    },
    rO = function (t, e, i) {
      return (
        i === void 0 && (i = []),
        t.forEach(function (n) {
          var s;
          return (se(n) && !e) || Og(n, 1)
            ? (s = i).push.apply(s, Fe(n))
            : i.push(n);
        }) || i
      );
    },
    Fe = function (t, e, i) {
      return Qt && !e && Qt.selector
        ? Qt.selector(t)
        : se(t) && !i && (wh || !yn())
        ? Oh.call((e || Th).querySelectorAll(t), 0)
        : fe(t)
        ? rO(t, i)
        : Og(t)
        ? Oh.call(t, 0)
        : t
        ? [t]
        : [];
    },
    Uh = function (t) {
      return (
        (t = Fe(t)[0] || ha("Invalid scope") || {}),
        function (e) {
          var i = t.current || t.nativeElement || t;
          return Fe(
            e,
            i.querySelectorAll
              ? i
              : i === t
              ? ha("Invalid scope") || Th.createElement("div")
              : t
          );
        }
      );
    },
    Ug = function (t) {
      return t.sort(function () {
        return 0.5 - Math.random();
      });
    },
    Lg = function (t) {
      if (Wt(t)) return t;
      var e = sr(t) ? t : { each: t },
        i = Ti(e.ease),
        n = e.from || 0,
        s = parseFloat(e.base) || 0,
        o = {},
        l = n > 0 && n < 1,
        h = isNaN(n) || l,
        f = e.axis,
        p = n,
        v = n;
      return (
        se(n)
          ? (p = v = { center: 0.5, edges: 0.5, end: 1 }[n] || 0)
          : !l && h && ((p = n[0]), (v = n[1])),
        function (_, m, g) {
          var y = (g || e).length,
            b = o[y],
            w,
            C,
            T,
            A,
            I,
            P,
            O,
            L,
            N;
          if (!b) {
            if (((N = e.grid === "auto" ? 0 : (e.grid || [1, Se])[1]), !N)) {
              for (
                O = -Se;
                O < (O = g[N++].getBoundingClientRect().left) && N < y;

              );
              N--;
            }
            for (
              b = o[y] = [],
                w = h ? Math.min(N, y) * p - 0.5 : n % N,
                C = N === Se ? 0 : h ? (y * v) / N - 0.5 : (n / N) | 0,
                O = 0,
                L = Se,
                P = 0;
              P < y;
              P++
            )
              (T = (P % N) - w),
                (A = C - ((P / N) | 0)),
                (b[P] = I =
                  f ? Math.abs(f === "y" ? A : T) : hg(T * T + A * A)),
                I > O && (O = I),
                I < L && (L = I);
            n === "random" && Ug(b),
              (b.max = O - L),
              (b.min = L),
              (b.v = y =
                (parseFloat(e.amount) ||
                  parseFloat(e.each) *
                    (N > y
                      ? y - 1
                      : f
                      ? f === "y"
                        ? y / N
                        : N
                      : Math.max(N, y / N)) ||
                  0) * (n === "edges" ? -1 : 1)),
              (b.b = y < 0 ? s - y : s),
              (b.u = pe(e.amount || e.each) || 0),
              (i = i && y < 0 ? $g(i) : i);
          }
          return (
            (y = (b[_] - b.min) / b.max || 0),
            ae(b.b + (i ? i(y) : y) * b.v) + b.u
          );
        }
      );
    },
    Lh = function (t) {
      var e = Math.pow(10, ((t + "").split(".")[1] || "").length);
      return function (i) {
        var n = ae(Math.round(parseFloat(i) / t) * t * e);
        return (n - (n % 1)) / e + (yr(i) ? 0 : pe(i));
      };
    },
    Fg = function (t, e) {
      var i = fe(t),
        n,
        s;
      return (
        !i &&
          sr(t) &&
          ((n = i = t.radius || Se),
          t.values
            ? ((t = Fe(t.values)), (s = !yr(t[0])) && (n *= n))
            : (t = Lh(t.increment))),
        jr(
          e,
          i
            ? Wt(t)
              ? function (o) {
                  return (s = t(o)), Math.abs(s - o) <= n ? s : o;
                }
              : function (o) {
                  for (
                    var l = parseFloat(s ? o.x : o),
                      h = parseFloat(s ? o.y : 0),
                      f = Se,
                      p = 0,
                      v = t.length,
                      _,
                      m;
                    v--;

                  )
                    s
                      ? ((_ = t[v].x - l),
                        (m = t[v].y - h),
                        (_ = _ * _ + m * m))
                      : (_ = Math.abs(t[v] - l)),
                      _ < f && ((f = _), (p = v));
                  return (
                    (p = !n || f <= n ? t[p] : o),
                    s || p === o || yr(o) ? p : p + pe(o)
                  );
                }
            : Lh(t)
        )
      );
    },
    kg = function (t, e, i, n) {
      return jr(fe(t) ? !e : i === !0 ? !!(i = 0) : !n, function () {
        return fe(t)
          ? t[~~(Math.random() * t.length)]
          : (i = i || 1e-5) &&
              (n = i < 1 ? Math.pow(10, (i + "").length - 2) : 1) &&
              Math.floor(
                Math.round(
                  (t - i / 2 + Math.random() * (e - t + i * 0.99)) / i
                ) *
                  i *
                  n
              ) / n;
      });
    },
    iO = function () {
      for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++)
        e[i] = arguments[i];
      return function (n) {
        return e.reduce(function (s, o) {
          return o(s);
        }, n);
      };
    },
    nO = function (t, e) {
      return function (i) {
        return t(parseFloat(i)) + (e || pe(i));
      };
    },
    sO = function (t, e, i) {
      return Gg(t, e, 0, 1, i);
    },
    Bg = function (t, e, i) {
      return jr(i, function (n) {
        return t[~~e(n)];
      });
    },
    oO = function r(t, e, i) {
      var n = e - t;
      return fe(t)
        ? Bg(t, r(0, t.length), e)
        : jr(i, function (s) {
            return ((n + ((s - t) % n)) % n) + t;
          });
    },
    aO = function r(t, e, i) {
      var n = e - t,
        s = n * 2;
      return fe(t)
        ? Bg(t, r(0, t.length - 1), e)
        : jr(i, function (o) {
            return (o = (s + ((o - t) % s)) % s || 0), t + (o > n ? s - o : o);
          });
    },
    Ts = function (t) {
      for (var e = 0, i = "", n, s, o, l; ~(n = t.indexOf("random(", e)); )
        (o = t.indexOf(")", n)),
          (l = t.charAt(n + 7) === "["),
          (s = t.substr(n + 7, o - n - 7).match(l ? vg : bh)),
          (i +=
            t.substr(e, n - e) +
            kg(l ? s : +s[0], l ? 0 : +s[1], +s[2] || 1e-5)),
          (e = o + 1);
      return i + t.substr(e, t.length - e);
    },
    Gg = function (t, e, i, n, s) {
      var o = e - t,
        l = n - i;
      return jr(s, function (h) {
        return i + (((h - t) / o) * l || 0);
      });
    },
    lO = function r(t, e, i, n) {
      var s = isNaN(t + e)
        ? 0
        : function (m) {
            return (1 - m) * t + m * e;
          };
      if (!s) {
        var o = se(t),
          l = {},
          h,
          f,
          p,
          v,
          _;
        if ((i === !0 && (n = 1) && (i = null), o))
          (t = { p: t }), (e = { p: e });
        else if (fe(t) && !fe(e)) {
          for (p = [], v = t.length, _ = v - 2, f = 1; f < v; f++)
            p.push(r(t[f - 1], t[f]));
          v--,
            (s = function (g) {
              g *= v;
              var y = Math.min(_, ~~g);
              return p[y](g - y);
            }),
            (i = e);
        } else n || (t = xi(fe(t) ? [] : {}, t));
        if (!p) {
          for (h in e) Gh.call(l, t, h, "get", e[h]);
          s = function (g) {
            return Xh(g, l) || (o ? t.p : t);
          };
        }
      }
      return jr(i, s);
    },
    Mg = function (t, e, i) {
      var n = t.labels,
        s = Se,
        o,
        l,
        h;
      for (o in n)
        (l = n[o] - e),
          l < 0 == !!i && l && s > (l = Math.abs(l)) && ((h = o), (s = l));
      return h;
    },
    ke = function (t, e, i) {
      var n = t.vars,
        s = n[e],
        o = Qt,
        l = t._ctx,
        h,
        f,
        p;
      if (!!s)
        return (
          (h = n[e + "Params"]),
          (f = n.callbackScope || t),
          i && Xr.length && pa(),
          l && (Qt = l),
          (p = h ? s.apply(f, h) : s.call(f)),
          (Qt = o),
          p
        );
    },
    Es = function (t) {
      return (
        $r(t),
        t.scrollTrigger && t.scrollTrigger.kill(!!de),
        t.progress() < 1 && ke(t, "onInterrupt"),
        t
      );
    },
    gn,
    uO = function (t) {
      t = (!t.name && t.default) || t;
      var e = t.name,
        i = Wt(t),
        n =
          e && !i && t.init
            ? function () {
                this._props = [];
              }
            : t,
        s = {
          init: ys,
          render: Xh,
          add: Gh,
          kill: CO,
          modifier: EO,
          rawVars: 0,
        },
        o = { targetTest: 0, get: 0, getSetter: Hh, aliases: {}, register: 0 };
      if ((yn(), t !== n)) {
        if (Ie[e]) return;
        Ue(n, Ue(da(t, s), o)),
          xi(n.prototype, xi(s, da(t, o))),
          (Ie[(n.prop = e)] = n),
          t.targetTest && (fa.push(n), (Ch[e] = 1)),
          (e =
            (e === "css" ? "CSS" : e.charAt(0).toUpperCase() + e.substr(1)) +
            "Plugin");
      }
      gg(e, n), t.register && t.register(Ae, n, ge);
    },
    Ot = 255,
    Cs = {
      aqua: [0, Ot, Ot],
      lime: [0, Ot, 0],
      silver: [192, 192, 192],
      black: [0, 0, 0],
      maroon: [128, 0, 0],
      teal: [0, 128, 128],
      blue: [0, 0, Ot],
      navy: [0, 0, 128],
      white: [Ot, Ot, Ot],
      olive: [128, 128, 0],
      yellow: [Ot, Ot, 0],
      orange: [Ot, 165, 0],
      gray: [128, 128, 128],
      purple: [128, 0, 128],
      green: [0, 128, 0],
      red: [Ot, 0, 0],
      pink: [Ot, 192, 203],
      cyan: [0, Ot, Ot],
      transparent: [Ot, Ot, Ot, 0],
    },
    Fh = function (t, e, i) {
      return (
        (t += t < 0 ? 1 : t > 1 ? -1 : 0),
        ((t * 6 < 1
          ? e + (i - e) * t * 6
          : t < 0.5
          ? i
          : t * 3 < 2
          ? e + (i - e) * (2 / 3 - t) * 6
          : e) *
          Ot +
          0.5) |
          0
      );
    },
    Dg = function (t, e, i) {
      var n = t ? (yr(t) ? [t >> 16, (t >> 8) & Ot, t & Ot] : 0) : Cs.black,
        s,
        o,
        l,
        h,
        f,
        p,
        v,
        _,
        m,
        g;
      if (!n) {
        if ((t.substr(-1) === "," && (t = t.substr(0, t.length - 1)), Cs[t]))
          n = Cs[t];
        else if (t.charAt(0) === "#") {
          if (
            (t.length < 6 &&
              ((s = t.charAt(1)),
              (o = t.charAt(2)),
              (l = t.charAt(3)),
              (t =
                "#" +
                s +
                s +
                o +
                o +
                l +
                l +
                (t.length === 5 ? t.charAt(4) + t.charAt(4) : ""))),
            t.length === 9)
          )
            return (
              (n = parseInt(t.substr(1, 6), 16)),
              [n >> 16, (n >> 8) & Ot, n & Ot, parseInt(t.substr(7), 16) / 255]
            );
          (t = parseInt(t.substr(1), 16)),
            (n = [t >> 16, (t >> 8) & Ot, t & Ot]);
        } else if (t.substr(0, 3) === "hsl") {
          if (((n = g = t.match(bh)), !e))
            (h = (+n[0] % 360) / 360),
              (f = +n[1] / 100),
              (p = +n[2] / 100),
              (o = p <= 0.5 ? p * (f + 1) : p + f - p * f),
              (s = p * 2 - o),
              n.length > 3 && (n[3] *= 1),
              (n[0] = Fh(h + 1 / 3, s, o)),
              (n[1] = Fh(h, s, o)),
              (n[2] = Fh(h - 1 / 3, s, o));
          else if (~t.indexOf("="))
            return (n = t.match(pg)), i && n.length < 4 && (n[3] = 1), n;
        } else n = t.match(bh) || Cs.transparent;
        n = n.map(Number);
      }
      return (
        e &&
          !g &&
          ((s = n[0] / Ot),
          (o = n[1] / Ot),
          (l = n[2] / Ot),
          (v = Math.max(s, o, l)),
          (_ = Math.min(s, o, l)),
          (p = (v + _) / 2),
          v === _
            ? (h = f = 0)
            : ((m = v - _),
              (f = p > 0.5 ? m / (2 - v - _) : m / (v + _)),
              (h =
                v === s
                  ? (o - l) / m + (o < l ? 6 : 0)
                  : v === o
                  ? (l - s) / m + 2
                  : (s - o) / m + 4),
              (h *= 60)),
          (n[0] = ~~(h + 0.5)),
          (n[1] = ~~(f * 100 + 0.5)),
          (n[2] = ~~(p * 100 + 0.5))),
        i && n.length < 4 && (n[3] = 1),
        n
      );
    },
    Vg = function (t) {
      var e = [],
        i = [],
        n = -1;
      return (
        t.split(zr).forEach(function (s) {
          var o = s.match(dn) || [];
          e.push.apply(e, o), i.push((n += o.length + 1));
        }),
        (e.c = i),
        e
      );
    },
    Hg = function (t, e, i) {
      var n = "",
        s = (t + n).match(zr),
        o = e ? "hsla(" : "rgba(",
        l = 0,
        h,
        f,
        p,
        v;
      if (!s) return t;
      if (
        ((s = s.map(function (_) {
          return (
            (_ = Dg(_, e, 1)) &&
            o +
              (e
                ? _[0] + "," + _[1] + "%," + _[2] + "%," + _[3]
                : _.join(",")) +
              ")"
          );
        })),
        i && ((p = Vg(t)), (h = i.c), h.join(n) !== p.c.join(n)))
      )
        for (f = t.replace(zr, "1").split(dn), v = f.length - 1; l < v; l++)
          n +=
            f[l] +
            (~h.indexOf(l)
              ? s.shift() || o + "0,0,0,0)"
              : (p.length ? p : s.length ? s : i).shift());
      if (!f)
        for (f = t.split(zr), v = f.length - 1; l < v; l++) n += f[l] + s[l];
      return n + f[v];
    },
    zr = (function () {
      var r =
          "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",
        t;
      for (t in Cs) r += "|" + t + "\\b";
      return new RegExp(r + ")", "gi");
    })(),
    hO = /hsl[a]?\(/,
    Xg = function (t) {
      var e = t.join(" "),
        i;
      if (((zr.lastIndex = 0), zr.test(e)))
        return (
          (i = hO.test(e)),
          (t[1] = Hg(t[1], i)),
          (t[0] = Hg(t[0], i, Vg(t[1]))),
          !0
        );
    },
    Ps,
    Re = (function () {
      var r = Date.now,
        t = 500,
        e = 33,
        i = r(),
        n = i,
        s = 1e3 / 240,
        o = s,
        l = [],
        h,
        f,
        p,
        v,
        _,
        m,
        g = function y(b) {
          var w = r() - n,
            C = b === !0,
            T,
            A,
            I,
            P;
          if (
            (w > t && (i += w - e),
            (n += w),
            (I = n - i),
            (T = I - o),
            (T > 0 || C) &&
              ((P = ++v.frame),
              (_ = I - v.time * 1e3),
              (v.time = I = I / 1e3),
              (o += T + (T >= s ? 4 : s - T)),
              (A = 1)),
            C || (h = f(y)),
            A)
          )
            for (m = 0; m < l.length; m++) l[m](I, _, P, b);
        };
      return (
        (v = {
          time: 0,
          frame: 0,
          tick: function () {
            g(!0);
          },
          deltaRatio: function (b) {
            return _ / (1e3 / (b || 60));
          },
          wake: function () {
            _g &&
              (!wh &&
                cg() &&
                ((Oe = wh = window),
                (Th = Oe.document || {}),
                (Pe.gsap = Ae),
                (Oe.gsapVersions || (Oe.gsapVersions = [])).push(Ae.version),
                mg(ua || Oe.GreenSockGlobals || (!Oe.gsap && Oe) || {}),
                (p = Oe.requestAnimationFrame)),
              h && v.sleep(),
              (f =
                p ||
                function (b) {
                  return setTimeout(b, (o - v.time * 1e3 + 1) | 0);
                }),
              (Ps = 1),
              g(2));
          },
          sleep: function () {
            (p ? Oe.cancelAnimationFrame : clearTimeout)(h), (Ps = 0), (f = ys);
          },
          lagSmoothing: function (b, w) {
            (t = b || 1 / Nt), (e = Math.min(w, t, 0));
          },
          fps: function (b) {
            (s = 1e3 / (b || 240)), (o = v.time * 1e3 + s);
          },
          add: function (b, w, C) {
            var T = w
              ? function (A, I, P, O) {
                  b(A, I, P, O), v.remove(T);
                }
              : b;
            return v.remove(b), l[C ? "unshift" : "push"](T), yn(), T;
          },
          remove: function (b, w) {
            ~(w = l.indexOf(b)) && l.splice(w, 1) && m >= w && m--;
          },
          _listeners: l,
        }),
        v
      );
    })(),
    yn = function () {
      return !Ps && Re.wake();
    },
    vt = {},
    cO = /^[\d.\-M][\d.\-,\s]/,
    fO = /["']/g,
    pO = function (t) {
      for (
        var e = {},
          i = t.substr(1, t.length - 3).split(":"),
          n = i[0],
          s = 1,
          o = i.length,
          l,
          h,
          f;
        s < o;
        s++
      )
        (h = i[s]),
          (l = s !== o - 1 ? h.lastIndexOf(",") : h.length),
          (f = h.substr(0, l)),
          (e[n] = isNaN(f) ? f.replace(fO, "").trim() : +f),
          (n = h.substr(l + 1).trim());
      return e;
    },
    dO = function (t) {
      var e = t.indexOf("(") + 1,
        i = t.indexOf(")"),
        n = t.indexOf("(", e);
      return t.substring(e, ~n && n < i ? t.indexOf(")", i + 1) : i);
    },
    vO = function (t) {
      var e = (t + "").split("("),
        i = vt[e[0]];
      return i && e.length > 1 && i.config
        ? i.config.apply(
            null,
            ~t.indexOf("{") ? [pO(e[1])] : dO(t).split(",").map(Tg)
          )
        : vt._CE && cO.test(t)
        ? vt._CE("", t)
        : i;
    },
    $g = function (t) {
      return function (e) {
        return 1 - t(1 - e);
      };
    },
    jg = function r(t, e) {
      for (var i = t._first, n; i; )
        i instanceof me
          ? r(i, e)
          : i.vars.yoyoEase &&
            (!i._yoyo || !i._repeat) &&
            i._yoyo !== e &&
            (i.timeline
              ? r(i.timeline, e)
              : ((n = i._ease),
                (i._ease = i._yEase),
                (i._yEase = n),
                (i._yoyo = e))),
          (i = i._next);
    },
    Ti = function (t, e) {
      return (t && (Wt(t) ? t : vt[t] || vO(t))) || e;
    },
    Ei = function (t, e, i, n) {
      i === void 0 &&
        (i = function (h) {
          return 1 - e(1 - h);
        }),
        n === void 0 &&
          (n = function (h) {
            return h < 0.5 ? e(h * 2) / 2 : 1 - e((1 - h) * 2) / 2;
          });
      var s = { easeIn: e, easeOut: i, easeInOut: n },
        o;
      return (
        _e(t, function (l) {
          (vt[l] = Pe[l] = s), (vt[(o = l.toLowerCase())] = i);
          for (var h in s)
            vt[
              o + (h === "easeIn" ? ".in" : h === "easeOut" ? ".out" : ".inOut")
            ] = vt[l + "." + h] = s[h];
        }),
        s
      );
    },
    zg = function (t) {
      return function (e) {
        return e < 0.5 ? (1 - t(1 - e * 2)) / 2 : 0.5 + t((e - 0.5) * 2) / 2;
      };
    },
    kh = function r(t, e, i) {
      var n = e >= 1 ? e : 1,
        s = (i || (t ? 0.3 : 0.45)) / (e < 1 ? e : 1),
        o = (s / gh) * (Math.asin(1 / n) || 0),
        l = function (p) {
          return p === 1 ? 1 : n * Math.pow(2, -10 * p) * HS((p - o) * s) + 1;
        },
        h =
          t === "out"
            ? l
            : t === "in"
            ? function (f) {
                return 1 - l(1 - f);
              }
            : zg(l);
      return (
        (s = gh / s),
        (h.config = function (f, p) {
          return r(t, f, p);
        }),
        h
      );
    },
    Bh = function r(t, e) {
      e === void 0 && (e = 1.70158);
      var i = function (o) {
          return o ? --o * o * ((e + 1) * o + e) + 1 : 0;
        },
        n =
          t === "out"
            ? i
            : t === "in"
            ? function (s) {
                return 1 - i(1 - s);
              }
            : zg(i);
      return (
        (n.config = function (s) {
          return r(t, s);
        }),
        n
      );
    };
  _e("Linear,Quad,Cubic,Quart,Quint,Strong", function (r, t) {
    var e = t < 5 ? t + 1 : t;
    Ei(
      r + ",Power" + (e - 1),
      t
        ? function (i) {
            return Math.pow(i, e);
          }
        : function (i) {
            return i;
          },
      function (i) {
        return 1 - Math.pow(1 - i, e);
      },
      function (i) {
        return i < 0.5
          ? Math.pow(i * 2, e) / 2
          : 1 - Math.pow((1 - i) * 2, e) / 2;
      }
    );
  }),
    (vt.Linear.easeNone = vt.none = vt.Linear.easeIn),
    Ei("Elastic", kh("in"), kh("out"), kh()),
    (function (r, t) {
      var e = 1 / t,
        i = 2 * e,
        n = 2.5 * e,
        s = function (l) {
          return l < e
            ? r * l * l
            : l < i
            ? r * Math.pow(l - 1.5 / t, 2) + 0.75
            : l < n
            ? r * (l -= 2.25 / t) * l + 0.9375
            : r * Math.pow(l - 2.625 / t, 2) + 0.984375;
        };
      Ei(
        "Bounce",
        function (o) {
          return 1 - s(1 - o);
        },
        s
      );
    })(7.5625, 2.75),
    Ei("Expo", function (r) {
      return r ? Math.pow(2, 10 * (r - 1)) : 0;
    }),
    Ei("Circ", function (r) {
      return -(hg(1 - r * r) - 1);
    }),
    Ei("Sine", function (r) {
      return r === 1 ? 1 : -VS(r * MS) + 1;
    }),
    Ei("Back", Bh("in"), Bh("out"), Bh()),
    (vt.SteppedEase =
      vt.steps =
      Pe.SteppedEase =
        {
          config: function (t, e) {
            t === void 0 && (t = 1);
            var i = 1 / t,
              n = t + (e ? 0 : 1),
              s = e ? 1 : 0,
              o = 1 - Nt;
            return function (l) {
              return (((n * ws(0, o, l)) | 0) + s) * i;
            };
          },
        }),
    (pn.ease = vt["quad.out"]),
    _e(
      "onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",
      function (r) {
        return (Rh += r + "," + r + "Params,");
      }
    );
  var Wg = function (t, e) {
      (this.id = DS++),
        (t._gsap = this),
        (this.target = t),
        (this.harness = e),
        (this.get = e ? e.get : xg),
        (this.set = e ? e.getSetter : Hh);
    },
    bn = (function () {
      function r(e) {
        (this.vars = e),
          (this._delay = +e.delay || 0),
          (this._repeat = e.repeat === 1 / 0 ? -2 : e.repeat || 0) &&
            ((this._rDelay = e.repeatDelay || 0),
            (this._yoyo = !!e.yoyo || !!e.yoyoEase)),
          (this._ts = 1),
          mn(this, +e.duration, 1, 1),
          (this.data = e.data),
          Qt && ((this._ctx = Qt), Qt.data.push(this)),
          Ps || Re.wake();
      }
      var t = r.prototype;
      return (
        (t.delay = function (i) {
          return i || i === 0
            ? (this.parent &&
                this.parent.smoothChildTiming &&
                this.startTime(this._start + i - this._delay),
              (this._delay = i),
              this)
            : this._delay;
        }),
        (t.duration = function (i) {
          return arguments.length
            ? this.totalDuration(
                this._repeat > 0 ? i + (i + this._rDelay) * this._repeat : i
              )
            : this.totalDuration() && this._dur;
        }),
        (t.totalDuration = function (i) {
          return arguments.length
            ? ((this._dirty = 0),
              mn(
                this,
                this._repeat < 0
                  ? i
                  : (i - this._repeat * this._rDelay) / (this._repeat + 1)
              ))
            : this._tDur;
        }),
        (t.totalTime = function (i, n) {
          if ((yn(), !arguments.length)) return this._tTime;
          var s = this._dp;
          if (s && s.smoothChildTiming && this._ts) {
            for (
              ga(this, i), !s._dp || s.parent || Rg(s, this);
              s && s.parent;

            )
              s.parent._time !==
                s._start +
                  (s._ts >= 0
                    ? s._tTime / s._ts
                    : (s.totalDuration() - s._tTime) / -s._ts) &&
                s.totalTime(s._tTime, !0),
                (s = s.parent);
            !this.parent &&
              this._dp.autoRemoveChildren &&
              ((this._ts > 0 && i < this._tDur) ||
                (this._ts < 0 && i > 0) ||
                (!this._tDur && !i)) &&
              or(this._dp, this, this._start - this._delay);
          }
          return (
            (this._tTime !== i ||
              (!this._dur && !n) ||
              (this._initted && Math.abs(this._zTime) === Nt) ||
              (!i && !this._initted && (this.add || this._ptLookup))) &&
              (this._ts || (this._pTime = i), wg(this, i, n)),
            this
          );
        }),
        (t.time = function (i, n) {
          return arguments.length
            ? this.totalTime(
                Math.min(this.totalDuration(), i + Ig(this)) %
                  (this._dur + this._rDelay) || (i ? this._dur : 0),
                n
              )
            : this._time;
        }),
        (t.totalProgress = function (i, n) {
          return arguments.length
            ? this.totalTime(this.totalDuration() * i, n)
            : this.totalDuration()
            ? Math.min(1, this._tTime / this._tDur)
            : this.ratio;
        }),
        (t.progress = function (i, n) {
          return arguments.length
            ? this.totalTime(
                this.duration() *
                  (this._yoyo && !(this.iteration() & 1) ? 1 - i : i) +
                  Ig(this),
                n
              )
            : this.duration()
            ? Math.min(1, this._time / this._dur)
            : this.ratio;
        }),
        (t.iteration = function (i, n) {
          var s = this.duration() + this._rDelay;
          return arguments.length
            ? this.totalTime(this._time + (i - 1) * s, n)
            : this._repeat
            ? _n(this._tTime, s) + 1
            : 1;
        }),
        (t.timeScale = function (i) {
          if (!arguments.length) return this._rts === -Nt ? 0 : this._rts;
          if (this._rts === i) return this;
          var n =
            this.parent && this._ts ? _a(this.parent._time, this) : this._tTime;
          return (
            (this._rts = +i || 0),
            (this._ts = this._ps || i === -Nt ? 0 : this._rts),
            this.totalTime(ws(-this._delay, this._tDur, n), !0),
            ma(this),
            qS(this)
          );
        }),
        (t.paused = function (i) {
          return arguments.length
            ? (this._ps !== i &&
                ((this._ps = i),
                i
                  ? ((this._pTime =
                      this._tTime || Math.max(-this._delay, this.rawTime())),
                    (this._ts = this._act = 0))
                  : (yn(),
                    (this._ts = this._rts),
                    this.totalTime(
                      this.parent && !this.parent.smoothChildTiming
                        ? this.rawTime()
                        : this._tTime || this._pTime,
                      this.progress() === 1 &&
                        Math.abs(this._zTime) !== Nt &&
                        (this._tTime -= Nt)
                    ))),
              this)
            : this._ps;
        }),
        (t.startTime = function (i) {
          if (arguments.length) {
            this._start = i;
            var n = this.parent || this._dp;
            return (
              n && (n._sort || !this.parent) && or(n, this, i - this._delay),
              this
            );
          }
          return this._start;
        }),
        (t.endTime = function (i) {
          return (
            this._start +
            (ve(i) ? this.totalDuration() : this.duration()) /
              Math.abs(this._ts || 1)
          );
        }),
        (t.rawTime = function (i) {
          var n = this.parent || this._dp;
          return n
            ? i &&
              (!this._ts ||
                (this._repeat && this._time && this.totalProgress() < 1))
              ? this._tTime % (this._dur + this._rDelay)
              : this._ts
              ? _a(n.rawTime(i), this)
              : this._tTime
            : this._tTime;
        }),
        (t.revert = function (i) {
          i === void 0 && (i = jS);
          var n = de;
          return (
            (de = i),
            (this._initted || this._startAt) &&
              (this.timeline && this.timeline.revert(i),
              this.totalTime(-0.01, i.suppressEvents)),
            this.data !== "nested" && i.kill !== !1 && this.kill(),
            (de = n),
            this
          );
        }),
        (t.globalTime = function (i) {
          for (var n = this, s = arguments.length ? i : n.rawTime(); n; )
            (s = n._start + s / (n._ts || 1)), (n = n._dp);
          return !this.parent && this.vars.immediateRender ? -1 : s;
        }),
        (t.repeat = function (i) {
          return arguments.length
            ? ((this._repeat = i === 1 / 0 ? -2 : i), Sg(this))
            : this._repeat === -2
            ? 1 / 0
            : this._repeat;
        }),
        (t.repeatDelay = function (i) {
          if (arguments.length) {
            var n = this._time;
            return (this._rDelay = i), Sg(this), n ? this.time(n) : this;
          }
          return this._rDelay;
        }),
        (t.yoyo = function (i) {
          return arguments.length ? ((this._yoyo = i), this) : this._yoyo;
        }),
        (t.seek = function (i, n) {
          return this.totalTime(Le(this, i), ve(n));
        }),
        (t.restart = function (i, n) {
          return this.play().totalTime(i ? -this._delay : 0, ve(n));
        }),
        (t.play = function (i, n) {
          return i != null && this.seek(i, n), this.reversed(!1).paused(!1);
        }),
        (t.reverse = function (i, n) {
          return (
            i != null && this.seek(i || this.totalDuration(), n),
            this.reversed(!0).paused(!1)
          );
        }),
        (t.pause = function (i, n) {
          return i != null && this.seek(i, n), this.paused(!0);
        }),
        (t.resume = function () {
          return this.paused(!1);
        }),
        (t.reversed = function (i) {
          return arguments.length
            ? (!!i !== this.reversed() &&
                this.timeScale(-this._rts || (i ? -Nt : 0)),
              this)
            : this._rts < 0;
        }),
        (t.invalidate = function () {
          return (this._initted = this._act = 0), (this._zTime = -Nt), this;
        }),
        (t.isActive = function () {
          var i = this.parent || this._dp,
            n = this._start,
            s;
          return !!(
            !i ||
            (this._ts &&
              this._initted &&
              i.isActive() &&
              (s = i.rawTime(!0)) >= n &&
              s < this.endTime(!0) - Nt)
          );
        }),
        (t.eventCallback = function (i, n, s) {
          var o = this.vars;
          return arguments.length > 1
            ? (n
                ? ((o[i] = n),
                  s && (o[i + "Params"] = s),
                  i === "onUpdate" && (this._onUpdate = n))
                : delete o[i],
              this)
            : o[i];
        }),
        (t.then = function (i) {
          var n = this;
          return new Promise(function (s) {
            var o = Wt(i) ? i : Eg,
              l = function () {
                var f = n.then;
                (n.then = null),
                  Wt(o) && (o = o(n)) && (o.then || o === n) && (n.then = f),
                  s(o),
                  (n.then = f);
              };
            (n._initted && n.totalProgress() === 1 && n._ts >= 0) ||
            (!n._tTime && n._ts < 0)
              ? l()
              : (n._prom = l);
          });
        }),
        (t.kill = function () {
          Es(this);
        }),
        r
      );
    })();
  Ue(bn.prototype, {
    _time: 0,
    _start: 0,
    _end: 0,
    _tTime: 0,
    _tDur: 0,
    _dirty: 0,
    _repeat: 0,
    _yoyo: !1,
    parent: null,
    _initted: !1,
    _rDelay: 0,
    _ts: 1,
    _dp: 0,
    ratio: 0,
    _zTime: -Nt,
    _prom: 0,
    _ps: !1,
    _rts: 1,
  });
  var me = (function (r) {
    ug(t, r);
    function t(i, n) {
      var s;
      return (
        i === void 0 && (i = {}),
        (s = r.call(this, i) || this),
        (s.labels = {}),
        (s.smoothChildTiming = !!i.smoothChildTiming),
        (s.autoRemoveChildren = !!i.autoRemoveChildren),
        (s._sort = ve(i.sortChildren)),
        Ht && or(i.parent || Ht, gr(s), n),
        i.reversed && s.reverse(),
        i.paused && s.paused(!0),
        i.scrollTrigger && Ag(gr(s), i.scrollTrigger),
        s
      );
    }
    var e = t.prototype;
    return (
      (e.to = function (n, s, o) {
        return xs(0, arguments, this), this;
      }),
      (e.from = function (n, s, o) {
        return xs(1, arguments, this), this;
      }),
      (e.fromTo = function (n, s, o, l) {
        return xs(2, arguments, this), this;
      }),
      (e.set = function (n, s, o) {
        return (
          (s.duration = 0),
          (s.parent = this),
          bs(s).repeatDelay || (s.repeat = 0),
          (s.immediateRender = !!s.immediateRender),
          new re(n, s, Le(this, o), 1),
          this
        );
      }),
      (e.call = function (n, s, o) {
        return or(this, re.delayedCall(0, n, s), o);
      }),
      (e.staggerTo = function (n, s, o, l, h, f, p) {
        return (
          (o.duration = s),
          (o.stagger = o.stagger || l),
          (o.onComplete = f),
          (o.onCompleteParams = p),
          (o.parent = this),
          new re(n, o, Le(this, h)),
          this
        );
      }),
      (e.staggerFrom = function (n, s, o, l, h, f, p) {
        return (
          (o.runBackwards = 1),
          (bs(o).immediateRender = ve(o.immediateRender)),
          this.staggerTo(n, s, o, l, h, f, p)
        );
      }),
      (e.staggerFromTo = function (n, s, o, l, h, f, p, v) {
        return (
          (l.startAt = o),
          (bs(l).immediateRender = ve(l.immediateRender)),
          this.staggerTo(n, s, l, h, f, p, v)
        );
      }),
      (e.render = function (n, s, o) {
        var l = this._time,
          h = this._dirty ? this.totalDuration() : this._tDur,
          f = this._dur,
          p = n <= 0 ? 0 : ae(n),
          v = this._zTime < 0 != n < 0 && (this._initted || !f),
          _,
          m,
          g,
          y,
          b,
          w,
          C,
          T,
          A,
          I,
          P,
          O;
        if (
          (this !== Ht && p > h && n >= 0 && (p = h),
          p !== this._tTime || o || v)
        ) {
          if (
            (l !== this._time &&
              f &&
              ((p += this._time - l), (n += this._time - l)),
            (_ = p),
            (A = this._start),
            (T = this._ts),
            (w = !T),
            v && (f || (l = this._zTime), (n || !s) && (this._zTime = n)),
            this._repeat)
          ) {
            if (
              ((P = this._yoyo),
              (b = f + this._rDelay),
              this._repeat < -1 && n < 0)
            )
              return this.totalTime(b * 100 + n, s, o);
            if (
              ((_ = ae(p % b)),
              p === h
                ? ((y = this._repeat), (_ = f))
                : ((y = ~~(p / b)),
                  y && y === p / b && ((_ = f), y--),
                  _ > f && (_ = f)),
              (I = _n(this._tTime, b)),
              !l && this._tTime && I !== y && (I = y),
              P && y & 1 && ((_ = f - _), (O = 1)),
              y !== I && !this._lock)
            ) {
              var L = P && I & 1,
                N = L === (P && y & 1);
              if (
                (y < I && (L = !L),
                (l = L ? 0 : f),
                (this._lock = 1),
                (this.render(l || (O ? 0 : ae(y * b)), s, !f)._lock = 0),
                (this._tTime = p),
                !s && this.parent && ke(this, "onRepeat"),
                this.vars.repeatRefresh && !O && (this.invalidate()._lock = 1),
                (l && l !== this._time) ||
                  w !== !this._ts ||
                  (this.vars.onRepeat && !this.parent && !this._act))
              )
                return this;
              if (
                ((f = this._dur),
                (h = this._tDur),
                N &&
                  ((this._lock = 2),
                  (l = L ? f : -1e-4),
                  this.render(l, !0),
                  this.vars.repeatRefresh && !O && this.invalidate()),
                (this._lock = 0),
                !this._ts && !w)
              )
                return this;
              jg(this, O);
            }
          }
          if (
            (this._hasPause &&
              !this._forcing &&
              this._lock < 2 &&
              ((C = QS(this, ae(l), ae(_))), C && (p -= _ - (_ = C._start))),
            (this._tTime = p),
            (this._time = _),
            (this._act = !T),
            this._initted ||
              ((this._onUpdate = this.vars.onUpdate),
              (this._initted = 1),
              (this._zTime = n),
              (l = 0)),
            !l && _ && !s && (ke(this, "onStart"), this._tTime !== p))
          )
            return this;
          if (_ >= l && n >= 0)
            for (m = this._first; m; ) {
              if (
                ((g = m._next), (m._act || _ >= m._start) && m._ts && C !== m)
              ) {
                if (m.parent !== this) return this.render(n, s, o);
                if (
                  (m.render(
                    m._ts > 0
                      ? (_ - m._start) * m._ts
                      : (m._dirty ? m.totalDuration() : m._tDur) +
                          (_ - m._start) * m._ts,
                    s,
                    o
                  ),
                  _ !== this._time || (!this._ts && !w))
                ) {
                  (C = 0), g && (p += this._zTime = -Nt);
                  break;
                }
              }
              m = g;
            }
          else {
            m = this._last;
            for (var F = n < 0 ? n : _; m; ) {
              if (
                ((g = m._prev), (m._act || F <= m._end) && m._ts && C !== m)
              ) {
                if (m.parent !== this) return this.render(n, s, o);
                if (
                  (m.render(
                    m._ts > 0
                      ? (F - m._start) * m._ts
                      : (m._dirty ? m.totalDuration() : m._tDur) +
                          (F - m._start) * m._ts,
                    s,
                    o || (de && (m._initted || m._startAt))
                  ),
                  _ !== this._time || (!this._ts && !w))
                ) {
                  (C = 0), g && (p += this._zTime = F ? -Nt : Nt);
                  break;
                }
              }
              m = g;
            }
          }
          if (
            C &&
            !s &&
            (this.pause(),
            (C.render(_ >= l ? 0 : -Nt)._zTime = _ >= l ? 1 : -1),
            this._ts)
          )
            return (this._start = A), ma(this), this.render(n, s, o);
          this._onUpdate && !s && ke(this, "onUpdate", !0),
            ((p === h && this._tTime >= this.totalDuration()) || (!p && l)) &&
              (A === this._start || Math.abs(T) !== Math.abs(this._ts)) &&
              (this._lock ||
                ((n || !f) &&
                  ((p === h && this._ts > 0) || (!p && this._ts < 0)) &&
                  $r(this, 1),
                !s &&
                  !(n < 0 && !l) &&
                  (p || l || !h) &&
                  (ke(
                    this,
                    p === h && n >= 0 ? "onComplete" : "onReverseComplete",
                    !0
                  ),
                  this._prom &&
                    !(p < h && this.timeScale() > 0) &&
                    this._prom())));
        }
        return this;
      }),
      (e.add = function (n, s) {
        var o = this;
        if ((yr(s) || (s = Le(this, s, n)), !(n instanceof bn))) {
          if (fe(n))
            return (
              n.forEach(function (l) {
                return o.add(l, s);
              }),
              this
            );
          if (se(n)) return this.addLabel(n, s);
          if (Wt(n)) n = re.delayedCall(0, n);
          else return this;
        }
        return this !== n ? or(this, n, s) : this;
      }),
      (e.getChildren = function (n, s, o, l) {
        n === void 0 && (n = !0),
          s === void 0 && (s = !0),
          o === void 0 && (o = !0),
          l === void 0 && (l = -Se);
        for (var h = [], f = this._first; f; )
          f._start >= l &&
            (f instanceof re
              ? s && h.push(f)
              : (o && h.push(f),
                n && h.push.apply(h, f.getChildren(!0, s, o)))),
            (f = f._next);
        return h;
      }),
      (e.getById = function (n) {
        for (var s = this.getChildren(1, 1, 1), o = s.length; o--; )
          if (s[o].vars.id === n) return s[o];
      }),
      (e.remove = function (n) {
        return se(n)
          ? this.removeLabel(n)
          : Wt(n)
          ? this.killTweensOf(n)
          : (va(this, n),
            n === this._recent && (this._recent = this._last),
            wi(this));
      }),
      (e.totalTime = function (n, s) {
        return arguments.length
          ? ((this._forcing = 1),
            !this._dp &&
              this._ts &&
              (this._start = ae(
                Re.time -
                  (this._ts > 0
                    ? n / this._ts
                    : (this.totalDuration() - n) / -this._ts)
              )),
            r.prototype.totalTime.call(this, n, s),
            (this._forcing = 0),
            this)
          : this._tTime;
      }),
      (e.addLabel = function (n, s) {
        return (this.labels[n] = Le(this, s)), this;
      }),
      (e.removeLabel = function (n) {
        return delete this.labels[n], this;
      }),
      (e.addPause = function (n, s, o) {
        var l = re.delayedCall(0, s || ys, o);
        return (
          (l.data = "isPause"), (this._hasPause = 1), or(this, l, Le(this, n))
        );
      }),
      (e.removePause = function (n) {
        var s = this._first;
        for (n = Le(this, n); s; )
          s._start === n && s.data === "isPause" && $r(s), (s = s._next);
      }),
      (e.killTweensOf = function (n, s, o) {
        for (var l = this.getTweensOf(n, o), h = l.length; h--; )
          Wr !== l[h] && l[h].kill(n, s);
        return this;
      }),
      (e.getTweensOf = function (n, s) {
        for (var o = [], l = Fe(n), h = this._first, f = yr(s), p; h; )
          h instanceof re
            ? zS(h._targets, l) &&
              (f
                ? (!Wr || (h._initted && h._ts)) &&
                  h.globalTime(0) <= s &&
                  h.globalTime(h.totalDuration()) > s
                : !s || h.isActive()) &&
              o.push(h)
            : (p = h.getTweensOf(l, s)).length && o.push.apply(o, p),
            (h = h._next);
        return o;
      }),
      (e.tweenTo = function (n, s) {
        s = s || {};
        var o = this,
          l = Le(o, n),
          h = s,
          f = h.startAt,
          p = h.onStart,
          v = h.onStartParams,
          _ = h.immediateRender,
          m,
          g = re.to(
            o,
            Ue(
              {
                ease: s.ease || "none",
                lazy: !1,
                immediateRender: !1,
                time: l,
                overwrite: "auto",
                duration:
                  s.duration ||
                  Math.abs(
                    (l - (f && "time" in f ? f.time : o._time)) / o.timeScale()
                  ) ||
                  Nt,
                onStart: function () {
                  if ((o.pause(), !m)) {
                    var b =
                      s.duration ||
                      Math.abs(
                        (l - (f && "time" in f ? f.time : o._time)) /
                          o.timeScale()
                      );
                    g._dur !== b && mn(g, b, 0, 1).render(g._time, !0, !0),
                      (m = 1);
                  }
                  p && p.apply(g, v || []);
                },
              },
              s
            )
          );
        return _ ? g.render(0) : g;
      }),
      (e.tweenFromTo = function (n, s, o) {
        return this.tweenTo(s, Ue({ startAt: { time: Le(this, n) } }, o));
      }),
      (e.recent = function () {
        return this._recent;
      }),
      (e.nextLabel = function (n) {
        return n === void 0 && (n = this._time), Mg(this, Le(this, n));
      }),
      (e.previousLabel = function (n) {
        return n === void 0 && (n = this._time), Mg(this, Le(this, n), 1);
      }),
      (e.currentLabel = function (n) {
        return arguments.length
          ? this.seek(n, !0)
          : this.previousLabel(this._time + Nt);
      }),
      (e.shiftChildren = function (n, s, o) {
        o === void 0 && (o = 0);
        for (var l = this._first, h = this.labels, f; l; )
          l._start >= o && ((l._start += n), (l._end += n)), (l = l._next);
        if (s) for (f in h) h[f] >= o && (h[f] += n);
        return wi(this);
      }),
      (e.invalidate = function (n) {
        var s = this._first;
        for (this._lock = 0; s; ) s.invalidate(n), (s = s._next);
        return r.prototype.invalidate.call(this, n);
      }),
      (e.clear = function (n) {
        n === void 0 && (n = !0);
        for (var s = this._first, o; s; )
          (o = s._next), this.remove(s), (s = o);
        return (
          this._dp && (this._time = this._tTime = this._pTime = 0),
          n && (this.labels = {}),
          wi(this)
        );
      }),
      (e.totalDuration = function (n) {
        var s = 0,
          o = this,
          l = o._last,
          h = Se,
          f,
          p,
          v;
        if (arguments.length)
          return o.timeScale(
            (o._repeat < 0 ? o.duration() : o.totalDuration()) /
              (o.reversed() ? -n : n)
          );
        if (o._dirty) {
          for (v = o.parent; l; )
            (f = l._prev),
              l._dirty && l.totalDuration(),
              (p = l._start),
              p > h && o._sort && l._ts && !o._lock
                ? ((o._lock = 1), (or(o, l, p - l._delay, 1)._lock = 0))
                : (h = p),
              p < 0 &&
                l._ts &&
                ((s -= p),
                ((!v && !o._dp) || (v && v.smoothChildTiming)) &&
                  ((o._start += p / o._ts), (o._time -= p), (o._tTime -= p)),
                o.shiftChildren(-p, !1, -1 / 0),
                (h = 0)),
              l._end > s && l._ts && (s = l._end),
              (l = f);
          mn(o, o === Ht && o._time > s ? o._time : s, 1, 1), (o._dirty = 0);
        }
        return o._tDur;
      }),
      (t.updateRoot = function (n) {
        if ((Ht._ts && (wg(Ht, _a(n, Ht)), (yg = Re.frame)), Re.frame >= bg)) {
          bg += Ce.autoSleep || 120;
          var s = Ht._first;
          if ((!s || !s._ts) && Ce.autoSleep && Re._listeners.length < 2) {
            for (; s && !s._ts; ) s = s._next;
            s || Re.sleep();
          }
        }
      }),
      t
    );
  })(bn);
  Ue(me.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 });
  var _O = function (t, e, i, n, s, o, l) {
      var h = new ge(this._pt, t, e, 0, 1, Qg, null, s),
        f = 0,
        p = 0,
        v,
        _,
        m,
        g,
        y,
        b,
        w,
        C;
      for (
        h.b = i,
          h.e = n,
          i += "",
          n += "",
          (w = ~n.indexOf("random(")) && (n = Ts(n)),
          o && ((C = [i, n]), o(C, t, e), (i = C[0]), (n = C[1])),
          _ = i.match(xh) || [];
        (v = xh.exec(n));

      )
        (g = v[0]),
          (y = n.substring(f, v.index)),
          m ? (m = (m + 1) % 5) : y.substr(-5) === "rgba(" && (m = 1),
          g !== _[p++] &&
            ((b = parseFloat(_[p - 1]) || 0),
            (h._pt = {
              _next: h._pt,
              p: y || p === 1 ? y : ",",
              s: b,
              c: g.charAt(1) === "=" ? vn(b, g) - b : parseFloat(g) - b,
              m: m && m < 4 ? Math.round : 0,
            }),
            (f = xh.lastIndex));
      return (
        (h.c = f < n.length ? n.substring(f, n.length) : ""),
        (h.fp = l),
        (dg.test(n) || w) && (h.e = 0),
        (this._pt = h),
        h
      );
    },
    Gh = function (t, e, i, n, s, o, l, h, f, p) {
      Wt(n) && (n = n(s || 0, t, o));
      var v = t[e],
        _ =
          i !== "get"
            ? i
            : Wt(v)
            ? f
              ? t[
                  e.indexOf("set") || !Wt(t["get" + e.substr(3)])
                    ? e
                    : "get" + e.substr(3)
                ](f)
              : t[e]()
            : v,
        m = Wt(v) ? (f ? xO : Zg) : Vh,
        g;
      if (
        (se(n) &&
          (~n.indexOf("random(") && (n = Ts(n)),
          n.charAt(1) === "=" &&
            ((g = vn(_, n) + (pe(_) || 0)), (g || g === 0) && (n = g))),
        !p || _ !== n || Mh)
      )
        return !isNaN(_ * n) && n !== ""
          ? ((g = new ge(
              this._pt,
              t,
              e,
              +_ || 0,
              n - (_ || 0),
              typeof v == "boolean" ? TO : Jg,
              0,
              m
            )),
            f && (g.fp = f),
            l && g.modifier(l, this, t),
            (this._pt = g))
          : (!v && !(e in t) && Eh(e, n),
            _O.call(this, t, e, _, n, m, h || Ce.stringFilter, f));
    },
    mO = function (t, e, i, n, s) {
      if (
        (Wt(t) && (t = Is(t, s, e, i, n)),
        !sr(t) || (t.style && t.nodeType) || fe(t) || fg(t))
      )
        return se(t) ? Is(t, s, e, i, n) : t;
      var o = {},
        l;
      for (l in t) o[l] = Is(t[l], s, e, i, n);
      return o;
    },
    Yg = function (t, e, i, n, s, o) {
      var l, h, f, p;
      if (
        Ie[t] &&
        (l = new Ie[t]()).init(
          s,
          l.rawVars ? e[t] : mO(e[t], n, s, o, i),
          i,
          n,
          o
        ) !== !1 &&
        ((i._pt = h = new ge(i._pt, s, t, 0, 1, l.render, l, 0, l.priority)),
        i !== gn)
      )
        for (f = i._ptLookup[i._targets.indexOf(s)], p = l._props.length; p--; )
          f[l._props[p]] = h;
      return l;
    },
    Wr,
    Mh,
    Dh = function r(t, e, i) {
      var n = t.vars,
        s = n.ease,
        o = n.startAt,
        l = n.immediateRender,
        h = n.lazy,
        f = n.onUpdate,
        p = n.onUpdateParams,
        v = n.callbackScope,
        _ = n.runBackwards,
        m = n.yoyoEase,
        g = n.keyframes,
        y = n.autoRevert,
        b = t._dur,
        w = t._startAt,
        C = t._targets,
        T = t.parent,
        A = T && T.data === "nested" ? T.vars.targets : C,
        I = t._overwrite === "auto" && !mh,
        P = t.timeline,
        O,
        L,
        N,
        F,
        H,
        j,
        z,
        J,
        X,
        M,
        D,
        lt,
        at;
      if (
        (P && (!g || !s) && (s = "none"),
        (t._ease = Ti(s, pn.ease)),
        (t._yEase = m ? $g(Ti(m === !0 ? s : m, pn.ease)) : 0),
        m &&
          t._yoyo &&
          !t._repeat &&
          ((m = t._yEase), (t._yEase = t._ease), (t._ease = m)),
        (t._from = !P && !!n.runBackwards),
        !P || (g && !n.stagger))
      ) {
        if (
          ((J = C[0] ? bi(C[0]).harness : 0),
          (lt = J && n[J.prop]),
          (O = da(n, Ch)),
          w &&
            (w._zTime < 0 && w.progress(1),
            e < 0 && _ && l && !y
              ? w.render(-1, !0)
              : w.revert(_ && b ? ca : $S),
            (w._lazy = 0)),
          o)
        ) {
          if (
            ($r(
              (t._startAt = re.set(
                C,
                Ue(
                  {
                    data: "isStart",
                    overwrite: !1,
                    parent: T,
                    immediateRender: !0,
                    lazy: ve(h),
                    startAt: null,
                    delay: 0,
                    onUpdate: f,
                    onUpdateParams: p,
                    callbackScope: v,
                    stagger: 0,
                  },
                  o
                )
              ))
            ),
            (t._startAt._dp = 0),
            e < 0 && (de || (!l && !y)) && t._startAt.revert(ca),
            l && b && e <= 0 && i <= 0)
          ) {
            e && (t._zTime = e);
            return;
          }
        } else if (_ && b && !w) {
          if (
            (e && (l = !1),
            (N = Ue(
              {
                overwrite: !1,
                data: "isFromStart",
                lazy: l && ve(h),
                immediateRender: l,
                stagger: 0,
                parent: T,
              },
              O
            )),
            lt && (N[J.prop] = lt),
            $r((t._startAt = re.set(C, N))),
            (t._startAt._dp = 0),
            e < 0 && (de ? t._startAt.revert(ca) : t._startAt.render(-1, !0)),
            (t._zTime = e),
            !l)
          )
            r(t._startAt, Nt, Nt);
          else if (!e) return;
        }
        for (
          t._pt = t._ptCache = 0, h = (b && ve(h)) || (h && !b), L = 0;
          L < C.length;
          L++
        ) {
          if (
            ((H = C[L]),
            (z = H._gsap || Ah(C)[L]._gsap),
            (t._ptLookup[L] = M = {}),
            Ph[z.id] && Xr.length && pa(),
            (D = A === C ? L : A.indexOf(H)),
            J &&
              (X = new J()).init(H, lt || O, t, D, A) !== !1 &&
              ((t._pt = F =
                new ge(t._pt, H, X.name, 0, 1, X.render, X, 0, X.priority)),
              X._props.forEach(function (B) {
                M[B] = F;
              }),
              X.priority && (j = 1)),
            !J || lt)
          )
            for (N in O)
              Ie[N] && (X = Yg(N, O, t, D, H, A))
                ? X.priority && (j = 1)
                : (M[N] = F =
                    Gh.call(t, H, N, "get", O[N], D, A, 0, n.stringFilter));
          t._op && t._op[L] && t.kill(H, t._op[L]),
            I &&
              t._pt &&
              ((Wr = t),
              Ht.killTweensOf(H, M, t.globalTime(e)),
              (at = !t.parent),
              (Wr = 0)),
            t._pt && h && (Ph[z.id] = 1);
        }
        j && t0(t), t._onInit && t._onInit(t);
      }
      (t._onUpdate = f),
        (t._initted = (!t._op || t._pt) && !at),
        g && e <= 0 && P.render(Se, !0, !0);
    },
    gO = function (t, e, i, n, s, o, l) {
      var h = ((t._pt && t._ptCache) || (t._ptCache = {}))[e],
        f,
        p,
        v,
        _;
      if (!h)
        for (
          h = t._ptCache[e] = [], v = t._ptLookup, _ = t._targets.length;
          _--;

        ) {
          if (((f = v[_][e]), f && f.d && f.d._pt))
            for (f = f.d._pt; f && f.p !== e && f.fp !== e; ) f = f._next;
          if (!f) return (Mh = 1), (t.vars[e] = "+=0"), Dh(t, l), (Mh = 0), 1;
          h.push(f);
        }
      for (_ = h.length; _--; )
        (p = h[_]),
          (f = p._pt || p),
          (f.s = (n || n === 0) && !s ? n : f.s + (n || 0) + o * f.c),
          (f.c = i - f.s),
          p.e && (p.e = Kt(i) + pe(p.e)),
          p.b && (p.b = f.s + pe(p.b));
    },
    yO = function (t, e) {
      var i = t[0] ? bi(t[0]).harness : 0,
        n = i && i.aliases,
        s,
        o,
        l,
        h;
      if (!n) return e;
      s = xi({}, e);
      for (o in n)
        if (o in s)
          for (h = n[o].split(","), l = h.length; l--; ) s[h[l]] = s[o];
      return s;
    },
    bO = function (t, e, i, n) {
      var s = e.ease || n || "power1.inOut",
        o,
        l;
      if (fe(e))
        (l = i[t] || (i[t] = [])),
          e.forEach(function (h, f) {
            return l.push({ t: (f / (e.length - 1)) * 100, v: h, e: s });
          });
      else
        for (o in e)
          (l = i[o] || (i[o] = [])),
            o === "ease" || l.push({ t: parseFloat(t), v: e[o], e: s });
    },
    Is = function (t, e, i, n, s) {
      return Wt(t)
        ? t.call(e, i, n, s)
        : se(t) && ~t.indexOf("random(")
        ? Ts(t)
        : t;
    },
    qg = Rh + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",
    Kg = {};
  _e(qg + ",id,stagger,delay,duration,paused,scrollTrigger", function (r) {
    return (Kg[r] = 1);
  });
  var re = (function (r) {
    ug(t, r);
    function t(i, n, s, o) {
      var l;
      typeof n == "number" && ((s.duration = n), (n = s), (s = null)),
        (l = r.call(this, o ? n : bs(n)) || this);
      var h = l.vars,
        f = h.duration,
        p = h.delay,
        v = h.immediateRender,
        _ = h.stagger,
        m = h.overwrite,
        g = h.keyframes,
        y = h.defaults,
        b = h.scrollTrigger,
        w = h.yoyoEase,
        C = n.parent || Ht,
        T = (fe(i) || fg(i) ? yr(i[0]) : "length" in n) ? [i] : Fe(i),
        A,
        I,
        P,
        O,
        L,
        N,
        F,
        H;
      if (
        ((l._targets = T.length
          ? Ah(T)
          : ha(
              "GSAP target " + i + " not found. https://greensock.com",
              !Ce.nullTargetWarn
            ) || []),
        (l._ptLookup = []),
        (l._overwrite = m),
        g || _ || la(f) || la(p))
      ) {
        if (
          ((n = l.vars),
          (A = l.timeline =
            new me({
              data: "nested",
              defaults: y || {},
              targets: C && C.data === "nested" ? C.vars.targets : T,
            })),
          A.kill(),
          (A.parent = A._dp = gr(l)),
          (A._start = 0),
          _ || la(f) || la(p))
        ) {
          if (((O = T.length), (F = _ && Lg(_)), sr(_)))
            for (L in _) ~qg.indexOf(L) && (H || (H = {}), (H[L] = _[L]));
          for (I = 0; I < O; I++)
            (P = da(n, Kg)),
              (P.stagger = 0),
              w && (P.yoyoEase = w),
              H && xi(P, H),
              (N = T[I]),
              (P.duration = +Is(f, gr(l), I, N, T)),
              (P.delay = (+Is(p, gr(l), I, N, T) || 0) - l._delay),
              !_ &&
                O === 1 &&
                P.delay &&
                ((l._delay = p = P.delay), (l._start += p), (P.delay = 0)),
              A.to(N, P, F ? F(I, N, T) : 0),
              (A._ease = vt.none);
          A.duration() ? (f = p = 0) : (l.timeline = 0);
        } else if (g) {
          bs(Ue(A.vars.defaults, { ease: "none" })),
            (A._ease = Ti(g.ease || n.ease || "none"));
          var j = 0,
            z,
            J,
            X;
          if (fe(g))
            g.forEach(function (M) {
              return A.to(T, M, ">");
            }),
              A.duration();
          else {
            P = {};
            for (L in g)
              L === "ease" || L === "easeEach" || bO(L, g[L], P, g.easeEach);
            for (L in P)
              for (
                z = P[L].sort(function (M, D) {
                  return M.t - D.t;
                }),
                  j = 0,
                  I = 0;
                I < z.length;
                I++
              )
                (J = z[I]),
                  (X = {
                    ease: J.e,
                    duration: ((J.t - (I ? z[I - 1].t : 0)) / 100) * f,
                  }),
                  (X[L] = J.v),
                  A.to(T, X, j),
                  (j += X.duration);
            A.duration() < f && A.to({}, { duration: f - A.duration() });
          }
        }
        f || l.duration((f = A.duration()));
      } else l.timeline = 0;
      return (
        m === !0 && !mh && ((Wr = gr(l)), Ht.killTweensOf(T), (Wr = 0)),
        or(C, gr(l), s),
        n.reversed && l.reverse(),
        n.paused && l.paused(!0),
        (v ||
          (!f &&
            !g &&
            l._start === ae(C._time) &&
            ve(v) &&
            KS(gr(l)) &&
            C.data !== "nested")) &&
          ((l._tTime = -Nt), l.render(Math.max(0, -p) || 0)),
        b && Ag(gr(l), b),
        l
      );
    }
    var e = t.prototype;
    return (
      (e.render = function (n, s, o) {
        var l = this._time,
          h = this._tDur,
          f = this._dur,
          p = n < 0,
          v = n > h - Nt && !p ? h : n < Nt ? 0 : n,
          _,
          m,
          g,
          y,
          b,
          w,
          C,
          T,
          A;
        if (!f) JS(this, n, s, o);
        else if (
          v !== this._tTime ||
          !n ||
          o ||
          (!this._initted && this._tTime) ||
          (this._startAt && this._zTime < 0 !== p)
        ) {
          if (((_ = v), (T = this.timeline), this._repeat)) {
            if (((y = f + this._rDelay), this._repeat < -1 && p))
              return this.totalTime(y * 100 + n, s, o);
            if (
              ((_ = ae(v % y)),
              v === h
                ? ((g = this._repeat), (_ = f))
                : ((g = ~~(v / y)),
                  g && g === v / y && ((_ = f), g--),
                  _ > f && (_ = f)),
              (w = this._yoyo && g & 1),
              w && ((A = this._yEase), (_ = f - _)),
              (b = _n(this._tTime, y)),
              _ === l && !o && this._initted)
            )
              return (this._tTime = v), this;
            g !== b &&
              (T && this._yEase && jg(T, w),
              this.vars.repeatRefresh &&
                !w &&
                !this._lock &&
                ((this._lock = o = 1),
                (this.render(ae(y * g), !0).invalidate()._lock = 0)));
          }
          if (!this._initted) {
            if (Ng(this, p ? n : _, o, s, v)) return (this._tTime = 0), this;
            if (l !== this._time) return this;
            if (f !== this._dur) return this.render(n, s, o);
          }
          if (
            ((this._tTime = v),
            (this._time = _),
            !this._act && this._ts && ((this._act = 1), (this._lazy = 0)),
            (this.ratio = C = (A || this._ease)(_ / f)),
            this._from && (this.ratio = C = 1 - C),
            _ && !l && !s && (ke(this, "onStart"), this._tTime !== v))
          )
            return this;
          for (m = this._pt; m; ) m.r(C, m.d), (m = m._next);
          (T &&
            T.render(
              n < 0 ? n : !_ && w ? -Nt : T._dur * T._ease(_ / this._dur),
              s,
              o
            )) ||
            (this._startAt && (this._zTime = n)),
            this._onUpdate &&
              !s &&
              (p && Nh(this, n, s, o), ke(this, "onUpdate")),
            this._repeat &&
              g !== b &&
              this.vars.onRepeat &&
              !s &&
              this.parent &&
              ke(this, "onRepeat"),
            (v === this._tDur || !v) &&
              this._tTime === v &&
              (p && !this._onUpdate && Nh(this, n, !0, !0),
              (n || !f) &&
                ((v === this._tDur && this._ts > 0) || (!v && this._ts < 0)) &&
                $r(this, 1),
              !s &&
                !(p && !l) &&
                (v || l || w) &&
                (ke(this, v === h ? "onComplete" : "onReverseComplete", !0),
                this._prom &&
                  !(v < h && this.timeScale() > 0) &&
                  this._prom()));
        }
        return this;
      }),
      (e.targets = function () {
        return this._targets;
      }),
      (e.invalidate = function (n) {
        return (
          (!n || !this.vars.runBackwards) && (this._startAt = 0),
          (this._pt = this._op = this._onUpdate = this._lazy = this.ratio = 0),
          (this._ptLookup = []),
          this.timeline && this.timeline.invalidate(n),
          r.prototype.invalidate.call(this, n)
        );
      }),
      (e.resetTo = function (n, s, o, l) {
        Ps || Re.wake(), this._ts || this.play();
        var h = Math.min(this._dur, (this._dp._time - this._start) * this._ts),
          f;
        return (
          this._initted || Dh(this, h),
          (f = this._ease(h / this._dur)),
          gO(this, n, s, o, l, f, h)
            ? this.resetTo(n, s, o, l)
            : (ga(this, 0),
              this.parent ||
                Pg(
                  this._dp,
                  this,
                  "_first",
                  "_last",
                  this._dp._sort ? "_start" : 0
                ),
              this.render(0))
        );
      }),
      (e.kill = function (n, s) {
        if ((s === void 0 && (s = "all"), !n && (!s || s === "all")))
          return (this._lazy = this._pt = 0), this.parent ? Es(this) : this;
        if (this.timeline) {
          var o = this.timeline.totalDuration();
          return (
            this.timeline.killTweensOf(n, s, Wr && Wr.vars.overwrite !== !0)
              ._first || Es(this),
            this.parent &&
              o !== this.timeline.totalDuration() &&
              mn(this, (this._dur * this.timeline._tDur) / o, 0, 1),
            this
          );
        }
        var l = this._targets,
          h = n ? Fe(n) : l,
          f = this._ptLookup,
          p = this._pt,
          v,
          _,
          m,
          g,
          y,
          b,
          w;
        if ((!s || s === "all") && YS(l, h))
          return s === "all" && (this._pt = 0), Es(this);
        for (
          v = this._op = this._op || [],
            s !== "all" &&
              (se(s) &&
                ((y = {}),
                _e(s, function (C) {
                  return (y[C] = 1);
                }),
                (s = y)),
              (s = yO(l, s))),
            w = l.length;
          w--;

        )
          if (~h.indexOf(l[w])) {
            (_ = f[w]),
              s === "all"
                ? ((v[w] = s), (g = _), (m = {}))
                : ((m = v[w] = v[w] || {}), (g = s));
            for (y in g)
              (b = _ && _[y]),
                b &&
                  ((!("kill" in b.d) || b.d.kill(y) === !0) &&
                    va(this, b, "_pt"),
                  delete _[y]),
                m !== "all" && (m[y] = 1);
          }
        return this._initted && !this._pt && p && Es(this), this;
      }),
      (t.to = function (n, s) {
        return new t(n, s, arguments[2]);
      }),
      (t.from = function (n, s) {
        return xs(1, arguments);
      }),
      (t.delayedCall = function (n, s, o, l) {
        return new t(s, 0, {
          immediateRender: !1,
          lazy: !1,
          overwrite: !1,
          delay: n,
          onComplete: s,
          onReverseComplete: s,
          onCompleteParams: o,
          onReverseCompleteParams: o,
          callbackScope: l,
        });
      }),
      (t.fromTo = function (n, s, o) {
        return xs(2, arguments);
      }),
      (t.set = function (n, s) {
        return (s.duration = 0), s.repeatDelay || (s.repeat = 0), new t(n, s);
      }),
      (t.killTweensOf = function (n, s, o) {
        return Ht.killTweensOf(n, s, o);
      }),
      t
    );
  })(bn);
  Ue(re.prototype, { _targets: [], _lazy: 0, _startAt: 0, _op: 0, _onInit: 0 }),
    _e("staggerTo,staggerFrom,staggerFromTo", function (r) {
      re[r] = function () {
        var t = new me(),
          e = Oh.call(arguments, 0);
        return e.splice(r === "staggerFromTo" ? 5 : 4, 0, 0), t[r].apply(t, e);
      };
    });
  var Vh = function (t, e, i) {
      return (t[e] = i);
    },
    Zg = function (t, e, i) {
      return t[e](i);
    },
    xO = function (t, e, i, n) {
      return t[e](n.fp, i);
    },
    wO = function (t, e, i) {
      return t.setAttribute(e, i);
    },
    Hh = function (t, e) {
      return Wt(t[e]) ? Zg : yh(t[e]) && t.setAttribute ? wO : Vh;
    },
    Jg = function (t, e) {
      return e.set(e.t, e.p, Math.round((e.s + e.c * t) * 1e6) / 1e6, e);
    },
    TO = function (t, e) {
      return e.set(e.t, e.p, !!(e.s + e.c * t), e);
    },
    Qg = function (t, e) {
      var i = e._pt,
        n = "";
      if (!t && e.b) n = e.b;
      else if (t === 1 && e.e) n = e.e;
      else {
        for (; i; )
          (n =
            i.p +
            (i.m
              ? i.m(i.s + i.c * t)
              : Math.round((i.s + i.c * t) * 1e4) / 1e4) +
            n),
            (i = i._next);
        n += e.c;
      }
      e.set(e.t, e.p, n, e);
    },
    Xh = function (t, e) {
      for (var i = e._pt; i; ) i.r(t, i.d), (i = i._next);
    },
    EO = function (t, e, i, n) {
      for (var s = this._pt, o; s; )
        (o = s._next), s.p === n && s.modifier(t, e, i), (s = o);
    },
    CO = function (t) {
      for (var e = this._pt, i, n; e; )
        (n = e._next),
          (e.p === t && !e.op) || e.op === t
            ? va(this, e, "_pt")
            : e.dep || (i = 1),
          (e = n);
      return !i;
    },
    PO = function (t, e, i, n) {
      n.mSet(t, e, n.m.call(n.tween, i, n.mt), n);
    },
    t0 = function (t) {
      for (var e = t._pt, i, n, s, o; e; ) {
        for (i = e._next, n = s; n && n.pr > e.pr; ) n = n._next;
        (e._prev = n ? n._prev : o) ? (e._prev._next = e) : (s = e),
          (e._next = n) ? (n._prev = e) : (o = e),
          (e = i);
      }
      t._pt = s;
    },
    ge = (function () {
      function r(e, i, n, s, o, l, h, f, p) {
        (this.t = i),
          (this.s = s),
          (this.c = o),
          (this.p = n),
          (this.r = l || Jg),
          (this.d = h || this),
          (this.set = f || Vh),
          (this.pr = p || 0),
          (this._next = e),
          e && (e._prev = this);
      }
      var t = r.prototype;
      return (
        (t.modifier = function (i, n, s) {
          (this.mSet = this.mSet || this.set),
            (this.set = PO),
            (this.m = i),
            (this.mt = s),
            (this.tween = n);
        }),
        r
      );
    })();
  _e(
    Rh +
      "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",
    function (r) {
      return (Ch[r] = 1);
    }
  ),
    (Pe.TweenMax = Pe.TweenLite = re),
    (Pe.TimelineLite = Pe.TimelineMax = me),
    (Ht = new me({
      sortChildren: !1,
      defaults: pn,
      autoRemoveChildren: !0,
      id: "root",
      smoothChildTiming: !0,
    })),
    (Ce.stringFilter = Xg);
  var xn = [],
    ya = {},
    IO = [],
    e0 = 0,
    $h = function (t) {
      return (ya[t] || IO).map(function (e) {
        return e();
      });
    },
    jh = function () {
      var t = Date.now(),
        e = [];
      t - e0 > 2 &&
        ($h("matchMediaInit"),
        xn.forEach(function (i) {
          var n = i.queries,
            s = i.conditions,
            o,
            l,
            h,
            f;
          for (l in n)
            (o = Oe.matchMedia(n[l]).matches),
              o && (h = 1),
              o !== s[l] && ((s[l] = o), (f = 1));
          f && (i.revert(), h && e.push(i));
        }),
        $h("matchMediaRevert"),
        e.forEach(function (i) {
          return i.onMatch(i);
        }),
        (e0 = t),
        $h("matchMedia"));
    },
    r0 = (function () {
      function r(e, i) {
        (this.selector = i && Uh(i)),
          (this.data = []),
          (this._r = []),
          (this.isReverted = !1),
          e && this.add(e);
      }
      var t = r.prototype;
      return (
        (t.add = function (i, n, s) {
          Wt(i) && ((s = n), (n = i), (i = Wt));
          var o = this,
            l = function () {
              var f = Qt,
                p = o.selector,
                v;
              return (
                f && f !== o && f.data.push(o),
                s && (o.selector = Uh(s)),
                (Qt = o),
                (v = n.apply(o, arguments)),
                Wt(v) && o._r.push(v),
                (Qt = f),
                (o.selector = p),
                (o.isReverted = !1),
                v
              );
            };
          return (o.last = l), i === Wt ? l(o) : i ? (o[i] = l) : l;
        }),
        (t.ignore = function (i) {
          var n = Qt;
          (Qt = null), i(this), (Qt = n);
        }),
        (t.getTweens = function () {
          var i = [];
          return (
            this.data.forEach(function (n) {
              return n instanceof r
                ? i.push.apply(i, n.getTweens())
                : n instanceof re &&
                    !(n.parent && n.parent.data === "nested") &&
                    i.push(n);
            }),
            i
          );
        }),
        (t.clear = function () {
          this._r.length = this.data.length = 0;
        }),
        (t.kill = function (i, n) {
          var s = this;
          if (i) {
            var o = this.getTweens();
            this.data.forEach(function (h) {
              h.data === "isFlip" &&
                (h.revert(),
                h.getChildren(!0, !0, !1).forEach(function (f) {
                  return o.splice(o.indexOf(f), 1);
                }));
            }),
              o
                .map(function (h) {
                  return { g: h.globalTime(0), t: h };
                })
                .sort(function (h, f) {
                  return f.g - h.g || -1;
                })
                .forEach(function (h) {
                  return h.t.revert(i);
                }),
              this.data.forEach(function (h) {
                return !(h instanceof bn) && h.revert && h.revert(i);
              }),
              this._r.forEach(function (h) {
                return h(i, s);
              }),
              (this.isReverted = !0);
          } else
            this.data.forEach(function (h) {
              return h.kill && h.kill();
            });
          if ((this.clear(), n)) {
            var l = xn.indexOf(this);
            ~l && xn.splice(l, 1);
          }
        }),
        (t.revert = function (i) {
          this.kill(i || {});
        }),
        r
      );
    })(),
    RO = (function () {
      function r(e) {
        (this.contexts = []), (this.scope = e);
      }
      var t = r.prototype;
      return (
        (t.add = function (i, n, s) {
          sr(i) || (i = { matches: i });
          var o = new r0(0, s || this.scope),
            l = (o.conditions = {}),
            h,
            f,
            p;
          this.contexts.push(o), (n = o.add("onMatch", n)), (o.queries = i);
          for (f in i)
            f === "all"
              ? (p = 1)
              : ((h = Oe.matchMedia(i[f])),
                h &&
                  (xn.indexOf(o) < 0 && xn.push(o),
                  (l[f] = h.matches) && (p = 1),
                  h.addListener
                    ? h.addListener(jh)
                    : h.addEventListener("change", jh)));
          return p && n(o), this;
        }),
        (t.revert = function (i) {
          this.kill(i || {});
        }),
        (t.kill = function (i) {
          this.contexts.forEach(function (n) {
            return n.kill(i, !0);
          });
        }),
        r
      );
    })(),
    ba = {
      registerPlugin: function () {
        for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++)
          e[i] = arguments[i];
        e.forEach(function (n) {
          return uO(n);
        });
      },
      timeline: function (t) {
        return new me(t);
      },
      getTweensOf: function (t, e) {
        return Ht.getTweensOf(t, e);
      },
      getProperty: function (t, e, i, n) {
        se(t) && (t = Fe(t)[0]);
        var s = bi(t || {}).get,
          o = i ? Eg : Tg;
        return (
          i === "native" && (i = ""),
          t &&
            (e
              ? o(((Ie[e] && Ie[e].get) || s)(t, e, i, n))
              : function (l, h, f) {
                  return o(((Ie[l] && Ie[l].get) || s)(t, l, h, f));
                })
        );
      },
      quickSetter: function (t, e, i) {
        if (((t = Fe(t)), t.length > 1)) {
          var n = t.map(function (p) {
              return Ae.quickSetter(p, e, i);
            }),
            s = n.length;
          return function (p) {
            for (var v = s; v--; ) n[v](p);
          };
        }
        t = t[0] || {};
        var o = Ie[e],
          l = bi(t),
          h = (l.harness && (l.harness.aliases || {})[e]) || e,
          f = o
            ? function (p) {
                var v = new o();
                (gn._pt = 0),
                  v.init(t, i ? p + i : p, gn, 0, [t]),
                  v.render(1, v),
                  gn._pt && Xh(1, gn);
              }
            : l.set(t, h);
        return o
          ? f
          : function (p) {
              return f(t, h, i ? p + i : p, l, 1);
            };
      },
      quickTo: function (t, e, i) {
        var n,
          s = Ae.to(
            t,
            xi(((n = {}), (n[e] = "+=0.1"), (n.paused = !0), n), i || {})
          ),
          o = function (h, f, p) {
            return s.resetTo(e, h, f, p);
          };
        return (o.tween = s), o;
      },
      isTweening: function (t) {
        return Ht.getTweensOf(t, !0).length > 0;
      },
      defaults: function (t) {
        return t && t.ease && (t.ease = Ti(t.ease, pn.ease)), Cg(pn, t || {});
      },
      config: function (t) {
        return Cg(Ce, t || {});
      },
      registerEffect: function (t) {
        var e = t.name,
          i = t.effect,
          n = t.plugins,
          s = t.defaults,
          o = t.extendTimeline;
        (n || "").split(",").forEach(function (l) {
          return (
            l &&
            !Ie[l] &&
            !Pe[l] &&
            ha(e + " effect requires " + l + " plugin.")
          );
        }),
          (Ih[e] = function (l, h, f) {
            return i(Fe(l), Ue(h || {}, s), f);
          }),
          o &&
            (me.prototype[e] = function (l, h, f) {
              return this.add(Ih[e](l, sr(h) ? h : (f = h) && {}, this), f);
            });
      },
      registerEase: function (t, e) {
        vt[t] = Ti(e);
      },
      parseEase: function (t, e) {
        return arguments.length ? Ti(t, e) : vt;
      },
      getById: function (t) {
        return Ht.getById(t);
      },
      exportRoot: function (t, e) {
        t === void 0 && (t = {});
        var i = new me(t),
          n,
          s;
        for (
          i.smoothChildTiming = ve(t.smoothChildTiming),
            Ht.remove(i),
            i._dp = 0,
            i._time = i._tTime = Ht._time,
            n = Ht._first;
          n;

        )
          (s = n._next),
            (e ||
              !(
                !n._dur &&
                n instanceof re &&
                n.vars.onComplete === n._targets[0]
              )) &&
              or(i, n, n._start - n._delay),
            (n = s);
        return or(Ht, i, 0), i;
      },
      context: function (t, e) {
        return t ? new r0(t, e) : Qt;
      },
      matchMedia: function (t) {
        return new RO(t);
      },
      matchMediaRefresh: function () {
        return (
          xn.forEach(function (t) {
            var e = t.conditions,
              i,
              n;
            for (n in e) e[n] && ((e[n] = !1), (i = 1));
            i && t.revert();
          }) || jh()
        );
      },
      addEventListener: function (t, e) {
        var i = ya[t] || (ya[t] = []);
        ~i.indexOf(e) || i.push(e);
      },
      removeEventListener: function (t, e) {
        var i = ya[t],
          n = i && i.indexOf(e);
        n >= 0 && i.splice(n, 1);
      },
      utils: {
        wrap: oO,
        wrapYoyo: aO,
        distribute: Lg,
        random: kg,
        snap: Fg,
        normalize: sO,
        getUnit: pe,
        clamp: eO,
        splitColor: Dg,
        toArray: Fe,
        selector: Uh,
        mapRange: Gg,
        pipe: iO,
        unitize: nO,
        interpolate: lO,
        shuffle: Ug,
      },
      install: mg,
      effects: Ih,
      ticker: Re,
      updateRoot: me.updateRoot,
      plugins: Ie,
      globalTimeline: Ht,
      core: {
        PropTween: ge,
        globals: gg,
        Tween: re,
        Timeline: me,
        Animation: bn,
        getCache: bi,
        _removeLinkedListItem: va,
        reverting: function () {
          return de;
        },
        context: function (t) {
          return t && Qt && (Qt.data.push(t), (t._ctx = Qt)), Qt;
        },
        suppressOverwrites: function (t) {
          return (mh = t);
        },
      },
    };
  _e("to,from,fromTo,delayedCall,set,killTweensOf", function (r) {
    return (ba[r] = re[r]);
  }),
    Re.add(me.updateRoot),
    (gn = ba.to({}, { duration: 0 }));
  var AO = function (t, e) {
      for (var i = t._pt; i && i.p !== e && i.op !== e && i.fp !== e; )
        i = i._next;
      return i;
    },
    NO = function (t, e) {
      var i = t._targets,
        n,
        s,
        o;
      for (n in e)
        for (s = i.length; s--; )
          (o = t._ptLookup[s][n]),
            o &&
              (o = o.d) &&
              (o._pt && (o = AO(o, n)),
              o && o.modifier && o.modifier(e[n], t, i[s], n));
    },
    zh = function (t, e) {
      return {
        name: t,
        rawVars: 1,
        init: function (n, s, o) {
          o._onInit = function (l) {
            var h, f;
            if (
              (se(s) &&
                ((h = {}),
                _e(s, function (p) {
                  return (h[p] = 1);
                }),
                (s = h)),
              e)
            ) {
              h = {};
              for (f in s) h[f] = e(s[f]);
              s = h;
            }
            NO(l, s);
          };
        },
      };
    },
    Ae =
      ba.registerPlugin(
        {
          name: "attr",
          init: function (t, e, i, n, s) {
            var o, l, h;
            this.tween = i;
            for (o in e)
              (h = t.getAttribute(o) || ""),
                (l = this.add(
                  t,
                  "setAttribute",
                  (h || 0) + "",
                  e[o],
                  n,
                  s,
                  0,
                  0,
                  o
                )),
                (l.op = o),
                (l.b = h),
                this._props.push(o);
          },
          render: function (t, e) {
            for (var i = e._pt; i; )
              de ? i.set(i.t, i.p, i.b, i) : i.r(t, i.d), (i = i._next);
          },
        },
        {
          name: "endArray",
          init: function (t, e) {
            for (var i = e.length; i--; )
              this.add(t, i, t[i] || 0, e[i], 0, 0, 0, 0, 0, 1);
          },
        },
        zh("roundProps", Lh),
        zh("modifiers"),
        zh("snap", Fg)
      ) || ba;
  (re.version = me.version = Ae.version = "3.11.3"),
    (_g = 1),
    cg() && yn(),
    vt.Power0,
    vt.Power1,
    vt.Power2,
    vt.Power3,
    vt.Power4,
    vt.Linear,
    vt.Quad,
    vt.Cubic,
    vt.Quart,
    vt.Quint,
    vt.Strong,
    vt.Elastic,
    vt.Back,
    vt.SteppedEase,
    vt.Bounce,
    vt.Sine,
    vt.Expo,
    vt.Circ;
  /*!
   * CSSPlugin 3.11.3
   * https://greensock.com
   *
   * Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
   */ var i0,
    Yr,
    wn,
    Wh,
    Ci,
    n0,
    Yh,
    SO = function () {
      return typeof window != "undefined";
    },
    br = {},
    Pi = 180 / Math.PI,
    Tn = Math.PI / 180,
    En = Math.atan2,
    s0 = 1e8,
    qh = /([A-Z])/g,
    OO = /(left|right|width|margin|padding|x)/i,
    UO = /[\s,\(]\S/,
    xr = {
      autoAlpha: "opacity,visibility",
      scale: "scaleX,scaleY",
      alpha: "opacity",
    },
    Kh = function (t, e) {
      return e.set(e.t, e.p, Math.round((e.s + e.c * t) * 1e4) / 1e4 + e.u, e);
    },
    LO = function (t, e) {
      return e.set(
        e.t,
        e.p,
        t === 1 ? e.e : Math.round((e.s + e.c * t) * 1e4) / 1e4 + e.u,
        e
      );
    },
    FO = function (t, e) {
      return e.set(
        e.t,
        e.p,
        t ? Math.round((e.s + e.c * t) * 1e4) / 1e4 + e.u : e.b,
        e
      );
    },
    kO = function (t, e) {
      var i = e.s + e.c * t;
      e.set(e.t, e.p, ~~(i + (i < 0 ? -0.5 : 0.5)) + e.u, e);
    },
    o0 = function (t, e) {
      return e.set(e.t, e.p, t ? e.e : e.b, e);
    },
    a0 = function (t, e) {
      return e.set(e.t, e.p, t !== 1 ? e.b : e.e, e);
    },
    BO = function (t, e, i) {
      return (t.style[e] = i);
    },
    GO = function (t, e, i) {
      return t.style.setProperty(e, i);
    },
    MO = function (t, e, i) {
      return (t._gsap[e] = i);
    },
    DO = function (t, e, i) {
      return (t._gsap.scaleX = t._gsap.scaleY = i);
    },
    VO = function (t, e, i, n, s) {
      var o = t._gsap;
      (o.scaleX = o.scaleY = i), o.renderTransform(s, o);
    },
    HO = function (t, e, i, n, s) {
      var o = t._gsap;
      (o[e] = i), o.renderTransform(s, o);
    },
    Xt = "transform",
    qe = Xt + "Origin",
    XO = function (t, e) {
      var i = this,
        n = this.target,
        s = n.style;
      if (t in br) {
        if (
          ((this.tfm = this.tfm || {}),
          t !== "transform" &&
            ((t = xr[t] || t),
            ~t.indexOf(",")
              ? t.split(",").forEach(function (o) {
                  return (i.tfm[o] = wr(n, o));
                })
              : (this.tfm[t] = n._gsap.x ? n._gsap[t] : wr(n, t))),
          this.props.indexOf(Xt) >= 0)
        )
          return;
        n._gsap.svg &&
          ((this.svgo = n.getAttribute("data-svg-origin")),
          this.props.push(qe, e, "")),
          (t = Xt);
      }
      (s || e) && this.props.push(t, e, s[t]);
    },
    l0 = function (t) {
      t.translate &&
        (t.removeProperty("translate"),
        t.removeProperty("scale"),
        t.removeProperty("rotate"));
    },
    $O = function () {
      var t = this.props,
        e = this.target,
        i = e.style,
        n = e._gsap,
        s,
        o;
      for (s = 0; s < t.length; s += 3)
        t[s + 1]
          ? (e[t[s]] = t[s + 2])
          : t[s + 2]
          ? (i[t[s]] = t[s + 2])
          : i.removeProperty(t[s].replace(qh, "-$1").toLowerCase());
      if (this.tfm) {
        for (o in this.tfm) n[o] = this.tfm[o];
        n.svg &&
          (n.renderTransform(),
          e.setAttribute("data-svg-origin", this.svgo || "")),
          (s = Yh()),
          s && !s.isStart && !i[Xt] && (l0(i), (n.uncache = 1));
      }
    },
    u0 = function (t, e) {
      var i = { target: t, props: [], revert: $O, save: XO };
      return (
        e &&
          e.split(",").forEach(function (n) {
            return i.save(n);
          }),
        i
      );
    },
    h0,
    Zh = function (t, e) {
      var i = Yr.createElementNS
        ? Yr.createElementNS(
            (e || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"),
            t
          )
        : Yr.createElement(t);
      return i.style ? i : Yr.createElement(t);
    },
    ar = function r(t, e, i) {
      var n = getComputedStyle(t);
      return (
        n[e] ||
        n.getPropertyValue(e.replace(qh, "-$1").toLowerCase()) ||
        n.getPropertyValue(e) ||
        (!i && r(t, Cn(e) || e, 1)) ||
        ""
      );
    },
    c0 = "O,Moz,ms,Ms,Webkit".split(","),
    Cn = function (t, e, i) {
      var n = e || Ci,
        s = n.style,
        o = 5;
      if (t in s && !i) return t;
      for (
        t = t.charAt(0).toUpperCase() + t.substr(1);
        o-- && !(c0[o] + t in s);

      );
      return o < 0 ? null : (o === 3 ? "ms" : o >= 0 ? c0[o] : "") + t;
    },
    Jh = function () {
      SO() &&
        window.document &&
        ((i0 = window),
        (Yr = i0.document),
        (wn = Yr.documentElement),
        (Ci = Zh("div") || { style: {} }),
        Zh("div"),
        (Xt = Cn(Xt)),
        (qe = Xt + "Origin"),
        (Ci.style.cssText =
          "border-width:0;line-height:0;position:absolute;padding:0"),
        (h0 = !!Cn("perspective")),
        (Yh = Ae.core.reverting),
        (Wh = 1));
    },
    Qh = function r(t) {
      var e = Zh(
          "svg",
          (this.ownerSVGElement &&
            this.ownerSVGElement.getAttribute("xmlns")) ||
            "http://www.w3.org/2000/svg"
        ),
        i = this.parentNode,
        n = this.nextSibling,
        s = this.style.cssText,
        o;
      if (
        (wn.appendChild(e),
        e.appendChild(this),
        (this.style.display = "block"),
        t)
      )
        try {
          (o = this.getBBox()),
            (this._gsapBBox = this.getBBox),
            (this.getBBox = r);
        } catch {}
      else this._gsapBBox && (o = this._gsapBBox());
      return (
        i && (n ? i.insertBefore(this, n) : i.appendChild(this)),
        wn.removeChild(e),
        (this.style.cssText = s),
        o
      );
    },
    f0 = function (t, e) {
      for (var i = e.length; i--; )
        if (t.hasAttribute(e[i])) return t.getAttribute(e[i]);
    },
    p0 = function (t) {
      var e;
      try {
        e = t.getBBox();
      } catch {
        e = Qh.call(t, !0);
      }
      return (
        (e && (e.width || e.height)) ||
          t.getBBox === Qh ||
          (e = Qh.call(t, !0)),
        e && !e.width && !e.x && !e.y
          ? {
              x: +f0(t, ["x", "cx", "x1"]) || 0,
              y: +f0(t, ["y", "cy", "y1"]) || 0,
              width: 0,
              height: 0,
            }
          : e
      );
    },
    d0 = function (t) {
      return !!(t.getCTM && (!t.parentNode || t.ownerSVGElement) && p0(t));
    },
    Rs = function (t, e) {
      if (e) {
        var i = t.style;
        e in br && e !== qe && (e = Xt),
          i.removeProperty
            ? ((e.substr(0, 2) === "ms" || e.substr(0, 6) === "webkit") &&
                (e = "-" + e),
              i.removeProperty(e.replace(qh, "-$1").toLowerCase()))
            : i.removeAttribute(e);
      }
    },
    qr = function (t, e, i, n, s, o) {
      var l = new ge(t._pt, e, i, 0, 1, o ? a0 : o0);
      return (t._pt = l), (l.b = n), (l.e = s), t._props.push(i), l;
    },
    v0 = { deg: 1, rad: 1, turn: 1 },
    jO = { grid: 1, flex: 1 },
    Kr = function r(t, e, i, n) {
      var s = parseFloat(i) || 0,
        o = (i + "").trim().substr((s + "").length) || "px",
        l = Ci.style,
        h = OO.test(e),
        f = t.tagName.toLowerCase() === "svg",
        p = (f ? "client" : "offset") + (h ? "Width" : "Height"),
        v = 100,
        _ = n === "px",
        m = n === "%",
        g,
        y,
        b,
        w;
      return n === o || !s || v0[n] || v0[o]
        ? s
        : (o !== "px" && !_ && (s = r(t, e, i, "px")),
          (w = t.getCTM && d0(t)),
          (m || o === "%") && (br[e] || ~e.indexOf("adius"))
            ? ((g = w ? t.getBBox()[h ? "width" : "height"] : t[p]),
              Kt(m ? (s / g) * v : (s / 100) * g))
            : ((l[h ? "width" : "height"] = v + (_ ? o : n)),
              (y =
                ~e.indexOf("adius") || (n === "em" && t.appendChild && !f)
                  ? t
                  : t.parentNode),
              w && (y = (t.ownerSVGElement || {}).parentNode),
              (!y || y === Yr || !y.appendChild) && (y = Yr.body),
              (b = y._gsap),
              b && m && b.width && h && b.time === Re.time && !b.uncache
                ? Kt((s / b.width) * v)
                : ((m || o === "%") &&
                    !jO[ar(y, "display")] &&
                    (l.position = ar(t, "position")),
                  y === t && (l.position = "static"),
                  y.appendChild(Ci),
                  (g = Ci[p]),
                  y.removeChild(Ci),
                  (l.position = "absolute"),
                  h && m && ((b = bi(y)), (b.time = Re.time), (b.width = y[p])),
                  Kt(_ ? (g * s) / v : g && s ? (v / g) * s : 0))));
    },
    wr = function (t, e, i, n) {
      var s;
      return (
        Wh || Jh(),
        e in xr &&
          e !== "transform" &&
          ((e = xr[e]), ~e.indexOf(",") && (e = e.split(",")[0])),
        br[e] && e !== "transform"
          ? ((s = Ns(t, n)),
            (s =
              e !== "transformOrigin"
                ? s[e]
                : s.svg
                ? s.origin
                : wa(ar(t, qe)) + " " + s.zOrigin + "px"))
          : ((s = t.style[e]),
            (!s || s === "auto" || n || ~(s + "").indexOf("calc(")) &&
              (s =
                (xa[e] && xa[e](t, e, i)) ||
                ar(t, e) ||
                xg(t, e) ||
                (e === "opacity" ? 1 : 0))),
        i && !~(s + "").trim().indexOf(" ") ? Kr(t, e, s, i) + i : s
      );
    },
    zO = function (t, e, i, n) {
      if (!i || i === "none") {
        var s = Cn(e, t, 1),
          o = s && ar(t, s, 1);
        o && o !== i
          ? ((e = s), (i = o))
          : e === "borderColor" && (i = ar(t, "borderTopColor"));
      }
      var l = new ge(this._pt, t.style, e, 0, 1, Qg),
        h = 0,
        f = 0,
        p,
        v,
        _,
        m,
        g,
        y,
        b,
        w,
        C,
        T,
        A,
        I;
      if (
        ((l.b = i),
        (l.e = n),
        (i += ""),
        (n += ""),
        n === "auto" &&
          ((t.style[e] = n), (n = ar(t, e) || n), (t.style[e] = i)),
        (p = [i, n]),
        Xg(p),
        (i = p[0]),
        (n = p[1]),
        (_ = i.match(dn) || []),
        (I = n.match(dn) || []),
        I.length)
      ) {
        for (; (v = dn.exec(n)); )
          (b = v[0]),
            (C = n.substring(h, v.index)),
            g
              ? (g = (g + 1) % 5)
              : (C.substr(-5) === "rgba(" || C.substr(-5) === "hsla(") &&
                (g = 1),
            b !== (y = _[f++] || "") &&
              ((m = parseFloat(y) || 0),
              (A = y.substr((m + "").length)),
              b.charAt(1) === "=" && (b = vn(m, b) + A),
              (w = parseFloat(b)),
              (T = b.substr((w + "").length)),
              (h = dn.lastIndex - T.length),
              T ||
                ((T = T || Ce.units[e] || A),
                h === n.length && ((n += T), (l.e += T))),
              A !== T && (m = Kr(t, e, y, T) || 0),
              (l._pt = {
                _next: l._pt,
                p: C || f === 1 ? C : ",",
                s: m,
                c: w - m,
                m: (g && g < 4) || e === "zIndex" ? Math.round : 0,
              }));
        l.c = h < n.length ? n.substring(h, n.length) : "";
      } else l.r = e === "display" && n === "none" ? a0 : o0;
      return dg.test(n) && (l.e = 0), (this._pt = l), l;
    },
    _0 = {
      top: "0%",
      bottom: "100%",
      left: "0%",
      right: "100%",
      center: "50%",
    },
    WO = function (t) {
      var e = t.split(" "),
        i = e[0],
        n = e[1] || "50%";
      return (
        (i === "top" || i === "bottom" || n === "left" || n === "right") &&
          ((t = i), (i = n), (n = t)),
        (e[0] = _0[i] || i),
        (e[1] = _0[n] || n),
        e.join(" ")
      );
    },
    YO = function (t, e) {
      if (e.tween && e.tween._time === e.tween._dur) {
        var i = e.t,
          n = i.style,
          s = e.u,
          o = i._gsap,
          l,
          h,
          f;
        if (s === "all" || s === !0) (n.cssText = ""), (h = 1);
        else
          for (s = s.split(","), f = s.length; --f > -1; )
            (l = s[f]),
              br[l] && ((h = 1), (l = l === "transformOrigin" ? qe : Xt)),
              Rs(i, l);
        h &&
          (Rs(i, Xt),
          o &&
            (o.svg && i.removeAttribute("transform"),
            Ns(i, 1),
            (o.uncache = 1),
            l0(n)));
      }
    },
    xa = {
      clearProps: function (t, e, i, n, s) {
        if (s.data !== "isFromStart") {
          var o = (t._pt = new ge(t._pt, e, i, 0, 0, YO));
          return (o.u = n), (o.pr = -10), (o.tween = s), t._props.push(i), 1;
        }
      },
    },
    As = [1, 0, 0, 1, 0, 0],
    m0 = {},
    g0 = function (t) {
      return t === "matrix(1, 0, 0, 1, 0, 0)" || t === "none" || !t;
    },
    y0 = function (t) {
      var e = ar(t, Xt);
      return g0(e) ? As : e.substr(7).match(pg).map(Kt);
    },
    tc = function (t, e) {
      var i = t._gsap || bi(t),
        n = t.style,
        s = y0(t),
        o,
        l,
        h,
        f;
      return i.svg && t.getAttribute("transform")
        ? ((h = t.transform.baseVal.consolidate().matrix),
          (s = [h.a, h.b, h.c, h.d, h.e, h.f]),
          s.join(",") === "1,0,0,1,0,0" ? As : s)
        : (s === As &&
            !t.offsetParent &&
            t !== wn &&
            !i.svg &&
            ((h = n.display),
            (n.display = "block"),
            (o = t.parentNode),
            (!o || !t.offsetParent) &&
              ((f = 1), (l = t.nextElementSibling), wn.appendChild(t)),
            (s = y0(t)),
            h ? (n.display = h) : Rs(t, "display"),
            f &&
              (l
                ? o.insertBefore(t, l)
                : o
                ? o.appendChild(t)
                : wn.removeChild(t))),
          e && s.length > 6 ? [s[0], s[1], s[4], s[5], s[12], s[13]] : s);
    },
    ec = function (t, e, i, n, s, o) {
      var l = t._gsap,
        h = s || tc(t, !0),
        f = l.xOrigin || 0,
        p = l.yOrigin || 0,
        v = l.xOffset || 0,
        _ = l.yOffset || 0,
        m = h[0],
        g = h[1],
        y = h[2],
        b = h[3],
        w = h[4],
        C = h[5],
        T = e.split(" "),
        A = parseFloat(T[0]) || 0,
        I = parseFloat(T[1]) || 0,
        P,
        O,
        L,
        N;
      i
        ? h !== As &&
          (O = m * b - g * y) &&
          ((L = A * (b / O) + I * (-y / O) + (y * C - b * w) / O),
          (N = A * (-g / O) + I * (m / O) - (m * C - g * w) / O),
          (A = L),
          (I = N))
        : ((P = p0(t)),
          (A = P.x + (~T[0].indexOf("%") ? (A / 100) * P.width : A)),
          (I =
            P.y + (~(T[1] || T[0]).indexOf("%") ? (I / 100) * P.height : I))),
        n || (n !== !1 && l.smooth)
          ? ((w = A - f),
            (C = I - p),
            (l.xOffset = v + (w * m + C * y) - w),
            (l.yOffset = _ + (w * g + C * b) - C))
          : (l.xOffset = l.yOffset = 0),
        (l.xOrigin = A),
        (l.yOrigin = I),
        (l.smooth = !!n),
        (l.origin = e),
        (l.originIsAbsolute = !!i),
        (t.style[qe] = "0px 0px"),
        o &&
          (qr(o, l, "xOrigin", f, A),
          qr(o, l, "yOrigin", p, I),
          qr(o, l, "xOffset", v, l.xOffset),
          qr(o, l, "yOffset", _, l.yOffset)),
        t.setAttribute("data-svg-origin", A + " " + I);
    },
    Ns = function (t, e) {
      var i = t._gsap || new Wg(t);
      if ("x" in i && !e && !i.uncache) return i;
      var n = t.style,
        s = i.scaleX < 0,
        o = "px",
        l = "deg",
        h = getComputedStyle(t),
        f = ar(t, qe) || "0",
        p,
        v,
        _,
        m,
        g,
        y,
        b,
        w,
        C,
        T,
        A,
        I,
        P,
        O,
        L,
        N,
        F,
        H,
        j,
        z,
        J,
        X,
        M,
        D,
        lt,
        at,
        B,
        Y,
        tt,
        q,
        K,
        _t;
      return (
        (p = v = _ = y = b = w = C = T = A = 0),
        (m = g = 1),
        (i.svg = !!(t.getCTM && d0(t))),
        h.translate &&
          ((h.translate !== "none" ||
            h.scale !== "none" ||
            h.rotate !== "none") &&
            (n[Xt] =
              (h.translate !== "none"
                ? "translate3d(" +
                  (h.translate + " 0 0").split(" ").slice(0, 3).join(", ") +
                  ") "
                : "") +
              (h.rotate !== "none" ? "rotate(" + h.rotate + ") " : "") +
              (h.scale !== "none"
                ? "scale(" + h.scale.split(" ").join(",") + ") "
                : "") +
              (h[Xt] !== "none" ? h[Xt] : "")),
          (n.scale = n.rotate = n.translate = "none")),
        (O = tc(t, i.svg)),
        i.svg &&
          (i.uncache
            ? ((lt = t.getBBox()),
              (f = i.xOrigin - lt.x + "px " + (i.yOrigin - lt.y) + "px"),
              (D = ""))
            : (D = !e && t.getAttribute("data-svg-origin")),
          ec(t, D || f, !!D || i.originIsAbsolute, i.smooth !== !1, O)),
        (I = i.xOrigin || 0),
        (P = i.yOrigin || 0),
        O !== As &&
          ((H = O[0]),
          (j = O[1]),
          (z = O[2]),
          (J = O[3]),
          (p = X = O[4]),
          (v = M = O[5]),
          O.length === 6
            ? ((m = Math.sqrt(H * H + j * j)),
              (g = Math.sqrt(J * J + z * z)),
              (y = H || j ? En(j, H) * Pi : 0),
              (C = z || J ? En(z, J) * Pi + y : 0),
              C && (g *= Math.abs(Math.cos(C * Tn))),
              i.svg && ((p -= I - (I * H + P * z)), (v -= P - (I * j + P * J))))
            : ((_t = O[6]),
              (q = O[7]),
              (B = O[8]),
              (Y = O[9]),
              (tt = O[10]),
              (K = O[11]),
              (p = O[12]),
              (v = O[13]),
              (_ = O[14]),
              (L = En(_t, tt)),
              (b = L * Pi),
              L &&
                ((N = Math.cos(-L)),
                (F = Math.sin(-L)),
                (D = X * N + B * F),
                (lt = M * N + Y * F),
                (at = _t * N + tt * F),
                (B = X * -F + B * N),
                (Y = M * -F + Y * N),
                (tt = _t * -F + tt * N),
                (K = q * -F + K * N),
                (X = D),
                (M = lt),
                (_t = at)),
              (L = En(-z, tt)),
              (w = L * Pi),
              L &&
                ((N = Math.cos(-L)),
                (F = Math.sin(-L)),
                (D = H * N - B * F),
                (lt = j * N - Y * F),
                (at = z * N - tt * F),
                (K = J * F + K * N),
                (H = D),
                (j = lt),
                (z = at)),
              (L = En(j, H)),
              (y = L * Pi),
              L &&
                ((N = Math.cos(L)),
                (F = Math.sin(L)),
                (D = H * N + j * F),
                (lt = X * N + M * F),
                (j = j * N - H * F),
                (M = M * N - X * F),
                (H = D),
                (X = lt)),
              b &&
                Math.abs(b) + Math.abs(y) > 359.9 &&
                ((b = y = 0), (w = 180 - w)),
              (m = Kt(Math.sqrt(H * H + j * j + z * z))),
              (g = Kt(Math.sqrt(M * M + _t * _t))),
              (L = En(X, M)),
              (C = Math.abs(L) > 2e-4 ? L * Pi : 0),
              (A = K ? 1 / (K < 0 ? -K : K) : 0)),
          i.svg &&
            ((D = t.getAttribute("transform")),
            (i.forceCSS = t.setAttribute("transform", "") || !g0(ar(t, Xt))),
            D && t.setAttribute("transform", D))),
        Math.abs(C) > 90 &&
          Math.abs(C) < 270 &&
          (s
            ? ((m *= -1),
              (C += y <= 0 ? 180 : -180),
              (y += y <= 0 ? 180 : -180))
            : ((g *= -1), (C += C <= 0 ? 180 : -180))),
        (e = e || i.uncache),
        (i.x =
          p -
          ((i.xPercent =
            p &&
            ((!e && i.xPercent) ||
              (Math.round(t.offsetWidth / 2) === Math.round(-p) ? -50 : 0)))
            ? (t.offsetWidth * i.xPercent) / 100
            : 0) +
          o),
        (i.y =
          v -
          ((i.yPercent =
            v &&
            ((!e && i.yPercent) ||
              (Math.round(t.offsetHeight / 2) === Math.round(-v) ? -50 : 0)))
            ? (t.offsetHeight * i.yPercent) / 100
            : 0) +
          o),
        (i.z = _ + o),
        (i.scaleX = Kt(m)),
        (i.scaleY = Kt(g)),
        (i.rotation = Kt(y) + l),
        (i.rotationX = Kt(b) + l),
        (i.rotationY = Kt(w) + l),
        (i.skewX = C + l),
        (i.skewY = T + l),
        (i.transformPerspective = A + o),
        (i.zOrigin = parseFloat(f.split(" ")[2]) || 0) && (n[qe] = wa(f)),
        (i.xOffset = i.yOffset = 0),
        (i.force3D = Ce.force3D),
        (i.renderTransform = i.svg ? KO : h0 ? b0 : qO),
        (i.uncache = 0),
        i
      );
    },
    wa = function (t) {
      return (t = t.split(" "))[0] + " " + t[1];
    },
    rc = function (t, e, i) {
      var n = pe(e);
      return Kt(parseFloat(e) + parseFloat(Kr(t, "x", i + "px", n))) + n;
    },
    qO = function (t, e) {
      (e.z = "0px"),
        (e.rotationY = e.rotationX = "0deg"),
        (e.force3D = 0),
        b0(t, e);
    },
    Ii = "0deg",
    Ss = "0px",
    Ri = ") ",
    b0 = function (t, e) {
      var i = e || this,
        n = i.xPercent,
        s = i.yPercent,
        o = i.x,
        l = i.y,
        h = i.z,
        f = i.rotation,
        p = i.rotationY,
        v = i.rotationX,
        _ = i.skewX,
        m = i.skewY,
        g = i.scaleX,
        y = i.scaleY,
        b = i.transformPerspective,
        w = i.force3D,
        C = i.target,
        T = i.zOrigin,
        A = "",
        I = (w === "auto" && t && t !== 1) || w === !0;
      if (T && (v !== Ii || p !== Ii)) {
        var P = parseFloat(p) * Tn,
          O = Math.sin(P),
          L = Math.cos(P),
          N;
        (P = parseFloat(v) * Tn),
          (N = Math.cos(P)),
          (o = rc(C, o, O * N * -T)),
          (l = rc(C, l, -Math.sin(P) * -T)),
          (h = rc(C, h, L * N * -T + T));
      }
      b !== Ss && (A += "perspective(" + b + Ri),
        (n || s) && (A += "translate(" + n + "%, " + s + "%) "),
        (I || o !== Ss || l !== Ss || h !== Ss) &&
          (A +=
            h !== Ss || I
              ? "translate3d(" + o + ", " + l + ", " + h + ") "
              : "translate(" + o + ", " + l + Ri),
        f !== Ii && (A += "rotate(" + f + Ri),
        p !== Ii && (A += "rotateY(" + p + Ri),
        v !== Ii && (A += "rotateX(" + v + Ri),
        (_ !== Ii || m !== Ii) && (A += "skew(" + _ + ", " + m + Ri),
        (g !== 1 || y !== 1) && (A += "scale(" + g + ", " + y + Ri),
        (C.style[Xt] = A || "translate(0, 0)");
    },
    KO = function (t, e) {
      var i = e || this,
        n = i.xPercent,
        s = i.yPercent,
        o = i.x,
        l = i.y,
        h = i.rotation,
        f = i.skewX,
        p = i.skewY,
        v = i.scaleX,
        _ = i.scaleY,
        m = i.target,
        g = i.xOrigin,
        y = i.yOrigin,
        b = i.xOffset,
        w = i.yOffset,
        C = i.forceCSS,
        T = parseFloat(o),
        A = parseFloat(l),
        I,
        P,
        O,
        L,
        N;
      (h = parseFloat(h)),
        (f = parseFloat(f)),
        (p = parseFloat(p)),
        p && ((p = parseFloat(p)), (f += p), (h += p)),
        h || f
          ? ((h *= Tn),
            (f *= Tn),
            (I = Math.cos(h) * v),
            (P = Math.sin(h) * v),
            (O = Math.sin(h - f) * -_),
            (L = Math.cos(h - f) * _),
            f &&
              ((p *= Tn),
              (N = Math.tan(f - p)),
              (N = Math.sqrt(1 + N * N)),
              (O *= N),
              (L *= N),
              p &&
                ((N = Math.tan(p)),
                (N = Math.sqrt(1 + N * N)),
                (I *= N),
                (P *= N))),
            (I = Kt(I)),
            (P = Kt(P)),
            (O = Kt(O)),
            (L = Kt(L)))
          : ((I = v), (L = _), (P = O = 0)),
        ((T && !~(o + "").indexOf("px")) || (A && !~(l + "").indexOf("px"))) &&
          ((T = Kr(m, "x", o, "px")), (A = Kr(m, "y", l, "px"))),
        (g || y || b || w) &&
          ((T = Kt(T + g - (g * I + y * O) + b)),
          (A = Kt(A + y - (g * P + y * L) + w))),
        (n || s) &&
          ((N = m.getBBox()),
          (T = Kt(T + (n / 100) * N.width)),
          (A = Kt(A + (s / 100) * N.height))),
        (N =
          "matrix(" +
          I +
          "," +
          P +
          "," +
          O +
          "," +
          L +
          "," +
          T +
          "," +
          A +
          ")"),
        m.setAttribute("transform", N),
        C && (m.style[Xt] = N);
    },
    ZO = function (t, e, i, n, s) {
      var o = 360,
        l = se(s),
        h = parseFloat(s) * (l && ~s.indexOf("rad") ? Pi : 1),
        f = h - n,
        p = n + f + "deg",
        v,
        _;
      return (
        l &&
          ((v = s.split("_")[1]),
          v === "short" &&
            ((f %= o), f !== f % (o / 2) && (f += f < 0 ? o : -o)),
          v === "cw" && f < 0
            ? (f = ((f + o * s0) % o) - ~~(f / o) * o)
            : v === "ccw" && f > 0 && (f = ((f - o * s0) % o) - ~~(f / o) * o)),
        (t._pt = _ = new ge(t._pt, e, i, n, f, LO)),
        (_.e = p),
        (_.u = "deg"),
        t._props.push(i),
        _
      );
    },
    x0 = function (t, e) {
      for (var i in e) t[i] = e[i];
      return t;
    },
    JO = function (t, e, i) {
      var n = x0({}, i._gsap),
        s = "perspective,force3D,transformOrigin,svgOrigin",
        o = i.style,
        l,
        h,
        f,
        p,
        v,
        _,
        m,
        g;
      n.svg
        ? ((f = i.getAttribute("transform")),
          i.setAttribute("transform", ""),
          (o[Xt] = e),
          (l = Ns(i, 1)),
          Rs(i, Xt),
          i.setAttribute("transform", f))
        : ((f = getComputedStyle(i)[Xt]),
          (o[Xt] = e),
          (l = Ns(i, 1)),
          (o[Xt] = f));
      for (h in br)
        (f = n[h]),
          (p = l[h]),
          f !== p &&
            s.indexOf(h) < 0 &&
            ((m = pe(f)),
            (g = pe(p)),
            (v = m !== g ? Kr(i, h, f, g) : parseFloat(f)),
            (_ = parseFloat(p)),
            (t._pt = new ge(t._pt, l, h, v, _ - v, Kh)),
            (t._pt.u = g || 0),
            t._props.push(h));
      x0(l, n);
    };
  _e("padding,margin,Width,Radius", function (r, t) {
    var e = "Top",
      i = "Right",
      n = "Bottom",
      s = "Left",
      o = (t < 3 ? [e, i, n, s] : [e + s, e + i, n + i, n + s]).map(function (
        l
      ) {
        return t < 2 ? r + l : "border" + l + r;
      });
    xa[t > 1 ? "border" + r : r] = function (l, h, f, p, v) {
      var _, m;
      if (arguments.length < 4)
        return (
          (_ = o.map(function (g) {
            return wr(l, g, f);
          })),
          (m = _.join(" ")),
          m.split(_[0]).length === 5 ? _[0] : m
        );
      (_ = (p + "").split(" ")),
        (m = {}),
        o.forEach(function (g, y) {
          return (m[g] = _[y] = _[y] || _[((y - 1) / 2) | 0]);
        }),
        l.init(h, m, v);
    };
  });
  var w0 = {
    name: "css",
    register: Jh,
    targetTest: function (t) {
      return t.style && t.nodeType;
    },
    init: function (t, e, i, n, s) {
      var o = this._props,
        l = t.style,
        h = i.vars.startAt,
        f,
        p,
        v,
        _,
        m,
        g,
        y,
        b,
        w,
        C,
        T,
        A,
        I,
        P,
        O,
        L;
      Wh || Jh(),
        (this.styles = this.styles || u0(t)),
        (L = this.styles.props),
        (this.tween = i);
      for (y in e)
        if (
          y !== "autoRound" &&
          ((p = e[y]), !(Ie[y] && Yg(y, e, i, n, t, s)))
        ) {
          if (
            ((m = typeof p),
            (g = xa[y]),
            m === "function" && ((p = p.call(i, n, t, s)), (m = typeof p)),
            m === "string" && ~p.indexOf("random(") && (p = Ts(p)),
            g)
          )
            g(this, t, y, p, i) && (O = 1);
          else if (y.substr(0, 2) === "--")
            (f = (getComputedStyle(t).getPropertyValue(y) + "").trim()),
              (p += ""),
              (zr.lastIndex = 0),
              zr.test(f) || ((b = pe(f)), (w = pe(p))),
              w ? b !== w && (f = Kr(t, y, f, w) + w) : b && (p += b),
              this.add(l, "setProperty", f, p, n, s, 0, 0, y),
              o.push(y),
              L.push(y, 0, l[y]);
          else if (m !== "undefined") {
            if (
              (h && y in h
                ? ((f =
                    typeof h[y] == "function" ? h[y].call(i, n, t, s) : h[y]),
                  se(f) && ~f.indexOf("random(") && (f = Ts(f)),
                  pe(f + "") || (f += Ce.units[y] || pe(wr(t, y)) || ""),
                  (f + "").charAt(1) === "=" && (f = wr(t, y)))
                : (f = wr(t, y)),
              (_ = parseFloat(f)),
              (C = m === "string" && p.charAt(1) === "=" && p.substr(0, 2)),
              C && (p = p.substr(2)),
              (v = parseFloat(p)),
              y in xr &&
                (y === "autoAlpha" &&
                  (_ === 1 && wr(t, "visibility") === "hidden" && v && (_ = 0),
                  L.push("visibility", 0, l.visibility),
                  qr(
                    this,
                    l,
                    "visibility",
                    _ ? "inherit" : "hidden",
                    v ? "inherit" : "hidden",
                    !v
                  )),
                y !== "scale" &&
                  y !== "transform" &&
                  ((y = xr[y]), ~y.indexOf(",") && (y = y.split(",")[0]))),
              (T = y in br),
              T)
            ) {
              if (
                (this.styles.save(y),
                A ||
                  ((I = t._gsap),
                  (I.renderTransform && !e.parseTransform) ||
                    Ns(t, e.parseTransform),
                  (P = e.smoothOrigin !== !1 && I.smooth),
                  (A = this._pt =
                    new ge(this._pt, l, Xt, 0, 1, I.renderTransform, I, 0, -1)),
                  (A.dep = 1)),
                y === "scale")
              )
                (this._pt = new ge(
                  this._pt,
                  I,
                  "scaleY",
                  _,
                  (C ? vn(_, C + v) : v) - _ || 0,
                  Kh
                )),
                  (this._pt.u = 0),
                  o.push("scaleY", y),
                  (y += "X");
              else if (y === "transformOrigin") {
                L.push(qe, 0, l[qe]),
                  (p = WO(p)),
                  I.svg
                    ? ec(t, p, 0, P, 0, this)
                    : ((w = parseFloat(p.split(" ")[2]) || 0),
                      w !== I.zOrigin && qr(this, I, "zOrigin", I.zOrigin, w),
                      qr(this, l, y, wa(f), wa(p)));
                continue;
              } else if (y === "svgOrigin") {
                ec(t, p, 1, P, 0, this);
                continue;
              } else if (y in m0) {
                ZO(this, I, y, _, C ? vn(_, C + p) : p);
                continue;
              } else if (y === "smoothOrigin") {
                qr(this, I, "smooth", I.smooth, p);
                continue;
              } else if (y === "force3D") {
                I[y] = p;
                continue;
              } else if (y === "transform") {
                JO(this, p, t);
                continue;
              }
            } else y in l || (y = Cn(y) || y);
            if (
              T ||
              ((v || v === 0) && (_ || _ === 0) && !UO.test(p) && y in l)
            )
              (b = (f + "").substr((_ + "").length)),
                v || (v = 0),
                (w = pe(p) || (y in Ce.units ? Ce.units[y] : b)),
                b !== w && (_ = Kr(t, y, f, w)),
                (this._pt = new ge(
                  this._pt,
                  T ? I : l,
                  y,
                  _,
                  (C ? vn(_, C + v) : v) - _,
                  !T && (w === "px" || y === "zIndex") && e.autoRound !== !1
                    ? kO
                    : Kh
                )),
                (this._pt.u = w || 0),
                b !== w && w !== "%" && ((this._pt.b = f), (this._pt.r = FO));
            else if (y in l) zO.call(this, t, y, f, C ? C + p : p);
            else if (y in t) this.add(t, y, f || t[y], C ? C + p : p, n, s);
            else {
              Eh(y, p);
              continue;
            }
            T || (y in l ? L.push(y, 0, l[y]) : L.push(y, 1, f || t[y])),
              o.push(y);
          }
        }
      O && t0(this);
    },
    render: function (t, e) {
      if (e.tween._time || !Yh())
        for (var i = e._pt; i; ) i.r(t, i.d), (i = i._next);
      else e.styles.revert();
    },
    get: wr,
    aliases: xr,
    getSetter: function (t, e, i) {
      var n = xr[e];
      return (
        n && n.indexOf(",") < 0 && (e = n),
        e in br && e !== qe && (t._gsap.x || wr(t, "x"))
          ? i && n0 === i
            ? e === "scale"
              ? DO
              : MO
            : (n0 = i || {}) && (e === "scale" ? VO : HO)
          : t.style && !yh(t.style[e])
          ? BO
          : ~e.indexOf("-")
          ? GO
          : Hh(t, e)
      );
    },
    core: { _removeProperty: Rs, _getMatrix: tc },
  };
  (Ae.utils.checkPrefix = Cn),
    (Ae.core.getStyleSaver = u0),
    (function (r, t, e, i) {
      var n = _e(r + "," + t + "," + e, function (s) {
        br[s] = 1;
      });
      _e(t, function (s) {
        (Ce.units[s] = "deg"), (m0[s] = 1);
      }),
        (xr[n[13]] = r + "," + t),
        _e(i, function (s) {
          var o = s.split(":");
          xr[o[1]] = n[o[0]];
        });
    })(
      "x,y,z,scale,scaleX,scaleY,xPercent,yPercent",
      "rotation,rotationX,rotationY,skewX,skewY",
      "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",
      "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"
    ),
    _e(
      "x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",
      function (r) {
        Ce.units[r] = "px";
      }
    ),
    Ae.registerPlugin(w0);
  var Ta = Ae.registerPlugin(w0) || Ae;
  Ta.core.Tween;
  class QO extends SS {
    constructor() {
      super();
      const t = new _h.exports.Pane();
      (this.negativeVideo = new GS(t)),
        this.view.addChild(this.negativeVideo.view),
        (this.containerText = new Te()),
        (this.title = new Oo("Happy BD Perrine", {
          fill: "#ffffff",
          fontFamily: "Roboto",
          fontSize: 29,
          fontWeight: 400,
        })),
        (this.subtitle = new Oo("From Anatole", {
          fill: "#ffffff",
          fontFamily: "Roboto",
          fontSize: 29,
          fontWeight: 300,
        })),
        (this.subtitle.position.y = this.title.height + 10),
        (this.subtitle.position.x = 20),
        this.containerText.addChild(this.title, this.subtitle),
        this.view.addChild(this.containerText),
        (this.graphics = []),
        (this.graphicsContainer = new Te()),
        this.containerText.addChild(this.graphicsContainer);
      const e = new Qi();
      e.beginFill(16777215).drawCircle(0, 0, 100),
        this.graphicsContainer.addChild(e);
      const i = new Qi();
      i.beginFill(16777215).drawCircle(0, 0, 100),
        (i.position.x = this.containerText.width / 2),
        this.graphicsContainer.addChild(i),
        e.scale.set(0),
        i.scale.set(0),
        (this.graphicsContainer.position.y = this.title.height),
        (this.containerText.mask = this.graphicsContainer),
        this.graphics.push(e, i),
        (this.showText = !1),
        t
          .addInput(this, "showText", { label: "ANIMATE TEXT" })
          .on("change", (n) => {
            n.value
              ? (e.scale.set(0),
                i.scale.set(0),
                this.graphics.forEach((s, o) => {
                  Ta.to(s.scale, {
                    x: 1,
                    y: 1,
                    delay: o * 0.1,
                    ease: "sine.out",
                    duration: 1,
                  });
                }),
                (this.title.position.x = 50),
                (this.subtitle.position.x = -20),
                Ta.to(this.subtitle.position, {
                  x: 20,
                  ease: "circ.out",
                  duration: 2,
                }),
                Ta.to(this.title.position, {
                  x: 0,
                  ease: "circ.out",
                  duration: 2 * 1.2,
                }))
              : (e.scale.set(0), i.scale.set(0));
          });
    }
    onShow() {}
    update() {
      this.negativeVideo.update();
    }
    onResize(t, e) {
      this.negativeVideo.resize(t, e),
        (this.containerText.position.x = t / 2),
        (this.containerText.position.y = e - e / 4);
    }
  }
  var Ai = {
      images: [],
      fonts: [
        "Roboto:800",
        "Roboto:700",
        "Roboto:500",
        "Roboto:400",
        "Roboto:300",
        "Roboto:200",
        "Montserrat:800",
        "Montserrat:400",
        "Montserrat:200",
        "Montserrat:700",
      ],
    },
    ic = { exports: {} },
    Pn = typeof Reflect == "object" ? Reflect : null,
    T0 =
      Pn && typeof Pn.apply == "function"
        ? Pn.apply
        : function (t, e, i) {
            return Function.prototype.apply.call(t, e, i);
          },
    Ea;
  Pn && typeof Pn.ownKeys == "function"
    ? (Ea = Pn.ownKeys)
    : Object.getOwnPropertySymbols
    ? (Ea = function (t) {
        return Object.getOwnPropertyNames(t).concat(
          Object.getOwnPropertySymbols(t)
        );
      })
    : (Ea = function (t) {
        return Object.getOwnPropertyNames(t);
      });
  function tU(r) {
    console && console.warn && console.warn(r);
  }
  var E0 =
    Number.isNaN ||
    function (t) {
      return t !== t;
    };
  function St() {
    St.init.call(this);
  }
  (ic.exports = St),
    (ic.exports.once = nU),
    (St.EventEmitter = St),
    (St.prototype._events = void 0),
    (St.prototype._eventsCount = 0),
    (St.prototype._maxListeners = void 0);
  var C0 = 10;
  function Ca(r) {
    if (typeof r != "function")
      throw new TypeError(
        'The "listener" argument must be of type Function. Received type ' +
          typeof r
      );
  }
  Object.defineProperty(St, "defaultMaxListeners", {
    enumerable: !0,
    get: function () {
      return C0;
    },
    set: function (r) {
      if (typeof r != "number" || r < 0 || E0(r))
        throw new RangeError(
          'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' +
            r +
            "."
        );
      C0 = r;
    },
  }),
    (St.init = function () {
      (this._events === void 0 ||
        this._events === Object.getPrototypeOf(this)._events) &&
        ((this._events = Object.create(null)), (this._eventsCount = 0)),
        (this._maxListeners = this._maxListeners || void 0);
    }),
    (St.prototype.setMaxListeners = function (t) {
      if (typeof t != "number" || t < 0 || E0(t))
        throw new RangeError(
          'The value of "n" is out of range. It must be a non-negative number. Received ' +
            t +
            "."
        );
      return (this._maxListeners = t), this;
    });
  function P0(r) {
    return r._maxListeners === void 0
      ? St.defaultMaxListeners
      : r._maxListeners;
  }
  (St.prototype.getMaxListeners = function () {
    return P0(this);
  }),
    (St.prototype.emit = function (t) {
      for (var e = [], i = 1; i < arguments.length; i++) e.push(arguments[i]);
      var n = t === "error",
        s = this._events;
      if (s !== void 0) n = n && s.error === void 0;
      else if (!n) return !1;
      if (n) {
        var o;
        if ((e.length > 0 && (o = e[0]), o instanceof Error)) throw o;
        var l = new Error(
          "Unhandled error." + (o ? " (" + o.message + ")" : "")
        );
        throw ((l.context = o), l);
      }
      var h = s[t];
      if (h === void 0) return !1;
      if (typeof h == "function") T0(h, this, e);
      else
        for (var f = h.length, p = S0(h, f), i = 0; i < f; ++i)
          T0(p[i], this, e);
      return !0;
    });
  function I0(r, t, e, i) {
    var n, s, o;
    if (
      (Ca(e),
      (s = r._events),
      s === void 0
        ? ((s = r._events = Object.create(null)), (r._eventsCount = 0))
        : (s.newListener !== void 0 &&
            (r.emit("newListener", t, e.listener ? e.listener : e),
            (s = r._events)),
          (o = s[t])),
      o === void 0)
    )
      (o = s[t] = e), ++r._eventsCount;
    else if (
      (typeof o == "function"
        ? (o = s[t] = i ? [e, o] : [o, e])
        : i
        ? o.unshift(e)
        : o.push(e),
      (n = P0(r)),
      n > 0 && o.length > n && !o.warned)
    ) {
      o.warned = !0;
      var l = new Error(
        "Possible EventEmitter memory leak detected. " +
          o.length +
          " " +
          String(t) +
          " listeners added. Use emitter.setMaxListeners() to increase limit"
      );
      (l.name = "MaxListenersExceededWarning"),
        (l.emitter = r),
        (l.type = t),
        (l.count = o.length),
        tU(l);
    }
    return r;
  }
  (St.prototype.addListener = function (t, e) {
    return I0(this, t, e, !1);
  }),
    (St.prototype.on = St.prototype.addListener),
    (St.prototype.prependListener = function (t, e) {
      return I0(this, t, e, !0);
    });
  function eU() {
    if (!this.fired)
      return (
        this.target.removeListener(this.type, this.wrapFn),
        (this.fired = !0),
        arguments.length === 0
          ? this.listener.call(this.target)
          : this.listener.apply(this.target, arguments)
      );
  }
  function R0(r, t, e) {
    var i = { fired: !1, wrapFn: void 0, target: r, type: t, listener: e },
      n = eU.bind(i);
    return (n.listener = e), (i.wrapFn = n), n;
  }
  (St.prototype.once = function (t, e) {
    return Ca(e), this.on(t, R0(this, t, e)), this;
  }),
    (St.prototype.prependOnceListener = function (t, e) {
      return Ca(e), this.prependListener(t, R0(this, t, e)), this;
    }),
    (St.prototype.removeListener = function (t, e) {
      var i, n, s, o, l;
      if ((Ca(e), (n = this._events), n === void 0)) return this;
      if (((i = n[t]), i === void 0)) return this;
      if (i === e || i.listener === e)
        --this._eventsCount === 0
          ? (this._events = Object.create(null))
          : (delete n[t],
            n.removeListener &&
              this.emit("removeListener", t, i.listener || e));
      else if (typeof i != "function") {
        for (s = -1, o = i.length - 1; o >= 0; o--)
          if (i[o] === e || i[o].listener === e) {
            (l = i[o].listener), (s = o);
            break;
          }
        if (s < 0) return this;
        s === 0 ? i.shift() : rU(i, s),
          i.length === 1 && (n[t] = i[0]),
          n.removeListener !== void 0 && this.emit("removeListener", t, l || e);
      }
      return this;
    }),
    (St.prototype.off = St.prototype.removeListener),
    (St.prototype.removeAllListeners = function (t) {
      var e, i, n;
      if (((i = this._events), i === void 0)) return this;
      if (i.removeListener === void 0)
        return (
          arguments.length === 0
            ? ((this._events = Object.create(null)), (this._eventsCount = 0))
            : i[t] !== void 0 &&
              (--this._eventsCount === 0
                ? (this._events = Object.create(null))
                : delete i[t]),
          this
        );
      if (arguments.length === 0) {
        var s = Object.keys(i),
          o;
        for (n = 0; n < s.length; ++n)
          (o = s[n]), o !== "removeListener" && this.removeAllListeners(o);
        return (
          this.removeAllListeners("removeListener"),
          (this._events = Object.create(null)),
          (this._eventsCount = 0),
          this
        );
      }
      if (((e = i[t]), typeof e == "function")) this.removeListener(t, e);
      else if (e !== void 0)
        for (n = e.length - 1; n >= 0; n--) this.removeListener(t, e[n]);
      return this;
    });
  function A0(r, t, e) {
    var i = r._events;
    if (i === void 0) return [];
    var n = i[t];
    return n === void 0
      ? []
      : typeof n == "function"
      ? e
        ? [n.listener || n]
        : [n]
      : e
      ? iU(n)
      : S0(n, n.length);
  }
  (St.prototype.listeners = function (t) {
    return A0(this, t, !0);
  }),
    (St.prototype.rawListeners = function (t) {
      return A0(this, t, !1);
    }),
    (St.listenerCount = function (r, t) {
      return typeof r.listenerCount == "function"
        ? r.listenerCount(t)
        : N0.call(r, t);
    }),
    (St.prototype.listenerCount = N0);
  function N0(r) {
    var t = this._events;
    if (t !== void 0) {
      var e = t[r];
      if (typeof e == "function") return 1;
      if (e !== void 0) return e.length;
    }
    return 0;
  }
  St.prototype.eventNames = function () {
    return this._eventsCount > 0 ? Ea(this._events) : [];
  };
  function S0(r, t) {
    for (var e = new Array(t), i = 0; i < t; ++i) e[i] = r[i];
    return e;
  }
  function rU(r, t) {
    for (; t + 1 < r.length; t++) r[t] = r[t + 1];
    r.pop();
  }
  function iU(r) {
    for (var t = new Array(r.length), e = 0; e < t.length; ++e)
      t[e] = r[e].listener || r[e];
    return t;
  }
  function nU(r, t) {
    return new Promise(function (e, i) {
      function n(o) {
        r.removeListener(t, s), i(o);
      }
      function s() {
        typeof r.removeListener == "function" && r.removeListener("error", n),
          e([].slice.call(arguments));
      }
      O0(r, t, s, { once: !0 }), t !== "error" && sU(r, n, { once: !0 });
    });
  }
  function sU(r, t, e) {
    typeof r.on == "function" && O0(r, "error", t, e);
  }
  function O0(r, t, e, i) {
    if (typeof r.on == "function") i.once ? r.once(t, e) : r.on(t, e);
    else if (typeof r.addEventListener == "function")
      r.addEventListener(t, function n(s) {
        i.once && r.removeEventListener(t, n), e(s);
      });
    else
      throw new TypeError(
        'The "emitter" argument must be of type EventEmitter. Received type ' +
          typeof r
      );
  }
  var oU = ic.exports;
  (we.app = null), (we.renderer = null);
  class aU extends oU {
    constructor(t = {}) {
      super(),
        (this.isSupported = !0),
        (this._isPlaying = !0),
        Mc(HP, t),
        this.isSupported
          ? ((this.app = new xo({
              width: window.innerWidth,
              height: window.innerHeight,
              backgroundColor: 1087931,
              autoDensity: !0,
              antialias: !0,
              resolution: 2,
            })),
            (we.app = this.app),
            (we.renderer = this.app.renderer),
            t.container && t.container.appendChild(this.app.view),
            (this.app.resizeTo = window),
            (this.stage = this.app.stage),
            (this.preloader = new NS({ optimize: !1 })),
            this._loadAssets(t.ASSETS_PATH || "assets/"))
          : setTimeout(() => {
              this.emit("onError", {
                error: "Mobile not supported for this experiment",
              });
            }, 10);
    }
    _loadAssets(t) {
      if (!this.isSupported) return;
      const e = Ai.images.map(
        (i) => ((i.src = i.src.replace("assets/", t)), i)
      );
      this.preloader.addManifest(e || []),
        Ai.fonts && this.preloader.addFonts(Ai.fonts || []),
        Ai.customFonts && this.preloader.addCustomFonts(Ai.customFonts),
        Ai.others && this.preloader.addOthers(Ai.others),
        this.preloader.load(),
        this.preloader.loader.onProgress.add((i, n) => {
          this.emit("onProgress", { percent: n });
        }),
        this.preloader.onLoaderComplete.then(() => {
          this._onAssetsLoaded();
        });
    }
    _onAssetsLoaded(t) {
      !this.isSupported ||
        (console.log(He), this.emit("onLoaded"), this._initScenes());
    }
    onToggleSound() {}
    start() {
      !this.isSupported || this.app.ticker.add(this._update.bind(this));
    }
    play() {
      !this.isSupported || (this._isPlaying = !0);
    }
    pause() {
      !this.isSupported || (this._isPlaying = !1);
    }
    _initScenes() {
      !this.isSupported ||
        setTimeout(() => {
          (this.view = new QO()),
            this.stage.addChild(this.view.view),
            this.view.resize(this.w, this.h),
            this.view.show();
        }, 100);
    }
    _update() {
      !this.isSupported || (this.view && this.view.update());
    }
    resize(t, e) {
      !this.isSupported ||
        (this.app.resize(), this.view && this.view.resize(t, e));
    }
  }
  (we.default = aU),
    Object.defineProperties(we, {
      __esModule: { value: !0 },
      [Symbol.toStringTag]: { value: "Module" },
    });
});
